---
layout: center
---

# 快速参考卡

## Agent Loop 核心

```
接收任务 → 规划分解 → 执行工具 → 评估结果 → 决策判断
                              ↓
                        成功 ← → 失败 → 反思调整
```

---

## 框架选择

| 场景 | 推荐框架 | 优势 |
|------|---------|------|
| 企业级、高性能 | **Claude Code** | 协议标准化 (MCP/Skill)，记忆力强 |
| 灵活原型开发 | **LangChain / LangGraph** | 生态极其丰富，支持复杂有向图 |
| 自动开发团队 | **OpenAI Codex / AutoGen** | 强大的多 Agent 协同能力 |

---

# 常见问题 (Q&A)

### **Q1: Agent 执行太慢、太贵怎么办？**

A: **"小模型规划，大模型执行"**。
- 使用较小、较快的模型（如 Sonnet 或 Flash）进行任务初步拆解和简单工具调用。
- 只有在核心逻辑编写和复杂架构设计时才启用最强模型。
- **上下文管理**：及时清理冗余对话，利用缓存减少 Token 费用。

---

### **Q2: 如何防止 Agent 在自主执行时“搞破坏”？**

A: **权限分层与隔离 (Sandboxing)**。
- **环境隔离**：在 Docker 容器或临时 Git 分支中运行 Agent。
- **人工检查点**：关键操作（如 `git push`、`rm -rf`、修改生产配置）必须设置人类确认按钮。
- **只读模式**：在探索阶段使用 Plan Mode。

---

### **Q3: Agent 陷入死循环（Looping）怎么解决？**

A: **设置元约束**。
- **最大步数限制**：强制在 10-20 步后停止。
- **语义重复检测**：如果 Agent 连续三次发出相同的 Thought，则强行中断并请求人工介入。
- **反思机制**：要求 Agent 在每 5 步后进行一次“自我审查”，判断当前方向是否正确。

---

### **Q4: 为什么我的 Agent 总是无法正确调用工具？**

A: **工具描述定义不清晰 (Pydantic/JSON Schema)**。
- 确保工具的 `description` 包含明确的入参要求和返回示例。
- 减少单个工具的复杂度，遵循“单一职责”原则。
- 给 Agent 提供 1-2 个 Tool Use 的 Few-shot 示例。

---

# 问答环节

欢迎提出任何关于 Agent 的问题！
