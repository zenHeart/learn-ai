# Claude Agent

## Anthropic Agent SDK

Anthropic 提供的官方 Agent 开发框架，核心概念：

<v-clicks>

* **Messages**: 对话消息格式
* **Tools**: 可用工具定义
* **Max Turns**: 最大交互轮次
* **Stop Sequences**: 停止条件

</v-clicks>

---

# Claude Code Agent 模式

Claude Code 提供三种 Agent 运行模式：

## 1. Loop 模式

Agent 自主循环执行直到完成

```
Agent 会在每个工具调用后分析结果，
自主决定下一步行动，直到任务完成
```

---

## 2. Stop 模式

Agent 执行一步后停止，等待用户确认

```
适合需要用户审核的关键步骤
```

---

## 3. Resume 模式

恢复之前暂停的 Agent 任务

```
允许用户介入后继续执行
```

---

# Claude Code Agent 配置

```json
{
  "agent": {
    "mode": "loop",
    "max_turns": 50,
    "stop_sequences": ["用户确认", "错误"],
    "tools": ["read", "write", "bash"]
  }
}
```

---

# Agent 开发最佳实践

<v-clicks>

* **明确目标**: 清晰定义任务目标
* **限制范围**: 设置合理的执行边界
* **错误处理**: 添加异常处理逻辑
* **状态管理**: 妥善管理 Agent 状态
* **监控调试**: 添加日志和调试信息

</v-clicks>
