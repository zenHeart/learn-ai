---
layout: section
---

# 第四部分：实战演练 - Agent 驱动的工作流

---

# 研发范式对比：SDLC vs ADLC

| 阶段 | 传统模式 (SDLC) | Agent 驱动 (ADLC) |
| :--- | :--- | :--- |
| **设计** | 手动撰写详细文档 | **意图定义** (Prompt/README) |
| **编码** | 逐行手写实现 | **AI 自动化生成** (Composer) |
| **调试** | 断点追踪 + 脑补 | **日志喂给 Agent** 自我修复 |
| **测试** | 后置手动编写 | **VDD (验证驱动开发)** |

> ADLC 核心：人负责**定义与验证**，AI 负责**实现与修正**。

---

# 核心场景演练

## 场景 1: 疑难 Bug 修复 (Console 报错)

**SOP (标准作业程序)**:
1.  **Copy**: 复制完整错误堆栈 + 相关代码片段
2.  **Paste**: 粘贴到 Chat，附加 `@Codebase`
3.  **Prompt**: "请分析报错原因，定位到具体代码行，并给出修复方案。"
4.  **Verify**: 让 AI 生成一个复现此 Bug 的测试用例 -> 运行失败 -> 修复 -> 运行成功

## 场景 2: 验证驱动开发 (VDD)

**流程**:
1.  写 `test.spec.ts` (描述需求)
2.  运行测试 (Red - 失败)
3.  选中失败代码 -> `Ctrl+K` -> "Fix this to make test pass"
4.  运行测试 (Green - 通过)

---

# 实战 Demo：实现 Throttle 函数

**任务**：实现一个带 `leading/trailing` 选项的节流函数。

**Step 1: Prompt**
```
请实现一个 throttle(fn, wait, options) 函数：
- options 支持 leading/trailing execution
- 返回函数需包含 .cancel() 方法
- 生成对应的 Jest 测试用例，覆盖所有边界条件
```

**Step 2: AI 生成**
(AI 生成代码与测试文件...)

**Step 3: 人工验证**
- 运行 `npm test`
- 检查 `this` 绑定是否正确
- 确认定时器清理逻辑

---

# Vibe Coding 最佳节奏

<div style="display: flex; justify-content: space-between; align-items: center; margin-top: 30px;">
<div style="text-align: center; padding: 20px; background: #667eea; border-radius: 10px; color: white;">
1. 简述任务<br/><small>1-2 min</small>
</div>
→
<div style="text-align: center; padding: 20px; background: #11998e; border-radius: 10px; color: white;">
2. Driver 编写<br/><small>5-10 min</small>
</div>
→
<div style="text-align: center; padding: 20px; background: #fc5c7d; border-radius: 10px; color: white;">
3. AI 协作<br/><small>2-3 轮</small>
</div>
→
<div style="text-align: center; padding: 20px; background: #f093fb; border-radius: 10px; color: white;">
4. 团队复审<br/><small>2-3 min</small>
</div>
</div>
