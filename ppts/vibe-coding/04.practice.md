---
layout: center
---

# 4. 实战

---

<img src="/sdlc-vs-adlc.svg" class="w-full h-full object-contain" />

---
layout: full-vibe
class: p-0
clicks: 9
---

<PairWorkflow />

---


# 实战场景 1：新项目冷启动 (Intent to Architecture)

> 从 0 → 1 构建项目：输入是**模糊意图**（脑暴想法 / 竞品参考），输出是**可运行的项目**。<VibeExample id="4.1" />

<div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 16px;">
  <div class="bg-blue-50/50 p-4 border border-blue-200 rounded-lg shadow-sm">
    <div class="font-bold text-blue-700 mb-1 text-sm">🗺️ Plan（规划）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">输入：口头描述 / 竞品截图</div>
    <div class="text-xs text-slate-600">用 <strong>Plan Mode</strong> 驱动 AI 生成 <code>AGENTS.md</code>（技术栈决策）和架构草图，明确模块边界与目录结构。</div>
    <div class="text-[11px] text-blue-600 font-mono mt-2">产出：AGENTS.md + blueprint.md</div>
  </div>
  <div class="bg-purple-50/50 p-4 border border-purple-200 rounded-lg shadow-sm">
    <div class="font-bold text-purple-700 mb-1 text-sm">🔍 Assess（对齐）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">评估：blueprint.md</div>
    <div class="text-xs text-slate-600">检查框架选型是否冲突、关键约束是否遗漏（如 SSR/SSG 需求、数据库类型）。有偏差 → 回流 Plan 补充。</div>
    <div class="text-[11px] text-purple-600 font-mono mt-2">锁定：技术栈基线 + Todo 队列</div>
  </div>
  <div class="bg-green-50/50 p-4 border border-green-200 rounded-lg shadow-sm">
    <div class="font-bold text-green-700 mb-1 text-sm">⚡ Implement（执行）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">粒度：每次 = 一个模块</div>
    <div class="text-xs text-slate-600">按 Todo 逐模块执行：路由骨架 → 状态管理 → 核心组件 → 样式配置。每步聚焦单一上下文。</div>
    <div class="text-[11px] text-green-600 font-mono mt-2">产出：可运行的增量 Draft</div>
  </div>
  <div class="bg-amber-50/50 p-4 border border-amber-200 rounded-lg shadow-sm">
    <div class="font-bold text-amber-700 mb-1 text-sm">✅ Review（验收）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">卡点：每模块完成后</div>
    <div class="text-xs text-slate-600">跑 <code>npm run dev</code> 确认无报错；对照 blueprint.md 检查目录结构；架构偏差 → 回溯 Plan。</div>
    <div class="text-[11px] text-amber-600 font-mono mt-2">最终：可运行项目骨架</div>
  </div>
</div>

---

# 实战场景 2：feature 需求开发 (PRD to PR)

> 已有项目新增功能：输入是 **PRD + 设计稿**，输出是经过测试验证的**功能 PR**。<VibeExample id="4.2" />

<div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 16px;">
  <div class="bg-blue-50/50 p-4 border border-blue-200 rounded-lg shadow-sm">
    <div class="font-bold text-blue-700 mb-1 text-sm">🗺️ Plan（规划）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">输入：PRD.md + UI 设计稿</div>
    <div class="text-xs text-slate-600">@ 引用 PRD.md 和 UI 截图，用 <strong>Plan Mode</strong> 生成 <code>design.md</code>（接口/数据流/组件边界）和 <code>todo.md</code>（Story 拆解）。</div>
    <div class="text-[11px] text-blue-600 font-mono mt-2">产出：design.md + todo.md</div>
  </div>
  <div class="bg-purple-50/50 p-4 border border-purple-200 rounded-lg shadow-sm">
    <div class="font-bold text-purple-700 mb-1 text-sm">🔍 Assess（对齐）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">评估：design.md</div>
    <div class="text-xs text-slate-600">Review 接口字段完整性、数据流向、组件归属；确认 todo 粒度可执行。字段缺失 / 边界模糊 → 回流 Plan 补充。</div>
    <div class="text-[11px] text-purple-600 font-mono mt-2">锁定：执行基线</div>
  </div>
  <div class="bg-green-50/50 p-4 border border-green-200 rounded-lg shadow-sm">
    <div class="font-bold text-green-700 mb-1 text-sm">⚡ Implement（执行）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">粒度：每次 = 一个 Story</div>
    <div class="text-xs text-slate-600">按 todo.md 逐条执行，@ 引用 AGENTS.md 约束产出规范。复杂 Story 可嵌套子 PAIR 循环。</div>
    <div class="text-[11px] text-green-600 font-mono mt-2">产出：增量功能 Draft</div>
  </div>
  <div class="bg-amber-50/50 p-4 border border-amber-200 rounded-lg shadow-sm">
    <div class="font-bold text-amber-700 mb-1 text-sm">✅ Review（验收）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">卡点：每个 Story 完成后</div>
    <div class="text-xs text-slate-600">功能测试通过；对比 Diff 关注边缘情况；逻辑缺陷 → 回溯 Plan 修正 design.md。</div>
    <div class="text-[11px] text-amber-600 font-mono mt-2">最终：功能 PR</div>
  </div>
</div>

---

# 实战场景 3：hotfix Bug 修复 (Crash to PR)

> 从线上问题到闭环修复：输入是 **Crash 堆栈 / 日志**，输出是带 Repro Test 的**修复 PR**。 <VibeExample id="4.3" />

<div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-top: 16px;">
  <div class="bg-blue-50/50 p-4 border border-blue-200 rounded-lg shadow-sm">
    <div class="font-bold text-blue-700 mb-1 text-sm">🗺️ Plan（归因）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">输入：Crash 堆栈 / Sentry / 业务日志</div>
    <div class="text-xs text-slate-600">注入堆栈 + 日志，让 AI 跨文件追踪调用链，生成 <code>root-cause.md</code>（根因分析）和 <code>fix-todo.md</code>（修复计划）。</div>
    <div class="text-[11px] text-blue-600 font-mono mt-2">产出：root-cause.md + fix-todo.md</div>
  </div>
  <div class="bg-purple-50/50 p-4 border border-purple-200 rounded-lg shadow-sm">
    <div class="font-bold text-purple-700 mb-1 text-sm">🔍 Assess（评估）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">评估：root-cause.md</div>
    <div class="text-xs text-slate-600">确认根因是否准确；修复面是否最小化（避免牵连无关模块）；归因存疑 → 回流 Plan 追加日志范围。</div>
    <div class="text-[11px] text-purple-600 font-mono mt-2">锁定：修复基线</div>
  </div>
  <div class="bg-green-50/50 p-4 border border-green-200 rounded-lg shadow-sm">
    <div class="font-bold text-green-700 mb-1 text-sm">⚡ Implement（修复）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">粒度：每次 = 一处修复 + 一个 Repro Test</div>
    <div class="text-xs text-slate-600">先写复现测试（固化 Bug），再修复代码，确保测试由红变绿。按 fix-todo.md 原子化执行。</div>
    <div class="text-[11px] text-green-600 font-mono mt-2">产出：修复 Patch + Repro Test</div>
  </div>
  <div class="bg-amber-50/50 p-4 border border-amber-200 rounded-lg shadow-sm">
    <div class="font-bold text-amber-700 mb-1 text-sm">✅ Review（验收）</div>
    <div class="text-[11px] text-slate-500 font-mono mb-2">卡点：每处修复完成后</div>
    <div class="text-xs text-slate-600">Repro Test 通过；无新 Warning；全量测试无 regression；PR 描述含复现步骤与根因说明。</div>
    <div class="text-[11px] text-amber-600 font-mono mt-2">最终：修复 PR（含 Repro Test）</div>
  </div>
</div>


---
layout: full-vibe
---

<div class="grid grid-cols-2 gap-4">

<div class="p-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm">

📚 PAIR 工作流 SOP

1. **Plan (计划)** 明确需求，制定详细计划
2. **Assess (评估)** 进入 Plan Mode 确认 AI 理解
3. **Implementation (实施)** 标准化执行，Agent Loop
4. **Review (评审)** 人工评审兜底，边界/性能/安全审查

</div>

<div class="p-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm">

🔄 双微循环机制

- **理解对齐循环** (Plan ↔ Assess): 迭代直到 AI 完全理解
- **Checkpoint 验证循环** (Implementation ↔ Review): 每个小步骤后的验证
- **回退路径**: 理解偏差 → Plan / 需精细化 → Plan

</div>

<div class="p-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm">

🧠 Vibe 核心：从 Builder 到 Reviewer

1. **意图第一** 代码只是意图的副产品，关注"你想要什么"。
2. **审查为先** 你的价值不在于打字快慢，而在于识别"正确的代码"。
3. **拒绝手动** 只要能通过规则/测试约束 AI 的，绝不自己动手改代码。

</div>

<div class="p-2 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm">

 📊 组织与持续改进

- 将个人高效 Prompt 沉淀为团队标准规约
- 复盘模型"幻觉"模式并提供抓手纠偏
- 持续向 `AGENTS.md` 补充架构演进决策

</div>

</div>
