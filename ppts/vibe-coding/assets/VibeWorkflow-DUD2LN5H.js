import{f as r,o as l,i as a,g as e,z as _,F as A,aj as j,n as s,t as k,K as B,r as S,ad as M,aL as v,e as N}from"./modules/vue-qFcqnZxo.js";import{u as z}from"./slidev/context-KpoaI3Iy.js";import{_ as I,a as V}from"./index-C54GUMyB.js";const R={class:"context-window flex items-stretch gap-1.5",style:{"font-size":"8px !important"}},T={class:"flex items-stretch gap-0.5"},$={class:"flex items-center"},P=["height"],D={class:"flex flex-col gap-0.5 justify-center"},F={key:0,class:"flex items-stretch gap-0.5"},H={class:"flex items-center"},W=["height"],G={class:"flex flex-col gap-0.5 justify-center"},E={__name:"ContextWindow",props:{stepId:{type:String,default:"start"}},setup(x){z();const c=x,n={system:{label:"System",color:"bg-slate-300 dark:bg-slate-600",text:"text-slate-700 dark:text-slate-200"},user:{label:"User Prompt",color:"bg-orange-300 dark:bg-orange-700",text:"text-orange-800 dark:text-orange-100"},file:{label:"File Context",color:"bg-blue-300 dark:bg-blue-700",text:"text-blue-800 dark:text-blue-100"},plan:{label:"Plan/Code",color:"bg-purple-300 dark:bg-purple-700",text:"text-purple-800 dark:text-purple-100"},diff:{label:"Code Diff",color:"bg-indigo-300 dark:bg-indigo-700",text:"text-indigo-800 dark:text-indigo-100"},lint:{label:"Lint Result",color:"bg-yellow-300 dark:bg-yellow-700",text:"text-yellow-800 dark:text-yellow-100"},error:{label:"Error",color:"bg-red-300 dark:bg-red-700",text:"text-red-800 dark:text-red-100"},userfix:{label:"User Fix",color:"bg-amber-300 dark:bg-amber-700",text:"text-amber-800 dark:text-amber-100"},fixed:{label:"Fixed Code",color:"bg-emerald-300 dark:bg-emerald-700",text:"text-emerald-800 dark:text-emerald-100"},summary:{label:"Summary",color:"bg-green-300 dark:bg-green-700",text:"text-green-800 dark:text-green-100"}},y={start:{input:["system","user"],output:[]},gather:{input:["system","user","file"],output:[]},llm:{input:["system","user","file"],output:["plan"]},action:{input:["system","user","file","plan"],output:["diff"]},verify:{input:["system","user","file","diff"],output:["lint"]},loop_back:{input:["system","user","file","diff","error"],output:[]},steer:{input:["system","user","file","error","userfix"],output:[]},action_fix:{input:["system","user","file","error","userfix"],output:["fixed"]},verify_pass:{input:["system","user","file","fixed"],output:["summary"]},done:{input:["system","user","file","fixed","summary"],output:[]}},i=_(()=>y[c.stepId]||y.start),p=_(()=>i.value.input.map(h=>n[h])),o=_(()=>i.value.output.map(h=>n[h]));return(h,u)=>(l(),r("div",R,[a(" Input 组 "),e("div",T,[u[1]||(u[1]=e("div",{class:"flex items-center"},[e("span",{class:"context-label text-slate-400 dark:text-slate-500 font-bold uppercase tracking-wider",style:{"font-size":"7px","writing-mode":"vertical-lr",transform:"rotate(180deg)"}},"Input")],-1)),e("div",$,[(l(),r("svg",{class:"text-slate-300 dark:text-slate-600",width:"6",height:p.value.length*18+4,viewBox:"0 0 6 40",preserveAspectRatio:"none"},[...u[0]||(u[0]=[e("path",{d:"M 5 0 Q 0 0 0 5 L 0 35 Q 0 40 5 40",fill:"none",stroke:"currentColor","stroke-width":"1.5"},null,-1)])],8,P))]),e("div",D,[(l(!0),r(A,null,j(p.value,(g,f)=>(l(),r("div",{key:"in-"+f,class:s(["context-block rounded-sm px-1.5 py-0.5 font-mono whitespace-nowrap transition-all duration-300",[g.color,g.text]]),style:{"font-size":"7px !important","line-height":"1.4"}},k(g.label),3))),128))])]),a(" Output 组 "),o.value.length>0?(l(),r("div",F,[u[3]||(u[3]=e("div",{class:"flex items-center"},[e("span",{class:"context-label text-slate-400 dark:text-slate-500 font-bold uppercase tracking-wider",style:{"font-size":"7px","writing-mode":"vertical-lr",transform:"rotate(180deg)"}},"Output")],-1)),e("div",H,[(l(),r("svg",{class:"text-slate-300 dark:text-slate-600",width:"6",height:o.value.length*18+4,viewBox:"0 0 6 40",preserveAspectRatio:"none"},[...u[2]||(u[2]=[e("path",{d:"M 5 0 Q 0 0 0 5 L 0 35 Q 0 40 5 40",fill:"none",stroke:"currentColor","stroke-width":"1.5"},null,-1)])],8,W))]),e("div",G,[(l(!0),r(A,null,j(o.value,(g,f)=>(l(),r("div",{key:"out-"+f,class:s(["context-block rounded-sm px-1.5 py-0.5 font-mono whitespace-nowrap transition-all duration-300",[g.color,g.text]]),style:{"font-size":"7px !important","line-height":"1.4"}},k(g.label),3))),128))])])):a("v-if",!0)]))}},U=I(E,[["__scopeId","data-v-531f7f03"]]),O={key:0,class:"flex-shrink-0 flex justify-between items-center p-3 md:p-4 border-b border-slate-200 dark:border-slate-800 bg-slate-50/50 dark:bg-[#161b22]/50"},Q={class:"flex items-center gap-2 bg-slate-100 dark:bg-[#0d1117] p-1 rounded-none border border-slate-200 dark:border-slate-700/50"},X=["disabled"],Y={class:"px-2 font-mono text-[10px] md:text-xs text-blue-600 dark:text-blue-400 font-bold min-w-[70px] md:min-w-[80px] text-center"},Z=["disabled"],J={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},K={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-green-500"},q={key:0,class:"absolute inset-0 opacity-[0.03]",style:{"background-image":`linear-gradient(#94a3b8 1px, transparent 1px),
            linear-gradient(90deg, #94a3b8 1px, transparent 1px)`,"background-size":"40px 40px"}},ee={class:"relative w-[1000px] h-[400px]"},te={class:"absolute inset-0 w-full h-full pointer-events-none z-0 overflow-visible text-slate-300 dark:text-slate-700"},ae=["marker-end"],re=["marker-end"],le=["marker-end"],se=["marker-end"],oe=["marker-end"],ne=["marker-end"],ie=["marker-end"],de={key:0,class:"absolute -top-3 -right-2 bg-purple-100 dark:bg-purple-500/10 text-purple-600 dark:text-purple-400 border border-purple-200 dark:border-purple-500/30 text-[9px] px-2 py-0.5 rounded-full flex items-center gap-1 shadow-sm"},pe={key:0,class:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-red-500 text-white text-[9px] font-bold px-2 py-0.5 rounded-full shadow-lg animate-bounce"},xe={key:1,class:"absolute -bottom-3 left-1/2 -translate-x-1/2 bg-green-500 text-white text-[9px] font-bold px-2 py-0.5 rounded-full shadow-lg"},ue={key:1,class:"flex-shrink-0 bg-slate-50 dark:bg-[#161b22] border-t border-slate-200 dark:border-slate-800 flex gap-2 items-start shadow-inner overflow-hidden",style:{height:"100px !important",padding:"8px !important"}},fe={class:"flex-shrink-0 mt-0.5"},ce={key:0,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-blue-600 dark:text-blue-400"},ge={key:1,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-red-600 dark:text-red-400"},ve={class:"flex-1"},ke={key:0,class:"inline-block w-1 h-1 bg-current rounded-full animate-pulse"},he={class:"text-slate-600 dark:text-slate-300 leading-tight",style:{"font-size":"9px !important",margin:"0 !important"}},be={class:"mt-1 flex flex-wrap gap-1 opacity-60"},me={class:"flex-shrink-0"},we={__name:"VibeWorkflow",props:{mini:{type:Boolean,default:!1},activeStepId:{type:String,default:null}},setup(x){z();const c=x,n=S(0),y=S(!1);let i;try{i=V()}catch{}const p=[{id:"start",title:"1. User Prompt (意图注入)",description:"用户通过自然语言描述需求。不仅是文本、语音输入、图片、文件(@file、@folder) 等，除了显示输入，工具还会捕获光标位置的代码片段等作为隐式输入。",tags:["Input","Intent"],activeNode:"start",line:null},{id:"gather",title:"2. Gather Context (语境收集)",description:"AI Coding 工具的 Agent (后续统称客户端 Agent)，通过 RAG 或文件树读取相关文件，调用读取文件搜索网络等相关工具(工具调用也叫做 Tool Calling), 结合用户输入，规整为统一输入",tags:["Tool: Read","Context"],activeNode:"gather",line:"start-gather"},{id:"llm",title:"3. LLM Reasoning (推理规划)",description:"调用 API 将所有输入通常以 JSON 对象方式，传递给大模型，大模型按照一定的规则进行推理，并返回结果。",tags:["Reasoning","Planning","Code Gen"],activeNode:"llm",line:"gather-llm"},{id:"action",title:"4. Take Action (执行行动)",description:'客户端 Agent 拿到 LLM 的结果，执行文件变更或运行命令。在这个阶段，也会调用 "Write File" 等工具。',tags:["Tool: Write","Execution"],activeNode:"action",line:"llm-action"},{id:"verify",title:"5. Verify Results (自动验证)",description:"代码写入后，客户端 Agent 会主动运行 Linter 或编译器来检查刚才的修改是否破坏了代码。",tags:["Tool: Terminal","Validation"],activeNode:"verify",result:"fail",line:"action-verify"},{id:"loop_back",title:"6. Feedback Loop (错误回流)",description:"检测到报错！客户端 Agent 捕获错误信息，将其作为新的 Context，自动回到收集/思考阶段。",tags:["Self-Correction","Loop"],activeNode:"gather",line:"verify-gather"},{id:"steer",title:"7. User Steering (人类介入)",description:"（可选）用户发现 AI 理解错误，点击 Interrupt 并补充新的信息",tags:["Human-in-Loop","Steer"],activeNode:"llm",line:"steer-llm"},{id:"action_fix",title:"8. Take Action (修正执行)",description:"结合错误信息 + 用户修正， LLM 重新生成并执行代码。",tags:["Retry","Fix"],activeNode:"action",line:"llm-action"},{id:"verify_pass",title:"9. Verify Results (通过)",description:"客户端 Agent 再次验证，Lint 通过, 验证无问题。Agent 确认任务完成。",tags:["Success","Green"],activeNode:"verify",result:"pass",line:"action-verify"},{id:"done",title:"10. Done (任务完成)",description:"任务结束。客户端 Agent 会生成总结和变更告知用户。",tags:["Commit","Finish"],activeNode:"done",line:"verify-done"}],o=_(()=>c.mini&&c.activeStepId?p.find(d=>d.id===c.activeStepId)||p[0]:p[n.value]);B(()=>i?.clicks?.value,d=>{d!==void 0&&!c.mini&&(n.value=Math.min(Math.max(d,0),p.length-1))},{immediate:!0});const h=()=>{!c.mini&&i?i.next():n.value<p.length-1&&n.value++},u=()=>{!c.mini&&i?i.prev():n.value>0&&n.value--},g=()=>{!c.mini&&i&&i.clicks?i.clicks.value=0:n.value=0},f=d=>o.value.activeNode===d?"node-active border-blue-500 dark:border-blue-400 bg-blue-50/50 dark:bg-slate-800":"opacity-60 grayscale border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900",b=(d,t,w=!1)=>{const L=o.value.line,C=`${d}-${t}`;return L===C?w?"stroke-green-500 opacity-100 flow-line":"stroke-blue-500 opacity-100 flow-line":"stroke-slate-700 opacity-30"},m=(d,t,w=!1)=>{const L=o.value.line,C=`${d}-${t}`;return L===C?w?"url(#arrow-green)":"url(#arrow-blue)":"url(#arrow-gray)"};return(d,t)=>(l(),r("div",{class:s(["vibe-workflow-container bg-white dark:bg-[#0b0d11] text-slate-700 dark:text-slate-200 rounded-none overflow-hidden flex flex-col h-full w-full",{"mini-mode border-none bg-transparent dark:bg-transparent":x.mini}])},[a(" 顶部标题区 "),x.mini?a("v-if",!0):(l(),r("div",O,[t[5]||(t[5]=e("div",null,[e("h2",{class:"text-lg md:text-xl font-bold flex items-center gap-2 text-slate-900 dark:text-white"}," 2. 原理 ")],-1)),a(" 控制器 "),e("div",Q,[e("button",{onClick:u,disabled:n.value===0,class:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-none disabled:opacity-30 transition-colors"},[...t[0]||(t[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e("polyline",{points:"12 19 5 12 12 5"})],-1)])],8,X),e("div",Y," STEP "+k(n.value+1)+"/"+k(p.length),1),e("button",{onClick:h,disabled:n.value===p.length-1,class:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-none disabled:opacity-30 transition-colors"},[n.value<p.length-1?(l(),r("svg",J,[...t[1]||(t[1]=[e("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1),e("polyline",{points:"12 5 19 12 12 19"},null,-1)])])):(l(),r("svg",K,[...t[2]||(t[2]=[e("polyline",{points:"20 6 9 17 4 12"},null,-1)])]))],8,Z),t[4]||(t[4]=e("div",{class:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-1"},null,-1)),e("button",{onClick:g,class:"flex items-center gap-1 px-2 py-1 text-[9px] md:text-[10px] font-medium hover:bg-slate-200 dark:hover:bg-slate-700 rounded-none text-slate-600 dark:text-slate-300 transition-colors"},[...t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),e("path",{d:"M3 3v5h5"})],-1),M(" 重置 ",-1)])])])])),a(" 可视化区域 "),e("div",{class:s(["flex-1 relative bg-white dark:bg-[#0d1117] overflow-hidden flex items-center justify-center transition-all duration-500",{"bg-transparent dark:bg-transparent":x.mini}])},[a(" 背景网格 "),x.mini?a("v-if",!0):(l(),r("div",q)),a(" 画布内容 - 响应式缩放容器 "),e("div",{class:s(["diagram-viewport relative w-full h-full overflow-hidden",x.mini?"":"max-w-[1000px] max-h-[450px]"])},[e("div",{class:s(x.mini?"mini-scaler":"diagram-scaler absolute inset-0 flex items-center justify-center")},[e("div",ee,[a(" SVG 连接层 "),(l(),r("svg",te,[t[6]||(t[6]=v('<defs data-v-f577a431><marker id="arrow-gray" markerWidth="6" markerHeight="6" refX="16" refY="3" orient="auto" data-v-f577a431><path d="M0,0 L0,6 L6,3 z" fill="currentColor" data-v-f577a431></path></marker><marker id="arrow-blue" markerWidth="6" markerHeight="6" refX="16" refY="3" orient="auto" data-v-f577a431><path d="M0,0 L0,6 L6,3 z" fill="#60a5fa" data-v-f577a431></path></marker><marker id="arrow-orange" markerWidth="6" markerHeight="6" refX="16" refY="3" orient="auto" data-v-f577a431><path d="M0,0 L0,6 L6,3 z" fill="#f97316" data-v-f577a431></path></marker><marker id="arrow-green" markerWidth="6" markerHeight="6" refX="16" refY="3" orient="auto" data-v-f577a431><path d="M0,0 L0,6 L6,3 z" fill="#10b981" data-v-f577a431></path></marker></defs>',1)),e("line",{x1:"130",y1:"180",x2:"170",y2:"180","stroke-width":"2",class:s(["transition-all",b("start","gather")]),"marker-end":m("start","gather")},null,10,ae),e("line",{x1:"290",y1:"180",x2:"340",y2:"180","stroke-width":"2",class:s(["transition-all",b("gather","llm")]),"marker-end":m("gather","llm")},null,10,re),e("line",{x1:"460",y1:"180",x2:"510",y2:"180","stroke-width":"2",class:s(["transition-all",b("llm","action")]),"marker-end":m("llm","action")},null,10,le),e("line",{x1:"630",y1:"180",x2:"680",y2:"180","stroke-width":"2",class:s(["transition-all",b("action","verify")]),"marker-end":m("action","verify")},null,10,se),e("line",{x1:"800",y1:"180",x2:"860",y2:"180","stroke-width":"2",class:s(["transition-all",b("verify","done")]),"marker-end":m("verify","done")},null,10,oe),e("path",{d:"M 740 235 L 740 270 L 230 270 L 230 235",fill:"none","stroke-width":"2",class:s(["transition-all",b("verify","gather",!0)]),"marker-end":m("verify","gather",!0)},null,10,ne),e("path",{d:"M 330 360 Q 400 360 400 235",fill:"none","stroke-width":"2","stroke-dasharray":"6,4",class:s(["transition-all",o.value.id==="steer"?"stroke-orange-500 opacity-100":"stroke-orange-200 dark:stroke-orange-900/30 opacity-30"]),"marker-end":o.value.id==="steer"?"url(#arrow-orange)":""},null,10,ie)])),a(" Agentic Loop 虚线框 "),t[14]||(t[14]=e("div",{class:"absolute top-[80px] left-[160px] w-[660px] h-[220px] rounded-none border-2 border-dashed border-slate-200 dark:border-slate-700 bg-slate-50/10 dark:bg-slate-800/10 pointer-events-none flex flex-col items-center"},[e("div",{class:"mt-[-14px] bg-white dark:bg-[#0d1117] px-4 py-1 flex items-center gap-2 text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-700 rounded-full shadow-sm text-[10px] font-bold uppercase tracking-widest"},[e("span",{class:"text-purple-400"},"●"),M(" AGENTIC LOOP (LLM DRIVER) ")])],-1)),a(" 节点层 "),a(" Start "),e("div",{class:s(["absolute top-[130px] left-[10px] w-[120px] h-[100px] z-10 node-float",f("start")])},[...t[7]||(t[7]=[v('<div class="w-full h-full bg-white dark:bg-[#1c2128] border border-slate-200 dark:border-slate-600 rounded-none p-3 flex flex-col items-center justify-center gap-1 shadow-xl" data-v-f577a431><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-slate-400 dark:text-slate-300" data-v-f577a431><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" data-v-f577a431></path></svg><span class="font-bold text-xs text-slate-800 dark:text-slate-200" data-v-f577a431>User Prompt</span><span class="text-[9px] text-slate-500" data-v-f577a431>用户提示词</span></div>',1)])],2),a(" Gather "),e("div",{class:s(["absolute top-[130px] left-[170px] w-[120px] h-[100px] z-10 node-float",f("gather")])},[...t[8]||(t[8]=[v('<div class="w-full h-full bg-white dark:bg-[#1c2128] border border-slate-200 dark:border-slate-600 rounded-none p-3 flex flex-col items-center justify-center gap-0.5 shadow-xl" data-v-f577a431><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-blue-500 dark:text-blue-400" data-v-f577a431><path d="M10 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4" data-v-f577a431></path><circle cx="17" cy="17" r="3" data-v-f577a431></circle><path d="m21 21-1.5-1.5" data-v-f577a431></path></svg><span class="font-bold text-xs text-slate-800 dark:text-white" data-v-f577a431>Gather Context</span><span class="text-[9px] text-slate-500 dark:text-slate-400" data-v-f577a431>收集上下文</span><span class="text-[9px] text-slate-500 font-mono" data-v-f577a431>RAG / Read</span></div>',1)])],2),a(" LLM "),e("div",{class:s(["absolute top-[130px] left-[340px] w-[120px] h-[100px] z-10 node-float",f("llm")])},[t[9]||(t[9]=v('<div class="w-full h-full bg-white dark:bg-[#1c2128] border border-slate-200 dark:border-slate-600 rounded-none p-3 flex flex-col items-center justify-center gap-0.5 shadow-xl" data-v-f577a431><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-purple-600 dark:text-purple-400" data-v-f577a431><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z" data-v-f577a431></path><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z" data-v-f577a431></path></svg><span class="font-bold text-xs text-slate-800 dark:text-white" data-v-f577a431>LLM Reasoning</span><span class="text-[9px] text-slate-500 dark:text-slate-400" data-v-f577a431>推理与规划</span><span class="text-[9px] text-slate-500 font-mono" data-v-f577a431>Plan / Code</span></div>',1)),["llm","action","steer","action_fix"].includes(o.value.id)?(l(),r("div",de," LLM 推理 ")):a("v-if",!0)],2),a(" Action "),e("div",{class:s(["absolute top-[130px] left-[510px] w-[120px] h-[100px] z-10 node-float",f("action")])},[...t[10]||(t[10]=[v('<div class="w-full h-full bg-white dark:bg-[#1c2128] border border-slate-200 dark:border-slate-600 rounded-none p-3 flex flex-col items-center justify-center gap-0.5 shadow-xl" data-v-f577a431><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-600 dark:text-indigo-400" data-v-f577a431><path d="M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5" data-v-f577a431></path><polyline points="14 2 14 8 20 8" data-v-f577a431></polyline><path d="M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z" data-v-f577a431></path></svg><span class="font-bold text-xs text-slate-800 dark:text-white" data-v-f577a431>Take Action</span><span class="text-[9px] text-slate-500 dark:text-slate-400" data-v-f577a431>执行操作</span><span class="text-[9px] text-slate-500 font-mono" data-v-f577a431>Write / Diff</span></div>',1)])],2),a(" Verify "),e("div",{class:s(["absolute top-[130px] left-[680px] w-[120px] h-[100px] z-10 node-float",f("verify")])},[t[11]||(t[11]=v('<div class="w-full h-full bg-white dark:bg-[#1c2128] border border-slate-200 dark:border-slate-600 rounded-none p-3 flex flex-col items-center justify-center gap-0.5 shadow-xl" data-v-f577a431><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-yellow-600 dark:text-yellow-400" data-v-f577a431><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z" data-v-f577a431></path><path d="m9 12 2 2 4-4" data-v-f577a431></path></svg><span class="font-bold text-xs text-slate-800 dark:text-white" data-v-f577a431>Verify Results</span><span class="text-[9px] text-slate-500 dark:text-slate-400" data-v-f577a431>验证结果</span><span class="text-[9px] text-slate-500 font-mono" data-v-f577a431>Lint / Test</span></div>',1)),o.value.result==="fail"?(l(),r("div",pe," FAILED ")):a("v-if",!0),o.value.result==="pass"?(l(),r("div",xe," PASSED ")):a("v-if",!0)],2),a(" Done "),e("div",{class:s(["absolute top-[140px] left-[860px] w-[80px] h-[80px] z-10 node-float",f("done")])},[...t[12]||(t[12]=[v('<div class="w-full h-full bg-white dark:bg-[#1c2128] border border-slate-200 dark:border-slate-600 rounded-none p-2 flex flex-col items-center justify-center gap-0.5 shadow-xl" data-v-f577a431><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-green-500" data-v-f577a431><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" data-v-f577a431></path><polyline points="22 4 12 14.01 9 11.01" data-v-f577a431></polyline></svg><span class="font-bold text-[10px] text-slate-800 dark:text-slate-200" data-v-f577a431>Done</span><span class="text-[9px] text-slate-500" data-v-f577a431>完成</span></div>',1)])],2),a(" User Steer Box "),e("div",{class:s(["absolute top-[290px] left-[100px] w-[220px] z-20 transition-all duration-300",o.value.id==="steer"?"opacity-100 scale-105":"opacity-40 grayscale"])},[...t[13]||(t[13]=[v('<div class="bg-orange-50 dark:bg-[#2d1b15] border border-orange-200 dark:border-orange-900 rounded-none p-3 shadow-lg relative" data-v-f577a431><div class="absolute -top-1.5 left-3 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 text-[7px] font-bold px-1 py-0.5 rounded-none border border-orange-200 dark:border-orange-700/50 uppercase tracking-wider" data-v-f577a431> Human In The Loop · 人机协作 </div><div class="flex items-start gap-2 mt-1" data-v-f577a431><div class="bg-orange-100 dark:bg-orange-900/30 p-1 rounded-full" data-v-f577a431><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-orange-600 dark:text-orange-400" data-v-f577a431><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" data-v-f577a431></path><circle cx="12" cy="7" r="4" data-v-f577a431></circle></svg></div><div data-v-f577a431><p class="text-orange-900 dark:text-orange-100 text-[10px] font-bold" style="margin:0 !important;" data-v-f577a431> Interrupt &amp; Steer · 打断与修正 </p><p class="text-orange-700 dark:text-orange-400/70 text-[8px] leading-tight" style="margin:0 !important;" data-v-f577a431> 用户打断并注入新上下文，修正 AI 方向。 </p></div></div></div>',1)])],2)])],2)],2)],2),a(" 底部状态区 "),x.mini?a("v-if",!0):(l(),r("div",ue,[e("div",fe,[e("div",{class:s(["w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-800 flex items-center justify-center border border-slate-300 dark:border-slate-700 transition-all duration-300",{"bg-blue-100 dark:bg-blue-900/40 border-blue-200 dark:border-blue-800":o.value.result!=="fail","bg-red-100 dark:bg-red-900/40 border-red-200 dark:border-red-800":o.value.result==="fail"}])},[o.value.result!=="fail"?(l(),r("svg",ce,[...t[15]||(t[15]=[e("circle",{cx:"12",cy:"12",r:"10"},null,-1),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"},null,-1),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"},null,-1)])])):(l(),r("svg",ge,[...t[16]||(t[16]=[e("circle",{cx:"12",cy:"12",r:"10"},null,-1),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"},null,-1),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"},null,-1)])]))],2)]),e("div",ve,[e("h3",{class:s(["font-bold mb-0.5 font-mono uppercase flex items-center gap-2",o.value.result==="fail"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"]),style:{"font-size":"10px !important"}},[M(k(o.value.title)+" ",1),y.value?(l(),r("span",ke)):a("v-if",!0)],2),e("p",he,k(o.value.description),1),e("div",be,[(l(!0),r(A,null,j(o.value.tags,w=>(l(),r("span",{key:w,class:"px-1 py-0 bg-slate-200 dark:bg-slate-800 rounded-none border border-slate-300 dark:border-slate-700 font-mono",style:{"font-size":"8px !important"}},"#"+k(w),1))),128))])]),a(" 右侧：上下文窗口色块图 "),e("div",me,[N(U,{stepId:o.value.id},null,8,["stepId"])])]))],2))}},Ce=I(we,[["__scopeId","data-v-f577a431"]]);export{Ce as _};
