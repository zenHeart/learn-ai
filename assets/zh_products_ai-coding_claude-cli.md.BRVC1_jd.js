import{_ as i}from"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import{c as a,o as t,ad as n}from"./chunks/mermaid.Cb40Nz1P.js";import"./chunks/cytoscape.C2CwDKBM.js";import"./chunks/dayjs.C32PoDnw.js";const u=JSON.parse('{"title":"Claude Code CLI","description":"","frontmatter":{},"headers":[],"relativePath":"zh/products/ai-coding/claude-cli.md","filePath":"zh/products/ai-coding/claude-cli.md"}'),e={name:"zh/products/ai-coding/claude-cli.md"};function l(h,s,p,d,k,r){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="claude-code-cli" tabindex="-1">Claude Code CLI <a class="header-anchor" href="#claude-code-cli" aria-label="Permalink to &quot;Claude Code CLI&quot;">​</a></h1><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;">​</a></h2><ol><li>按照<a href="https://code.claude.com/docs/get-started/installation" target="_blank" rel="noreferrer">官方文档</a>安装 Claude Code，查看详细的平台特定指南。</li><li>使用三种方法之一进行身份验证（参见<a href="https://code.claude.com/docs/get-started/authentication" target="_blank" rel="noreferrer">身份验证</a>）。</li></ol><h3 id="日常使用" tabindex="-1">日常使用 <a class="header-anchor" href="#日常使用" aria-label="Permalink to &quot;日常使用&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 交互式 REPL 模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行单个查询并退出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;explain this codebase&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 继续最近的对话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 恢复特定会话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feature-implementation&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 以特定模型启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --model</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> opus</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 处理管道输入</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;review these changes&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 后台执行长时间任务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 然后在命令执行期间按 Ctrl+B</span></span></code></pre></div><h3 id="快捷键" tabindex="-1">快捷键 <a class="header-anchor" href="#快捷键" aria-label="Permalink to &quot;快捷键&quot;">​</a></h3><table tabindex="0"><thead><tr><th>按键</th><th>功能</th></tr></thead><tbody><tr><td><code>Ctrl+C</code></td><td>取消当前操作</td></tr><tr><td><code>Ctrl+D</code></td><td>退出 Claude Code</td></tr><tr><td><code>Ctrl+L</code></td><td>清屏</td></tr><tr><td><code>Ctrl+O</code></td><td>切换详细输出</td></tr><tr><td><code>Ctrl+V</code> (Mac) / <code>Alt+V</code> (Win)</td><td>粘贴图像或文件路径</td></tr><tr><td><code>Ctrl+B</code></td><td>后台运行长时间的 bash 命令</td></tr><tr><td><code>Esc</code> <code>Esc</code></td><td>倒带代码/对话</td></tr><tr><td><code>Shift+Tab</code></td><td>切换权限模式</td></tr><tr><td><code>Option+P</code> (Mac) / <code>Alt+P</code> (Win)</td><td>切换模型</td></tr><tr><td><code>Up/Down</code></td><td>导航命令历史</td></tr><tr><td><code>Ctrl+R</code></td><td>反向搜索历史</td></tr><tr><td><code>Ctrl+Y</code></td><td>启用 yolo 模式</td></tr></tbody></table><h3 id="多行输入" tabindex="-1">多行输入 <a class="header-anchor" href="#多行输入" aria-label="Permalink to &quot;多行输入&quot;">​</a></h3><table tabindex="0"><thead><tr><th>方法</th><th>快捷键</th></tr></thead><tbody><tr><td>快速转义</td><td><code>\\</code> + <code>Enter</code></td></tr><tr><td>macOS 默认</td><td><code>Option+Enter</code></td></tr><tr><td>设置后</td><td><code>Shift+Enter</code></td></tr><tr><td>控制序列</td><td><code>Ctrl+J</code></td></tr></tbody></table><p>为终端设置多行输入：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /terminal-setup</span></span></code></pre></div><h2 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-label="Permalink to &quot;命令&quot;">​</a></h2><p>Claude 支持斜杠命令。输入 <code>/</code> 查看所有可用命令。</p><h3 id="内置命令" tabindex="-1">内置命令 <a class="header-anchor" href="#内置命令" aria-label="Permalink to &quot;内置命令&quot;">​</a></h3><h4 id="会话管理" tabindex="-1">会话管理 <a class="header-anchor" href="#会话管理" aria-label="Permalink to &quot;会话管理&quot;">​</a></h4><table tabindex="0"><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>/clear</code></td><td>清除对话历史</td></tr><tr><td><code>/rename &lt;name&gt;</code></td><td>给会话起个好记的名字</td></tr><tr><td><code>/resume [session]</code></td><td>恢复另一个对话</td></tr><tr><td><code>/rewind</code></td><td>倒带代码和/或对话</td></tr><tr><td><code>/exit</code></td><td>退出 Claude Code</td></tr></tbody></table><h4 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h4><table tabindex="0"><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>/config</code></td><td>打开设置界面</td></tr><tr><td><code>/status</code></td><td>显示版本、模型、账户信息</td></tr><tr><td><code>/model</code></td><td>选择或更改 AI 模型</td></tr><tr><td><code>/agents</code></td><td>管理自定义子智能体</td></tr><tr><td><code>/permissions</code></td><td>查看/更新权限设置</td></tr><tr><td><code>/sandbox</code></td><td>启用沙盒 bash 工具</td></tr></tbody></table><h4 id="工作区" tabindex="-1">工作区 <a class="header-anchor" href="#工作区" aria-label="Permalink to &quot;工作区&quot;">​</a></h4><table tabindex="0"><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>/init</code></td><td>使用 CLAUDE.md 初始化项目</td></tr><tr><td><code>/memory</code></td><td>编辑 CLAUDE.md 记忆文件</td></tr><tr><td><code>/add-dir</code></td><td>添加额外的工作目录</td></tr><tr><td><code>/todos</code></td><td>列出当前 TODO 项目</td></tr></tbody></table><h4 id="集成" tabindex="-1">集成 <a class="header-anchor" href="#集成" aria-label="Permalink to &quot;集成&quot;">​</a></h4><table tabindex="0"><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>/ide</code></td><td>连接到 IDE (VS Code, JetBrains)</td></tr><tr><td><code>/mcp</code></td><td>管理 MCP 服务器连接</td></tr><tr><td><code>/hooks</code></td><td>配置基于事件的自动化</td></tr><tr><td><code>/plugin</code></td><td>管理插件</td></tr></tbody></table><h4 id="实用工具" tabindex="-1">实用工具 <a class="header-anchor" href="#实用工具" aria-label="Permalink to &quot;实用工具&quot;">​</a></h4><table tabindex="0"><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><code>/help</code></td><td>获取使用帮助</td></tr><tr><td><code>/doctor</code></td><td>检查安装健康状况</td></tr><tr><td><code>/cost</code></td><td>显示 Token 使用统计</td></tr><tr><td><code>/stats</code></td><td>查看使用分析</td></tr><tr><td><code>/context</code></td><td>可视化上下文使用情况</td></tr><tr><td><code>/export [file]</code></td><td>导出对话</td></tr><tr><td><code>/bashes</code></td><td>列出后台任务</td></tr></tbody></table><h3 id="自定义命令" tabindex="-1">自定义命令 <a class="header-anchor" href="#自定义命令" aria-label="Permalink to &quot;自定义命令&quot;">​</a></h3><p>创建保存在 Markdown 文件中的可复用提示词。</p><p><strong>项目特定</strong> (与团队共享):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .claude/commands</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Review this code for security vulnerabilities:&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .claude/commands/security-review.md</span></span></code></pre></div><p>用法:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; /security-review</span></span></code></pre></div><p><strong>个人使用</strong> (在所有项目中可用):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.claude/commands</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Optimize this code for performance:&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.claude/commands/optimize.md</span></span></code></pre></div><p><strong>带参数:</strong></p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- .claude/commands/fix-issue.md --&gt;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">argument-hint: [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">issue-number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description: Fix a GitHub issue by number</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Fix issue #$1 by:</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Finding the issue details</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Locating relevant code</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Implementing the solution</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Running tests</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">5.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Creating a PR</span></span></code></pre></div><p>用法:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; /fix-issue 123</span></span></code></pre></div><p><strong>带 Bash 执行:</strong></p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- .claude/commands/commit.md --&gt;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">allowed-tools: Bash(git:*)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Current status: !</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`git status\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Staged changes: !</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`git diff --staged\`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Create a meaningful commit message based on the above.</span></span></code></pre></div><h2 id="会话管理-1" tabindex="-1">会话管理 <a class="header-anchor" href="#会话管理-1" aria-label="Permalink to &quot;会话管理&quot;">​</a></h2><h3 id="理解会话" tabindex="-1">理解会话 <a class="header-anchor" href="#理解会话" aria-label="Permalink to &quot;理解会话&quot;">​</a></h3><p>会话存储对话历史记录，并可以随时恢复。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开启新会话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 继续最近的会话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按名称恢复</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;auth-refactor&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 交互式选择器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span></span></code></pre></div><h3 id="会话选择器快捷键" tabindex="-1">会话选择器快捷键 <a class="header-anchor" href="#会话选择器快捷键" aria-label="Permalink to &quot;会话选择器快捷键&quot;">​</a></h3><table tabindex="0"><thead><tr><th>按键</th><th>动作</th></tr></thead><tbody><tr><td><code>↑/↓</code></td><td>导航会话</td></tr><tr><td><code>→/←</code></td><td>展开/折叠组</td></tr><tr><td><code>Enter</code></td><td>选择并恢复</td></tr><tr><td><code>P</code></td><td>预览会话</td></tr><tr><td><code>R</code></td><td>重命名会话</td></tr><tr><td><code>/</code></td><td>搜索会话</td></tr><tr><td><code>A</code></td><td>切换当前目录 vs 所有项目</td></tr><tr><td><code>B</code></td><td>按 Git 分支过滤</td></tr><tr><td><code>Esc</code></td><td>退出选择器</td></tr></tbody></table><h3 id="会话存储" tabindex="-1">会话存储 <a class="header-anchor" href="#会话存储" aria-label="Permalink to &quot;会话存储&quot;">​</a></h3><ul><li>位置: <code>~/.claude/sessions/</code></li><li>格式: 包含完整消息历史的 JSONL</li><li>清理: 空闲 30 天后自动删除（可配置）</li></ul><h3 id="并行工作的-git-worktrees" tabindex="-1">并行工作的 Git Worktrees <a class="header-anchor" href="#并行工作的-git-worktrees" aria-label="Permalink to &quot;并行工作的 Git Worktrees&quot;">​</a></h3><p>使用完全隔离的环境处理多个功能：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 为功能创建 worktree</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> worktree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ../project-feature-a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature-a</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在隔离环境中运行 Claude</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ../project-feature-a</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 列出 worktrees</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> worktree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 清理</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> worktree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ../project-feature-a</span></span></code></pre></div><h2 id="配置-1" tabindex="-1">配置 <a class="header-anchor" href="#配置-1" aria-label="Permalink to &quot;配置&quot;">​</a></h2><h3 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h3><p>分层设置，优先级顺序如下：</p><table tabindex="0"><thead><tr><th>位置</th><th>用途</th><th>优先级</th></tr></thead><tbody><tr><td>托管设置 (系统)</td><td>企业策略</td><td>最高</td></tr><tr><td><code>.claude/settings.json</code></td><td>项目共享</td><td>高</td></tr><tr><td><code>.claude/settings.local.json</code></td><td>个人项目覆盖</td><td>中</td></tr><tr><td><code>~/.claude/settings.json</code></td><td>用户全局</td><td>低</td></tr></tbody></table><h3 id="claude-md-记忆文件" tabindex="-1">CLAUDE.md 记忆文件 <a class="header-anchor" href="#claude-md-记忆文件" aria-label="Permalink to &quot;CLAUDE.md 记忆文件&quot;">​</a></h3><p>存储项目上下文和指令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.claude/CLAUDE.md</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # 项目特定</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/.claude/CLAUDE.md        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 个人全局</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.claude/CLAUDE.local.md</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 个人项目覆盖</span></span></code></pre></div><p><strong>CLAUDE.md 示例:</strong></p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># Project Context</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Architecture</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Frontend: React with TypeScript</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Backend: Node.js/Express</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Database: PostgreSQL</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Coding Standards</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Use TypeScript strict mode</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Write tests for all features</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Follow ESLint rules</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Format with Prettier</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Key Files</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Auth: src/services/auth.ts</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Database: src/db/schema.ts</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> API: src/api/routes.ts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Common Commands</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \`npm run dev\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - Start dev server</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \`npm test\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - Run tests</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \`npm run build\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> - Production build</span></span></code></pre></div><h3 id="设置配置" tabindex="-1">设置配置 <a class="header-anchor" href="#设置配置" aria-label="Permalink to &quot;设置配置&quot;">​</a></h3><p><code>~/.claude/settings.json</code> 示例:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;permissions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Bash(npm run:*)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Bash(git:*)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Read&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;deny&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Bash(curl:*)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Read(.env*)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Read(secrets/**)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;NODE_ENV&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;development&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;model&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;claude-sonnet-4-5-20250929&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="关键设置" tabindex="-1">关键设置 <a class="header-anchor" href="#关键设置" aria-label="Permalink to &quot;关键设置&quot;">​</a></h3><table tabindex="0"><thead><tr><th>设置</th><th>用途</th><th>示例</th></tr></thead><tbody><tr><td><code>permissions.allow</code></td><td>预批准工具</td><td><code>[&quot;Bash(git:*)&quot;, &quot;Read&quot;]</code></td></tr><tr><td><code>permissions.deny</code></td><td>阻止工具</td><td><code>[&quot;WebFetch&quot;]</code></td></tr><tr><td><code>env</code></td><td>环境变量</td><td><code>{&quot;KEY&quot;: &quot;value&quot;}</code></td></tr><tr><td><code>model</code></td><td>默认 AI 模型</td><td><code>&quot;claude-sonnet-4-5-20250929&quot;</code></td></tr><tr><td><code>outputStyle</code></td><td>响应风格</td><td><code>&quot;Concise&quot;</code></td></tr><tr><td><code>alwaysThinkingEnabled</code></td><td>扩展思考</td><td><code>true</code></td></tr></tbody></table><h3 id="文件排除" tabindex="-1">文件排除 <a class="header-anchor" href="#文件排除" aria-label="Permalink to &quot;文件排除&quot;">​</a></h3><p>保护敏感文件：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;permissions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;deny&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Read(.env)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Read(.env.*)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Read(./secrets/**)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Read(.aws/**)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="mcp-模型上下文协议" tabindex="-1">MCP (模型上下文协议) <a class="header-anchor" href="#mcp-模型上下文协议" aria-label="Permalink to &quot;MCP (模型上下文协议)&quot;">​</a></h2><p>将 Claude Code 连接到外部工具、数据库和 API。</p><h3 id="你可以做什么" tabindex="-1">你可以做什么 <a class="header-anchor" href="#你可以做什么" aria-label="Permalink to &quot;你可以做什么&quot;">​</a></h3><ul><li>实现 GitHub Issues</li><li>查询数据库</li><li>监控 Sentry 错误</li><li>访问 Slack 消息</li><li>管理云基础设施</li><li>查询分析数据</li></ul><h3 id="安装-mcp-服务器" tabindex="-1">安装 MCP 服务器 <a class="header-anchor" href="#安装-mcp-服务器" aria-label="Permalink to &quot;安装 MCP 服务器&quot;">​</a></h3><p><strong>HTTP 服务器 (推荐):</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://api.githubcopilot.com/mcp/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 带认证</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> secure-api</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://api.example.com/mcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --header</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer TOKEN&quot;</span></span></code></pre></div><p><strong>SSE 服务器:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sse</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> asana</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mcp.asana.com/sse</span></span></code></pre></div><p><strong>Stdio 服务器 (本地):</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 本地 stdio 服务器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stdio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> database</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @example/database-mcp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 带环境变量</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stdio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> airtable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AIRTABLE_API_KEY=KEY</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> airtable-mcp-server</span></span></code></pre></div><h3 id="管理-mcp-服务器" tabindex="-1">管理 MCP 服务器 <a class="header-anchor" href="#管理-mcp-服务器" aria-label="Permalink to &quot;管理 MCP 服务器&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              # 列出已配置的服务器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 获取特定服务器详情</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # 移除服务器</span></span></code></pre></div><p>在交互模式下:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; /mcp</span></span></code></pre></div><h3 id="安装范围" tabindex="-1">安装范围 <a class="header-anchor" href="#安装范围" aria-label="Permalink to &quot;安装范围&quot;">​</a></h3><table tabindex="0"><thead><tr><th>范围</th><th>位置</th><th>共享?</th></tr></thead><tbody><tr><td><strong>Local</strong></td><td><code>.mcp.json</code></td><td>否</td></tr><tr><td><strong>Project</strong></td><td><code>.mcp.json</code> (committed)</td><td>是</td></tr><tr><td><strong>User</strong></td><td><code>~/.claude.json</code></td><td>否</td></tr></tbody></table><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 项目范围 (与团队共享)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --scope</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> project</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用户范围 (所有项目)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --scope</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> database</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://...</span></span></code></pre></div><h3 id="热门-mcp-服务器" tabindex="-1">热门 MCP 服务器 <a class="header-anchor" href="#热门-mcp-服务器" aria-label="Permalink to &quot;热门 MCP 服务器&quot;">​</a></h3><ul><li><strong>GitHub</strong> - Issues, PRs, 仓库</li><li><strong>Sentry</strong> - 错误监控</li><li><strong>PostgreSQL</strong> - 数据库查询</li><li><strong>Slack</strong> - 消息, 频道</li><li><strong>Google Calendar</strong> - 日程管理</li><li><strong>Notion</strong> - 工作区知识库</li><li><strong>Stripe</strong> - 支付管理</li></ul><h3 id="实践示例" tabindex="-1">实践示例 <a class="header-anchor" href="#实践示例" aria-label="Permalink to &quot;实践示例&quot;">​</a></h3><p><strong>监控 Sentry 错误:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sentry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mcp.sentry.dev/mcp</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /mcp  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 认证</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 然后使用:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> What are the top 5 errors this week</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span></code></pre></div><p><strong>查询 PostgreSQL:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stdio</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @bytebase/dbhub</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --dsn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;postgresql://user:pass@host:5432/db&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> What</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;s our total revenue this month?</span></span></code></pre></div><p><strong>从 Claude Desktop 导入:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add-from-claude-desktop</span></span></code></pre></div><h2 id="ide-集成" tabindex="-1">IDE 集成 <a class="header-anchor" href="#ide-集成" aria-label="Permalink to &quot;IDE 集成&quot;">​</a></h2><h3 id="vs-code-扩展" tabindex="-1">VS Code 扩展 <a class="header-anchor" href="#vs-code-扩展" aria-label="Permalink to &quot;VS Code 扩展&quot;">​</a></h3><p><strong>安装:</strong></p><ol><li>打开扩展 (<code>Cmd+Shift+X</code>)</li><li>搜索 &quot;Claude Code&quot;</li><li>安装并重启</li></ol><p><strong>快速开始:</strong></p><ul><li>点击编辑器工具栏中的 ✱</li><li>点击状态栏中的 &quot;✱ Claude Code&quot;</li><li>命令面板: &quot;Claude Code&quot;</li></ul><p><strong>特性:</strong></p><ul><li>内联差异审查</li><li>带行号的 @提及 (<code>Alt+K</code>)</li><li>编辑前计划审查</li><li>自动接受模式</li><li>多对话标签页</li><li>终端模式</li></ul><p><strong>快捷键:</strong></p><table tabindex="0"><thead><tr><th>快捷键</th><th>动作</th></tr></thead><tbody><tr><td><code>Cmd+Esc</code> / <code>Ctrl+Esc</code></td><td>切换焦点</td></tr><tr><td><code>Cmd+Shift+Esc</code> / <code>Ctrl+Shift+Esc</code></td><td>新标签页</td></tr><tr><td><code>Alt+K</code></td><td>插入文件引用</td></tr></tbody></table><h3 id="jetbrains-ides" tabindex="-1">JetBrains IDEs <a class="header-anchor" href="#jetbrains-ides" aria-label="Permalink to &quot;JetBrains IDEs&quot;">​</a></h3><p>支持: IntelliJ, PyCharm, WebStorm, GoLand, PhpStorm, Android Studio</p><p><strong>安装:</strong></p><ol><li>Settings → Plugins</li><li>搜索 &quot;Claude Code&quot;</li><li>安装并重启</li></ol><p><strong>特性:</strong></p><ul><li>快速启动: <code>Cmd+Esc</code> / <code>Ctrl+Esc</code></li><li>IDE 差异查看器</li><li>选择上下文共享</li><li>文件引用: <code>Cmd+Option+K</code> / <code>Alt+Ctrl+K</code></li><li>诊断集成</li></ul><p><strong>从终端连接:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /ide</span></span></code></pre></div><h2 id="无头模式-自动化" tabindex="-1">无头模式 (自动化) <a class="header-anchor" href="#无头模式-自动化" aria-label="Permalink to &quot;无头模式 (自动化)&quot;">​</a></h2><p>以非交互方式运行 Claude Code，用于脚本和 CI/CD。</p><h3 id="基础用法-1" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法-1" aria-label="Permalink to &quot;基础用法&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 简单查询</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;analyze this code&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># JSON 输出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;find bugs&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 继续对话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;what else?&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --continue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 恢复特定会话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;continue&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --resume</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> session-name</span></span></code></pre></div><h3 id="常见模式" tabindex="-1">常见模式 <a class="header-anchor" href="#常见模式" aria-label="Permalink to &quot;常见模式&quot;">​</a></h3><p><strong>创建提交信息:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Create commit for staged changes&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --allowedTools</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Bash(git:*)&quot;</span></span></code></pre></div><p><strong>代码审查:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Review for security issues&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --output-format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span></span></code></pre></div><p><strong>CI/CD 集成:</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;lint:claude&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;claude -p &#39;Report issues in staged changes&#39; --output-format json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>通过 Claude 管道传输:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> error.log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;explain this error&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> analysis.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> code.py</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;find bugs&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><h3 id="输出格式" tabindex="-1">输出格式 <a class="header-anchor" href="#输出格式" aria-label="Permalink to &quot;输出格式&quot;">​</a></h3><p><strong>Text (默认):</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;query&quot;</span></span></code></pre></div><p><strong>JSON:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;query&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 返回: {&quot;result&quot;: &quot;...&quot;, &quot;session_id&quot;: &quot;...&quot;, &quot;usage&quot;: {...}}</span></span></code></pre></div><p><strong>Streaming JSON:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;query&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stream-json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 实时换行 JSON</span></span></code></pre></div><h2 id="工具" tabindex="-1">工具 <a class="header-anchor" href="#工具" aria-label="Permalink to &quot;工具&quot;">​</a></h2><p>Claude Code 为处理代码提供了强大的工具。</p><h3 id="可用工具" tabindex="-1">可用工具 <a class="header-anchor" href="#可用工具" aria-label="Permalink to &quot;可用工具&quot;">​</a></h3><table tabindex="0"><thead><tr><th>工具</th><th>用途</th><th>权限</th></tr></thead><tbody><tr><td><code>Read</code></td><td>读取文件</td><td>否</td></tr><tr><td><code>Write</code></td><td>创建/覆盖文件</td><td>是</td></tr><tr><td><code>Edit</code></td><td>针对性编辑</td><td>是</td></tr><tr><td><code>Bash</code></td><td>执行 Shell 命令</td><td>是</td></tr><tr><td><code>Glob</code></td><td>按模式查找文件</td><td>否</td></tr><tr><td><code>Grep</code></td><td>搜索文件内容</td><td>否</td></tr><tr><td><code>WebFetch</code></td><td>获取网页内容</td><td>是</td></tr><tr><td><code>WebSearch</code></td><td>搜索网络</td><td>是</td></tr><tr><td><code>NotebookEdit</code></td><td>修改 Jupyter notebooks</td><td>是</td></tr><tr><td><code>Task</code></td><td>委托给子智能体</td><td>否</td></tr><tr><td><code>TodoWrite</code></td><td>创建任务列表</td><td>否</td></tr></tbody></table><h3 id="工具权限" tabindex="-1">工具权限 <a class="header-anchor" href="#工具权限" aria-label="Permalink to &quot;工具权限&quot;">​</a></h3><p>控制 Claude 可以使用哪些工具：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;permissions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;allow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bash(npm run test)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Read&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Glob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;deny&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;WebFetch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bash(curl:*)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="权限模式" tabindex="-1">权限模式 <a class="header-anchor" href="#权限模式" aria-label="Permalink to &quot;权限模式&quot;">​</a></h3><p>用 <code>Shift+Tab</code> 切换：</p><table tabindex="0"><thead><tr><th>模式</th><th>行为</th><th>何时使用</th></tr></thead><tbody><tr><td><strong>Normal</strong></td><td>行动前询问</td><td>默认，最谨慎</td></tr><tr><td><strong>Auto-Accept</strong></td><td>自动批准更改</td><td>当你信任 Claude 时</td></tr><tr><td><strong>Plan</strong></td><td>只读分析</td><td>做出更改之前</td></tr></tbody></table><h2 id="技能-高级命令" tabindex="-1">技能 (高级命令) <a class="header-anchor" href="#技能-高级命令" aria-label="Permalink to &quot;技能 (高级命令)&quot;">​</a></h2><p>技能是跨多个文件组织的综合能力。</p><h3 id="创建你的第一个技能" tabindex="-1">创建你的第一个技能 <a class="header-anchor" href="#创建你的第一个技能" aria-label="Permalink to &quot;创建你的第一个技能&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.claude/skills/code-explainer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.claude/skills/code-explainer/SKILL.md</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;EOF&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">---</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">name: code-explainer</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">description: Explains code with diagrams and analogies</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">---</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">When explaining code:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1. Start with an analogy</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2. Draw ASCII diagram</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">3. Walk through step-by-step</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">4. Highlight common mistakes</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span></code></pre></div><p>Claude 在解释代码时会自动使用此技能。</p><h3 id="带支持文件的技能" tabindex="-1">带支持文件的技能 <a class="header-anchor" href="#带支持文件的技能" aria-label="Permalink to &quot;带支持文件的技能&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>my-skill/</span></span>
<span class="line"><span>├── SKILL.md           # 概览</span></span>
<span class="line"><span>├── reference.md       # 详细文档</span></span>
<span class="line"><span>├── examples.md        # 用法示例</span></span>
<span class="line"><span>└── scripts/</span></span>
<span class="line"><span>    └── helper.py      # 实用脚本</span></span></code></pre></div><h3 id="技能-vs-命令" tabindex="-1">技能 vs 命令 <a class="header-anchor" href="#技能-vs-命令" aria-label="Permalink to &quot;技能 vs 命令&quot;">​</a></h3><table tabindex="0"><thead><tr><th>方面</th><th>命令</th><th>技能</th></tr></thead><tbody><tr><td>调用</td><td>手动: <code>/command</code></td><td>自动</td></tr><tr><td>结构</td><td>单个 .md 文件</td><td>带资源的目录</td></tr><tr><td>复杂度</td><td>简单提示词</td><td>多步骤工作流</td></tr></tbody></table><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h2><h3 id="工作流-理解代码库" tabindex="-1">工作流：理解代码库 <a class="header-anchor" href="#工作流-理解代码库" aria-label="Permalink to &quot;工作流：理解代码库&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> overview of this codebase</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> what</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;s the architecture?</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&gt; where is authentication handled?</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&gt; explain key patterns</span></span></code></pre></div><h3 id="工作流-修复-bug" tabindex="-1">工作流：修复 Bug <a class="header-anchor" href="#工作流-修复-bug" aria-label="Permalink to &quot;工作流：修复 Bug&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> I</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;m seeing error: [paste error]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&gt; can you reproduce this?</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&gt; suggest fixes</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&gt; apply the best fix</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&gt; run tests</span></span></code></pre></div><h3 id="工作流-实现功能" tabindex="-1">工作流：实现功能 <a class="header-anchor" href="#工作流-实现功能" aria-label="Permalink to &quot;工作流：实现功能&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用计划模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --permission-mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plan</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Create plan </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OAuth2 authentication</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> What about backward compatibility</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 执行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Shift+Tab</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 退出计划模式</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Implement first step</span></span></code></pre></div><h3 id="工作流-代码审查" tabindex="-1">工作流：代码审查 <a class="header-anchor" href="#工作流-代码审查" aria-label="Permalink to &quot;工作流：代码审查&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> review my recent changes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> run linter</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> suggest performance improvements</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> security issues</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> add missing tests</span></span></code></pre></div><h3 id="工作流-创建-pr" tabindex="-1">工作流：创建 PR <a class="header-anchor" href="#工作流-创建-pr" aria-label="Permalink to &quot;工作流：创建 PR&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> summarize changes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> create pull request</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> add testing details</span></span></code></pre></div><h3 id="日常效率技巧" tabindex="-1">日常效率技巧 <a class="header-anchor" href="#日常效率技巧" aria-label="Permalink to &quot;日常效率技巧&quot;">​</a></h3><ol><li><strong>命名会话</strong>: <code>/rename feature-name</code></li><li><strong>快速查询</strong>: <code>claude -p &quot;quick question&quot;</code></li><li><strong>继续工作</strong>: <code>claude -c</code></li><li><strong>自定义命令</strong>: 构建 <code>.claude/commands/</code></li><li><strong>一次配置</strong>: 设置 <code>.claude/settings.json</code></li><li><strong>引用文件</strong>: 使用 <code>@file.js</code></li><li><strong>扩展思考</strong>: 输入 <code>ultrathink:</code> 处理复杂问题</li><li><strong>后台任务</strong>: <code>Ctrl+B</code> 用于长时间命令</li><li><strong>监控上下文</strong>: <code>Ctrl+O</code> 查看 Token 使用</li><li><strong>MCP 集成</strong>: 连接日常工具</li></ol><h2 id="高级特性" tabindex="-1">高级特性 <a class="header-anchor" href="#高级特性" aria-label="Permalink to &quot;高级特性&quot;">​</a></h2><h3 id="扩展思考-extended-thinking" tabindex="-1">扩展思考 (Extended Thinking) <a class="header-anchor" href="#扩展思考-extended-thinking" aria-label="Permalink to &quot;扩展思考 (Extended Thinking)&quot;">​</a></h3><p>为复杂问题启用深度推理：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在配置中启用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/config</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 切换 alwaysThinkingEnabled</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 单次请求</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ultrathink: design a caching layer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置 Token 预算</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MAX_THINKING_TOKENS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8000</span></span></code></pre></div><h3 id="子智能体-subagents" tabindex="-1">子智能体 (Subagents) <a class="header-anchor" href="#子智能体-subagents" aria-label="Permalink to &quot;子智能体 (Subagents)&quot;">​</a></h3><p>委托专门任务：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/agents</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 管理子智能体</span></span></code></pre></div><p><strong>内置:</strong></p><ul><li><strong>Explore</strong> - 快速代码库探索</li><li><strong>Plan</strong> - 规划研究</li><li><strong>General</strong> - 多步骤任务</li></ul><p><strong>创建自定义:</strong></p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># .claude/agents/reviewer.md</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name: code-reviewer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description: Security and quality reviewer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tools: Read, Grep, Glob</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">You are a senior code reviewer...</span></span></code></pre></div><h3 id="hooks-钩子" tabindex="-1">Hooks (钩子) <a class="header-anchor" href="#hooks-钩子" aria-label="Permalink to &quot;Hooks (钩子)&quot;">​</a></h3><p>围绕工具执行自动化操作：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/hooks</span></span></code></pre></div><p><strong>示例：编辑后自动格式化:</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;hooks&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;PostToolUse&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;matcher&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Edit|Write&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;hooks&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;command&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;command&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prettier --write </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$file_path</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="环境变量" tabindex="-1">环境变量 <a class="header-anchor" href="#环境变量" aria-label="Permalink to &quot;环境变量&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># SessionStart hook</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .claude/settings.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;hooks&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    &quot;SessionStart&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;hooks&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;command&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;command&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;source ~/.env &gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CLAUDE_ENV_FILE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="沙盒-sandboxing" tabindex="-1">沙盒 (Sandboxing) <a class="header-anchor" href="#沙盒-sandboxing" aria-label="Permalink to &quot;沙盒 (Sandboxing)&quot;">​</a></h3><p>在隔离环境中运行 Bash：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/sandbox</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 启用沙盒</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 命令在文件系统/网络隔离中运行</span></span></code></pre></div><h2 id="故障排除" tabindex="-1">故障排除 <a class="header-anchor" href="#故障排除" aria-label="Permalink to &quot;故障排除&quot;">​</a></h2><h3 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h3><p><strong>Claude 无响应:</strong></p><ul><li>检查网络连接</li><li>开启新对话</li><li>尝试 <code>-p</code> 模式</li><li>运行 <code>claude doctor</code></li></ul><p><strong>IDE 无法工作:</strong></p><ul><li>重启 IDE/重新加载窗口</li><li>确保在项目目录中</li><li>检查 <code>/ide</code> 输出</li></ul><p><strong>权限问题:</strong></p><ul><li>检查设置</li><li>清除缓存: <code>rm -rf ~/.claude.json</code></li><li>运行 <code>claude doctor</code></li></ul><p><strong>MCP 服务器失败:</strong></p><ul><li>验证 URL/地址</li><li>检查环境变量</li><li>认证: <code>/mcp</code></li></ul><h3 id="卸载" tabindex="-1">卸载 <a class="header-anchor" href="#卸载" aria-label="Permalink to &quot;卸载&quot;">​</a></h3><p><strong>原生安装:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.local/bin/claude</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.claude-code</span></span></code></pre></div><p><strong>Homebrew:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cask</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> claude-code</span></span></code></pre></div><p><strong>NPM:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @anthropic-ai/claude-code</span></span></code></pre></div><p><strong>清除所有配置:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.claude</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.claude.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .claude</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .mcp.json</span></span></code></pre></div><h2 id="资源" tabindex="-1">资源 <a class="header-anchor" href="#资源" aria-label="Permalink to &quot;资源&quot;">​</a></h2><ul><li><strong>官方文档</strong>: <a href="https://code.claude.com/docs" target="_blank" rel="noreferrer">https://code.claude.com/docs</a></li><li><strong>GitHub</strong>: <a href="https://github.com/anthropics/claude-code" target="_blank" rel="noreferrer">https://github.com/anthropics/claude-code</a></li><li><strong>MCP Registry</strong>: <a href="https://api.anthropic.com/mcp-registry" target="_blank" rel="noreferrer">https://api.anthropic.com/mcp-registry</a></li><li><strong>Agent SDK</strong>: <a href="https://platform.claude.com/docs/agent-sdk" target="_blank" rel="noreferrer">https://platform.claude.com/docs/agent-sdk</a></li></ul><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>Claude Code 是一个强大的 AI 编程助手，具有：</p><ol><li><strong>交互式开发</strong> - 自然对话</li><li><strong>IDE 集成</strong> - VS Code 和 JetBrains</li><li><strong>可扩展性</strong> - MCP, 技能, 自定义命令</li><li><strong>团队协作</strong> - 共享设置, 技能</li><li><strong>自动化</strong> - 无头模式, CI/CD</li><li><strong>上下文管理</strong> - 会话, 记忆, CLAUDE.md</li></ol><p><strong>从基础开始:</strong></p><ul><li><code>/config</code> 进行配置</li><li><code>-c</code> 恢复工作</li><li><code>@file</code> 引用代码</li><li><code>/rename</code> 组织会话</li><li>自定义命令用于工作流</li></ul><p><strong>进阶:</strong></p><ul><li>MCP 服务器用于集成</li><li>自定义技能用于专门工作流</li><li>Hooks 用于自动化</li><li>子智能体用于复杂任务</li><li>无头模式用于 CI/CD</li></ul><p>祝你使用 Claude 编程愉快！</p>`,213)])])}const y=i(e,[["render",l]]);export{u as __pageData,y as default};
