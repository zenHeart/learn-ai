var Az=Object.defineProperty;var Lz=(e,t,r)=>t in e?Az(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Le=(e,t,r)=>Lz(e,typeof t!="symbol"?t+"":t,r);import{a as wy,b as Rz,f as Iz}from"./cytoscape.C2CwDKBM.js";import{d as rn,a as Nz,b as $z,c as Oz,e as Dz}from"./dayjs.C32PoDnw.js";const Mz="modulepreload",Pz=function(e){return"/learn-ai/"+e},M3={},Ce=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Pz(l),l in M3)return;M3[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Mz,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gk(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const tr={},iu=[],Js=()=>{},IL=()=>!1,Jp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),mk=e=>e.startsWith("onUpdate:"),an=Object.assign,yk=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Bz=Object.prototype.hasOwnProperty,Ge=(e,t)=>Bz.call(e,t),fe=Array.isArray,su=e=>Sy(e)==="[object Map]",NL=e=>Sy(e)==="[object Set]",xe=e=>typeof e=="function",br=e=>typeof e=="string",Ja=e=>typeof e=="symbol",er=e=>e!==null&&typeof e=="object",$L=e=>(er(e)||xe(e))&&xe(e.then)&&xe(e.catch),OL=Object.prototype.toString,Sy=e=>OL.call(e),Fz=e=>Sy(e).slice(8,-1),DL=e=>Sy(e)==="[object Object]",Cy=e=>br(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,au=gk(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ey=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Vz=/-\w/g,Zi=Ey(e=>e.replace(Vz,t=>t.slice(1).toUpperCase())),zz=/\B([A-Z])/g,Uo=Ey(e=>e.replace(zz,"-$1").toLowerCase()),Ay=Ey(e=>e.charAt(0).toUpperCase()+e.slice(1)),F1=Ey(e=>e?`on${Ay(e)}`:""),ko=(e,t)=>!Object.is(e,t),V1=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},ML=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},xk=e=>{const t=parseFloat(e);return isNaN(t)?e:t},PL=e=>{const t=br(e)?Number(e):NaN;return isNaN(t)?e:t};let P3;const Ly=()=>P3||(P3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bk(e){if(fe(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=br(n)?Gz(n):bk(n);if(i)for(const s in i)t[s]=i[s]}return t}else if(br(e)||er(e))return e}const Wz=/;(?![^(]*\))/g,Uz=/:([^]+)/,Hz=/\/\*[^]*?\*\//g;function Gz(e){const t={};return e.replace(Hz,"").split(Wz).forEach(r=>{if(r){const n=r.split(Uz);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ry(e){let t="";if(br(e))t=e;else if(fe(e))for(let r=0;r<e.length;r++){const n=Ry(e[r]);n&&(t+=n+" ")}else if(er(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const qz="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jz=gk(qz);function BL(e){return!!e||e===""}const FL=e=>!!(e&&e.__v_isRef===!0),Yz=e=>br(e)?e:e==null?"":fe(e)||er(e)&&(e.toString===OL||!xe(e.toString))?FL(e)?Yz(e.value):JSON.stringify(e,VL,2):String(e),VL=(e,t)=>FL(t)?VL(e,t.value):su(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i],s)=>(r[Cx(n,s)+" =>"]=i,r),{})}:NL(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Cx(r))}:Ja(t)?Cx(t):er(t)&&!fe(t)&&!DL(t)?String(t):t,Cx=(e,t="")=>{var r;return Ja(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let An;class Xz{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=An,!t&&An&&(this.index=(An.scopes||(An.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=An;try{return An=this,t()}finally{An=r}}}on(){++this._on===1&&(this.prevScope=An,An=this)}off(){this._on>0&&--this._on===0&&(An=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function zL(){return An}function Kz(e,t=!1){An&&An.cleanups.push(e)}let sr;const Ex=new WeakSet;class WL{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,An&&An.active&&An.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ex.has(this)&&(Ex.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||HL(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,B3(this),GL(this);const t=sr,r=xs;sr=this,xs=!0;try{return this.fn()}finally{qL(this),sr=t,xs=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Tk(t);this.deps=this.depsTail=void 0,B3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ex.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xv(this)&&this.run()}get dirty(){return xv(this)}}let UL=0,zf,Wf;function HL(e,t=!1){if(e.flags|=8,t){e.next=Wf,Wf=e;return}e.next=zf,zf=e}function vk(){UL++}function _k(){if(--UL>0)return;if(Wf){let t=Wf;for(Wf=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;zf;){let t=zf;for(zf=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function GL(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function qL(e){let t,r=e.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),Tk(n),Qz(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=r}function xv(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(jL(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function jL(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===np)||(e.globalVersion=np,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!xv(e))))return;e.flags|=2;const t=e.dep,r=sr,n=xs;sr=e,xs=!0;try{GL(e);const i=e.fn(e._value);(t.version===0||ko(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{sr=r,xs=n,qL(e),e.flags&=-3}}function Tk(e,t=!1){const{dep:r,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)Tk(s,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Qz(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let xs=!0;const YL=[];function Wa(){YL.push(xs),xs=!1}function Ua(){const e=YL.pop();xs=e===void 0?!0:e}function B3(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=sr;sr=void 0;try{t()}finally{sr=r}}}let np=0;class Zz{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Iy{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!sr||!xs||sr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==sr)r=this.activeLink=new Zz(sr,this),sr.deps?(r.prevDep=sr.depsTail,sr.depsTail.nextDep=r,sr.depsTail=r):sr.deps=sr.depsTail=r,XL(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=sr.depsTail,r.nextDep=void 0,sr.depsTail.nextDep=r,sr.depsTail=r,sr.deps===r&&(sr.deps=n)}return r}trigger(t){this.version++,np++,this.notify(t)}notify(t){vk();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{_k()}}}function XL(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)XL(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const I0=new WeakMap,Il=Symbol(""),bv=Symbol(""),ip=Symbol("");function Rn(e,t,r){if(xs&&sr){let n=I0.get(e);n||I0.set(e,n=new Map);let i=n.get(r);i||(n.set(r,i=new Iy),i.map=n,i.key=r),i.track()}}function La(e,t,r,n,i,s){const a=I0.get(e);if(!a){np++;return}const o=l=>{l&&l.trigger()};if(vk(),t==="clear")a.forEach(o);else{const l=fe(e),u=l&&Cy(r);if(l&&r==="length"){const h=Number(n);a.forEach((d,f)=>{(f==="length"||f===ip||!Ja(f)&&f>=h)&&o(d)})}else switch((r!==void 0||a.has(void 0))&&o(a.get(r)),u&&o(a.get(ip)),t){case"add":l?u&&o(a.get("length")):(o(a.get(Il)),su(e)&&o(a.get(bv)));break;case"delete":l||(o(a.get(Il)),su(e)&&o(a.get(bv)));break;case"set":su(e)&&o(a.get(Il));break}}_k()}function Jz(e,t){const r=I0.get(e);return r&&r.get(t)}function Mc(e){const t=Me(e);return t===e?t:(Rn(t,"iterate",ip),wi(e)?t:t.map(Es))}function Ny(e){return Rn(e=Me(e),"iterate",ip),e}function ho(e,t){return Ha(e)?wo(e)?Th(Es(t)):Th(t):Es(t)}const tW={__proto__:null,[Symbol.iterator](){return Ax(this,Symbol.iterator,e=>ho(this,e))},concat(...e){return Mc(this).concat(...e.map(t=>fe(t)?Mc(t):t))},entries(){return Ax(this,"entries",e=>(e[1]=ho(this,e[1]),e))},every(e,t){return ga(this,"every",e,t,void 0,arguments)},filter(e,t){return ga(this,"filter",e,t,r=>r.map(n=>ho(this,n)),arguments)},find(e,t){return ga(this,"find",e,t,r=>ho(this,r),arguments)},findIndex(e,t){return ga(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ga(this,"findLast",e,t,r=>ho(this,r),arguments)},findLastIndex(e,t){return ga(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ga(this,"forEach",e,t,void 0,arguments)},includes(...e){return Lx(this,"includes",e)},indexOf(...e){return Lx(this,"indexOf",e)},join(e){return Mc(this).join(e)},lastIndexOf(...e){return Lx(this,"lastIndexOf",e)},map(e,t){return ga(this,"map",e,t,void 0,arguments)},pop(){return yd(this,"pop")},push(...e){return yd(this,"push",e)},reduce(e,...t){return F3(this,"reduce",e,t)},reduceRight(e,...t){return F3(this,"reduceRight",e,t)},shift(){return yd(this,"shift")},some(e,t){return ga(this,"some",e,t,void 0,arguments)},splice(...e){return yd(this,"splice",e)},toReversed(){return Mc(this).toReversed()},toSorted(e){return Mc(this).toSorted(e)},toSpliced(...e){return Mc(this).toSpliced(...e)},unshift(...e){return yd(this,"unshift",e)},values(){return Ax(this,"values",e=>ho(this,e))}};function Ax(e,t,r){const n=Ny(e),i=n[t]();return n!==e&&!wi(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=r(s.value)),s}),i}const eW=Array.prototype;function ga(e,t,r,n,i,s){const a=Ny(e),o=a!==e&&!wi(e),l=a[t];if(l!==eW[t]){const d=l.apply(e,s);return o?Es(d):d}let u=r;a!==e&&(o?u=function(d,f){return r.call(this,ho(e,d),f,e)}:r.length>2&&(u=function(d,f){return r.call(this,d,f,e)}));const h=l.call(a,u,n);return o&&i?i(h):h}function F3(e,t,r,n){const i=Ny(e);let s=r;return i!==e&&(wi(e)?r.length>3&&(s=function(a,o,l){return r.call(this,a,o,l,e)}):s=function(a,o,l){return r.call(this,a,ho(e,o),l,e)}),i[t](s,...n)}function Lx(e,t,r){const n=Me(e);Rn(n,"iterate",ip);const i=n[t](...r);return(i===-1||i===!1)&&$y(r[0])?(r[0]=Me(r[0]),n[t](...r)):i}function yd(e,t,r=[]){Wa(),vk();const n=Me(e)[t].apply(e,r);return _k(),Ua(),n}const rW=gk("__proto__,__v_isRef,__isVue"),KL=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ja));function nW(e){Ja(e)||(e=String(e));const t=Me(this);return Rn(t,"has",e),t.hasOwnProperty(e)}class QL{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?fW:eR:s?tR:JL).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=fe(t);if(!i){let l;if(a&&(l=tW[r]))return l;if(r==="hasOwnProperty")return nW}const o=Reflect.get(t,r,Mr(t)?t:n);if((Ja(r)?KL.has(r):rW(r))||(i||Rn(t,"get",r),s))return o;if(Mr(o)){const l=a&&Cy(r)?o:o.value;return i&&er(l)?sp(l):l}return er(o)?i?sp(o):_h(o):o}}class ZL extends QL{constructor(t=!1){super(!1,t)}set(t,r,n,i){let s=t[r];const a=fe(t)&&Cy(r);if(!this._isShallow){const u=Ha(s);if(!wi(n)&&!Ha(n)&&(s=Me(s),n=Me(n)),!a&&Mr(s)&&!Mr(n))return u||(s.value=n),!0}const o=a?Number(r)<t.length:Ge(t,r),l=Reflect.set(t,r,n,Mr(t)?t:i);return t===Me(i)&&(o?ko(n,s)&&La(t,"set",r,n):La(t,"add",r,n)),l}deleteProperty(t,r){const n=Ge(t,r);t[r];const i=Reflect.deleteProperty(t,r);return i&&n&&La(t,"delete",r,void 0),i}has(t,r){const n=Reflect.has(t,r);return(!Ja(r)||!KL.has(r))&&Rn(t,"has",r),n}ownKeys(t){return Rn(t,"iterate",fe(t)?"length":Il),Reflect.ownKeys(t)}}class iW extends QL{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const sW=new ZL,aW=new iW,oW=new ZL(!0);const vv=e=>e,Pg=e=>Reflect.getPrototypeOf(e);function lW(e,t,r){return function(...n){const i=this.__v_raw,s=Me(i),a=su(s),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=i[e](...n),h=r?vv:t?Th:Es;return!t&&Rn(s,"iterate",l?bv:Il),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:o?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function Bg(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function cW(e,t){const r={get(i){const s=this.__v_raw,a=Me(s),o=Me(i);e||(ko(i,o)&&Rn(a,"get",i),Rn(a,"get",o));const{has:l}=Pg(a),u=t?vv:e?Th:Es;if(l.call(a,i))return u(s.get(i));if(l.call(a,o))return u(s.get(o));s!==a&&s.get(i)},get size(){const i=this.__v_raw;return!e&&Rn(Me(i),"iterate",Il),i.size},has(i){const s=this.__v_raw,a=Me(s),o=Me(i);return e||(ko(i,o)&&Rn(a,"has",i),Rn(a,"has",o)),i===o?s.has(i):s.has(i)||s.has(o)},forEach(i,s){const a=this,o=a.__v_raw,l=Me(o),u=t?vv:e?Th:Es;return!e&&Rn(l,"iterate",Il),o.forEach((h,d)=>i.call(s,u(h),u(d),a))}};return an(r,e?{add:Bg("add"),set:Bg("set"),delete:Bg("delete"),clear:Bg("clear")}:{add(i){!t&&!wi(i)&&!Ha(i)&&(i=Me(i));const s=Me(this);return Pg(s).has.call(s,i)||(s.add(i),La(s,"add",i,i)),this},set(i,s){!t&&!wi(s)&&!Ha(s)&&(s=Me(s));const a=Me(this),{has:o,get:l}=Pg(a);let u=o.call(a,i);u||(i=Me(i),u=o.call(a,i));const h=l.call(a,i);return a.set(i,s),u?ko(s,h)&&La(a,"set",i,s):La(a,"add",i,s),this},delete(i){const s=Me(this),{has:a,get:o}=Pg(s);let l=a.call(s,i);l||(i=Me(i),l=a.call(s,i)),o&&o.call(s,i);const u=s.delete(i);return l&&La(s,"delete",i,void 0),u},clear(){const i=Me(this),s=i.size!==0,a=i.clear();return s&&La(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=lW(i,e,t)}),r}function kk(e,t){const r=cW(e,t);return(n,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ge(r,i)&&i in n?r:n,i,s)}const uW={get:kk(!1,!1)},hW={get:kk(!1,!0)},dW={get:kk(!0,!1)};const JL=new WeakMap,tR=new WeakMap,eR=new WeakMap,fW=new WeakMap;function pW(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gW(e){return e.__v_skip||!Object.isExtensible(e)?0:pW(Fz(e))}function _h(e){return Ha(e)?e:wk(e,!1,sW,uW,JL)}function mW(e){return wk(e,!1,oW,hW,tR)}function sp(e){return wk(e,!0,aW,dW,eR)}function wk(e,t,r,n,i){if(!er(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=gW(e);if(s===0)return e;const a=i.get(e);if(a)return a;const o=new Proxy(e,s===2?n:r);return i.set(e,o),o}function wo(e){return Ha(e)?wo(e.__v_raw):!!(e&&e.__v_isReactive)}function Ha(e){return!!(e&&e.__v_isReadonly)}function wi(e){return!!(e&&e.__v_isShallow)}function $y(e){return e?!!e.__v_raw:!1}function Me(e){const t=e&&e.__v_raw;return t?Me(t):e}function z1(e){return!Ge(e,"__v_skip")&&Object.isExtensible(e)&&ML(e,"__v_skip",!0),e}const Es=e=>er(e)?_h(e):e,Th=e=>er(e)?sp(e):e;function Mr(e){return e?e.__v_isRef===!0:!1}function So(e){return rR(e,!1)}function Ki(e){return rR(e,!0)}function rR(e,t){return Mr(e)?e:new yW(e,t)}class yW{constructor(t,r){this.dep=new Iy,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Me(t),this._value=r?t:Es(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||wi(t)||Ha(t);t=n?t:Me(t),ko(t,r)&&(this._rawValue=t,this._value=n?t:Es(t),this.dep.trigger())}}function Oy(e){return Mr(e)?e.value:e}function Er(e){return xe(e)?e():Oy(e)}const xW={get:(e,t,r)=>t==="__v_raw"?e:Oy(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return Mr(i)&&!Mr(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function nR(e){return wo(e)?e:new Proxy(e,xW)}class bW{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new Iy,{get:n,set:i}=t(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function vW(e){return new bW(e)}class _W{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=Me(t);let i=!0,s=t;if(!fe(t)||!Cy(String(r)))do i=!$y(s)||wi(s);while(i&&(s=s.__v_raw));this._shallow=i}get value(){let t=this._object[this._key];return this._shallow&&(t=Oy(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Mr(this._raw[this._key])){const r=this._object[this._key];if(Mr(r)){r.value=t;return}}this._object[this._key]=t}get dep(){return Jz(this._raw,this._key)}}class TW{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function kW(e,t,r){return Mr(e)?e:xe(e)?new TW(e):er(e)&&arguments.length>1?wW(e,t,r):So(e)}function wW(e,t,r){return new _W(e,t,r)}class SW{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new Iy(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=np-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&sr!==this)return HL(this,!0),!0}get value(){const t=this.dep.track();return jL(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function CW(e,t,r=!1){let n,i;return xe(e)?n=e:(n=e.get,i=e.set),new SW(n,i,r)}const Fg={},N0=new WeakMap;let gl;function EW(e,t=!1,r=gl){if(r){let n=N0.get(r);n||N0.set(r,n=[]),n.push(e)}}function AW(e,t,r=tr){const{immediate:n,deep:i,once:s,scheduler:a,augmentJob:o,call:l}=r,u=S=>i?S:wi(S)||i===!1||i===0?Ra(S,1):Ra(S);let h,d,f,p,m=!1,y=!1;if(Mr(e)?(d=()=>e.value,m=wi(e)):wo(e)?(d=()=>u(e),m=!0):fe(e)?(y=!0,m=e.some(S=>wo(S)||wi(S)),d=()=>e.map(S=>{if(Mr(S))return S.value;if(wo(S))return u(S);if(xe(S))return l?l(S,2):S()})):xe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){Wa();try{f()}finally{Ua()}}const S=gl;gl=h;try{return l?l(e,3,[p]):e(p)}finally{gl=S}}:d=Js,t&&i){const S=d,k=i===!0?1/0:i;d=()=>Ra(S(),k)}const b=zL(),x=()=>{h.stop(),b&&b.active&&yk(b.effects,h)};if(s&&t){const S=t;t=(...k)=>{S(...k),x()}}let v=y?new Array(e.length).fill(Fg):Fg;const _=S=>{if(!(!(h.flags&1)||!h.dirty&&!S))if(t){const k=h.run();if(i||m||(y?k.some((T,E)=>ko(T,v[E])):ko(k,v))){f&&f();const T=gl;gl=h;try{const E=[k,v===Fg?void 0:y&&v[0]===Fg?[]:v,p];v=k,l?l(t,3,E):t(...E)}finally{gl=T}}}else h.run()};return o&&o(_),h=new WL(d),h.scheduler=a?()=>a(_,!1):_,p=S=>EW(S,!1,h),f=h.onStop=()=>{const S=N0.get(h);if(S){if(l)l(S,4);else for(const k of S)k();N0.delete(h)}},t?n?_(!0):v=h.run():a?a(_.bind(null,!0),!0):h.run(),x.pause=h.pause.bind(h),x.resume=h.resume.bind(h),x.stop=x,x}function Ra(e,t=1/0,r){if(t<=0||!er(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,Mr(e))Ra(e.value,t,r);else if(fe(e))for(let n=0;n<e.length;n++)Ra(e[n],t,r);else if(NL(e)||su(e))e.forEach(n=>{Ra(n,t,r)});else if(DL(e)){for(const n in e)Ra(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Ra(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function tg(e,t,r,n){try{return n?e(...n):e()}catch(i){eg(i,t,r)}}function As(e,t,r,n){if(xe(e)){const i=tg(e,t,r,n);return i&&$L(i)&&i.catch(s=>{eg(s,t,r)}),i}if(fe(e)){const i=[];for(let s=0;s<e.length;s++)i.push(As(e[s],t,r,n));return i}}function eg(e,t,r,n=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||tr;if(t){let o=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const h=o.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,l,u)===!1)return}o=o.parent}if(s){Wa(),tg(s,null,10,[e,l,u]),Ua();return}}LW(e,r,i,n,a)}function LW(e,t,r,n=!0,i=!1){if(i)throw e;console.error(e)}const Hn=[];let Ws=-1;const ou=[];let fo=null,Hc=0;const iR=Promise.resolve();let $0=null;function Dy(e){const t=$0||iR;return e?t.then(this?e.bind(this):e):t}function RW(e){let t=Ws+1,r=Hn.length;for(;t<r;){const n=t+r>>>1,i=Hn[n],s=ap(i);s<e||s===e&&i.flags&2?t=n+1:r=n}return t}function Sk(e){if(!(e.flags&1)){const t=ap(e),r=Hn[Hn.length-1];!r||!(e.flags&2)&&t>=ap(r)?Hn.push(e):Hn.splice(RW(t),0,e),e.flags|=1,sR()}}function sR(){$0||($0=iR.then(aR))}function _v(e){fe(e)?ou.push(...e):fo&&e.id===-1?fo.splice(Hc+1,0,e):e.flags&1||(ou.push(e),e.flags|=1),sR()}function V3(e,t,r=Ws+1){for(;r<Hn.length;r++){const n=Hn[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Hn.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function O0(e){if(ou.length){const t=[...new Set(ou)].sort((r,n)=>ap(r)-ap(n));if(ou.length=0,fo){fo.push(...t);return}for(fo=t,Hc=0;Hc<fo.length;Hc++){const r=fo[Hc];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}fo=null,Hc=0}}const ap=e=>e.id==null?e.flags&2?-1:1/0:e.id;function aR(e){try{for(Ws=0;Ws<Hn.length;Ws++){const t=Hn[Ws];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),tg(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ws<Hn.length;Ws++){const t=Hn[Ws];t&&(t.flags&=-2)}Ws=-1,Hn.length=0,O0(),$0=null,(Hn.length||ou.length)&&aR()}}let mn=null,oR=null;function D0(e){const t=mn;return mn=e,oR=e&&e.type.__scopeId||null,t}function IW(e,t=mn,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&B0(-1);const s=D0(t);let a;try{a=e(...i)}finally{D0(s),n._d&&B0(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function ELt(e,t){if(mn===null)return e;const r=Wy(mn),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,o,l=tr]=t[i];s&&(xe(s)&&(s={mounted:s,updated:s}),s.deep&&Ra(a),n.push({dir:s,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return e}function Hs(e,t,r,n){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[n];l&&(Wa(),As(l,r,8,[e.el,o,e,t]),Ua())}}function NW(e,t){if(Nn){let r=Nn.provides;const n=Nn.parent&&Nn.parent.provides;n===r&&(r=Nn.provides=Object.create(n)),r[e]=t}}function Nl(e,t,r=!1){const n=uc();if(n||Ol){let i=Ol?Ol._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return r&&xe(t)?t.call(n&&n.proxy):t}}function lR(){return!!(uc()||Ol)}const $W=Symbol.for("v-scx"),OW=()=>Nl($W);function DW(e,t){return My(e,null,t)}function ALt(e,t){return My(e,null,{flush:"post"})}function bs(e,t,r){return My(e,t,r)}function My(e,t,r=tr){const{immediate:n,deep:i,flush:s,once:a}=r,o=an({},r),l=t&&n||!t&&s!=="post";let u;if(up){if(s==="sync"){const p=OW();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Js,p.resume=Js,p.pause=Js,p}}const h=Nn;o.call=(p,m,y)=>As(p,h,m,y);let d=!1;s==="post"?o.scheduler=p=>{si(p,h&&h.suspense)}:s!=="sync"&&(d=!0,o.scheduler=(p,m)=>{m?p():Sk(p)}),o.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,h&&(p.id=h.uid,p.i=h))};const f=AW(e,t,o);return up&&(u?u.push(f):l&&f()),f}function MW(e,t,r){const n=this.proxy,i=br(e)?e.includes(".")?cR(n,e):()=>n[e]:e.bind(n,n);let s;xe(t)?s=t:(s=t.handler,r=t);const a=ng(this),o=My(i,s.bind(n),r);return a(),o}function cR(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const PW=Symbol("_vte"),uR=e=>e.__isTeleport,Ca=Symbol("_leaveCb"),Vg=Symbol("_enterCb");function BW(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rg(()=>{e.isMounted=!0}),xR(()=>{e.isUnmounting=!0}),e}const Bi=[Function,Array],hR={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Bi,onEnter:Bi,onAfterEnter:Bi,onEnterCancelled:Bi,onBeforeLeave:Bi,onLeave:Bi,onAfterLeave:Bi,onLeaveCancelled:Bi,onBeforeAppear:Bi,onAppear:Bi,onAfterAppear:Bi,onAppearCancelled:Bi},dR=e=>{const t=e.subTree;return t.component?dR(t.component):t},FW={name:"BaseTransition",props:hR,setup(e,{slots:t}){const r=uc(),n=BW();return()=>{const i=t.default&&gR(t.default(),!0);if(!i||!i.length)return;const s=fR(i),a=Me(e),{mode:o}=a;if(n.isLeaving)return Rx(s);const l=z3(s);if(!l)return Rx(s);let u=Tv(l,a,n,r,d=>u=d);l.type!==jr&&op(l,u);let h=r.subTree&&z3(r.subTree);if(h&&h.type!==jr&&!Ys(h,l)&&dR(r).type!==jr){let d=Tv(h,a,n,r);if(op(h,d),o==="out-in"&&l.type!==jr)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,h=void 0},Rx(s);o==="in-out"&&l.type!==jr?d.delayLeave=(f,p,m)=>{const y=pR(n,h);y[String(h.key)]=h,f[Ca]=()=>{p(),f[Ca]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return s}}};function fR(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==jr){t=r;break}}return t}const VW=FW;function pR(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Tv(e,t,r,n,i){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:y,onBeforeAppear:b,onAppear:x,onAfterAppear:v,onAppearCancelled:_}=t,S=String(e.key),k=pR(r,e),T=(C,R)=>{C&&As(C,n,9,R)},E=(C,R)=>{const w=R[1];T(C,R),fe(C)?C.every($=>$.length<=1)&&w():C.length<=1&&w()},I={mode:a,persisted:o,beforeEnter(C){let R=l;if(!r.isMounted)if(s)R=b||l;else return;C[Ca]&&C[Ca](!0);const w=k[S];w&&Ys(e,w)&&w.el[Ca]&&w.el[Ca](),T(R,[C])},enter(C){let R=u,w=h,$=d;if(!r.isMounted)if(s)R=x||u,w=v||h,$=_||d;else return;let A=!1;const L=C[Vg]=N=>{A||(A=!0,N?T($,[C]):T(w,[C]),I.delayedLeave&&I.delayedLeave(),C[Vg]=void 0)};R?E(R,[C,L]):L()},leave(C,R){const w=String(e.key);if(C[Vg]&&C[Vg](!0),r.isUnmounting)return R();T(f,[C]);let $=!1;const A=C[Ca]=L=>{$||($=!0,R(),L?T(y,[C]):T(m,[C]),C[Ca]=void 0,k[w]===e&&delete k[w])};k[w]=e,p?E(p,[C,A]):A()},clone(C){const R=Tv(C,t,r,n,i);return i&&i(R),R}};return I}function Rx(e){if(Py(e))return e=Lo(e),e.children=null,e}function z3(e){if(!Py(e))return uR(e.type)&&e.children?fR(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&xe(r.default))return r.default()}}function op(e,t){e.shapeFlag&6&&e.component?(e.transition=t,op(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function gR(e,t=!1,r){let n=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===In?(a.patchFlag&128&&i++,n=n.concat(gR(a.children,t,o))):(t||a.type!==jr)&&n.push(o!=null?Lo(a,{key:o}):a)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function zW(e,t){return xe(e)?an({name:e.name},t,{setup:e}):e}function mR(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const M0=new WeakMap;function lu(e,t,r,n,i=!1){if(fe(e)){e.forEach((m,y)=>lu(m,t&&(fe(t)?t[y]:t),r,n,i));return}if($l(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&lu(e,t,r,n.component.subTree);return}const s=n.shapeFlag&4?Wy(n.component):n.el,a=i?null:s,{i:o,r:l}=e,u=t&&t.r,h=o.refs===tr?o.refs={}:o.refs,d=o.setupState,f=Me(d),p=d===tr?IL:m=>Ge(f,m);if(u!=null&&u!==l){if(W3(t),br(u))h[u]=null,p(u)&&(d[u]=null);else if(Mr(u)){u.value=null;const m=t;m.k&&(h[m.k]=null)}}if(xe(l))tg(l,o,12,[a,h]);else{const m=br(l),y=Mr(l);if(m||y){const b=()=>{if(e.f){const x=m?p(l)?d[l]:h[l]:l.value;if(i)fe(x)&&yk(x,s);else if(fe(x))x.includes(s)||x.push(s);else if(m)h[l]=[s],p(l)&&(d[l]=h[l]);else{const v=[s];l.value=v,e.k&&(h[e.k]=v)}}else m?(h[l]=a,p(l)&&(d[l]=a)):y&&(l.value=a,e.k&&(h[e.k]=a))};if(a){const x=()=>{b(),M0.delete(e)};x.id=-1,M0.set(e,x),si(x,r)}else W3(e),b()}}}function W3(e){const t=M0.get(e);t&&(t.flags|=8,M0.delete(e))}let U3=!1;const Pc=()=>{U3||(console.error("Hydration completed but contains mismatches."),U3=!0)},WW=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",UW=e=>e.namespaceURI.includes("MathML"),zg=e=>{if(e.nodeType===1){if(WW(e))return"svg";if(UW(e))return"mathml"}},Wg=e=>e.nodeType===8;function HW(e){const{mt:t,p:r,o:{patchProp:n,createText:i,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:u}}=e,h=(_,S)=>{if(!S.hasChildNodes()){r(null,_,S),O0(),S._vnode=_;return}d(S.firstChild,_,null,null,null),O0(),S._vnode=_},d=(_,S,k,T,E,I=!1)=>{I=I||!!S.dynamicChildren;const C=Wg(_)&&_.data==="[",R=()=>y(_,S,k,T,E,C),{type:w,ref:$,shapeFlag:A,patchFlag:L}=S;let N=_.nodeType;S.el=_,L===-2&&(I=!1,S.dynamicChildren=null);let D=null;switch(w){case Dl:N!==3?S.children===""?(l(S.el=i(""),a(_),_),D=_):D=R():(_.data!==S.children&&(Pc(),_.data=S.children),D=s(_));break;case jr:v(_)?(D=s(_),x(S.el=_.content.firstChild,_,k)):N!==8||C?D=R():D=s(_);break;case Hf:if(C&&(_=s(_),N=_.nodeType),N===1||N===3){D=_;const P=!S.children.length;for(let O=0;O<S.staticCount;O++)P&&(S.children+=D.nodeType===1?D.outerHTML:D.data),O===S.staticCount-1&&(S.anchor=D),D=s(D);return C?s(D):D}else R();break;case In:C?D=m(_,S,k,T,E,I):D=R();break;default:if(A&1)(N!==1||S.type.toLowerCase()!==_.tagName.toLowerCase())&&!v(_)?D=R():D=f(_,S,k,T,E,I);else if(A&6){S.slotScopeIds=E;const P=a(_);if(C?D=b(_):Wg(_)&&_.data==="teleport start"?D=b(_,_.data,"teleport end"):D=s(_),t(S,P,null,k,T,zg(P),I),$l(S)&&!S.type.__asyncResolved){let O;C?(O=nn(In),O.anchor=D?D.previousSibling:P.lastChild):O=_.nodeType===3?qR(""):nn("div"),O.el=_,S.component.subTree=O}}else A&64?N!==8?D=R():D=S.type.hydrate(_,S,k,T,E,I,e,p):A&128&&(D=S.type.hydrate(_,S,k,T,zg(a(_)),E,I,e,d))}return $!=null&&lu($,null,T,S),D},f=(_,S,k,T,E,I)=>{I=I||!!S.dynamicChildren;const{type:C,props:R,patchFlag:w,shapeFlag:$,dirs:A,transition:L}=S,N=C==="input"||C==="option";if(N||w!==-1){A&&Hs(S,null,k,"created");let D=!1;if(v(_)){D=DR(null,L)&&k&&k.vnode.props&&k.vnode.props.appear;const O=_.content.firstChild;if(D){const M=O.getAttribute("class");M&&(O.$cls=M),L.beforeEnter(O)}x(O,_,k),S.el=_=O}if($&16&&!(R&&(R.innerHTML||R.textContent))){let O=p(_.firstChild,S,_,k,T,E,I);for(;O;){Ug(_,1)||Pc();const M=O;O=O.nextSibling,o(M)}}else if($&8){let O=S.children;O[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(O=O.slice(1));const{textContent:M}=_;M!==O&&M!==O.replace(/\r\n|\r/g,`
`)&&(Ug(_,0)||Pc(),_.textContent=S.children)}if(R){if(N||!I||w&48){const O=_.tagName.includes("-");for(const M in R)(N&&(M.endsWith("value")||M==="indeterminate")||Jp(M)&&!au(M)||M[0]==="."||O)&&n(_,M,null,R[M],void 0,k)}else if(R.onClick)n(_,"onClick",null,R.onClick,void 0,k);else if(w&4&&wo(R.style))for(const O in R.style)R.style[O]}let P;(P=R&&R.onVnodeBeforeMount)&&zi(P,k,S),A&&Hs(S,null,k,"beforeMount"),((P=R&&R.onVnodeMounted)||A||D)&&zR(()=>{P&&zi(P,k,S),D&&L.enter(_),A&&Hs(S,null,k,"mounted")},T)}return _.nextSibling},p=(_,S,k,T,E,I,C)=>{C=C||!!S.dynamicChildren;const R=S.children,w=R.length;for(let $=0;$<w;$++){const A=C?R[$]:R[$]=_i(R[$]),L=A.type===Dl;_?(L&&!C&&$+1<w&&_i(R[$+1]).type===Dl&&(l(i(_.data.slice(A.children.length)),k,s(_)),_.data=A.children),_=d(_,A,T,E,I,C)):L&&!A.children?l(A.el=i(""),k):(Ug(k,1)||Pc(),r(null,A,k,null,T,E,zg(k),I))}return _},m=(_,S,k,T,E,I)=>{const{slotScopeIds:C}=S;C&&(E=E?E.concat(C):C);const R=a(_),w=p(s(_),S,R,k,T,E,I);return w&&Wg(w)&&w.data==="]"?s(S.anchor=w):(Pc(),l(S.anchor=u("]"),R,w),w)},y=(_,S,k,T,E,I)=>{if(Ug(_.parentElement,1)||Pc(),S.el=null,I){const w=b(_);for(;;){const $=s(_);if($&&$!==w)o($);else break}}const C=s(_),R=a(_);return o(_),r(null,S,R,C,k,T,zg(R),E),k&&(k.vnode.el=S.el,zy(k,S.el)),C},b=(_,S="[",k="]")=>{let T=0;for(;_;)if(_=s(_),_&&Wg(_)&&(_.data===S&&T++,_.data===k)){if(T===0)return s(_);T--}return _},x=(_,S,k)=>{const T=S.parentNode;T&&T.replaceChild(_,S);let E=k;for(;E;)E.vnode.el===S&&(E.vnode.el=E.subTree.el=_),E=E.parent},v=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[h,d]}const H3="data-allow-mismatch",GW={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ug(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(H3);)e=e.parentElement;const r=e&&e.getAttribute(H3);if(r==null)return!1;if(r==="")return!0;{const n=r.split(",");return t===0&&n.includes("children")?!0:n.includes(GW[t])}}Ly().requestIdleCallback;Ly().cancelIdleCallback;const $l=e=>!!e.type.__asyncLoader,Py=e=>e.type.__isKeepAlive;function qW(e,t){yR(e,"a",t)}function jW(e,t){yR(e,"da",t)}function yR(e,t,r=Nn){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(By(t,n,r),r){let i=r.parent;for(;i&&i.parent;)Py(i.parent.vnode)&&YW(n,t,r,i),i=i.parent}}function YW(e,t,r,n){const i=By(t,e,n,!0);Fy(()=>{yk(n[t],i)},r)}function By(e,t,r=Nn,n=!1){if(r){const i=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...a)=>{Wa();const o=ng(r),l=As(t,r,e,a);return o(),Ua(),l});return n?i.unshift(s):i.push(s),s}}const to=e=>(t,r=Nn)=>{(!up||e==="sp")&&By(e,(...n)=>t(...n),r)},XW=to("bm"),rg=to("m"),KW=to("bu"),QW=to("u"),xR=to("bum"),Fy=to("um"),ZW=to("sp"),JW=to("rtg"),tU=to("rtc");function eU(e,t=Nn){By("ec",e,t)}const bR="components";function LLt(e,t){return _R(bR,e,!0,t)||e}const vR=Symbol.for("v-ndc");function RLt(e){return br(e)?_R(bR,e,!1)||e:e||vR}function _R(e,t,r=!0,n=!1){const i=mn||Nn;if(i){const s=i.type;{const o=UU(s,!1);if(o&&(o===t||o===Zi(t)||o===Ay(Zi(t))))return s}const a=G3(i[e]||s[e],t)||G3(i.appContext[e],t);return!a&&n?s:a}}function G3(e,t){return e&&(e[t]||e[Zi(t)]||e[Ay(Zi(t))])}function ILt(e,t,r,n){let i;const s=r,a=fe(e);if(a||br(e)){const o=a&&wo(e);let l=!1,u=!1;o&&(l=!wi(e),u=Ha(e),e=Ny(e)),i=new Array(e.length);for(let h=0,d=e.length;h<d;h++)i[h]=t(l?u?Th(Es(e[h])):Es(e[h]):e[h],h,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,s)}else if(er(e))if(e[Symbol.iterator])i=Array.from(e,(o,l)=>t(o,l,void 0,s));else{const o=Object.keys(e);i=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const h=o[l];i[l]=t(e[h],h,l,s)}}else i=[];return i}function NLt(e,t,r={},n,i){if(mn.ce||mn.parent&&$l(mn.parent)&&mn.parent.ce){const u=Object.keys(r).length>0;return t!=="default"&&(r.name=t),cp(),Av(In,null,[nn("slot",r,n&&n())],u?-2:64)}let s=e[t];s&&s._c&&(s._d=!1),cp();const a=s&&TR(s(r)),o=r.key||a&&a.key,l=Av(In,{key:(o&&!Ja(o)?o:`_${t}`)+(!a&&n?"_fb":"")},a||(n?n():[]),a&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function TR(e){return e.some(t=>wh(t)?!(t.type===jr||t.type===In&&!TR(t.children)):!0)?e:null}function $Lt(e,t){const r={};for(const n in e)r[/[A-Z]/.test(n)?`on:${n}`:F1(n)]=e[n];return r}const kv=e=>e?jR(e)?Wy(e):kv(e.parent):null,Uf=an(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kv(e.parent),$root:e=>kv(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wR(e),$forceUpdate:e=>e.f||(e.f=()=>{Sk(e.update)}),$nextTick:e=>e.n||(e.n=Dy.bind(e.proxy)),$watch:e=>MW.bind(e)}),Ix=(e,t)=>e!==tr&&!e.__isScriptSetup&&Ge(e,t),rU={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:a,type:o,appContext:l}=e;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return s[t]}else{if(Ix(n,t))return a[t]=1,n[t];if(i!==tr&&Ge(i,t))return a[t]=2,i[t];if(Ge(s,t))return a[t]=3,s[t];if(r!==tr&&Ge(r,t))return a[t]=4,r[t];wv&&(a[t]=0)}}const u=Uf[t];let h,d;if(u)return t==="$attrs"&&Rn(e.attrs,"get",""),u(e);if((h=o.__cssModules)&&(h=h[t]))return h;if(r!==tr&&Ge(r,t))return a[t]=4,r[t];if(d=l.config.globalProperties,Ge(d,t))return d[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:s}=e;return Ix(i,t)?(i[t]=r,!0):n!==tr&&Ge(n,t)?(n[t]=r,!0):Ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,props:s,type:a}},o){let l;return!!(r[o]||e!==tr&&o[0]!=="$"&&Ge(e,o)||Ix(t,o)||Ge(s,o)||Ge(n,o)||Ge(Uf,o)||Ge(i.config.globalProperties,o)||(l=a.__cssModules)&&l[o])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ge(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function OLt(){return nU().slots}function nU(e){const t=uc();return t.setupContext||(t.setupContext=XR(t))}function q3(e){return fe(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let wv=!0;function iU(e){const t=wR(e),r=e.proxy,n=e.ctx;wv=!1,t.beforeCreate&&j3(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:h,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:y,deactivated:b,beforeDestroy:x,beforeUnmount:v,destroyed:_,unmounted:S,render:k,renderTracked:T,renderTriggered:E,errorCaptured:I,serverPrefetch:C,expose:R,inheritAttrs:w,components:$,directives:A,filters:L}=t;if(u&&sU(u,n,null),a)for(const P in a){const O=a[P];xe(O)&&(n[P]=O.bind(r))}if(i){const P=i.call(r,r);er(P)&&(e.data=_h(P))}if(wv=!0,s)for(const P in s){const O=s[P],M=xe(O)?O.bind(r,r):xe(O.get)?O.get.bind(r,r):Js,Y=!xe(O)&&xe(O.set)?O.set.bind(r):Js,F=fr({get:M,set:Y});Object.defineProperty(n,P,{enumerable:!0,configurable:!0,get:()=>F.value,set:j=>F.value=j})}if(o)for(const P in o)kR(o[P],n,r,P);if(l){const P=xe(l)?l.call(r):l;Reflect.ownKeys(P).forEach(O=>{NW(O,P[O])})}h&&j3(h,e,"c");function D(P,O){fe(O)?O.forEach(M=>P(M.bind(r))):O&&P(O.bind(r))}if(D(XW,d),D(rg,f),D(KW,p),D(QW,m),D(qW,y),D(jW,b),D(eU,I),D(tU,T),D(JW,E),D(xR,v),D(Fy,S),D(ZW,C),fe(R))if(R.length){const P=e.exposed||(e.exposed={});R.forEach(O=>{Object.defineProperty(P,O,{get:()=>r[O],set:M=>r[O]=M,enumerable:!0})})}else e.exposed||(e.exposed={});k&&e.render===Js&&(e.render=k),w!=null&&(e.inheritAttrs=w),$&&(e.components=$),A&&(e.directives=A),C&&mR(e)}function sU(e,t,r=Js){fe(e)&&(e=Sv(e));for(const n in e){const i=e[n];let s;er(i)?"default"in i?s=Nl(i.from||n,i.default,!0):s=Nl(i.from||n):s=Nl(i),Mr(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[n]=s}}function j3(e,t,r){As(fe(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function kR(e,t,r,n){let i=n.includes(".")?cR(r,n):()=>r[n];if(br(e)){const s=t[e];xe(s)&&bs(i,s)}else if(xe(e))bs(i,e.bind(r));else if(er(e))if(fe(e))e.forEach(s=>kR(s,t,r,n));else{const s=xe(e.handler)?e.handler.bind(r):t[e.handler];xe(s)&&bs(i,s,e)}}function wR(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let l;return o?l=o:!i.length&&!r&&!n?l=t:(l={},i.length&&i.forEach(u=>P0(l,u,a,!0)),P0(l,t,a)),er(t)&&s.set(t,l),l}function P0(e,t,r,n=!1){const{mixins:i,extends:s}=t;s&&P0(e,s,r,!0),i&&i.forEach(a=>P0(e,a,r,!0));for(const a in t)if(!(n&&a==="expose")){const o=aU[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const aU={data:Y3,props:X3,emits:X3,methods:zd,computed:zd,beforeCreate:Wn,created:Wn,beforeMount:Wn,mounted:Wn,beforeUpdate:Wn,updated:Wn,beforeDestroy:Wn,beforeUnmount:Wn,destroyed:Wn,unmounted:Wn,activated:Wn,deactivated:Wn,errorCaptured:Wn,serverPrefetch:Wn,components:zd,directives:zd,watch:lU,provide:Y3,inject:oU};function Y3(e,t){return t?e?function(){return an(xe(e)?e.call(this,this):e,xe(t)?t.call(this,this):t)}:t:e}function oU(e,t){return zd(Sv(e),Sv(t))}function Sv(e){if(fe(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Wn(e,t){return e?[...new Set([].concat(e,t))]:t}function zd(e,t){return e?an(Object.create(null),e,t):t}function X3(e,t){return e?fe(e)&&fe(t)?[...new Set([...e,...t])]:an(Object.create(null),q3(e),q3(t??{})):t}function lU(e,t){if(!e)return t;if(!t)return e;const r=an(Object.create(null),e);for(const n in t)r[n]=Wn(e[n],t[n]);return r}function SR(){return{app:null,config:{isNativeTag:IL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cU=0;function uU(e,t){return function(n,i=null){xe(n)||(n=an({},n)),i!=null&&!er(i)&&(i=null);const s=SR(),a=new WeakSet,o=[];let l=!1;const u=s.app={_uid:cU++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:GU,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&xe(h.install)?(a.add(h),h.install(u,...d)):xe(h)&&(a.add(h),h(u,...d))),u},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),u},component(h,d){return d?(s.components[h]=d,u):s.components[h]},directive(h,d){return d?(s.directives[h]=d,u):s.directives[h]},mount(h,d,f){if(!l){const p=u._ceVNode||nn(n,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(p,h):e(p,h,f),l=!0,u._container=h,h.__vue_app__=u,Wy(p.component)}},onUnmount(h){o.push(h)},unmount(){l&&(As(o,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(h,d){return s.provides[h]=d,u},runWithContext(h){const d=Ol;Ol=u;try{return h()}finally{Ol=d}}};return u}}let Ol=null;const hU=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Zi(t)}Modifiers`]||e[`${Uo(t)}Modifiers`];function dU(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||tr;let i=r;const s=t.startsWith("update:"),a=s&&hU(n,t.slice(7));a&&(a.trim&&(i=r.map(h=>br(h)?h.trim():h)),a.number&&(i=r.map(xk)));let o,l=n[o=F1(t)]||n[o=F1(Zi(t))];!l&&s&&(l=n[o=F1(Uo(t))]),l&&As(l,e,6,i);const u=n[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,As(u,e,6,i)}}const fU=new WeakMap;function CR(e,t,r=!1){const n=r?fU:t.emitsCache,i=n.get(e);if(i!==void 0)return i;const s=e.emits;let a={},o=!1;if(!xe(e)){const l=u=>{const h=CR(u,t,!0);h&&(o=!0,an(a,h))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!o?(er(e)&&n.set(e,null),null):(fe(s)?s.forEach(l=>a[l]=null):an(a,s),er(e)&&n.set(e,a),a)}function Vy(e,t){return!e||!Jp(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ge(e,t[0].toLowerCase()+t.slice(1))||Ge(e,Uo(t))||Ge(e,t))}function Nx(e){const{type:t,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:h,props:d,data:f,setupState:p,ctx:m,inheritAttrs:y}=e,b=D0(e);let x,v;try{if(r.shapeFlag&4){const S=i||n,k=S;x=_i(u.call(k,S,h,d,p,f,m)),v=o}else{const S=t;x=_i(S.length>1?S(d,{attrs:o,slots:a,emit:l}):S(d,null)),v=t.props?o:gU(o)}}catch(S){Gf.length=0,eg(S,e,1),x=nn(jr)}let _=x;if(v&&y!==!1){const S=Object.keys(v),{shapeFlag:k}=_;S.length&&k&7&&(s&&S.some(mk)&&(v=mU(v,s)),_=Lo(_,v,!1,!0))}return r.dirs&&(_=Lo(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&op(_,r.transition),x=_,D0(b),x}function pU(e,t=!0){let r;for(let n=0;n<e.length;n++){const i=e[n];if(wh(i)){if(i.type!==jr||i.children==="v-if"){if(r)return;r=i}}else return}return r}const gU=e=>{let t;for(const r in e)(r==="class"||r==="style"||Jp(r))&&((t||(t={}))[r]=e[r]);return t},mU=(e,t)=>{const r={};for(const n in e)(!mk(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function yU(e,t,r){const{props:n,children:i,component:s}=e,{props:a,children:o,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?K3(n,a,u):!!a;if(l&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(a[f]!==n[f]&&!Vy(u,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?K3(n,a,u):!0:!!a;return!1}function K3(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(t[s]!==e[s]&&!Vy(r,s))return!0}return!1}function zy({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const ER={},AR=()=>Object.create(ER),LR=e=>Object.getPrototypeOf(e)===ER;function xU(e,t,r,n=!1){const i={},s=AR();e.propsDefaults=Object.create(null),RR(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);r?e.props=n?i:mW(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function bU(e,t,r,n){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,o=Me(i),[l]=e.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(Vy(e.emitsOptions,f))continue;const p=t[f];if(l)if(Ge(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const m=Zi(f);i[m]=Cv(l,o,m,p,e,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{RR(e,t,i,s)&&(u=!0);let h;for(const d in o)(!t||!Ge(t,d)&&((h=Uo(d))===d||!Ge(t,h)))&&(l?r&&(r[d]!==void 0||r[h]!==void 0)&&(i[d]=Cv(l,o,d,void 0,e,!0)):delete i[d]);if(s!==o)for(const d in s)(!t||!Ge(t,d))&&(delete s[d],u=!0)}u&&La(e.attrs,"set","")}function RR(e,t,r,n){const[i,s]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(au(l))continue;const u=t[l];let h;i&&Ge(i,h=Zi(l))?!s||!s.includes(h)?r[h]=u:(o||(o={}))[h]=u:Vy(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,a=!0)}if(s){const l=Me(r),u=o||tr;for(let h=0;h<s.length;h++){const d=s[h];r[d]=Cv(i,l,d,u[d],e,!Ge(u,d))}}return a}function Cv(e,t,r,n,i,s){const a=e[r];if(a!=null){const o=Ge(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&xe(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const h=ng(i);n=u[r]=l.call(null,t),h()}}else n=l;i.ce&&i.ce._setProp(r,n)}a[0]&&(s&&!o?n=!1:a[1]&&(n===""||n===Uo(r))&&(n=!0))}return n}const vU=new WeakMap;function IR(e,t,r=!1){const n=r?vU:t.propsCache,i=n.get(e);if(i)return i;const s=e.props,a={},o=[];let l=!1;if(!xe(e)){const h=d=>{l=!0;const[f,p]=IR(d,t,!0);an(a,f),p&&o.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!s&&!l)return er(e)&&n.set(e,iu),iu;if(fe(s))for(let h=0;h<s.length;h++){const d=Zi(s[h]);Q3(d)&&(a[d]=tr)}else if(s)for(const h in s){const d=Zi(h);if(Q3(d)){const f=s[h],p=a[d]=fe(f)||xe(f)?{type:f}:an({},f),m=p.type;let y=!1,b=!0;if(fe(m))for(let x=0;x<m.length;++x){const v=m[x],_=xe(v)&&v.name;if(_==="Boolean"){y=!0;break}else _==="String"&&(b=!1)}else y=xe(m)&&m.name==="Boolean";p[0]=y,p[1]=b,(y||Ge(p,"default"))&&o.push(d)}}const u=[a,o];return er(e)&&n.set(e,u),u}function Q3(e){return e[0]!=="$"&&!au(e)}const Ck=e=>e==="_"||e==="_ctx"||e==="$stable",Ek=e=>fe(e)?e.map(_i):[_i(e)],_U=(e,t,r)=>{if(t._n)return t;const n=IW((...i)=>Ek(t(...i)),r);return n._c=!1,n},NR=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Ck(i))continue;const s=e[i];if(xe(s))t[i]=_U(i,s,n);else if(s!=null){const a=Ek(s);t[i]=()=>a}}},$R=(e,t)=>{const r=Ek(t);e.slots.default=()=>r},OR=(e,t,r)=>{for(const n in t)(r||!Ck(n))&&(e[n]=t[n])},TU=(e,t,r)=>{const n=e.slots=AR();if(e.vnode.shapeFlag&32){const i=t._;i?(OR(n,t,r),r&&ML(n,"_",i,!0)):NR(t,n)}else t&&$R(e,t)},kU=(e,t,r)=>{const{vnode:n,slots:i}=e;let s=!0,a=tr;if(n.shapeFlag&32){const o=t._;o?r&&o===1?s=!1:OR(i,t,r):(s=!t.$stable,NR(t,i)),a=t}else t&&($R(e,t),a={default:1});if(s)for(const o in i)!Ck(o)&&a[o]==null&&delete i[o]},si=zR;function wU(e){return SU(e,HW)}function SU(e,t){const r=Ly();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:h,parentNode:d,nextSibling:f,setScopeId:p=Js,insertStaticContent:m}=e,y=(z,V,G,W=null,ot=null,B=null,wt=void 0,K=null,vt=!!V.dynamicChildren)=>{if(z===V)return;z&&!Ys(z,V)&&(W=et(z),j(z,ot,B,!0),z=null),V.patchFlag===-2&&(vt=!1,V.dynamicChildren=null);const{type:mt,ref:Nt,shapeFlag:lt}=V;switch(mt){case Dl:b(z,V,G,W);break;case jr:x(z,V,G,W);break;case Hf:z==null&&v(V,G,W,wt);break;case In:$(z,V,G,W,ot,B,wt,K,vt);break;default:lt&1?k(z,V,G,W,ot,B,wt,K,vt):lt&6?A(z,V,G,W,ot,B,wt,K,vt):(lt&64||lt&128)&&mt.process(z,V,G,W,ot,B,wt,K,vt,bt)}Nt!=null&&ot?lu(Nt,z&&z.ref,B,V||z,!V):Nt==null&&z&&z.ref!=null&&lu(z.ref,null,B,z,!0)},b=(z,V,G,W)=>{if(z==null)n(V.el=o(V.children),G,W);else{const ot=V.el=z.el;V.children!==z.children&&u(ot,V.children)}},x=(z,V,G,W)=>{z==null?n(V.el=l(V.children||""),G,W):V.el=z.el},v=(z,V,G,W)=>{[z.el,z.anchor]=m(z.children,V,G,W,z.el,z.anchor)},_=({el:z,anchor:V},G,W)=>{let ot;for(;z&&z!==V;)ot=f(z),n(z,G,W),z=ot;n(V,G,W)},S=({el:z,anchor:V})=>{let G;for(;z&&z!==V;)G=f(z),i(z),z=G;i(V)},k=(z,V,G,W,ot,B,wt,K,vt)=>{if(V.type==="svg"?wt="svg":V.type==="math"&&(wt="mathml"),z==null)T(V,G,W,ot,B,wt,K,vt);else{const mt=z.el&&z.el._isVueCE?z.el:null;try{mt&&mt._beginPatch(),C(z,V,ot,B,wt,K,vt)}finally{mt&&mt._endPatch()}}},T=(z,V,G,W,ot,B,wt,K)=>{let vt,mt;const{props:Nt,shapeFlag:lt,transition:xt,dirs:st}=z;if(vt=z.el=a(z.type,B,Nt&&Nt.is,Nt),lt&8?h(vt,z.children):lt&16&&I(z.children,vt,null,W,ot,$x(z,B),wt,K),st&&Hs(z,null,W,"created"),E(vt,z,z.scopeId,wt,W),Nt){for(const _t in Nt)_t!=="value"&&!au(_t)&&s(vt,_t,null,Nt[_t],B,W);"value"in Nt&&s(vt,"value",null,Nt.value,B),(mt=Nt.onVnodeBeforeMount)&&zi(mt,W,z)}st&&Hs(z,null,W,"beforeMount");const ut=DR(ot,xt);ut&&xt.beforeEnter(vt),n(vt,V,G),((mt=Nt&&Nt.onVnodeMounted)||ut||st)&&si(()=>{mt&&zi(mt,W,z),ut&&xt.enter(vt),st&&Hs(z,null,W,"mounted")},ot)},E=(z,V,G,W,ot)=>{if(G&&p(z,G),W)for(let B=0;B<W.length;B++)p(z,W[B]);if(ot){let B=ot.subTree;if(V===B||FR(B.type)&&(B.ssContent===V||B.ssFallback===V)){const wt=ot.vnode;E(z,wt,wt.scopeId,wt.slotScopeIds,ot.parent)}}},I=(z,V,G,W,ot,B,wt,K,vt=0)=>{for(let mt=vt;mt<z.length;mt++){const Nt=z[mt]=K?po(z[mt]):_i(z[mt]);y(null,Nt,V,G,W,ot,B,wt,K)}},C=(z,V,G,W,ot,B,wt)=>{const K=V.el=z.el;let{patchFlag:vt,dynamicChildren:mt,dirs:Nt}=V;vt|=z.patchFlag&16;const lt=z.props||tr,xt=V.props||tr;let st;if(G&&ll(G,!1),(st=xt.onVnodeBeforeUpdate)&&zi(st,G,V,z),Nt&&Hs(V,z,G,"beforeUpdate"),G&&ll(G,!0),(lt.innerHTML&&xt.innerHTML==null||lt.textContent&&xt.textContent==null)&&h(K,""),mt?R(z.dynamicChildren,mt,K,G,W,$x(V,ot),B):wt||O(z,V,K,null,G,W,$x(V,ot),B,!1),vt>0){if(vt&16)w(K,lt,xt,G,ot);else if(vt&2&&lt.class!==xt.class&&s(K,"class",null,xt.class,ot),vt&4&&s(K,"style",lt.style,xt.style,ot),vt&8){const ut=V.dynamicProps;for(let _t=0;_t<ut.length;_t++){const Q=ut[_t],Tt=lt[Q],H=xt[Q];(H!==Tt||Q==="value")&&s(K,Q,Tt,H,ot,G)}}vt&1&&z.children!==V.children&&h(K,V.children)}else!wt&&mt==null&&w(K,lt,xt,G,ot);((st=xt.onVnodeUpdated)||Nt)&&si(()=>{st&&zi(st,G,V,z),Nt&&Hs(V,z,G,"updated")},W)},R=(z,V,G,W,ot,B,wt)=>{for(let K=0;K<V.length;K++){const vt=z[K],mt=V[K],Nt=vt.el&&(vt.type===In||!Ys(vt,mt)||vt.shapeFlag&198)?d(vt.el):G;y(vt,mt,Nt,null,W,ot,B,wt,!0)}},w=(z,V,G,W,ot)=>{if(V!==G){if(V!==tr)for(const B in V)!au(B)&&!(B in G)&&s(z,B,V[B],null,ot,W);for(const B in G){if(au(B))continue;const wt=G[B],K=V[B];wt!==K&&B!=="value"&&s(z,B,K,wt,ot,W)}"value"in G&&s(z,"value",V.value,G.value,ot)}},$=(z,V,G,W,ot,B,wt,K,vt)=>{const mt=V.el=z?z.el:o(""),Nt=V.anchor=z?z.anchor:o("");let{patchFlag:lt,dynamicChildren:xt,slotScopeIds:st}=V;st&&(K=K?K.concat(st):st),z==null?(n(mt,G,W),n(Nt,G,W),I(V.children||[],G,Nt,ot,B,wt,K,vt)):lt>0&&lt&64&&xt&&z.dynamicChildren&&z.dynamicChildren.length===xt.length?(R(z.dynamicChildren,xt,G,ot,B,wt,K),(V.key!=null||ot&&V===ot.subTree)&&MR(z,V,!0)):O(z,V,G,Nt,ot,B,wt,K,vt)},A=(z,V,G,W,ot,B,wt,K,vt)=>{V.slotScopeIds=K,z==null?V.shapeFlag&512?ot.ctx.activate(V,G,W,wt,vt):L(V,G,W,ot,B,wt,vt):N(z,V,vt)},L=(z,V,G,W,ot,B,wt)=>{const K=z.component=FU(z,W,ot);if(Py(z)&&(K.ctx.renderer=bt),VU(K,!1,wt),K.asyncDep){if(ot&&ot.registerDep(K,D,wt),!z.el){const vt=K.subTree=nn(jr);x(null,vt,V,G),z.placeholder=vt.el}}else D(K,z,V,G,ot,B,wt)},N=(z,V,G)=>{const W=V.component=z.component;if(yU(z,V,G))if(W.asyncDep&&!W.asyncResolved){P(W,V,G);return}else W.next=V,W.update();else V.el=z.el,W.vnode=V},D=(z,V,G,W,ot,B,wt)=>{const K=()=>{if(z.isMounted){let{next:lt,bu:xt,u:st,parent:ut,vnode:_t}=z;{const q=PR(z);if(q){lt&&(lt.el=_t.el,P(z,lt,wt)),q.asyncDep.then(()=>{z.isUnmounted||K()});return}}let Q=lt,Tt;ll(z,!1),lt?(lt.el=_t.el,P(z,lt,wt)):lt=_t,xt&&V1(xt),(Tt=lt.props&&lt.props.onVnodeBeforeUpdate)&&zi(Tt,ut,lt,_t),ll(z,!0);const H=Nx(z),$t=z.subTree;z.subTree=H,y($t,H,d($t.el),et($t),z,ot,B),lt.el=H.el,Q===null&&zy(z,H.el),st&&si(st,ot),(Tt=lt.props&&lt.props.onVnodeUpdated)&&si(()=>zi(Tt,ut,lt,_t),ot)}else{let lt;const{el:xt,props:st}=V,{bm:ut,m:_t,parent:Q,root:Tt,type:H}=z,$t=$l(V);if(ll(z,!1),ut&&V1(ut),!$t&&(lt=st&&st.onVnodeBeforeMount)&&zi(lt,Q,V),ll(z,!0),xt&&Z){const q=()=>{z.subTree=Nx(z),Z(xt,z.subTree,z,ot,null)};$t&&H.__asyncHydrate?H.__asyncHydrate(xt,z,q):q()}else{Tt.ce&&Tt.ce._def.shadowRoot!==!1&&Tt.ce._injectChildStyle(H);const q=z.subTree=Nx(z);y(null,q,G,W,z,ot,B),V.el=q.el}if(_t&&si(_t,ot),!$t&&(lt=st&&st.onVnodeMounted)){const q=V;si(()=>zi(lt,Q,q),ot)}(V.shapeFlag&256||Q&&$l(Q.vnode)&&Q.vnode.shapeFlag&256)&&z.a&&si(z.a,ot),z.isMounted=!0,V=G=W=null}};z.scope.on();const vt=z.effect=new WL(K);z.scope.off();const mt=z.update=vt.run.bind(vt),Nt=z.job=vt.runIfDirty.bind(vt);Nt.i=z,Nt.id=z.uid,vt.scheduler=()=>Sk(Nt),ll(z,!0),mt()},P=(z,V,G)=>{V.component=z;const W=z.vnode.props;z.vnode=V,z.next=null,bU(z,V.props,W,G),kU(z,V.children,G),Wa(),V3(z),Ua()},O=(z,V,G,W,ot,B,wt,K,vt=!1)=>{const mt=z&&z.children,Nt=z?z.shapeFlag:0,lt=V.children,{patchFlag:xt,shapeFlag:st}=V;if(xt>0){if(xt&128){Y(mt,lt,G,W,ot,B,wt,K,vt);return}else if(xt&256){M(mt,lt,G,W,ot,B,wt,K,vt);return}}st&8?(Nt&16&&dt(mt,ot,B),lt!==mt&&h(G,lt)):Nt&16?st&16?Y(mt,lt,G,W,ot,B,wt,K,vt):dt(mt,ot,B,!0):(Nt&8&&h(G,""),st&16&&I(lt,G,W,ot,B,wt,K,vt))},M=(z,V,G,W,ot,B,wt,K,vt)=>{z=z||iu,V=V||iu;const mt=z.length,Nt=V.length,lt=Math.min(mt,Nt);let xt;for(xt=0;xt<lt;xt++){const st=V[xt]=vt?po(V[xt]):_i(V[xt]);y(z[xt],st,G,null,ot,B,wt,K,vt)}mt>Nt?dt(z,ot,B,!0,!1,lt):I(V,G,W,ot,B,wt,K,vt,lt)},Y=(z,V,G,W,ot,B,wt,K,vt)=>{let mt=0;const Nt=V.length;let lt=z.length-1,xt=Nt-1;for(;mt<=lt&&mt<=xt;){const st=z[mt],ut=V[mt]=vt?po(V[mt]):_i(V[mt]);if(Ys(st,ut))y(st,ut,G,null,ot,B,wt,K,vt);else break;mt++}for(;mt<=lt&&mt<=xt;){const st=z[lt],ut=V[xt]=vt?po(V[xt]):_i(V[xt]);if(Ys(st,ut))y(st,ut,G,null,ot,B,wt,K,vt);else break;lt--,xt--}if(mt>lt){if(mt<=xt){const st=xt+1,ut=st<Nt?V[st].el:W;for(;mt<=xt;)y(null,V[mt]=vt?po(V[mt]):_i(V[mt]),G,ut,ot,B,wt,K,vt),mt++}}else if(mt>xt)for(;mt<=lt;)j(z[mt],ot,B,!0),mt++;else{const st=mt,ut=mt,_t=new Map;for(mt=ut;mt<=xt;mt++){const Mt=V[mt]=vt?po(V[mt]):_i(V[mt]);Mt.key!=null&&_t.set(Mt.key,mt)}let Q,Tt=0;const H=xt-ut+1;let $t=!1,q=0;const At=new Array(H);for(mt=0;mt<H;mt++)At[mt]=0;for(mt=st;mt<=lt;mt++){const Mt=z[mt];if(Tt>=H){j(Mt,ot,B,!0);continue}let kt;if(Mt.key!=null)kt=_t.get(Mt.key);else for(Q=ut;Q<=xt;Q++)if(At[Q-ut]===0&&Ys(Mt,V[Q])){kt=Q;break}kt===void 0?j(Mt,ot,B,!0):(At[kt-ut]=mt+1,kt>=q?q=kt:$t=!0,y(Mt,V[kt],G,null,ot,B,wt,K,vt),Tt++)}const gt=$t?CU(At):iu;for(Q=gt.length-1,mt=H-1;mt>=0;mt--){const Mt=ut+mt,kt=V[Mt],Ct=V[Mt+1],ae=Mt+1<Nt?Ct.el||BR(Ct):W;At[mt]===0?y(null,kt,G,ae,ot,B,wt,K,vt):$t&&(Q<0||mt!==gt[Q]?F(kt,G,ae,2):Q--)}}},F=(z,V,G,W,ot=null)=>{const{el:B,type:wt,transition:K,children:vt,shapeFlag:mt}=z;if(mt&6){F(z.component.subTree,V,G,W);return}if(mt&128){z.suspense.move(V,G,W);return}if(mt&64){wt.move(z,V,G,bt);return}if(wt===In){n(B,V,G);for(let lt=0;lt<vt.length;lt++)F(vt[lt],V,G,W);n(z.anchor,V,G);return}if(wt===Hf){_(z,V,G);return}if(W!==2&&mt&1&&K)if(W===0)K.beforeEnter(B),n(B,V,G),si(()=>K.enter(B),ot);else{const{leave:lt,delayLeave:xt,afterLeave:st}=K,ut=()=>{z.ctx.isUnmounted?i(B):n(B,V,G)},_t=()=>{B._isLeaving&&B[Ca](!0),lt(B,()=>{ut(),st&&st()})};xt?xt(B,ut,_t):_t()}else n(B,V,G)},j=(z,V,G,W=!1,ot=!1)=>{const{type:B,props:wt,ref:K,children:vt,dynamicChildren:mt,shapeFlag:Nt,patchFlag:lt,dirs:xt,cacheIndex:st}=z;if(lt===-2&&(ot=!1),K!=null&&(Wa(),lu(K,null,G,z,!0),Ua()),st!=null&&(V.renderCache[st]=void 0),Nt&256){V.ctx.deactivate(z);return}const ut=Nt&1&&xt,_t=!$l(z);let Q;if(_t&&(Q=wt&&wt.onVnodeBeforeUnmount)&&zi(Q,V,z),Nt&6)J(z.component,G,W);else{if(Nt&128){z.suspense.unmount(G,W);return}ut&&Hs(z,null,V,"beforeUnmount"),Nt&64?z.type.remove(z,V,G,bt,W):mt&&!mt.hasOnce&&(B!==In||lt>0&&lt&64)?dt(mt,V,G,!1,!0):(B===In&&lt&384||!ot&&Nt&16)&&dt(vt,V,G),W&&it(z)}(_t&&(Q=wt&&wt.onVnodeUnmounted)||ut)&&si(()=>{Q&&zi(Q,V,z),ut&&Hs(z,null,V,"unmounted")},G)},it=z=>{const{type:V,el:G,anchor:W,transition:ot}=z;if(V===In){ft(G,W);return}if(V===Hf){S(z);return}const B=()=>{i(G),ot&&!ot.persisted&&ot.afterLeave&&ot.afterLeave()};if(z.shapeFlag&1&&ot&&!ot.persisted){const{leave:wt,delayLeave:K}=ot,vt=()=>wt(G,B);K?K(z.el,B,vt):vt()}else B()},ft=(z,V)=>{let G;for(;z!==V;)G=f(z),i(z),z=G;i(V)},J=(z,V,G)=>{const{bum:W,scope:ot,job:B,subTree:wt,um:K,m:vt,a:mt}=z;Z3(vt),Z3(mt),W&&V1(W),ot.stop(),B&&(B.flags|=8,j(wt,z,V,G)),K&&si(K,V),si(()=>{z.isUnmounted=!0},V)},dt=(z,V,G,W=!1,ot=!1,B=0)=>{for(let wt=B;wt<z.length;wt++)j(z[wt],V,G,W,ot)},et=z=>{if(z.shapeFlag&6)return et(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const V=f(z.anchor||z.el),G=V&&V[PW];return G?f(G):V};let St=!1;const ct=(z,V,G)=>{let W;z==null?V._vnode&&(j(V._vnode,null,null,!0),W=V._vnode.component):y(V._vnode||null,z,V,null,null,null,G),V._vnode=z,St||(St=!0,V3(W),O0(),St=!1)},bt={p:y,um:j,m:F,r:it,mt:L,mc:I,pc:O,pbc:R,n:et,o:e};let nt,Z;return t&&([nt,Z]=t(bt)),{render:ct,hydrate:nt,createApp:uU(ct,nt)}}function $x({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function ll({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function DR(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function MR(e,t,r=!1){const n=e.children,i=t.children;if(fe(n)&&fe(i))for(let s=0;s<n.length;s++){const a=n[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=po(i[s]),o.el=a.el),!r&&o.patchFlag!==-2&&MR(a,o)),o.type===Dl&&(o.patchFlag!==-1?o.el=a.el:o.__elIndex=s+(e.type===In?1:0)),o.type===jr&&!o.el&&(o.el=a.el)}}function CU(e){const t=e.slice(),r=[0];let n,i,s,a,o;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=r[r.length-1],e[i]<u){t[n]=i,r.push(n);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,e[r[o]]<u?s=o+1:a=o;u<e[r[s]]&&(s>0&&(t[n]=r[s-1]),r[s]=n)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=t[a];return r}function PR(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:PR(t)}function Z3(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function BR(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?BR(t.subTree):null}const FR=e=>e.__isSuspense;let Ev=0;const EU={name:"Suspense",__isSuspense:!0,process(e,t,r,n,i,s,a,o,l,u){if(e==null)AU(t,r,n,i,s,a,o,l,u);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}LU(e,t,r,n,i,a,o,l,u)}},hydrate:RU,normalize:IU},DLt=EU;function lp(e,t){const r=e.props&&e.props[t];xe(r)&&r()}function AU(e,t,r,n,i,s,a,o,l){const{p:u,o:{createElement:h}}=l,d=h("div"),f=e.suspense=VR(e,i,n,t,d,r,s,a,o,l);u(null,f.pendingBranch=e.ssContent,d,null,n,f,s,a),f.deps>0?(lp(e,"onPending"),lp(e,"onFallback"),u(null,e.ssFallback,t,r,n,null,s,a),cu(f,e.ssFallback)):f.resolve(!1,!0)}function LU(e,t,r,n,i,s,a,o,{p:l,um:u,o:{createElement:h}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,p=t.ssFallback,{activeBranch:m,pendingBranch:y,isInFallback:b,isHydrating:x}=d;if(y)d.pendingBranch=f,Ys(y,f)?(l(y,f,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0?d.resolve():b&&(x||(l(m,p,r,n,i,null,s,a,o),cu(d,p)))):(d.pendingId=Ev++,x?(d.isHydrating=!1,d.activeBranch=y):u(y,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=h("div"),b?(l(null,f,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0?d.resolve():(l(m,p,r,n,i,null,s,a,o),cu(d,p))):m&&Ys(m,f)?(l(m,f,r,n,i,d,s,a,o),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0&&d.resolve()));else if(m&&Ys(m,f))l(m,f,r,n,i,d,s,a,o),cu(d,f);else if(lp(t,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=Ev++,l(null,f,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0)d.resolve();else{const{timeout:v,pendingId:_}=d;v>0?setTimeout(()=>{d.pendingId===_&&d.fallback(p)},v):v===0&&d.fallback(p)}}function VR(e,t,r,n,i,s,a,o,l,u,h=!1){const{p:d,m:f,um:p,n:m,o:{parentNode:y,remove:b}}=u;let x;const v=NU(e);v&&t&&t.pendingBranch&&(x=t.pendingId,t.deps++);const _=e.props?PL(e.props.timeout):void 0,S=s,k={vnode:e,parent:t,parentComponent:r,namespace:a,container:n,hiddenContainer:i,deps:0,pendingId:Ev++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(T=!1,E=!1){const{vnode:I,activeBranch:C,pendingBranch:R,pendingId:w,effects:$,parentComponent:A,container:L,isInFallback:N}=k;let D=!1;k.isHydrating?k.isHydrating=!1:T||(D=C&&R.transition&&R.transition.mode==="out-in",D&&(C.transition.afterLeave=()=>{w===k.pendingId&&(f(R,L,s===S?m(C):s,0),_v($),N&&I.ssFallback&&(I.ssFallback.el=null))}),C&&(y(C.el)===L&&(s=m(C)),p(C,A,k,!0),!D&&N&&I.ssFallback&&si(()=>I.ssFallback.el=null,k)),D||f(R,L,s,0)),cu(k,R),k.pendingBranch=null,k.isInFallback=!1;let P=k.parent,O=!1;for(;P;){if(P.pendingBranch){P.effects.push(...$),O=!0;break}P=P.parent}!O&&!D&&_v($),k.effects=[],v&&t&&t.pendingBranch&&x===t.pendingId&&(t.deps--,t.deps===0&&!E&&t.resolve()),lp(I,"onResolve")},fallback(T){if(!k.pendingBranch)return;const{vnode:E,activeBranch:I,parentComponent:C,container:R,namespace:w}=k;lp(E,"onFallback");const $=m(I),A=()=>{k.isInFallback&&(d(null,T,R,$,C,null,w,o,l),cu(k,T))},L=T.transition&&T.transition.mode==="out-in";L&&(I.transition.afterLeave=A),k.isInFallback=!0,p(I,C,null,!0),L||A()},move(T,E,I){k.activeBranch&&f(k.activeBranch,T,E,I),k.container=T},next(){return k.activeBranch&&m(k.activeBranch)},registerDep(T,E,I){const C=!!k.pendingBranch;C&&k.deps++;const R=T.vnode.el;T.asyncDep.catch(w=>{eg(w,T,0)}).then(w=>{if(T.isUnmounted||k.isUnmounted||k.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:$}=T;Rv(T,w),R&&($.el=R);const A=!R&&T.subTree.el;E(T,$,y(R||T.subTree.el),R?null:m(T.subTree),k,a,I),A&&($.placeholder=null,b(A)),zy(T,$.el),C&&--k.deps===0&&k.resolve()})},unmount(T,E){k.isUnmounted=!0,k.activeBranch&&p(k.activeBranch,r,T,E),k.pendingBranch&&p(k.pendingBranch,r,T,E)}};return k}function RU(e,t,r,n,i,s,a,o,l){const u=t.suspense=VR(t,n,r,e.parentNode,document.createElement("div"),null,i,s,a,o,!0),h=l(e,u.pendingBranch=t.ssContent,r,u,s,a);return u.deps===0&&u.resolve(!1,!0),h}function IU(e){const{shapeFlag:t,children:r}=e,n=t&32;e.ssContent=J3(n?r.default:r),e.ssFallback=n?J3(r.fallback):nn(jr)}function J3(e){let t;if(xe(e)){const r=kh&&e._c;r&&(e._d=!1,cp()),e=e(),r&&(e._d=!0,t=ci,WR())}return fe(e)&&(e=pU(e)),e=_i(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function zR(e,t){t&&t.pendingBranch?fe(e)?t.effects.push(...e):t.effects.push(e):_v(e)}function cu(e,t){e.activeBranch=t;const{vnode:r,parentComponent:n}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;r.el=i,n&&n.subTree===r&&(n.vnode.el=i,zy(n,i))}function NU(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const In=Symbol.for("v-fgt"),Dl=Symbol.for("v-txt"),jr=Symbol.for("v-cmt"),Hf=Symbol.for("v-stc"),Gf=[];let ci=null;function cp(e=!1){Gf.push(ci=e?null:[])}function WR(){Gf.pop(),ci=Gf[Gf.length-1]||null}let kh=1;function B0(e,t=!1){kh+=e,e<0&&ci&&t&&(ci.hasOnce=!0)}function UR(e){return e.dynamicChildren=kh>0?ci||iu:null,WR(),kh>0&&ci&&ci.push(e),e}function $U(e,t,r,n,i,s){return UR(GR(e,t,r,n,i,s,!0))}function Av(e,t,r,n,i){return UR(nn(e,t,r,n,i,!0))}function wh(e){return e?e.__v_isVNode===!0:!1}function Ys(e,t){return e.type===t.type&&e.key===t.key}const HR=({key:e})=>e??null,W1=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?br(e)||Mr(e)||xe(e)?{i:mn,r:e,k:t,f:!!r}:e:null);function GR(e,t=null,r=null,n=0,i=null,s=e===In?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&HR(t),ref:t&&W1(t),scopeId:oR,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:mn};return o?(Ak(l,r),s&128&&e.normalize(l)):r&&(l.shapeFlag|=br(r)?8:16),kh>0&&!a&&ci&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ci.push(l),l}const nn=OU;function OU(e,t=null,r=null,n=0,i=null,s=!1){if((!e||e===vR)&&(e=jr),wh(e)){const o=Lo(e,t,!0);return r&&Ak(o,r),kh>0&&!s&&ci&&(o.shapeFlag&6?ci[ci.indexOf(e)]=o:ci.push(o)),o.patchFlag=-2,o}if(HU(e)&&(e=e.__vccOpts),t){t=DU(t);let{class:o,style:l}=t;o&&!br(o)&&(t.class=Ry(o)),er(l)&&($y(l)&&!fe(l)&&(l=an({},l)),t.style=bk(l))}const a=br(e)?1:FR(e)?128:uR(e)?64:er(e)?4:xe(e)?2:0;return GR(e,t,r,n,i,a,s,!0)}function DU(e){return e?$y(e)||LR(e)?an({},e):e:null}function Lo(e,t,r=!1,n=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:l}=e,u=t?MU(i||{},t):i,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&HR(u),ref:t&&t.ref?r&&s?fe(s)?s.concat(W1(t)):[s,W1(t)]:W1(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==In?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Lo(e.ssContent),ssFallback:e.ssFallback&&Lo(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&op(h,l.clone(h)),h}function qR(e=" ",t=0){return nn(Dl,null,e,t)}function MLt(e,t){const r=nn(Hf,null,e);return r.staticCount=t,r}function PLt(e="",t=!1){return t?(cp(),Av(jr,null,e)):nn(jr,null,e)}function _i(e){return e==null||typeof e=="boolean"?nn(jr):fe(e)?nn(In,null,e.slice()):wh(e)?po(e):nn(Dl,null,String(e))}function po(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Lo(e)}function Ak(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(fe(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),Ak(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!LR(t)?t._ctx=mn:i===3&&mn&&(mn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xe(t)?(t={default:t,_ctx:mn},r=32):(t=String(t),n&64?(r=16,t=[qR(t)]):r=8);e.children=t,e.shapeFlag|=r}function MU(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Ry([t.class,n.class]));else if(i==="style")t.style=bk([t.style,n.style]);else if(Jp(i)){const s=t[i],a=n[i];a&&s!==a&&!(fe(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=n[i])}return t}function zi(e,t,r,n=null){As(e,t,7,[r,n])}const PU=SR();let BU=0;function FU(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||PU,s={uid:BU++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xz(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:IR(n,i),emitsOptions:CR(n,i),emit:null,emitted:null,propsDefaults:tr,inheritAttrs:n.inheritAttrs,ctx:tr,data:tr,props:tr,attrs:tr,slots:tr,refs:tr,setupState:tr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=dU.bind(null,s),e.ce&&e.ce(s),s}let Nn=null;const uc=()=>Nn||mn;let F0,Lv;{const e=Ly(),t=(r,n)=>{let i;return(i=e[r])||(i=e[r]=[]),i.push(n),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};F0=t("__VUE_INSTANCE_SETTERS__",r=>Nn=r),Lv=t("__VUE_SSR_SETTERS__",r=>up=r)}const ng=e=>{const t=Nn;return F0(e),e.scope.on(),()=>{e.scope.off(),F0(t)}},t4=()=>{Nn&&Nn.scope.off(),F0(null)};function jR(e){return e.vnode.shapeFlag&4}let up=!1;function VU(e,t=!1,r=!1){t&&Lv(t);const{props:n,children:i}=e.vnode,s=jR(e);xU(e,n,s,t),TU(e,i,r||t);const a=s?zU(e,t):void 0;return t&&Lv(!1),a}function zU(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,rU);const{setup:n}=r;if(n){Wa();const i=e.setupContext=n.length>1?XR(e):null,s=ng(e),a=tg(n,e,0,[e.props,i]),o=$L(a);if(Ua(),s(),(o||e.sp)&&!$l(e)&&mR(e),o){if(a.then(t4,t4),t)return a.then(l=>{Rv(e,l)}).catch(l=>{eg(l,e,0)});e.asyncDep=a}else Rv(e,a)}else YR(e)}function Rv(e,t,r){xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:er(t)&&(e.setupState=nR(t)),YR(e)}function YR(e,t,r){const n=e.type;e.render||(e.render=n.render||Js);{const i=ng(e);Wa();try{iU(e)}finally{Ua(),i()}}}const WU={get(e,t){return Rn(e,"get",""),e[t]}};function XR(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,WU),slots:e.slots,emit:e.emit,expose:t}}function Wy(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nR(z1(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Uf)return Uf[r](e)},has(t,r){return r in t||r in Uf}})):e.proxy}function UU(e,t=!0){return xe(e)?e.displayName||e.name:e.name||t&&e.__name}function HU(e){return xe(e)&&"__vccOpts"in e}const fr=(e,t)=>CW(e,t,up);function Iv(e,t,r){try{B0(-1);const n=arguments.length;return n===2?er(t)&&!fe(t)?wh(t)?nn(e,null,[t]):nn(e,t):nn(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&wh(r)&&(r=[r]),nn(e,t,r))}finally{B0(1)}}const GU="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nv;const e4=typeof window<"u"&&window.trustedTypes;if(e4)try{Nv=e4.createPolicy("vue",{createHTML:e=>e})}catch{}const KR=Nv?e=>Nv.createHTML(e):e=>e,qU="http://www.w3.org/2000/svg",jU="http://www.w3.org/1998/Math/MathML",ka=typeof document<"u"?document:null,r4=ka&&ka.createElement("template"),YU={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t==="svg"?ka.createElementNS(qU,e):t==="mathml"?ka.createElementNS(jU,e):r?ka.createElement(e,{is:r}):ka.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>ka.createTextNode(e),createComment:e=>ka.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ka.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,s){const a=r?r.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{r4.innerHTML=KR(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const o=r4.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},co="transition",xd="animation",hp=Symbol("_vtc"),QR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},XU=an({},hR,QR),KU=e=>(e.displayName="Transition",e.props=XU,e),BLt=KU((e,{slots:t})=>Iv(VW,QU(e),t)),cl=(e,t=[])=>{fe(e)?e.forEach(r=>r(...t)):e&&e(...t)},n4=e=>e?fe(e)?e.some(t=>t.length>1):e.length>1:!1;function QU(e){const t={};for(const $ in e)$ in QR||(t[$]=e[$]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:h=o,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,m=ZU(i),y=m&&m[0],b=m&&m[1],{onBeforeEnter:x,onEnter:v,onEnterCancelled:_,onLeave:S,onLeaveCancelled:k,onBeforeAppear:T=x,onAppear:E=v,onAppearCancelled:I=_}=t,C=($,A,L,N)=>{$._enterCancelled=N,ul($,A?h:o),ul($,A?u:a),L&&L()},R=($,A)=>{$._isLeaving=!1,ul($,d),ul($,p),ul($,f),A&&A()},w=$=>(A,L)=>{const N=$?E:v,D=()=>C(A,$,L);cl(N,[A,D]),i4(()=>{ul(A,$?l:s),ma(A,$?h:o),n4(N)||s4(A,n,y,D)})};return an(t,{onBeforeEnter($){cl(x,[$]),ma($,s),ma($,a)},onBeforeAppear($){cl(T,[$]),ma($,l),ma($,u)},onEnter:w(!1),onAppear:w(!0),onLeave($,A){$._isLeaving=!0;const L=()=>R($,A);ma($,d),$._enterCancelled?(ma($,f),l4($)):(l4($),ma($,f)),i4(()=>{$._isLeaving&&(ul($,d),ma($,p),n4(S)||s4($,n,b,L))}),cl(S,[$,L])},onEnterCancelled($){C($,!1,void 0,!0),cl(_,[$])},onAppearCancelled($){C($,!0,void 0,!0),cl(I,[$])},onLeaveCancelled($){R($),cl(k,[$])}})}function ZU(e){if(e==null)return null;if(er(e))return[Ox(e.enter),Ox(e.leave)];{const t=Ox(e);return[t,t]}}function Ox(e){return PL(e)}function ma(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[hp]||(e[hp]=new Set)).add(t)}function ul(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[hp];r&&(r.delete(t),r.size||(e[hp]=void 0))}function i4(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let JU=0;function s4(e,t,r,n){const i=e._endId=++JU,s=()=>{i===e._endId&&n()};if(r!=null)return setTimeout(s,r);const{type:a,timeout:o,propCount:l}=tH(e,t);if(!a)return n();const u=a+"end";let h=0;const d=()=>{e.removeEventListener(u,f),s()},f=p=>{p.target===e&&++h>=l&&d()};setTimeout(()=>{h<l&&d()},o+1),e.addEventListener(u,f)}function tH(e,t){const r=window.getComputedStyle(e),n=m=>(r[m]||"").split(", "),i=n(`${co}Delay`),s=n(`${co}Duration`),a=a4(i,s),o=n(`${xd}Delay`),l=n(`${xd}Duration`),u=a4(o,l);let h=null,d=0,f=0;t===co?a>0&&(h=co,d=a,f=s.length):t===xd?u>0&&(h=xd,d=u,f=l.length):(d=Math.max(a,u),h=d>0?a>u?co:xd:null,f=h?h===co?s.length:l.length:0);const p=h===co&&/\b(?:transform|all)(?:,|$)/.test(n(`${co}Property`).toString());return{type:h,timeout:d,propCount:f,hasTransform:p}}function a4(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>o4(r)+o4(e[n])))}function o4(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function l4(e){return(e?e.ownerDocument:document).body.offsetHeight}function eH(e,t,r){const n=e[hp];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const c4=Symbol("_vod"),rH=Symbol("_vsh"),nH=Symbol(""),iH=/(?:^|;)\s*display\s*:/;function sH(e,t,r){const n=e.style,i=br(r);let s=!1;if(r&&!i){if(t)if(br(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();r[o]==null&&U1(n,o,"")}else for(const a in t)r[a]==null&&U1(n,a,"");for(const a in r)a==="display"&&(s=!0),U1(n,a,r[a])}else if(i){if(t!==r){const a=n[nH];a&&(r+=";"+a),n.cssText=r,s=iH.test(r)}}else t&&e.removeAttribute("style");c4 in e&&(e[c4]=s?n.display:"",e[rH]&&(n.display="none"))}const u4=/\s*!important$/;function U1(e,t,r){if(fe(r))r.forEach(n=>U1(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=aH(e,t);u4.test(r)?e.setProperty(Uo(n),r.replace(u4,""),"important"):e[n]=r}}const h4=["Webkit","Moz","ms"],Dx={};function aH(e,t){const r=Dx[t];if(r)return r;let n=Zi(t);if(n!=="filter"&&n in e)return Dx[t]=n;n=Ay(n);for(let i=0;i<h4.length;i++){const s=h4[i]+n;if(s in e)return Dx[t]=s}return t}const d4="http://www.w3.org/1999/xlink";function f4(e,t,r,n,i,s=jz(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(d4,t.slice(6,t.length)):e.setAttributeNS(d4,t,r):r==null||s&&!BL(r)?e.removeAttribute(t):e.setAttribute(t,s?"":Ja(r)?String(r):r)}function p4(e,t,r,n,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?KR(r):r);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(o!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let a=!1;if(r===""||r==null){const o=typeof e[t];o==="boolean"?r=BL(r):r==null&&o==="string"?(r="",a=!0):o==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(i||t)}function Gc(e,t,r,n){e.addEventListener(t,r,n)}function oH(e,t,r,n){e.removeEventListener(t,r,n)}const g4=Symbol("_vei");function lH(e,t,r,n,i=null){const s=e[g4]||(e[g4]={}),a=s[t];if(n&&a)a.value=n;else{const[o,l]=cH(t);if(n){const u=s[t]=dH(n,i);Gc(e,o,u,l)}else a&&(oH(e,o,a,l),s[t]=void 0)}}const m4=/(?:Once|Passive|Capture)$/;function cH(e){let t;if(m4.test(e)){t={};let n;for(;n=e.match(m4);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Uo(e.slice(2)),t]}let Mx=0;const uH=Promise.resolve(),hH=()=>Mx||(uH.then(()=>Mx=0),Mx=Date.now());function dH(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;As(fH(n,r.value),t,5,[n])};return r.value=e,r.attached=hH(),r}function fH(e,t){if(fe(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const y4=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,pH=(e,t,r,n,i,s)=>{const a=i==="svg";t==="class"?eH(e,n,a):t==="style"?sH(e,r,n):Jp(t)?mk(t)||lH(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gH(e,t,n,a))?(p4(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&f4(e,t,n,a,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!br(n))?p4(e,Zi(t),n,s,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),f4(e,t,n,a))};function gH(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&y4(t)&&xe(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return y4(t)&&br(r)?!1:t in e}const x4=e=>{const t=e.props["onUpdate:modelValue"]||!1;return fe(t)?r=>V1(t,r):t};function mH(e){e.target.composing=!0}function b4(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Px=Symbol("_assign");function v4(e,t,r){return t&&(e=e.trim()),r&&(e=xk(e)),e}const FLt={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e[Px]=x4(i);const s=n||i.props&&i.props.type==="number";Gc(e,t?"change":"input",a=>{a.target.composing||e[Px](v4(e.value,r,s))}),(r||s)&&Gc(e,"change",()=>{e.value=v4(e.value,r,s)}),t||(Gc(e,"compositionstart",mH),Gc(e,"compositionend",b4),Gc(e,"change",b4))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:i,number:s}},a){if(e[Px]=x4(a),e.composing)return;const o=(s||e.type==="number")&&!/^0\d/.test(e.value)?xk(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||i&&e.value.trim()===l)||(e.value=l))}},yH=["ctrl","shift","alt","meta"],xH={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>yH.some(r=>e[`${r}Key`]&&!t.includes(r))},VLt=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(i,...s)=>{for(let a=0;a<t.length;a++){const o=xH[t[a]];if(o&&o(i,t))return}return e(i,...s)})},bH={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zLt=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const s=Uo(i.key);if(t.some(a=>a===s||bH[a]===s))return e(i)})},vH=an({patchProp:pH},YU);let Bx,_4=!1;function _H(){return Bx=_4?Bx:wU(vH),_4=!0,Bx}const WLt=(...e)=>{const t=_H().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=kH(n);if(i)return r(i,!0,TH(i))},t};function TH(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function kH(e){return br(e)?document.querySelector(e):e}var $v={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},ZR=Object.defineProperty,g=(e,t)=>ZR(e,"name",{value:t,configurable:!0}),Uy=(e,t)=>{for(var r in t)ZR(e,r,{get:t[r],enumerable:!0})},ya={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},U={trace:g((...e)=>{},"trace"),debug:g((...e)=>{},"debug"),info:g((...e)=>{},"info"),warn:g((...e)=>{},"warn"),error:g((...e)=>{},"error"),fatal:g((...e)=>{},"fatal")},Lk=g(function(e="fatal"){let t=ya.fatal;typeof e=="string"?e.toLowerCase()in ya&&(t=ya[e]):typeof e=="number"&&(t=e),U.trace=()=>{},U.debug=()=>{},U.info=()=>{},U.warn=()=>{},U.error=()=>{},U.fatal=()=>{},t<=ya.fatal&&(U.fatal=console.error?console.error.bind(console,Fi("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Fi("FATAL"))),t<=ya.error&&(U.error=console.error?console.error.bind(console,Fi("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Fi("ERROR"))),t<=ya.warn&&(U.warn=console.warn?console.warn.bind(console,Fi("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Fi("WARN"))),t<=ya.info&&(U.info=console.info?console.info.bind(console,Fi("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Fi("INFO"))),t<=ya.debug&&(U.debug=console.debug?console.debug.bind(console,Fi("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Fi("DEBUG"))),t<=ya.trace&&(U.trace=console.debug?console.debug.bind(console,Fi("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Fi("TRACE")))},"setLogLevel"),Fi=g(e=>`%c${rn().format("ss.SSS")} : ${e} : `,"format");const H1={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;const i=r<.5?r*(1+t):r+t-r*t,s=2*r-i;switch(n){case"r":return H1.hue2rgb(s,i,e+1/3)*255;case"g":return H1.hue2rgb(s,i,e)*255;case"b":return H1.hue2rgb(s,i,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;const i=Math.max(e,t,r),s=Math.min(e,t,r),a=(i+s)/2;if(n==="l")return a*100;if(i===s)return 0;const o=i-s,l=a>.5?o/(2-i-s):o/(i+s);if(n==="s")return l*100;switch(i){case e:return((t-r)/o+(t<r?6:0))*60;case t:return((r-e)/o+2)*60;case r:return((e-t)/o+4)*60;default:return-1}}},wH={clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},SH={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},ye={channel:H1,lang:wH,unit:SH},uo={};for(let e=0;e<=255;e++)uo[e]=ye.unit.dec2hex(e);const kn={ALL:0,RGB:1,HSL:2};let CH=class{constructor(){this.type=kn.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=kn.ALL}is(t){return this.type===t}};class EH{constructor(t,r){this.color=r,this.changed=!1,this.data=t,this.type=new CH}set(t,r){return this.color=r,this.changed=!1,this.data=t,this.type.type=kn.ALL,this}_ensureHSL(){const t=this.data,{h:r,s:n,l:i}=t;r===void 0&&(t.h=ye.channel.rgb2hsl(t,"h")),n===void 0&&(t.s=ye.channel.rgb2hsl(t,"s")),i===void 0&&(t.l=ye.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r,g:n,b:i}=t;r===void 0&&(t.r=ye.channel.hsl2rgb(t,"r")),n===void 0&&(t.g=ye.channel.hsl2rgb(t,"g")),i===void 0&&(t.b=ye.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,r=t.r;return!this.type.is(kn.HSL)&&r!==void 0?r:(this._ensureHSL(),ye.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,r=t.g;return!this.type.is(kn.HSL)&&r!==void 0?r:(this._ensureHSL(),ye.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,r=t.b;return!this.type.is(kn.HSL)&&r!==void 0?r:(this._ensureHSL(),ye.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,r=t.h;return!this.type.is(kn.RGB)&&r!==void 0?r:(this._ensureRGB(),ye.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,r=t.s;return!this.type.is(kn.RGB)&&r!==void 0?r:(this._ensureRGB(),ye.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,r=t.l;return!this.type.is(kn.RGB)&&r!==void 0?r:(this._ensureRGB(),ye.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(kn.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(kn.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(kn.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(kn.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(kn.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(kn.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Hy=new EH({r:0,g:0,b:0,a:0},"transparent"),uu={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(uu.re);if(!t)return;const r=t[1],n=parseInt(r,16),i=r.length,s=i%4===0,a=i>4,o=a?1:17,l=a?8:4,u=s?0:-1,h=a?255:15;return Hy.set({r:(n>>l*(u+3)&h)*o,g:(n>>l*(u+2)&h)*o,b:(n>>l*(u+1)&h)*o,a:s?(n&h)*o/255:1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`#${uo[Math.round(t)]}${uo[Math.round(r)]}${uo[Math.round(n)]}${uo[Math.round(i*255)]}`:`#${uo[Math.round(t)]}${uo[Math.round(r)]}${uo[Math.round(n)]}`}},kl={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(kl.hueRe);if(t){const[,r,n]=t;switch(n){case"grad":return ye.channel.clamp.h(parseFloat(r)*.9);case"rad":return ye.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return ye.channel.clamp.h(parseFloat(r)*360)}}return ye.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const r=e.match(kl.re);if(!r)return;const[,n,i,s,a,o]=r;return Hy.set({h:kl._hue2deg(n),s:ye.channel.clamp.s(parseFloat(i)),l:ye.channel.clamp.l(parseFloat(s)),a:a?ye.channel.clamp.a(o?parseFloat(a)/100:parseFloat(a)):1},e)},stringify:e=>{const{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${ye.lang.round(t)}, ${ye.lang.round(r)}%, ${ye.lang.round(n)}%, ${i})`:`hsl(${ye.lang.round(t)}, ${ye.lang.round(r)}%, ${ye.lang.round(n)}%)`}},qf={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=qf.colors[e];if(t)return uu.parse(t)},stringify:e=>{const t=uu.stringify(e);for(const r in qf.colors)if(qf.colors[r]===t)return r}},Wd={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const r=e.match(Wd.re);if(!r)return;const[,n,i,s,a,o,l,u,h]=r;return Hy.set({r:ye.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:ye.channel.clamp.g(a?parseFloat(s)*2.55:parseFloat(s)),b:ye.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:u?ye.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},e)},stringify:e=>{const{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${ye.lang.round(t)}, ${ye.lang.round(r)}, ${ye.lang.round(n)}, ${ye.lang.round(i)})`:`rgb(${ye.lang.round(t)}, ${ye.lang.round(r)}, ${ye.lang.round(n)})`}},Ls={format:{keyword:qf,hex:uu,rgb:Wd,rgba:Wd,hsl:kl,hsla:kl},parse:e=>{if(typeof e!="string")return e;const t=uu.parse(e)||Wd.parse(e)||kl.parse(e)||qf.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(kn.HSL)||e.data.r===void 0?kl.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Wd.stringify(e):uu.stringify(e)},JR=(e,t)=>{const r=Ls.parse(e);for(const n in t)r[n]=ye.channel.clamp[n](t[n]);return Ls.stringify(r)},Co=(e,t,r=0,n=1)=>{if(typeof e!="number")return JR(e,{a:t});const i=Hy.set({r:ye.channel.clamp.r(e),g:ye.channel.clamp.g(t),b:ye.channel.clamp.b(r),a:ye.channel.clamp.a(n)});return Ls.stringify(i)},Rk=(e,t)=>ye.lang.round(Ls.parse(e)[t]),AH=e=>{const{r:t,g:r,b:n}=Ls.parse(e),i=.2126*ye.channel.toLinear(t)+.7152*ye.channel.toLinear(r)+.0722*ye.channel.toLinear(n);return ye.lang.round(i)},LH=e=>AH(e)>=.5,Ho=e=>!LH(e),t8=(e,t,r)=>{const n=Ls.parse(e),i=n[t],s=ye.channel.clamp[t](i+r);return i!==s&&(n[t]=s),Ls.stringify(n)},qt=(e,t)=>t8(e,"l",t),ne=(e,t)=>t8(e,"l",-t),pt=(e,t)=>{const r=Ls.parse(e),n={};for(const i in t)t[i]&&(n[i]=r[i]+t[i]);return JR(e,n)},RH=(e,t,r=50)=>{const{r:n,g:i,b:s,a}=Ls.parse(e),{r:o,g:l,b:u,a:h}=Ls.parse(t),d=r/100,f=d*2-1,p=a-h,y=((f*p===-1?f:(f+p)/(1+f*p))+1)/2,b=1-y,x=n*y+o*b,v=i*y+l*b,_=s*y+u*b,S=a*d+h*(1-d);return Co(x,v,_,S)},Vt=(e,t=100)=>{const r=Ls.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,RH(r,e,t)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:e8,setPrototypeOf:T4,isFrozen:IH,getPrototypeOf:NH,getOwnPropertyDescriptor:$H}=Object;let{freeze:Kn,seal:Ji,create:Ov}=Object,{apply:Dv,construct:Mv}=typeof Reflect<"u"&&Reflect;Kn||(Kn=function(t){return t});Ji||(Ji=function(t){return t});Dv||(Dv=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return t.apply(r,i)});Mv||(Mv=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return new t(...n)});const Hg=Qn(Array.prototype.forEach),OH=Qn(Array.prototype.lastIndexOf),k4=Qn(Array.prototype.pop),bd=Qn(Array.prototype.push),DH=Qn(Array.prototype.splice),G1=Qn(String.prototype.toLowerCase),Fx=Qn(String.prototype.toString),Vx=Qn(String.prototype.match),vd=Qn(String.prototype.replace),MH=Qn(String.prototype.indexOf),PH=Qn(String.prototype.trim),hs=Qn(Object.prototype.hasOwnProperty),Fn=Qn(RegExp.prototype.test),_d=BH(TypeError);function Qn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Dv(e,t,n)}}function BH(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Mv(e,r)}}function Se(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G1;T4&&T4(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const s=r(i);s!==i&&(IH(t)||(t[n]=s),i=s)}e[i]=!0}return e}function FH(e){for(let t=0;t<e.length;t++)hs(e,t)||(e[t]=null);return e}function Fs(e){const t=Ov(null);for(const[r,n]of e8(e))hs(e,r)&&(Array.isArray(n)?t[r]=FH(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Fs(n):t[r]=n);return t}function Td(e,t){for(;e!==null;){const n=$H(e,t);if(n){if(n.get)return Qn(n.get);if(typeof n.value=="function")return Qn(n.value)}e=NH(e)}function r(){return null}return r}const w4=Kn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zx=Kn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Wx=Kn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),VH=Kn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ux=Kn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),zH=Kn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),S4=Kn(["#text"]),C4=Kn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Hx=Kn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),E4=Kn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gg=Kn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),WH=Ji(/\{\{[\w\W]*|[\w\W]*\}\}/gm),UH=Ji(/<%[\w\W]*|[\w\W]*%>/gm),HH=Ji(/\$\{[\w\W]*/gm),GH=Ji(/^data-[\-\w.\u00B7-\uFFFF]+$/),qH=Ji(/^aria-[\-\w]+$/),r8=Ji(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),jH=Ji(/^(?:\w+script|data):/i),YH=Ji(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),n8=Ji(/^html$/i),XH=Ji(/^[a-z][.\w]*(-[.\w]+)+$/i);var A4=Object.freeze({__proto__:null,ARIA_ATTR:qH,ATTR_WHITESPACE:YH,CUSTOM_ELEMENT:XH,DATA_ATTR:GH,DOCTYPE_NAME:n8,ERB_EXPR:UH,IS_ALLOWED_URI:r8,IS_SCRIPT_OR_DATA:jH,MUSTACHE_EXPR:WH,TMPLIT_EXPR:HH});const kd={element:1,text:3,progressingInstruction:7,comment:8,document:9},KH=function(){return typeof window>"u"?null:window},QH=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},L4=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function i8(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:KH();const t=Yt=>i8(Yt);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==kd.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:u,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,m=l.prototype,y=Td(m,"cloneNode"),b=Td(m,"remove"),x=Td(m,"nextSibling"),v=Td(m,"childNodes"),_=Td(m,"parentNode");if(typeof a=="function"){const Yt=r.createElement("template");Yt.content&&Yt.content.ownerDocument&&(r=Yt.content.ownerDocument)}let S,k="";const{implementation:T,createNodeIterator:E,createDocumentFragment:I,getElementsByTagName:C}=r,{importNode:R}=n;let w=L4();t.isSupported=typeof e8=="function"&&typeof _=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:$,ERB_EXPR:A,TMPLIT_EXPR:L,DATA_ATTR:N,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:O,CUSTOM_ELEMENT:M}=A4;let{IS_ALLOWED_URI:Y}=A4,F=null;const j=Se({},[...w4,...zx,...Wx,...Ux,...S4]);let it=null;const ft=Se({},[...C4,...Hx,...E4,...Gg]);let J=Object.seal(Ov(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),dt=null,et=null;const St=Object.seal(Ov(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ct=!0,bt=!0,nt=!1,Z=!0,z=!1,V=!0,G=!1,W=!1,ot=!1,B=!1,wt=!1,K=!1,vt=!0,mt=!1;const Nt="user-content-";let lt=!0,xt=!1,st={},ut=null;const _t=Se({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Q=null;const Tt=Se({},["audio","video","img","source","image","track"]);let H=null;const $t=Se({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),q="http://www.w3.org/1998/Math/MathML",At="http://www.w3.org/2000/svg",gt="http://www.w3.org/1999/xhtml";let Mt=gt,kt=!1,Ct=null;const ae=Se({},[q,At,gt],Fx);let Dt=Se({},["mi","mo","mn","ms","mtext"]),ke=Se({},["annotation-xml"]);const zr=Se({},["title","style","font","a","script"]);let pe=null;const Be=["application/xhtml+xml","text/html"],Tr="text/html";let Wt=null,Fe=null;const He=r.createElement("form"),kr=function(at){return at instanceof RegExp||at instanceof Function},te=function(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Fe&&Fe===at)){if((!at||typeof at!="object")&&(at={}),at=Fs(at),pe=Be.indexOf(at.PARSER_MEDIA_TYPE)===-1?Tr:at.PARSER_MEDIA_TYPE,Wt=pe==="application/xhtml+xml"?Fx:G1,F=hs(at,"ALLOWED_TAGS")?Se({},at.ALLOWED_TAGS,Wt):j,it=hs(at,"ALLOWED_ATTR")?Se({},at.ALLOWED_ATTR,Wt):ft,Ct=hs(at,"ALLOWED_NAMESPACES")?Se({},at.ALLOWED_NAMESPACES,Fx):ae,H=hs(at,"ADD_URI_SAFE_ATTR")?Se(Fs($t),at.ADD_URI_SAFE_ATTR,Wt):$t,Q=hs(at,"ADD_DATA_URI_TAGS")?Se(Fs(Tt),at.ADD_DATA_URI_TAGS,Wt):Tt,ut=hs(at,"FORBID_CONTENTS")?Se({},at.FORBID_CONTENTS,Wt):_t,dt=hs(at,"FORBID_TAGS")?Se({},at.FORBID_TAGS,Wt):Fs({}),et=hs(at,"FORBID_ATTR")?Se({},at.FORBID_ATTR,Wt):Fs({}),st=hs(at,"USE_PROFILES")?at.USE_PROFILES:!1,ct=at.ALLOW_ARIA_ATTR!==!1,bt=at.ALLOW_DATA_ATTR!==!1,nt=at.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=at.ALLOW_SELF_CLOSE_IN_ATTR!==!1,z=at.SAFE_FOR_TEMPLATES||!1,V=at.SAFE_FOR_XML!==!1,G=at.WHOLE_DOCUMENT||!1,B=at.RETURN_DOM||!1,wt=at.RETURN_DOM_FRAGMENT||!1,K=at.RETURN_TRUSTED_TYPE||!1,ot=at.FORCE_BODY||!1,vt=at.SANITIZE_DOM!==!1,mt=at.SANITIZE_NAMED_PROPS||!1,lt=at.KEEP_CONTENT!==!1,xt=at.IN_PLACE||!1,Y=at.ALLOWED_URI_REGEXP||r8,Mt=at.NAMESPACE||gt,Dt=at.MATHML_TEXT_INTEGRATION_POINTS||Dt,ke=at.HTML_INTEGRATION_POINTS||ke,J=at.CUSTOM_ELEMENT_HANDLING||{},at.CUSTOM_ELEMENT_HANDLING&&kr(at.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(J.tagNameCheck=at.CUSTOM_ELEMENT_HANDLING.tagNameCheck),at.CUSTOM_ELEMENT_HANDLING&&kr(at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(J.attributeNameCheck=at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),at.CUSTOM_ELEMENT_HANDLING&&typeof at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(J.allowCustomizedBuiltInElements=at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),z&&(bt=!1),wt&&(B=!0),st&&(F=Se({},S4),it=[],st.html===!0&&(Se(F,w4),Se(it,C4)),st.svg===!0&&(Se(F,zx),Se(it,Hx),Se(it,Gg)),st.svgFilters===!0&&(Se(F,Wx),Se(it,Hx),Se(it,Gg)),st.mathMl===!0&&(Se(F,Ux),Se(it,E4),Se(it,Gg))),at.ADD_TAGS&&(typeof at.ADD_TAGS=="function"?St.tagCheck=at.ADD_TAGS:(F===j&&(F=Fs(F)),Se(F,at.ADD_TAGS,Wt))),at.ADD_ATTR&&(typeof at.ADD_ATTR=="function"?St.attributeCheck=at.ADD_ATTR:(it===ft&&(it=Fs(it)),Se(it,at.ADD_ATTR,Wt))),at.ADD_URI_SAFE_ATTR&&Se(H,at.ADD_URI_SAFE_ATTR,Wt),at.FORBID_CONTENTS&&(ut===_t&&(ut=Fs(ut)),Se(ut,at.FORBID_CONTENTS,Wt)),at.ADD_FORBID_CONTENTS&&(ut===_t&&(ut=Fs(ut)),Se(ut,at.ADD_FORBID_CONTENTS,Wt)),lt&&(F["#text"]=!0),G&&Se(F,["html","head","body"]),F.table&&(Se(F,["tbody"]),delete dt.tbody),at.TRUSTED_TYPES_POLICY){if(typeof at.TRUSTED_TYPES_POLICY.createHTML!="function")throw _d('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof at.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _d('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=at.TRUSTED_TYPES_POLICY,k=S.createHTML("")}else S===void 0&&(S=QH(p,i)),S!==null&&typeof k=="string"&&(k=S.createHTML(""));Kn&&Kn(at),Fe=at}},$e=Se({},[...zx,...Wx,...VH]),jt=Se({},[...Ux,...zH]),_e=function(at){let It=_(at);(!It||!It.tagName)&&(It={namespaceURI:Mt,tagName:"template"});const Ut=G1(at.tagName),We=G1(It.tagName);return Ct[at.namespaceURI]?at.namespaceURI===At?It.namespaceURI===gt?Ut==="svg":It.namespaceURI===q?Ut==="svg"&&(We==="annotation-xml"||Dt[We]):!!$e[Ut]:at.namespaceURI===q?It.namespaceURI===gt?Ut==="math":It.namespaceURI===At?Ut==="math"&&ke[We]:!!jt[Ut]:at.namespaceURI===gt?It.namespaceURI===At&&!ke[We]||It.namespaceURI===q&&!Dt[We]?!1:!jt[Ut]&&(zr[Ut]||!$e[Ut]):!!(pe==="application/xhtml+xml"&&Ct[at.namespaceURI]):!1},ee=function(at){bd(t.removed,{element:at});try{_(at).removeChild(at)}catch{b(at)}},Jt=function(at,It){try{bd(t.removed,{attribute:It.getAttributeNode(at),from:It})}catch{bd(t.removed,{attribute:null,from:It})}if(It.removeAttribute(at),at==="is")if(B||wt)try{ee(It)}catch{}else try{It.setAttribute(at,"")}catch{}},Kt=function(at){let It=null,Ut=null;if(ot)at="<remove></remove>"+at;else{const Ue=Vx(at,/^[\r\n\t ]+/);Ut=Ue&&Ue[0]}pe==="application/xhtml+xml"&&Mt===gt&&(at='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+at+"</body></html>");const We=S?S.createHTML(at):at;if(Mt===gt)try{It=new f().parseFromString(We,pe)}catch{}if(!It||!It.documentElement){It=T.createDocument(Mt,"template",null);try{It.documentElement.innerHTML=kt?k:We}catch{}}const Wr=It.body||It.documentElement;return at&&Ut&&Wr.insertBefore(r.createTextNode(Ut),Wr.childNodes[0]||null),Mt===gt?C.call(It,G?"html":"body")[0]:G?It.documentElement:Wr},ve=function(at){return E.call(at.ownerDocument||at,at,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Ir=function(at){return at instanceof d&&(typeof at.nodeName!="string"||typeof at.textContent!="string"||typeof at.removeChild!="function"||!(at.attributes instanceof h)||typeof at.removeAttribute!="function"||typeof at.setAttribute!="function"||typeof at.namespaceURI!="string"||typeof at.insertBefore!="function"||typeof at.hasChildNodes!="function")},Te=function(at){return typeof o=="function"&&at instanceof o};function Ke(Yt,at,It){Hg(Yt,Ut=>{Ut.call(t,at,It,Fe)})}const vn=function(at){let It=null;if(Ke(w.beforeSanitizeElements,at,null),Ir(at))return ee(at),!0;const Ut=Wt(at.nodeName);if(Ke(w.uponSanitizeElement,at,{tagName:Ut,allowedTags:F}),V&&at.hasChildNodes()&&!Te(at.firstElementChild)&&Fn(/<[/\w!]/g,at.innerHTML)&&Fn(/<[/\w!]/g,at.textContent)||at.nodeType===kd.progressingInstruction||V&&at.nodeType===kd.comment&&Fn(/<[/\w]/g,at.data))return ee(at),!0;if(!(St.tagCheck instanceof Function&&St.tagCheck(Ut))&&(!F[Ut]||dt[Ut])){if(!dt[Ut]&&rr(Ut)&&(J.tagNameCheck instanceof RegExp&&Fn(J.tagNameCheck,Ut)||J.tagNameCheck instanceof Function&&J.tagNameCheck(Ut)))return!1;if(lt&&!ut[Ut]){const We=_(at)||at.parentNode,Wr=v(at)||at.childNodes;if(Wr&&We){const Ue=Wr.length;for(let Jr=Ue-1;Jr>=0;--Jr){const ls=y(Wr[Jr],!0);ls.__removalCount=(at.__removalCount||0)+1,We.insertBefore(ls,x(at))}}}return ee(at),!0}return at instanceof l&&!_e(at)||(Ut==="noscript"||Ut==="noembed"||Ut==="noframes")&&Fn(/<\/no(script|embed|frames)/i,at.innerHTML)?(ee(at),!0):(z&&at.nodeType===kd.text&&(It=at.textContent,Hg([$,A,L],We=>{It=vd(It,We," ")}),at.textContent!==It&&(bd(t.removed,{element:at.cloneNode()}),at.textContent=It)),Ke(w.afterSanitizeElements,at,null),!1)},_n=function(at,It,Ut){if(vt&&(It==="id"||It==="name")&&(Ut in r||Ut in He))return!1;if(!(bt&&!et[It]&&Fn(N,It))){if(!(ct&&Fn(D,It))){if(!(St.attributeCheck instanceof Function&&St.attributeCheck(It,at))){if(!it[It]||et[It]){if(!(rr(at)&&(J.tagNameCheck instanceof RegExp&&Fn(J.tagNameCheck,at)||J.tagNameCheck instanceof Function&&J.tagNameCheck(at))&&(J.attributeNameCheck instanceof RegExp&&Fn(J.attributeNameCheck,It)||J.attributeNameCheck instanceof Function&&J.attributeNameCheck(It,at))||It==="is"&&J.allowCustomizedBuiltInElements&&(J.tagNameCheck instanceof RegExp&&Fn(J.tagNameCheck,Ut)||J.tagNameCheck instanceof Function&&J.tagNameCheck(Ut))))return!1}else if(!H[It]){if(!Fn(Y,vd(Ut,O,""))){if(!((It==="src"||It==="xlink:href"||It==="href")&&at!=="script"&&MH(Ut,"data:")===0&&Q[at])){if(!(nt&&!Fn(P,vd(Ut,O,"")))){if(Ut)return!1}}}}}}}return!0},rr=function(at){return at!=="annotation-xml"&&Vx(at,M)},Di=function(at){Ke(w.beforeSanitizeAttributes,at,null);const{attributes:It}=at;if(!It||Ir(at))return;const Ut={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:it,forceKeepAttr:void 0};let We=It.length;for(;We--;){const Wr=It[We],{name:Ue,namespaceURI:Jr,value:ls}=Wr,cs=Wt(Ue),Mi=ls;let zt=Ue==="value"?Mi:PH(Mi);if(Ut.attrName=cs,Ut.attrValue=zt,Ut.keepAttr=!0,Ut.forceKeepAttr=void 0,Ke(w.uponSanitizeAttribute,at,Ut),zt=Ut.attrValue,mt&&(cs==="id"||cs==="name")&&(Jt(Ue,at),zt=Nt+zt),V&&Fn(/((--!?|])>)|<\/(style|title|textarea)/i,zt)){Jt(Ue,at);continue}if(cs==="attributename"&&Vx(zt,"href")){Jt(Ue,at);continue}if(Ut.forceKeepAttr)continue;if(!Ut.keepAttr){Jt(Ue,at);continue}if(!Z&&Fn(/\/>/i,zt)){Jt(Ue,at);continue}z&&Hg([$,A,L],ge=>{zt=vd(zt,ge," ")});const oe=Wt(at.nodeName);if(!_n(oe,cs,zt)){Jt(Ue,at);continue}if(S&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Jr)switch(p.getAttributeType(oe,cs)){case"TrustedHTML":{zt=S.createHTML(zt);break}case"TrustedScriptURL":{zt=S.createScriptURL(zt);break}}if(zt!==Mi)try{Jr?at.setAttributeNS(Jr,Ue,zt):at.setAttribute(Ue,zt),Ir(at)?ee(at):k4(t.removed)}catch{Jt(Ue,at)}}Ke(w.afterSanitizeAttributes,at,null)},os=function Yt(at){let It=null;const Ut=ve(at);for(Ke(w.beforeSanitizeShadowDOM,at,null);It=Ut.nextNode();)Ke(w.uponSanitizeShadowNode,It,null),vn(It),Di(It),It.content instanceof s&&Yt(It.content);Ke(w.afterSanitizeShadowDOM,at,null)};return t.sanitize=function(Yt){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},It=null,Ut=null,We=null,Wr=null;if(kt=!Yt,kt&&(Yt="<!-->"),typeof Yt!="string"&&!Te(Yt))if(typeof Yt.toString=="function"){if(Yt=Yt.toString(),typeof Yt!="string")throw _d("dirty is not a string, aborting")}else throw _d("toString is not a function");if(!t.isSupported)return Yt;if(W||te(at),t.removed=[],typeof Yt=="string"&&(xt=!1),xt){if(Yt.nodeName){const ls=Wt(Yt.nodeName);if(!F[ls]||dt[ls])throw _d("root node is forbidden and cannot be sanitized in-place")}}else if(Yt instanceof o)It=Kt("<!---->"),Ut=It.ownerDocument.importNode(Yt,!0),Ut.nodeType===kd.element&&Ut.nodeName==="BODY"||Ut.nodeName==="HTML"?It=Ut:It.appendChild(Ut);else{if(!B&&!z&&!G&&Yt.indexOf("<")===-1)return S&&K?S.createHTML(Yt):Yt;if(It=Kt(Yt),!It)return B?null:K?k:""}It&&ot&&ee(It.firstChild);const Ue=ve(xt?Yt:It);for(;We=Ue.nextNode();)vn(We),Di(We),We.content instanceof s&&os(We.content);if(xt)return Yt;if(B){if(wt)for(Wr=I.call(It.ownerDocument);It.firstChild;)Wr.appendChild(It.firstChild);else Wr=It;return(it.shadowroot||it.shadowrootmode)&&(Wr=R.call(n,Wr,!0)),Wr}let Jr=G?It.outerHTML:It.innerHTML;return G&&F["!doctype"]&&It.ownerDocument&&It.ownerDocument.doctype&&It.ownerDocument.doctype.name&&Fn(n8,It.ownerDocument.doctype.name)&&(Jr="<!DOCTYPE "+It.ownerDocument.doctype.name+`>
`+Jr),z&&Hg([$,A,L],ls=>{Jr=vd(Jr,ls," ")}),S&&K?S.createHTML(Jr):Jr},t.setConfig=function(){let Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(Yt),W=!0},t.clearConfig=function(){Fe=null,W=!1},t.isValidAttribute=function(Yt,at,It){Fe||te({});const Ut=Wt(Yt),We=Wt(at);return _n(Ut,We,It)},t.addHook=function(Yt,at){typeof at=="function"&&bd(w[Yt],at)},t.removeHook=function(Yt,at){if(at!==void 0){const It=OH(w[Yt],at);return It===-1?void 0:DH(w[Yt],It,1)[0]}return k4(w[Yt])},t.removeHooks=function(Yt){w[Yt]=[]},t.removeAllHooks=function(){w=L4()},t}var Sh=i8(),s8=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,jf=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ZH=/\s*%%.*\n/gm,ku,a8=(ku=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},g(ku,"UnknownDiagramError"),ku),zl={},Ik=g(function(e,t){e=e.replace(s8,"").replace(jf,"").replace(ZH,`
`);for(const[r,{detector:n}]of Object.entries(zl))if(n(e,t))return r;throw new a8(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Pv=g((...e)=>{for(const{id:t,detector:r,loader:n}of e)o8(t,r,n)},"registerLazyLoadedDiagrams"),o8=g((e,t,r)=>{zl[e]&&U.warn(`Detector with key ${e} already exists. Overwriting.`),zl[e]={detector:t,loader:r},U.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),JH=g(e=>zl[e].loader,"getDiagramLoader"),Bv=g((e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>Bv(e,s,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=Bv(e[s],t[s],{depth:r-1,clobber:n})):(n||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),Ar=Bv,Gy="#ffffff",qy="#f2f2f2",Gn=g((e,t)=>t?pt(e,{s:-40,l:10}):pt(e,{s:-40,l:-10}),"mkBorder"),wu,tG=(wu=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,i,s,a,o,l,u,h,d,f,p,m,y,b,x,v,_,S,k,T;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||pt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||pt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Gn(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Gn(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Gn(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Vt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Vt(this.tertiaryColor),this.lineColor=this.lineColor||Vt(this.background),this.arrowheadColor=this.arrowheadColor||Vt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?ne(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||ne(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Vt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||qt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||ne(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ne(this.mainBkg,10)):(this.rowOdd=this.rowOdd||qt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||qt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||pt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||pt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||pt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||pt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||pt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||pt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||pt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||pt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||pt(this.primaryColor,{h:330}),this.darkMode)for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScale"+E]=ne(this["cScale"+E],75);else for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScale"+E]=ne(this["cScale"+E],25);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleInv"+E]=this["cScaleInv"+E]||Vt(this["cScale"+E]);for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this.darkMode?this["cScalePeer"+E]=this["cScalePeer"+E]||qt(this["cScale"+E],10):this["cScalePeer"+E]=this["cScalePeer"+E]||ne(this["cScale"+E],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let E=0;E<this.THEME_COLOR_LIMIT;E++)this["cScaleLabel"+E]=this["cScaleLabel"+E]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let E=0;E<5;E++)this["surface"+E]=this["surface"+E]||pt(this.mainBkg,{h:180,s:-15,l:t*(5+E*3)}),this["surfacePeer"+E]=this["surfacePeer"+E]||pt(this.mainBkg,{h:180,s:-15,l:t*(8+E*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||pt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||pt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||pt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||pt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||pt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||pt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||pt(this.primaryColor,{l:-10}),this.pie5=this.pie5||pt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||pt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||pt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||pt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||pt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||pt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||pt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||pt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((l=this.radar)==null?void 0:l.graticuleStrokeWidth)||1,graticuleOpacity:((u=this.radar)==null?void 0:u.graticuleOpacity)||.3,legendBoxSize:((h=this.radar)==null?void 0:h.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||pt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||pt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||pt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||pt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||pt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||pt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ho(this.quadrant1Fill)?qt(this.quadrant1Fill):ne(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((f=this.xyChart)==null?void 0:f.backgroundColor)||this.background,titleColor:((p=this.xyChart)==null?void 0:p.titleColor)||this.primaryTextColor,xAxisTitleColor:((m=this.xyChart)==null?void 0:m.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((y=this.xyChart)==null?void 0:y.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((b=this.xyChart)==null?void 0:b.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((x=this.xyChart)==null?void 0:x.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((v=this.xyChart)==null?void 0:v.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((_=this.xyChart)==null?void 0:_.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((S=this.xyChart)==null?void 0:S.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((k=this.xyChart)==null?void 0:k.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((T=this.xyChart)==null?void 0:T.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ne(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||pt(this.primaryColor,{h:-30}),this.git4=this.git4||pt(this.primaryColor,{h:-60}),this.git5=this.git5||pt(this.primaryColor,{h:-90}),this.git6=this.git6||pt(this.primaryColor,{h:60}),this.git7=this.git7||pt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qt(this.git0,25),this.git1=qt(this.git1,25),this.git2=qt(this.git2,25),this.git3=qt(this.git3,25),this.git4=qt(this.git4,25),this.git5=qt(this.git5,25),this.git6=qt(this.git6,25),this.git7=qt(this.git7,25)):(this.git0=ne(this.git0,25),this.git1=ne(this.git1,25),this.git2=ne(this.git2,25),this.git3=ne(this.git3,25),this.git4=ne(this.git4,25),this.git5=ne(this.git5,25),this.git6=ne(this.git6,25),this.git7=ne(this.git7,25)),this.gitInv0=this.gitInv0||Vt(this.git0),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Gy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qy}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},g(wu,"Theme"),wu),eG=g(e=>{const t=new tG;return t.calculate(e),t},"getThemeVariables"),Su,rG=(Su=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=qt(this.primaryColor,16),this.tertiaryColor=pt(this.primaryColor,{h:-160}),this.primaryBorderColor=Vt(this.background),this.secondaryBorderColor=Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gn(this.tertiaryColor,this.darkMode),this.primaryTextColor=Vt(this.primaryColor),this.secondaryTextColor=Vt(this.secondaryColor),this.tertiaryTextColor=Vt(this.tertiaryColor),this.lineColor=Vt(this.background),this.textColor=Vt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=qt(Vt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Co(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=ne("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=ne(this.sectionBkgColor,10),this.taskBorderColor=Co(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Co(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||qt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||ne(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,r,n,i,s,a,o,l,u,h,d,f,p,m,y,b,x,v,_,S,k;this.secondBkg=qt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=qt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=qt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=pt(this.primaryColor,{h:64}),this.fillType3=pt(this.secondaryColor,{h:64}),this.fillType4=pt(this.primaryColor,{h:-64}),this.fillType5=pt(this.secondaryColor,{h:-64}),this.fillType6=pt(this.primaryColor,{h:128}),this.fillType7=pt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||pt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||pt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||pt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||pt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||pt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||pt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||pt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||pt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||pt(this.primaryColor,{h:330});for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||Vt(this["cScale"+T]);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScalePeer"+T]=this["cScalePeer"+T]||qt(this["cScale"+T],10);for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||pt(this.mainBkg,{h:30,s:-30,l:-(-10+T*4)}),this["surfacePeer"+T]=this["surfacePeer"+T]||pt(this.mainBkg,{h:30,s:-30,l:-(-7+T*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.scaleLabelColor;for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["pie"+T]=this["cScale"+T];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||pt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||pt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||pt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||pt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||pt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||pt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ho(this.quadrant1Fill)?qt(this.quadrant1Fill):ne(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((m=this.radar)==null?void 0:m.axisLabelFontSize)||12,curveOpacity:((y=this.radar)==null?void 0:y.curveOpacity)||.5,curveStrokeWidth:((b=this.radar)==null?void 0:b.curveStrokeWidth)||2,graticuleColor:((x=this.radar)==null?void 0:x.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((v=this.radar)==null?void 0:v.graticuleStrokeWidth)||1,graticuleOpacity:((_=this.radar)==null?void 0:_.graticuleOpacity)||.3,legendBoxSize:((S=this.radar)==null?void 0:S.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ne(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=qt(this.secondaryColor,20),this.git1=qt(this.pie2||this.secondaryColor,20),this.git2=qt(this.pie3||this.tertiaryColor,20),this.git3=qt(this.pie4||pt(this.primaryColor,{h:-30}),20),this.git4=qt(this.pie5||pt(this.primaryColor,{h:-60}),20),this.git5=qt(this.pie6||pt(this.primaryColor,{h:-90}),10),this.git6=qt(this.pie7||pt(this.primaryColor,{h:60}),10),this.git7=qt(this.pie8||pt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Vt(this.git0),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Vt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Vt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||qt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},g(Su,"Theme"),Su),nG=g(e=>{const t=new rG;return t.calculate(e),t},"getThemeVariables"),Cu,iG=(Cu=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=pt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=pt(this.primaryColor,{h:-160}),this.primaryBorderColor=Gn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gn(this.tertiaryColor,this.darkMode),this.primaryTextColor=Vt(this.primaryColor),this.secondaryTextColor=Vt(this.secondaryColor),this.tertiaryTextColor=Vt(this.tertiaryColor),this.lineColor=Vt(this.background),this.textColor=Vt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Co(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,r,n,i,s,a,o,l,u,h,d,f,p,m,y,b,x,v,_,S,k;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||pt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||pt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||pt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||pt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||pt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||pt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||pt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||pt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||pt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ne(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ne(this.tertiaryColor,40);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScale"+T]=ne(this["cScale"+T],10),this["cScalePeer"+T]=this["cScalePeer"+T]||ne(this["cScale"+T],25);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||pt(this["cScale"+T],{h:180});for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||pt(this.mainBkg,{h:30,l:-(5+T*5)}),this["surfacePeer"+T]=this["surfacePeer"+T]||pt(this.mainBkg,{h:30,l:-(7+T*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Vt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Vt(this.labelTextColor);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=qt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||qt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||qt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=pt(this.primaryColor,{h:64}),this.fillType3=pt(this.secondaryColor,{h:64}),this.fillType4=pt(this.primaryColor,{h:-64}),this.fillType5=pt(this.secondaryColor,{h:-64}),this.fillType6=pt(this.primaryColor,{h:128}),this.fillType7=pt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||pt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||pt(this.primaryColor,{l:-10}),this.pie5=this.pie5||pt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||pt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||pt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||pt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||pt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||pt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||pt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||pt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||pt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||pt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||pt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||pt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||pt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||pt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ho(this.quadrant1Fill)?qt(this.quadrant1Fill):ne(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)==null?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.xyChart={backgroundColor:((d=this.xyChart)==null?void 0:d.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((m=this.xyChart)==null?void 0:m.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((y=this.xyChart)==null?void 0:y.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((b=this.xyChart)==null?void 0:b.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((x=this.xyChart)==null?void 0:x.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((_=this.xyChart)==null?void 0:_.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((S=this.xyChart)==null?void 0:S.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||pt(this.primaryColor,{h:-30}),this.git4=this.git4||pt(this.primaryColor,{h:-60}),this.git5=this.git5||pt(this.primaryColor,{h:-90}),this.git6=this.git6||pt(this.primaryColor,{h:60}),this.git7=this.git7||pt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qt(this.git0,25),this.git1=qt(this.git1,25),this.git2=qt(this.git2,25),this.git3=qt(this.git3,25),this.git4=qt(this.git4,25),this.git5=qt(this.git5,25),this.git6=qt(this.git6,25),this.git7=qt(this.git7,25)):(this.git0=ne(this.git0,25),this.git1=ne(this.git1,25),this.git2=ne(this.git2,25),this.git3=ne(this.git3,25),this.git4=ne(this.git4,25),this.git5=ne(this.git5,25),this.git6=ne(this.git6,25),this.git7=ne(this.git7,25)),this.gitInv0=this.gitInv0||ne(Vt(this.git0),25),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Vt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Vt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Gy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qy}calculate(t){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},g(Cu,"Theme"),Cu),jy=g(e=>{const t=new iG;return t.calculate(e),t},"getThemeVariables"),Eu,sG=(Eu=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=qt("#cde498",10),this.primaryBorderColor=Gn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gn(this.tertiaryColor,this.darkMode),this.primaryTextColor=Vt(this.primaryColor),this.secondaryTextColor=Vt(this.secondaryColor),this.tertiaryTextColor=Vt(this.primaryColor),this.lineColor=Vt(this.background),this.textColor=Vt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,s,a,o,l,u,h,d,f,p,m,y,b,x,v,_,S,k;this.actorBorder=ne(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||pt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||pt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||pt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||pt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||pt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||pt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||pt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||pt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||pt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ne(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ne(this.tertiaryColor,40);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScale"+T]=ne(this["cScale"+T],10),this["cScalePeer"+T]=this["cScalePeer"+T]||ne(this["cScale"+T],25);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||pt(this["cScale"+T],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.scaleLabelColor;for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||pt(this.mainBkg,{h:30,s:-30,l:-(5+T*5)}),this["surfacePeer"+T]=this["surfacePeer"+T]||pt(this.mainBkg,{h:30,s:-30,l:-(8+T*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||qt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||qt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=pt(this.primaryColor,{h:64}),this.fillType3=pt(this.secondaryColor,{h:64}),this.fillType4=pt(this.primaryColor,{h:-64}),this.fillType5=pt(this.secondaryColor,{h:-64}),this.fillType6=pt(this.primaryColor,{h:128}),this.fillType7=pt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||pt(this.primaryColor,{l:-30}),this.pie5=this.pie5||pt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||pt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||pt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||pt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||pt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||pt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||pt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||pt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||pt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||pt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||pt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||pt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||pt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||pt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ho(this.quadrant1Fill)?qt(this.quadrant1Fill):ne(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((i=this.radar)==null?void 0:i.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)==null?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((l=this.radar)==null?void 0:l.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((h=this.radar)==null?void 0:h.legendFontSize)||12},this.xyChart={backgroundColor:((d=this.xyChart)==null?void 0:d.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((p=this.xyChart)==null?void 0:p.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((m=this.xyChart)==null?void 0:m.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((y=this.xyChart)==null?void 0:y.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((b=this.xyChart)==null?void 0:b.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((x=this.xyChart)==null?void 0:x.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((v=this.xyChart)==null?void 0:v.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((_=this.xyChart)==null?void 0:_.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((S=this.xyChart)==null?void 0:S.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||pt(this.primaryColor,{h:-30}),this.git4=this.git4||pt(this.primaryColor,{h:-60}),this.git5=this.git5||pt(this.primaryColor,{h:-90}),this.git6=this.git6||pt(this.primaryColor,{h:60}),this.git7=this.git7||pt(this.primaryColor,{h:120}),this.darkMode?(this.git0=qt(this.git0,25),this.git1=qt(this.git1,25),this.git2=qt(this.git2,25),this.git3=qt(this.git3,25),this.git4=qt(this.git4,25),this.git5=qt(this.git5,25),this.git6=qt(this.git6,25),this.git7=qt(this.git7,25)):(this.git0=ne(this.git0,25),this.git1=ne(this.git1,25),this.git2=ne(this.git2,25),this.git3=ne(this.git3,25),this.git4=ne(this.git4,25),this.git5=ne(this.git5,25),this.git6=ne(this.git6,25),this.git7=ne(this.git7,25)),this.gitInv0=this.gitInv0||Vt(this.git0),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Vt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Vt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Gy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qy}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},g(Eu,"Theme"),Eu),aG=g(e=>{const t=new sG;return t.calculate(e),t},"getThemeVariables"),Au,oG=(Au=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=qt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=pt(this.primaryColor,{h:-160}),this.primaryBorderColor=Gn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Gn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Gn(this.tertiaryColor,this.darkMode),this.primaryTextColor=Vt(this.primaryColor),this.secondaryTextColor=Vt(this.secondaryColor),this.tertiaryTextColor=Vt(this.tertiaryColor),this.lineColor=Vt(this.background),this.textColor=Vt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||qt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,r,n,i,s,a,o,l,u,h,d,f,p,m,y,b,x,v,_,S,k;this.secondBkg=qt(this.contrast,55),this.border2=this.contrast,this.actorBorder=qt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||Vt(this["cScale"+T]);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this.darkMode?this["cScalePeer"+T]=this["cScalePeer"+T]||qt(this["cScale"+T],10):this["cScalePeer"+T]=this["cScalePeer"+T]||ne(this["cScale"+T],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.scaleLabelColor;for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||pt(this.mainBkg,{l:-(5+T*5)}),this["surfacePeer"+T]=this["surfacePeer"+T]||pt(this.mainBkg,{l:-(8+T*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=qt(this.contrast,30),this.sectionBkgColor2=qt(this.contrast,30),this.taskBorderColor=ne(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=qt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=ne(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=pt(this.primaryColor,{h:64}),this.fillType3=pt(this.secondaryColor,{h:64}),this.fillType4=pt(this.primaryColor,{h:-64}),this.fillType5=pt(this.secondaryColor,{h:-64}),this.fillType6=pt(this.primaryColor,{h:128}),this.fillType7=pt(this.secondaryColor,{h:128});for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["pie"+T]=this["cScale"+T];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||pt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||pt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||pt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||pt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||pt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||pt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Ho(this.quadrant1Fill)?qt(this.quadrant1Fill):ne(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((h=this.xyChart)==null?void 0:h.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((d=this.xyChart)==null?void 0:d.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((p=this.radar)==null?void 0:p.axisStrokeWidth)||2,axisLabelFontSize:((m=this.radar)==null?void 0:m.axisLabelFontSize)||12,curveOpacity:((y=this.radar)==null?void 0:y.curveOpacity)||.5,curveStrokeWidth:((b=this.radar)==null?void 0:b.curveStrokeWidth)||2,graticuleColor:((x=this.radar)==null?void 0:x.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((v=this.radar)==null?void 0:v.graticuleStrokeWidth)||1,graticuleOpacity:((_=this.radar)==null?void 0:_.graticuleOpacity)||.3,legendBoxSize:((S=this.radar)==null?void 0:S.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ne(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||pt(this.primaryColor,{h:-30}),this.git4=this.pie5||pt(this.primaryColor,{h:-60}),this.git5=this.pie6||pt(this.primaryColor,{h:-90}),this.git6=this.pie7||pt(this.primaryColor,{h:60}),this.git7=this.pie8||pt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Vt(this.git0),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Gy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qy}calculate(t){if(typeof t!="object"){this.updateColors();return}const r=Object.keys(t);r.forEach(n=>{this[n]=t[n]}),this.updateColors(),r.forEach(n=>{this[n]=t[n]})}},g(Au,"Theme"),Au),lG=g(e=>{const t=new oG;return t.calculate(e),t},"getThemeVariables"),Ba={base:{getThemeVariables:eG},dark:{getThemeVariables:nG},default:{getThemeVariables:jy},forest:{getThemeVariables:aG},neutral:{getThemeVariables:lG}},Ps={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},l8={...Ps,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Ba.default.getThemeVariables(),sequence:{...Ps.sequence,messageFont:g(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:g(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:g(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Ps.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Ps.c4,useWidth:void 0,personFont:g(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Ps.flowchart,inheritDir:!1},external_personFont:g(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:g(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:g(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:g(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:g(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:g(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:g(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:g(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:g(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:g(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:g(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:g(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:g(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:g(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:g(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:g(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:g(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:g(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:g(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:g(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:g(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Ps.pie,useWidth:984},xyChart:{...Ps.xyChart,useWidth:void 0},requirement:{...Ps.requirement,useWidth:void 0},packet:{...Ps.packet},radar:{...Ps.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},c8=g((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...c8(e[n],"")]:[...r,t+n],[]),"keyify"),cG=new Set(c8(l8,"")),Re=l8,V0=g(e=>{if(U.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>V0(t));return}for(const t of Object.keys(e)){if(U.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!cG.has(t)||e[t]==null){U.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){U.debug("sanitizing object",t),V0(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(U.debug("sanitizing css option",t),e[t]=uG(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}U.debug("After sanitization",e)}},"sanitizeDirective"),uG=g(e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),Ch=Object.freeze(Re),ai=Ar({},Ch),z0,Wl=[],Yf=Ar({},Ch),Yy=g((e,t)=>{let r=Ar({},e),n={};for(const i of t)d8(i),n=Ar(n,i);if(r=Ar(r,n),n.theme&&n.theme in Ba){const i=Ar({},z0),s=Ar(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Ba&&(r.themeVariables=Ba[r.theme].getThemeVariables(s))}return Yf=r,f8(Yf),Yf},"updateCurrentConfig"),hG=g(e=>(ai=Ar({},Ch),ai=Ar(ai,e),e.theme&&Ba[e.theme]&&(ai.themeVariables=Ba[e.theme].getThemeVariables(e.themeVariables)),Yy(ai,Wl),ai),"setSiteConfig"),dG=g(e=>{z0=Ar({},e)},"saveConfigFromInitialize"),fG=g(e=>(ai=Ar(ai,e),Yy(ai,Wl),ai),"updateSiteConfig"),u8=g(()=>Ar({},ai),"getSiteConfig"),h8=g(e=>(f8(e),Ar(Yf,e),De()),"setConfig"),De=g(()=>Ar({},Yf),"getConfig"),d8=g(e=>{e&&(["secure",...ai.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(U.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&d8(e[t])}))},"sanitize"),pG=g(e=>{var t;V0(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Wl.push(e),Yy(ai,Wl)},"addDirective"),W0=g((e=ai)=>{Wl=[],Yy(e,Wl)},"reset"),gG={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},R4={},mG=g(e=>{R4[e]||(U.warn(gG[e]),R4[e]=!0)},"issueWarning"),f8=g(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&mG("LAZY_LOAD_DEPRECATED")},"checkConfig"),yG=g(()=>{let e={};z0&&(e=Ar(e,z0));for(const t of Wl)e=Ar(e,t);return e},"getUserDefinedConfig"),nd=/<br\s*\/?>/gi,xG=g(e=>e?m8(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),bG=(()=>{let e=!1;return()=>{e||(p8(),e=!0)}})();function p8(){const e="data-temp-href-target";Sh.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Sh.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}g(p8,"setupDompurifyHooks");var g8=g(e=>(bG(),Sh.sanitize(e)),"removeScript"),I4=g((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=t.securityLevel;n==="antiscript"||n==="strict"?e=g8(e):n!=="loose"&&(e=m8(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=kG(e))}return e},"sanitizeMore"),Ne=g((e,t)=>e&&(t.dompurifyConfig?e=Sh.sanitize(I4(e,t),t.dompurifyConfig).toString():e=Sh.sanitize(I4(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),vG=g((e,t)=>typeof e=="string"?Ne(e,t):e.flat().map(r=>Ne(r,t)),"sanitizeTextOrArray"),_G=g(e=>nd.test(e),"hasBreaks"),TG=g(e=>e.split(nd),"splitBreaks"),kG=g(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),m8=g(e=>e.replace(nd,"#br#"),"breakToPlaceholder"),Xy=g(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),Ze=g(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),wG=g(function(...e){const t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),SG=g(function(...e){const t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),go=g(function(e){const t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){const s=t[n-1],a=t[n+1];CG(s,a)&&(i=s+","+a,n++,r.pop())}r.push(EG(i))}return r.join("")},"parseGenericTypes"),Fv=g((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),CG=g((e,t)=>{const r=Fv(e,"~"),n=Fv(t,"~");return r===1&&n===1},"shouldCombineSets"),EG=g(e=>{const t=Fv(e,"~");let r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),s=n.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)n[i]="<",n[s]=">",i=n.indexOf("~"),s=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),N4=g(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Vv=/\$\$(.*)\$\$/g,vr=g(e=>{var t;return(((t=e.match(Vv))==null?void 0:t.length)??0)>0},"hasKatex"),ig=g(async(e,t)=>{const r=document.createElement("div");r.innerHTML=await sg(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),AG=g(async(e,t)=>{if(!vr(e))return e;if(!(N4()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Vv,"MathML is unsupported in this environment.");{const{default:r}=await Ce(async()=>{const{default:i}=await import("./katex.Cu_Erd72.js");return{default:i}},[]),n=t.forceLegacyMathML||!N4()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(nd).map(i=>vr(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(Vv,(i,s)=>r.renderToString(s,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),sg=g(async(e,t)=>Ne(await AG(e,t),t),"renderKatexSanitized"),Ot={getRows:xG,sanitizeText:Ne,sanitizeTextOrArray:vG,hasBreaks:_G,splitBreaks:TG,lineBreakRegex:nd,removeScript:g8,getUrl:Xy,evaluate:Ze,getMax:wG,getMin:SG},LG=g(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),RG=g(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),ei=g(function(e,t,r,n){const i=RG(t,r,n);LG(e,i)},"configureSvgSize"),ag=g(function(e,t,r,n){const i=t.node().getBBox(),s=i.width,a=i.height;U.info(`SVG bounds: ${s}x${a}`,i);let o=0,l=0;U.info(`Graph bounds: ${o}x${l}`,e),o=s+r*2,l=a+r*2,U.info(`Calculated bounds: ${o}x${l}`),ei(t,l,o,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",u)},"setupGraphViewbox"),q1={},IG=g((e,t,r)=>{let n="";return e in q1&&q1[e]?n=q1[e](r):U.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),NG=g((e,t)=>{t!==void 0&&(q1[e]=t)},"addStylesForDiagram"),$G=IG,Nk={};Uy(Nk,{clear:()=>Fr,getAccDescription:()=>Qr,getAccTitle:()=>Xr,getDiagramTitle:()=>Vr,setAccDescription:()=>Kr,setAccTitle:()=>Pr,setDiagramTitle:()=>on});var $k="",Ok="",Dk="",Mk=g(e=>Ne(e,De()),"sanitizeText"),Fr=g(()=>{$k="",Dk="",Ok=""},"clear"),Pr=g(e=>{$k=Mk(e).replace(/^\s+/g,"")},"setAccTitle"),Xr=g(()=>$k,"getAccTitle"),Kr=g(e=>{Dk=Mk(e).replace(/\n\s+/g,`
`)},"setAccDescription"),Qr=g(()=>Dk,"getAccDescription"),on=g(e=>{Ok=Mk(e)},"setDiagramTitle"),Vr=g(()=>Ok,"getDiagramTitle"),$4=U,OG=Lk,rt=De,zv=h8,y8=Ch,Pk=g(e=>Ne(e,rt()),"sanitizeText"),x8=ag,DG=g(()=>Nk,"getCommonDb"),U0={},H0=g((e,t,r)=>{var n;U0[e]&&$4.warn(`Diagram with id ${e} already registered. Overwriting.`),U0[e]=t,r&&o8(e,r),NG(e,t.styles),(n=t.injectUtils)==null||n.call(t,$4,OG,rt,Pk,x8,DG(),()=>{})},"registerDiagram"),Wv=g(e=>{if(e in U0)return U0[e];throw new MG(e)},"getDiagram"),Lu,MG=(Lu=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},g(Lu,"DiagramNotFoundError"),Lu);function j1(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bk(e){let t,r,n;e.length!==2?(t=j1,r=(o,l)=>j1(e(o),l),n=(o,l)=>e(o)-l):(t=e===j1||e===PG?e:BG,r=e,n=e);function i(o,l,u=0,h=o.length){if(u<h){if(t(l,l)!==0)return h;do{const d=u+h>>>1;r(o[d],l)<0?u=d+1:h=d}while(u<h)}return u}function s(o,l,u=0,h=o.length){if(u<h){if(t(l,l)!==0)return h;do{const d=u+h>>>1;r(o[d],l)<=0?u=d+1:h=d}while(u<h)}return u}function a(o,l,u=0,h=o.length){const d=i(o,l,u,h-1);return d>u&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function BG(){return 0}function FG(e){return e===null?NaN:+e}const VG=Bk(j1),zG=VG.right;Bk(FG).center;class O4 extends Map{constructor(t,r=HG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(D4(this,t))}has(t){return super.has(D4(this,t))}set(t,r){return super.set(WG(this,t),r)}delete(t){return super.delete(UG(this,t))}}function D4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function WG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function UG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function HG(e){return e!==null&&typeof e=="object"?e.valueOf():e}const GG=Math.sqrt(50),qG=Math.sqrt(10),jG=Math.sqrt(2);function G0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=GG?10:s>=qG?5:s>=jG?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?G0(e,t,r*2):[o,l,u]}function YG(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?G0(t,e,r):G0(e,t,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function Uv(e,t,r){return t=+t,e=+e,r=+r,G0(e,t,r)[2]}function Hv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Uv(t,e,r):Uv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function XG(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function KG(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function QG(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function ZG(e){return e}var Y1=1,Gx=2,Gv=3,qg=4,M4=1e-6;function JG(e){return"translate("+e+",0)"}function tq(e){return"translate(0,"+e+")"}function eq(e){return t=>+e(t)}function rq(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function nq(){return!this.__axis}function b8(e,t){var r=[],n=null,i=null,s=6,a=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Y1||e===qg?-1:1,h=e===qg||e===Gx?"x":"y",d=e===Y1||e===Gv?JG:tq;function f(p){var m=n??(t.ticks?t.ticks.apply(t,r):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,r):ZG),b=Math.max(s,0)+o,x=t.range(),v=+x[0]+l,_=+x[x.length-1]+l,S=(t.bandwidth?rq:eq)(t.copy(),l),k=p.selection?p.selection():p,T=k.selectAll(".domain").data([null]),E=k.selectAll(".tick").data(m,t).order(),I=E.exit(),C=E.enter().append("g").attr("class","tick"),R=E.select("line"),w=E.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(C),R=R.merge(C.append("line").attr("stroke","currentColor").attr(h+"2",u*s)),w=w.merge(C.append("text").attr("fill","currentColor").attr(h,u*b).attr("dy",e===Y1?"0em":e===Gv?"0.71em":"0.32em")),p!==k&&(T=T.transition(p),E=E.transition(p),R=R.transition(p),w=w.transition(p),I=I.transition(p).attr("opacity",M4).attr("transform",function($){return isFinite($=S($))?d($+l):this.getAttribute("transform")}),C.attr("opacity",M4).attr("transform",function($){var A=this.parentNode.__axis;return d((A&&isFinite(A=A($))?A:S($))+l)})),I.remove(),T.attr("d",e===qg||e===Gx?a?"M"+u*a+","+v+"H"+l+"V"+_+"H"+u*a:"M"+l+","+v+"V"+_:a?"M"+v+","+u*a+"V"+l+"H"+_+"V"+u*a:"M"+v+","+l+"H"+_),E.attr("opacity",1).attr("transform",function($){return d(S($)+l)}),R.attr(h+"2",u*s),w.attr(h,u*b).text(y),k.filter(nq).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Gx?"start":e===qg?"end":"middle"),k.each(function(){this.__axis=S})}return f.scale=function(p){return arguments.length?(t=p,f):t},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),f):r.slice()},f.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),f):n&&n.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(s=a=+p,f):s},f.tickSizeInner=function(p){return arguments.length?(s=+p,f):s},f.tickSizeOuter=function(p){return arguments.length?(a=+p,f):a},f.tickPadding=function(p){return arguments.length?(o=+p,f):o},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function iq(e){return b8(Y1,e)}function sq(e){return b8(Gv,e)}var aq={value:()=>{}};function v8(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new X1(r)}function X1(e){this._=e}function oq(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}X1.prototype=v8.prototype={constructor:X1,on:function(e,t){var r=this._,n=oq(e+"",r),i,s=-1,a=n.length;if(arguments.length<2){for(;++s<a;)if((i=(e=n[s]).type)&&(i=lq(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=n[s]).type)r[i]=P4(r[i],e.name,t);else if(t==null)for(i in r)r[i]=P4(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new X1(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,s;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,i=s.length;n<i;++n)s[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,s=n.length;i<s;++i)n[i].value.apply(t,r)}};function lq(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function P4(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=aq,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var qv="http://www.w3.org/1999/xhtml";const B4={svg:"http://www.w3.org/2000/svg",xhtml:qv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ky(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),B4.hasOwnProperty(t)?{space:B4[t],local:e}:e}function cq(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===qv&&t.documentElement.namespaceURI===qv?t.createElement(e):t.createElementNS(r,e)}}function uq(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _8(e){var t=Ky(e);return(t.local?uq:cq)(t)}function hq(){}function Fk(e){return e==null?hq:function(){return this.querySelector(e)}}function dq(e){typeof e!="function"&&(e=Fk(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=new Array(a),l,u,h=0;h<a;++h)(l=s[h])&&(u=e.call(l,l.__data__,h,s))&&("__data__"in l&&(u.__data__=l.__data__),o[h]=u);return new Ci(n,this._parents)}function fq(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function pq(){return[]}function T8(e){return e==null?pq:function(){return this.querySelectorAll(e)}}function gq(e){return function(){return fq(e.apply(this,arguments))}}function mq(e){typeof e=="function"?e=gq(e):e=T8(e);for(var t=this._groups,r=t.length,n=[],i=[],s=0;s<r;++s)for(var a=t[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&(n.push(e.call(l,l.__data__,u,a)),i.push(l));return new Ci(n,i)}function k8(e){return function(){return this.matches(e)}}function w8(e){return function(t){return t.matches(e)}}var yq=Array.prototype.find;function xq(e){return function(){return yq.call(this.children,e)}}function bq(){return this.firstElementChild}function vq(e){return this.select(e==null?bq:xq(typeof e=="function"?e:w8(e)))}var _q=Array.prototype.filter;function Tq(){return Array.from(this.children)}function kq(e){return function(){return _q.call(this.children,e)}}function wq(e){return this.selectAll(e==null?Tq:kq(typeof e=="function"?e:w8(e)))}function Sq(e){typeof e!="function"&&(e=k8(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,u=0;u<a;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new Ci(n,this._parents)}function S8(e){return new Array(e.length)}function Cq(){return new Ci(this._enter||this._groups.map(S8),this._parents)}function q0(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}q0.prototype={constructor:q0,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Eq(e){return function(){return e}}function Aq(e,t,r,n,i,s){for(var a=0,o,l=t.length,u=s.length;a<u;++a)(o=t[a])?(o.__data__=s[a],n[a]=o):r[a]=new q0(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function Lq(e,t,r,n,i,s,a){var o,l,u=new Map,h=t.length,d=s.length,f=new Array(h),p;for(o=0;o<h;++o)(l=t[o])&&(f[o]=p=a.call(l,l.__data__,o,t)+"",u.has(p)?i[o]=l:u.set(p,l));for(o=0;o<d;++o)p=a.call(e,s[o],o,s)+"",(l=u.get(p))?(n[o]=l,l.__data__=s[o],u.delete(p)):r[o]=new q0(e,s[o]);for(o=0;o<h;++o)(l=t[o])&&u.get(f[o])===l&&(i[o]=l)}function Rq(e){return e.__data__}function Iq(e,t){if(!arguments.length)return Array.from(this,Rq);var r=t?Lq:Aq,n=this._parents,i=this._groups;typeof e!="function"&&(e=Eq(e));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),u=0;u<s;++u){var h=n[u],d=i[u],f=d.length,p=Nq(e.call(h,h&&h.__data__,u,n)),m=p.length,y=o[u]=new Array(m),b=a[u]=new Array(m),x=l[u]=new Array(f);r(h,d,y,b,x,p,t);for(var v=0,_=0,S,k;v<m;++v)if(S=y[v]){for(v>=_&&(_=v+1);!(k=b[_])&&++_<m;);S._next=k||null}}return a=new Ci(a,n),a._enter=o,a._exit=l,a}function Nq(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $q(){return new Ci(this._exit||this._groups.map(S8),this._parents)}function Oq(e,t,r){var n=this.enter(),i=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?s.remove():r(s),n&&i?n.merge(i).order():i}function Dq(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,s=n.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var u=r[l],h=n[l],d=u.length,f=o[l]=new Array(d),p,m=0;m<d;++m)(p=u[m]||h[m])&&(f[m]=p);for(;l<i;++l)o[l]=r[l];return new Ci(o,this._parents)}function Mq(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,s=n[i],a;--i>=0;)(a=n[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Pq(e){e||(e=Bq);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s){for(var a=r[s],o=a.length,l=i[s]=new Array(o),u,h=0;h<o;++h)(u=a[h])&&(l[h]=u);l.sort(t)}return new Ci(i,this._parents).order()}function Bq(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Fq(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Vq(){return Array.from(this)}function zq(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null}function Wq(){let e=0;for(const t of this)++e;return e}function Uq(){return!this.node()}function Hq(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function Gq(e){return function(){this.removeAttribute(e)}}function qq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jq(e,t){return function(){this.setAttribute(e,t)}}function Yq(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Xq(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Kq(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Qq(e,t){var r=Ky(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?qq:Gq:typeof t=="function"?r.local?Kq:Xq:r.local?Yq:jq)(r,t))}function C8(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Zq(e){return function(){this.style.removeProperty(e)}}function Jq(e,t,r){return function(){this.style.setProperty(e,t,r)}}function tj(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function ej(e,t,r){return arguments.length>1?this.each((t==null?Zq:typeof t=="function"?tj:Jq)(e,t,r??"")):Eh(this.node(),e)}function Eh(e,t){return e.style.getPropertyValue(t)||C8(e).getComputedStyle(e,null).getPropertyValue(t)}function rj(e){return function(){delete this[e]}}function nj(e,t){return function(){this[e]=t}}function ij(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function sj(e,t){return arguments.length>1?this.each((t==null?rj:typeof t=="function"?ij:nj)(e,t)):this.node()[e]}function E8(e){return e.trim().split(/^|\s+/)}function Vk(e){return e.classList||new A8(e)}function A8(e){this._node=e,this._names=E8(e.getAttribute("class")||"")}A8.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function L8(e,t){for(var r=Vk(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function R8(e,t){for(var r=Vk(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function aj(e){return function(){L8(this,e)}}function oj(e){return function(){R8(this,e)}}function lj(e,t){return function(){(t.apply(this,arguments)?L8:R8)(this,e)}}function cj(e,t){var r=E8(e+"");if(arguments.length<2){for(var n=Vk(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?lj:t?aj:oj)(r,t))}function uj(){this.textContent=""}function hj(e){return function(){this.textContent=e}}function dj(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fj(e){return arguments.length?this.each(e==null?uj:(typeof e=="function"?dj:hj)(e)):this.node().textContent}function pj(){this.innerHTML=""}function gj(e){return function(){this.innerHTML=e}}function mj(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function yj(e){return arguments.length?this.each(e==null?pj:(typeof e=="function"?mj:gj)(e)):this.node().innerHTML}function xj(){this.nextSibling&&this.parentNode.appendChild(this)}function bj(){return this.each(xj)}function vj(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _j(){return this.each(vj)}function Tj(e){var t=typeof e=="function"?e:_8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function kj(){return null}function wj(e,t){var r=typeof e=="function"?e:_8(e),n=t==null?kj:typeof t=="function"?t:Fk(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Sj(){var e=this.parentNode;e&&e.removeChild(this)}function Cj(){return this.each(Sj)}function Ej(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Aj(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Lj(e){return this.select(e?Aj:Ej)}function Rj(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ij(e){return function(t){e.call(this,t,this.__data__)}}function Nj(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function $j(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,s;r<i;++r)s=t[r],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function Oj(e,t,r){return function(){var n=this.__on,i,s=Ij(t);if(n){for(var a=0,o=n.length;a<o;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=r),i.value=t;return}}this.addEventListener(e.type,s,r),i={type:e.type,name:e.name,value:t,listener:s,options:r},n?n.push(i):this.__on=[i]}}function Dj(e,t,r){var n=Nj(e+""),i,s=n.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,h;l<u;++l)for(i=0,h=o[l];i<s;++i)if((a=n[i]).type===h.type&&a.name===h.name)return h.value}return}for(o=t?Oj:$j,i=0;i<s;++i)this.each(o(n[i],t,r));return this}function I8(e,t,r){var n=C8(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Mj(e,t){return function(){return I8(this,e,t)}}function Pj(e,t){return function(){return I8(this,e,t.apply(this,arguments))}}function Bj(e,t){return this.each((typeof t=="function"?Pj:Mj)(e,t))}function*Fj(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,s=n.length,a;i<s;++i)(a=n[i])&&(yield a)}var N8=[null];function Ci(e,t){this._groups=e,this._parents=t}function og(){return new Ci([[document.documentElement]],N8)}function Vj(){return this}Ci.prototype=og.prototype={constructor:Ci,select:dq,selectAll:mq,selectChild:vq,selectChildren:wq,filter:Sq,data:Iq,enter:Cq,exit:$q,join:Oq,merge:Dq,selection:Vj,order:Mq,sort:Pq,call:Fq,nodes:Vq,node:zq,size:Wq,empty:Uq,each:Hq,attr:Qq,style:ej,property:sj,classed:cj,text:fj,html:yj,raise:bj,lower:_j,append:Tj,insert:wj,remove:Cj,clone:Lj,datum:Rj,on:Dj,dispatch:Bj,[Symbol.iterator]:Fj};function Lt(e){return typeof e=="string"?new Ci([[document.querySelector(e)]],[document.documentElement]):new Ci([[e]],N8)}function lg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qy(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hc(){}var dp=.7,j0=1/dp,hu="\\s*([+-]?\\d+)\\s*",fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zj=/^#([0-9a-f]{3,8})$/,Wj=new RegExp(`^rgb\\(${hu},${hu},${hu}\\)$`),Uj=new RegExp(`^rgb\\(${ta},${ta},${ta}\\)$`),Hj=new RegExp(`^rgba\\(${hu},${hu},${hu},${fp}\\)$`),Gj=new RegExp(`^rgba\\(${ta},${ta},${ta},${fp}\\)$`),qj=new RegExp(`^hsl\\(${fp},${ta},${ta}\\)$`),jj=new RegExp(`^hsla\\(${fp},${ta},${ta},${fp}\\)$`),F4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lg(hc,Ul,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:V4,formatHex:V4,formatHex8:Yj,formatHsl:Xj,formatRgb:z4,toString:z4});function V4(){return this.rgb().formatHex()}function Yj(){return this.rgb().formatHex8()}function Xj(){return O8(this).formatHsl()}function z4(){return this.rgb().formatRgb()}function Ul(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zj.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?W4(t):r===3?new $n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Wj.exec(e))?new $n(t[1],t[2],t[3],1):(t=Uj.exec(e))?new $n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Hj.exec(e))?jg(t[1],t[2],t[3],t[4]):(t=Gj.exec(e))?jg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qj.exec(e))?G4(t[1],t[2]/100,t[3]/100,1):(t=jj.exec(e))?G4(t[1],t[2]/100,t[3]/100,t[4]):F4.hasOwnProperty(e)?W4(F4[e]):e==="transparent"?new $n(NaN,NaN,NaN,0):null}function W4(e){return new $n(e>>16&255,e>>8&255,e&255,1)}function jg(e,t,r,n){return n<=0&&(e=t=r=NaN),new $n(e,t,r,n)}function $8(e){return e instanceof hc||(e=Ul(e)),e?(e=e.rgb(),new $n(e.r,e.g,e.b,e.opacity)):new $n}function jv(e,t,r,n){return arguments.length===1?$8(e):new $n(e,t,r,n??1)}function $n(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}lg($n,jv,Qy(hc,{brighter(e){return e=e==null?j0:Math.pow(j0,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dp:Math.pow(dp,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $n(Ml(this.r),Ml(this.g),Ml(this.b),Y0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U4,formatHex:U4,formatHex8:Kj,formatRgb:H4,toString:H4}));function U4(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}`}function Kj(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}${wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function H4(){const e=Y0(this.opacity);return`${e===1?"rgb(":"rgba("}${Ml(this.r)}, ${Ml(this.g)}, ${Ml(this.b)}${e===1?")":`, ${e})`}`}function Y0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ml(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wl(e){return e=Ml(e),(e<16?"0":"")+e.toString(16)}function G4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ms(e,t,r,n)}function O8(e){if(e instanceof ms)return new ms(e.h,e.s,e.l,e.opacity);if(e instanceof hc||(e=Ul(e)),!e)return new ms;if(e instanceof ms)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-t)/o+2:a=(t-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new ms(a,o,l,e.opacity)}function Qj(e,t,r,n){return arguments.length===1?O8(e):new ms(e,t,r,n??1)}function ms(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}lg(ms,Qj,Qy(hc,{brighter(e){return e=e==null?j0:Math.pow(j0,e),new ms(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dp:Math.pow(dp,e),new ms(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new $n(qx(e>=240?e-240:e+120,i,n),qx(e,i,n),qx(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ms(q4(this.h),Yg(this.s),Yg(this.l),Y0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Y0(this.opacity);return`${e===1?"hsl(":"hsla("}${q4(this.h)}, ${Yg(this.s)*100}%, ${Yg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function q4(e){return e=(e||0)%360,e<0?e+360:e}function Yg(e){return Math.max(0,Math.min(1,e||0))}function qx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Zj=Math.PI/180,Jj=180/Math.PI,X0=18,D8=.96422,M8=1,P8=.82521,B8=4/29,du=6/29,F8=3*du*du,tY=du*du*du;function V8(e){if(e instanceof ea)return new ea(e.l,e.a,e.b,e.opacity);if(e instanceof Na)return z8(e);e instanceof $n||(e=$8(e));var t=Kx(e.r),r=Kx(e.g),n=Kx(e.b),i=jx((.2225045*t+.7168786*r+.0606169*n)/M8),s,a;return t===r&&r===n?s=a=i:(s=jx((.4360747*t+.3850649*r+.1430804*n)/D8),a=jx((.0139322*t+.0971045*r+.7141733*n)/P8)),new ea(116*i-16,500*(s-i),200*(i-a),e.opacity)}function eY(e,t,r,n){return arguments.length===1?V8(e):new ea(e,t,r,n??1)}function ea(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}lg(ea,eY,Qy(hc,{brighter(e){return new ea(this.l+X0*(e??1),this.a,this.b,this.opacity)},darker(e){return new ea(this.l-X0*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=D8*Yx(t),e=M8*Yx(e),r=P8*Yx(r),new $n(Xx(3.1338561*t-1.6168667*e-.4906146*r),Xx(-.9787684*t+1.9161415*e+.033454*r),Xx(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function jx(e){return e>tY?Math.pow(e,1/3):e/F8+B8}function Yx(e){return e>du?e*e*e:F8*(e-B8)}function Xx(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Kx(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function rY(e){if(e instanceof Na)return new Na(e.h,e.c,e.l,e.opacity);if(e instanceof ea||(e=V8(e)),e.a===0&&e.b===0)return new Na(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Jj;return new Na(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Yv(e,t,r,n){return arguments.length===1?rY(e):new Na(e,t,r,n??1)}function Na(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function z8(e){if(isNaN(e.h))return new ea(e.l,0,0,e.opacity);var t=e.h*Zj;return new ea(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}lg(Na,Yv,Qy(hc,{brighter(e){return new Na(this.h,this.c,this.l+X0*(e??1),this.opacity)},darker(e){return new Na(this.h,this.c,this.l-X0*(e??1),this.opacity)},rgb(){return z8(this).rgb()}}));const Zy=e=>()=>e;function W8(e,t){return function(r){return e+r*t}}function nY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function iY(e,t){var r=t-e;return r?W8(e,r>180||r<-180?r-360*Math.round(r/360):r):Zy(isNaN(e)?t:e)}function sY(e){return(e=+e)==1?Xf:function(t,r){return r-t?nY(t,r,e):Zy(isNaN(t)?r:t)}}function Xf(e,t){var r=t-e;return r?W8(e,r):Zy(isNaN(e)?t:e)}const K0=function e(t){var r=sY(t);function n(i,s){var a=r((i=jv(i)).r,(s=jv(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),u=Xf(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=o(h),i.b=l(h),i.opacity=u(h),i+""}}return n.gamma=e,n}(1);function aY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function oY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=zk(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function cY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function fs(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function uY(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=zk(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Xv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qx=new RegExp(Xv.source,"g");function hY(e){return function(){return e}}function dY(e){return function(t){return e(t)+""}}function U8(e,t){var r=Xv.lastIndex=Qx.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Xv.exec(e))&&(i=Qx.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:fs(n,i)})),r=Qx.lastIndex;return r<t.length&&(s=t.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?dY(l[0].x):hY(t):(t=l.length,function(u){for(var h=0,d;h<t;++h)o[(d=l[h]).i]=d.x(u);return o.join("")})}function zk(e,t){var r=typeof t,n;return t==null||r==="boolean"?Zy(t):(r==="number"?fs:r==="string"?(n=Ul(t))?(t=n,K0):U8:t instanceof Ul?K0:t instanceof Date?cY:oY(t)?aY:Array.isArray(t)?lY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uY:fs)(e,t)}function fY(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var j4=180/Math.PI,Kv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H8(e,t,r,n,i,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*j4,skewX:Math.atan(l)*j4,scaleX:a,scaleY:o}}var Xg;function pY(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Kv:H8(t.a,t.b,t.c,t.d,t.e,t.f)}function gY(e){return e==null||(Xg||(Xg=document.createElementNS("http://www.w3.org/2000/svg","g")),Xg.setAttribute("transform",e),!(e=Xg.transform.baseVal.consolidate()))?Kv:(e=e.matrix,H8(e.a,e.b,e.c,e.d,e.e,e.f))}function G8(e,t,r,n){function i(u){return u.length?u.pop()+" ":""}function s(u,h,d,f,p,m){if(u!==d||h!==f){var y=p.push("translate(",null,t,null,r);m.push({i:y-4,x:fs(u,d)},{i:y-2,x:fs(h,f)})}else(d||f)&&p.push("translate("+d+t+f+r)}function a(u,h,d,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,n)-2,x:fs(u,h)})):h&&d.push(i(d)+"rotate("+h+n)}function o(u,h,d,f){u!==h?f.push({i:d.push(i(d)+"skewX(",null,n)-2,x:fs(u,h)}):h&&d.push(i(d)+"skewX("+h+n)}function l(u,h,d,f,p,m){if(u!==d||h!==f){var y=p.push(i(p)+"scale(",null,",",null,")");m.push({i:y-4,x:fs(u,d)},{i:y-2,x:fs(h,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,h){var d=[],f=[];return u=e(u),h=e(h),s(u.translateX,u.translateY,h.translateX,h.translateY,d,f),a(u.rotate,h.rotate,d,f),o(u.skewX,h.skewX,d,f),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,f),u=h=null,function(p){for(var m=-1,y=f.length,b;++m<y;)d[(b=f[m]).i]=b.x(p);return d.join("")}}}var mY=G8(pY,"px, ","px)","deg)"),yY=G8(gY,", ",")",")");function xY(e){return function(t,r){var n=e((t=Yv(t)).h,(r=Yv(r)).h),i=Xf(t.c,r.c),s=Xf(t.l,r.l),a=Xf(t.opacity,r.opacity);return function(o){return t.h=n(o),t.c=i(o),t.l=s(o),t.opacity=a(o),t+""}}}const bY=xY(iY);var Ah=0,Ud=0,wd=0,q8=1e3,Q0,Hd,Z0=0,Hl=0,Jy=0,pp=typeof performance=="object"&&performance.now?performance:Date,j8=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wk(){return Hl||(j8(vY),Hl=pp.now()+Jy)}function vY(){Hl=0}function J0(){this._call=this._time=this._next=null}J0.prototype=Y8.prototype={constructor:J0,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Wk():+r)+(t==null?0:+t),!this._next&&Hd!==this&&(Hd?Hd._next=this:Q0=this,Hd=this),this._call=e,this._time=r,Qv()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qv())}};function Y8(e,t,r){var n=new J0;return n.restart(e,t,r),n}function _Y(){Wk(),++Ah;for(var e=Q0,t;e;)(t=Hl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ah}function Y4(){Hl=(Z0=pp.now())+Jy,Ah=Ud=0;try{_Y()}finally{Ah=0,kY(),Hl=0}}function TY(){var e=pp.now(),t=e-Z0;t>q8&&(Jy-=t,Z0=e)}function kY(){for(var e,t=Q0,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Q0=r);Hd=e,Qv(n)}function Qv(e){if(!Ah){Ud&&(Ud=clearTimeout(Ud));var t=e-Hl;t>24?(e<1/0&&(Ud=setTimeout(Y4,e-pp.now()-Jy)),wd&&(wd=clearInterval(wd))):(wd||(Z0=pp.now(),wd=setInterval(TY,q8)),Ah=1,j8(Y4))}}function X4(e,t,r){var n=new J0;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var wY=v8("start","end","cancel","interrupt"),SY=[],X8=0,K4=1,Zv=2,K1=3,Q4=4,Jv=5,Q1=6;function t2(e,t,r,n,i,s){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;CY(e,r,{name:t,index:n,group:i,on:wY,tween:SY,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:X8})}function Uk(e,t){var r=$s(e,t);if(r.state>X8)throw new Error("too late; already scheduled");return r}function oa(e,t){var r=$s(e,t);if(r.state>K1)throw new Error("too late; already running");return r}function $s(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function CY(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Y8(s,0,r.time);function s(u){r.state=K4,r.timer.restart(a,r.delay,r.time),r.delay<=u&&a(u-r.delay)}function a(u){var h,d,f,p;if(r.state!==K4)return l();for(h in n)if(p=n[h],p.name===r.name){if(p.state===K1)return X4(a);p.state===Q4?(p.state=Q1,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[h]):+h<t&&(p.state=Q1,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[h])}if(X4(function(){r.state===K1&&(r.state=Q4,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=Zv,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Zv){for(r.state=K1,i=new Array(f=r.tween.length),h=0,d=-1;h<f;++h)(p=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(i[++d]=p);i.length=d+1}}function o(u){for(var h=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(l),r.state=Jv,1),d=-1,f=i.length;++d<f;)i[d].call(e,h);r.state===Jv&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Q1,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function EY(e,t){var r=e.__transition,n,i,s=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){s=!1;continue}i=n.state>Zv&&n.state<Jv,n.state=Q1,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}s&&delete e.__transition}}function AY(e){return this.each(function(){EY(this,e)})}function LY(e,t){var r,n;return function(){var i=oa(this,e),s=i.tween;if(s!==r){n=r=s;for(var a=0,o=n.length;a<o;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function RY(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var s=oa(this,e),a=s.tween;if(a!==n){i=(n=a).slice();for(var o={name:t,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}s.tween=i}}function IY(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=$s(this.node(),r).tween,i=0,s=n.length,a;i<s;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?LY:RY)(r,e,t))}function Hk(e,t,r){var n=e._id;return e.each(function(){var i=oa(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return $s(i,n).value[t]}}function K8(e,t){var r;return(typeof t=="number"?fs:t instanceof Ul?K0:(r=Ul(t))?(t=r,K0):U8)(e,t)}function NY(e){return function(){this.removeAttribute(e)}}function $Y(e){return function(){this.removeAttributeNS(e.space,e.local)}}function OY(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===n?s:s=t(n=a,r)}}function DY(e,t,r){var n,i=r+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?s:s=t(n=a,r)}}function MY(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function PY(e,t,r){var n,i,s;return function(){var a,o=r(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=o+"",a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o)))}}function BY(e,t){var r=Ky(e),n=r==="transform"?yY:K8;return this.attrTween(e,typeof t=="function"?(r.local?PY:MY)(r,n,Hk(this,"attr."+e,t)):t==null?(r.local?$Y:NY)(r):(r.local?DY:OY)(r,n,t))}function FY(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function VY(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function zY(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&VY(e,s)),r}return i._value=t,i}function WY(e,t){var r,n;function i(){var s=t.apply(this,arguments);return s!==n&&(r=(n=s)&&FY(e,s)),r}return i._value=t,i}function UY(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Ky(e);return this.tween(r,(n.local?zY:WY)(n,t))}function HY(e,t){return function(){Uk(this,e).delay=+t.apply(this,arguments)}}function GY(e,t){return t=+t,function(){Uk(this,e).delay=t}}function qY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?HY:GY)(t,e)):$s(this.node(),t).delay}function jY(e,t){return function(){oa(this,e).duration=+t.apply(this,arguments)}}function YY(e,t){return t=+t,function(){oa(this,e).duration=t}}function XY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jY:YY)(t,e)):$s(this.node(),t).duration}function KY(e,t){if(typeof t!="function")throw new Error;return function(){oa(this,e).ease=t}}function QY(e){var t=this._id;return arguments.length?this.each(KY(t,e)):$s(this.node(),t).ease}function ZY(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;oa(this,e).ease=r}}function JY(e){if(typeof e!="function")throw new Error;return this.each(ZY(this._id,e))}function tX(e){typeof e!="function"&&(e=k8(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var s=t[i],a=s.length,o=n[i]=[],l,u=0;u<a;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new Ga(n,this._parents,this._name,this._id)}function eX(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,s=Math.min(n,i),a=new Array(n),o=0;o<s;++o)for(var l=t[o],u=r[o],h=l.length,d=a[o]=new Array(h),f,p=0;p<h;++p)(f=l[p]||u[p])&&(d[p]=f);for(;o<n;++o)a[o]=t[o];return new Ga(a,this._parents,this._name,this._id)}function rX(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function nX(e,t,r){var n,i,s=rX(t)?Uk:oa;return function(){var a=s(this,e),o=a.on;o!==n&&(i=(n=o).copy()).on(t,r),a.on=i}}function iX(e,t){var r=this._id;return arguments.length<2?$s(this.node(),r).on.on(e):this.each(nX(r,e,t))}function sX(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function aX(){return this.on("end.remove",sX(this._id))}function oX(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Fk(e));for(var n=this._groups,i=n.length,s=new Array(i),a=0;a<i;++a)for(var o=n[a],l=o.length,u=s[a]=new Array(l),h,d,f=0;f<l;++f)(h=o[f])&&(d=e.call(h,h.__data__,f,o))&&("__data__"in h&&(d.__data__=h.__data__),u[f]=d,t2(u[f],t,r,f,u,$s(h,r)));return new Ga(s,this._parents,t,r)}function lX(e){var t=this._name,r=this._id;typeof e!="function"&&(e=T8(e));for(var n=this._groups,i=n.length,s=[],a=[],o=0;o<i;++o)for(var l=n[o],u=l.length,h,d=0;d<u;++d)if(h=l[d]){for(var f=e.call(h,h.__data__,d,l),p,m=$s(h,r),y=0,b=f.length;y<b;++y)(p=f[y])&&t2(p,t,r,y,f,m);s.push(f),a.push(h)}return new Ga(s,a,t,r)}var cX=og.prototype.constructor;function uX(){return new cX(this._groups,this._parents)}function hX(e,t){var r,n,i;return function(){var s=Eh(this,e),a=(this.style.removeProperty(e),Eh(this,e));return s===a?null:s===r&&a===n?i:i=t(r=s,n=a)}}function Q8(e){return function(){this.style.removeProperty(e)}}function dX(e,t,r){var n,i=r+"",s;return function(){var a=Eh(this,e);return a===i?null:a===n?s:s=t(n=a,r)}}function fX(e,t,r){var n,i,s;return function(){var a=Eh(this,e),o=r(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),Eh(this,e))),a===l?null:a===n&&l===i?s:(i=l,s=t(n=a,o))}}function pX(e,t){var r,n,i,s="style."+t,a="end."+s,o;return function(){var l=oa(this,e),u=l.on,h=l.value[s]==null?o||(o=Q8(t)):void 0;(u!==r||i!==h)&&(n=(r=u).copy()).on(a,i=h),l.on=n}}function gX(e,t,r){var n=(e+="")=="transform"?mY:K8;return t==null?this.styleTween(e,hX(e,n)).on("end.style."+e,Q8(e)):typeof t=="function"?this.styleTween(e,fX(e,n,Hk(this,"style."+e,t))).each(pX(this._id,e)):this.styleTween(e,dX(e,n,t),r).on("end.style."+e,null)}function mX(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function yX(e,t,r){var n,i;function s(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&mX(e,a,r)),n}return s._value=t,s}function xX(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,yX(e,t,r??""))}function bX(e){return function(){this.textContent=e}}function vX(e){return function(){var t=e(this);this.textContent=t??""}}function _X(e){return this.tween("text",typeof e=="function"?vX(Hk(this,"text",e)):bX(e==null?"":e+""))}function TX(e){return function(t){this.textContent=e.call(this,t)}}function kX(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&TX(i)),t}return n._value=e,n}function wX(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,kX(e))}function SX(){for(var e=this._name,t=this._id,r=Z8(),n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,u=0;u<o;++u)if(l=a[u]){var h=$s(l,t);t2(l,e,r,u,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ga(n,this._parents,e,r)}function CX(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};r.each(function(){var u=oa(this,n),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&s()})}var EX=0;function Ga(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Z8(){return++EX}var xa=og.prototype;Ga.prototype={constructor:Ga,select:oX,selectAll:lX,selectChild:xa.selectChild,selectChildren:xa.selectChildren,filter:tX,merge:eX,selection:uX,transition:SX,call:xa.call,nodes:xa.nodes,node:xa.node,size:xa.size,empty:xa.empty,each:xa.each,on:iX,attr:BY,attrTween:UY,style:gX,styleTween:xX,text:_X,textTween:wX,remove:aX,tween:IY,delay:qY,duration:XY,ease:QY,easeVarying:JY,end:CX,[Symbol.iterator]:xa[Symbol.iterator]};function AX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var LX={time:null,delay:0,duration:250,ease:AX};function RX(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function IX(e){var t,r;e instanceof Ga?(t=e._id,e=e._name):(t=Z8(),(r=LX).time=Wk(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var a=n[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&t2(l,e,t,u,a,r||RX(l,t));return new Ga(n,this._parents,e,t)}og.prototype.interrupt=AY;og.prototype.transition=IX;const t_=Math.PI,e_=2*t_,ml=1e-6,NX=e_-ml;function J8(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $X(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return J8;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let OX=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?J8:$X(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-t,u=i-r,h=a-t,d=o-r,f=h*h+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>ml)if(!(Math.abs(d*l-u*h)>ml)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-a,m=i-o,y=l*l+u*u,b=p*p+m*m,x=Math.sqrt(y),v=Math.sqrt(f),_=s*Math.tan((t_-Math.acos((y+f-b)/(2*x*v)))/2),S=_/v,k=_/x;Math.abs(S-1)>ml&&this._append`L${t+S*h},${r+S*d}`,this._append`A${s},${s},0,0,${+(d*p>h*m)},${this._x1=t+k*l},${this._y1=r+k*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,h=r+l,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>ml||Math.abs(this._y1-h)>ml)&&this._append`L${u},${h}`,n&&(f<0&&(f=f%e_+e_),f>NX?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=h}`:f>ml&&this._append`A${n},${n},0,${+(f>=t_)},${d},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function DX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Lh(e){return e=tm(Math.abs(e)),e?e[1]:NaN}function MX(e,t){return function(r,n){for(var i=r.length,s=[],a=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function PX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var BX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function em(e){if(!(t=BX.exec(e)))throw new Error("invalid format: "+e);var t;return new Gk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}em.prototype=Gk.prototype;function Gk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FX(e){t:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break t;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var t7;function VX(e,t){var r=tm(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(t7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+tm(e,Math.max(0,t+s-1))[0]}function Z4(e,t){var r=tm(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const J4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:DX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Z4(e*100,t),r:Z4,s:VX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tC(e){return e}var eC=Array.prototype.map,rC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zX(e){var t=e.grouping===void 0||e.thousands===void 0?tC:MX(eC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?tC:PX(eC.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=em(d);var f=d.fill,p=d.align,m=d.sign,y=d.symbol,b=d.zero,x=d.width,v=d.comma,_=d.precision,S=d.trim,k=d.type;k==="n"?(v=!0,k="g"):J4[k]||(_===void 0&&(_=12),S=!0,k="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var T=y==="$"?r:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",E=y==="$"?n:/[%p]/.test(k)?a:"",I=J4[k],C=/[defgprs%]/.test(k);_=_===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(w){var $=T,A=E,L,N,D;if(k==="c")A=I(w)+A,w="";else{w=+w;var P=w<0||1/w<0;if(w=isNaN(w)?l:I(Math.abs(w),_),S&&(w=FX(w)),P&&+w==0&&m!=="+"&&(P=!1),$=(P?m==="("?m:o:m==="-"||m==="("?"":m)+$,A=(k==="s"?rC[8+t7/3]:"")+A+(P&&m==="("?")":""),C){for(L=-1,N=w.length;++L<N;)if(D=w.charCodeAt(L),48>D||D>57){A=(D===46?i+w.slice(L+1):w.slice(L))+A,w=w.slice(0,L);break}}}v&&!b&&(w=t(w,1/0));var O=$.length+w.length+A.length,M=O<x?new Array(x-O+1).join(f):"";switch(v&&b&&(w=t(M+w,M.length?x-A.length:1/0),M=""),p){case"<":w=$+w+A+M;break;case"=":w=$+M+w+A;break;case"^":w=M.slice(0,O=M.length>>1)+$+w+A+M.slice(O);break;default:w=M+$+w+A;break}return s(w)}return R.toString=function(){return d+""},R}function h(d,f){var p=u((d=em(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Lh(f)/3)))*3,y=Math.pow(10,-m),b=rC[8+m/3];return function(x){return p(y*x)+b}}return{format:u,formatPrefix:h}}var Kg,bl,e7;WX({thousands:",",grouping:[3],currency:["$",""]});function WX(e){return Kg=zX(e),bl=Kg.format,e7=Kg.formatPrefix,Kg}function UX(e){return Math.max(0,-Lh(Math.abs(e)))}function HX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lh(t)/3)))*3-Lh(Math.abs(e)))}function GX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lh(t)-Lh(e))+1}function qX(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function jX(){return this.eachAfter(qX)}function YX(e,t){let r=-1;for(const n of this)e.call(t,n,++r,this);return this}function XX(e,t){for(var r=this,n=[r],i,s,a=-1;r=n.pop();)if(e.call(t,r,++a,this),i=r.children)for(s=i.length-1;s>=0;--s)n.push(i[s]);return this}function KX(e,t){for(var r=this,n=[r],i=[],s,a,o,l=-1;r=n.pop();)if(i.push(r),s=r.children)for(a=0,o=s.length;a<o;++a)n.push(s[a]);for(;r=i.pop();)e.call(t,r,++l,this);return this}function QX(e,t){let r=-1;for(const n of this)if(e.call(t,n,++r,this))return n}function ZX(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)r+=n[i].value;t.value=r})}function JX(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function tK(e){for(var t=this,r=eK(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var i=n.length;e!==r;)n.splice(i,0,e),e=e.parent;return n}function eK(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),i=null;for(e=r.pop(),t=n.pop();e===t;)i=e,e=r.pop(),t=n.pop();return i}function rK(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function nK(){return Array.from(this)}function iK(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function sK(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function*aK(){var e=this,t,r=[e],n,i,s;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,n=e.children)for(i=0,s=n.length;i<s;++i)r.push(n[i]);while(r.length)}function qk(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=cK)):t===void 0&&(t=lK);for(var r=new rm(e),n,i=[r],s,a,o,l;n=i.pop();)if((a=t(n.data))&&(l=(a=Array.from(a)).length))for(n.children=a,o=l-1;o>=0;--o)i.push(s=a[o]=new rm(a[o])),s.parent=n,s.depth=n.depth+1;return r.eachBefore(hK)}function oK(){return qk(this).eachBefore(uK)}function lK(e){return e.children}function cK(e){return Array.isArray(e)?e[1]:null}function uK(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function hK(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function rm(e){this.data=e,this.depth=this.height=0,this.parent=null}rm.prototype=qk.prototype={constructor:rm,count:jX,each:YX,eachAfter:KX,eachBefore:XX,find:QX,sum:ZX,sort:JX,path:tK,ancestors:rK,descendants:nK,leaves:iK,links:sK,copy:oK,[Symbol.iterator]:aK};function dK(e){if(typeof e!="function")throw new Error;return e}function Sd(){return 0}function Cd(e){return function(){return e}}function fK(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function pK(e,t,r,n,i){for(var s=e.children,a,o=-1,l=s.length,u=e.value&&(n-t)/e.value;++o<l;)a=s[o],a.y0=r,a.y1=i,a.x0=t,a.x1=t+=a.value*u}function gK(e,t,r,n,i){for(var s=e.children,a,o=-1,l=s.length,u=e.value&&(i-r)/e.value;++o<l;)a=s[o],a.x0=t,a.x1=n,a.y0=r,a.y1=r+=a.value*u}var mK=(1+Math.sqrt(5))/2;function yK(e,t,r,n,i,s){for(var a=[],o=t.children,l,u,h=0,d=0,f=o.length,p,m,y=t.value,b,x,v,_,S,k,T;h<f;){p=i-r,m=s-n;do b=o[d++].value;while(!b&&d<f);for(x=v=b,k=Math.max(m/p,p/m)/(y*e),T=b*b*k,S=Math.max(v/T,T/x);d<f;++d){if(b+=u=o[d].value,u<x&&(x=u),u>v&&(v=u),T=b*b*k,_=Math.max(v/T,T/x),_>S){b-=u;break}S=_}a.push(l={value:b,dice:p<m,children:o.slice(h,d)}),l.dice?pK(l,r,n,i,y?n+=m*b/y:s):gK(l,r,n,y?r+=p*b/y:i,s),y-=b,h=d}return a}const xK=function e(t){function r(n,i,s,a,o){yK(t,n,i,s,a,o)}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(mK);function bK(){var e=xK,t=!1,r=1,n=1,i=[0],s=Sd,a=Sd,o=Sd,l=Sd,u=Sd;function h(f){return f.x0=f.y0=0,f.x1=r,f.y1=n,f.eachBefore(d),i=[0],t&&f.eachBefore(fK),f}function d(f){var p=i[f.depth],m=f.x0+p,y=f.y0+p,b=f.x1-p,x=f.y1-p;b<m&&(m=b=(m+b)/2),x<y&&(y=x=(y+x)/2),f.x0=m,f.y0=y,f.x1=b,f.y1=x,f.children&&(p=i[f.depth+1]=s(f)/2,m+=u(f)-p,y+=a(f)-p,b-=o(f)-p,x-=l(f)-p,b<m&&(m=b=(m+b)/2),x<y&&(y=x=(y+x)/2),e(f,m,y,b,x))}return h.round=function(f){return arguments.length?(t=!!f,h):t},h.size=function(f){return arguments.length?(r=+f[0],n=+f[1],h):[r,n]},h.tile=function(f){return arguments.length?(e=dK(f),h):e},h.padding=function(f){return arguments.length?h.paddingInner(f).paddingOuter(f):h.paddingInner()},h.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:Cd(+f),h):s},h.paddingOuter=function(f){return arguments.length?h.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):h.paddingTop()},h.paddingTop=function(f){return arguments.length?(a=typeof f=="function"?f:Cd(+f),h):a},h.paddingRight=function(f){return arguments.length?(o=typeof f=="function"?f:Cd(+f),h):o},h.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:Cd(+f),h):l},h.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:Cd(+f),h):u},h}function e2(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const nC=Symbol("implicit");function Pl(){var e=new O4,t=[],r=[],n=nC;function i(s){let a=e.get(s);if(a===void 0){if(n!==nC)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new O4;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Pl(t,r).unknown(n)},e2.apply(i,arguments),i}function r_(){var e=Pl().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,o=!1,l=0,u=0,h=.5;delete e.unknown;function d(){var f=t().length,p=i<n,m=p?i:n,y=p?n:i;s=(y-m)/Math.max(1,f-l+u*2),o&&(s=Math.floor(s)),m+=(y-m-s*(f-l))*h,a=s*(1-l),o&&(m=Math.round(m),a=Math.round(a));var b=QG(f).map(function(x){return m+s*x});return r(p?b.reverse():b)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,d()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(f){return arguments.length?(o=!!f,d()):o},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),d()):h},e.copy=function(){return r_(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(h)},e2.apply(d(),arguments)}function vK(e){return function(){return e}}function _K(e){return+e}var iC=[0,1];function Zc(e){return e}function n_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vK(isNaN(t)?NaN:.5)}function TK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kK(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=n_(i,n),s=r(a,s)):(n=n_(n,i),s=r(s,a)),function(o){return s(n(o))}}function wK(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=n_(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(o){var l=zG(e,o,1,n)-1;return s[l](i[l](o))}}function r7(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function SK(){var e=iC,t=iC,r=zk,n,i,s,a=Zc,o,l,u;function h(){var f=Math.min(e.length,t.length);return a!==Zc&&(a=TK(e[0],e[f-1])),o=f>2?wK:kK,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=o(e.map(n),t,r)))(n(a(f)))}return d.invert=function(f){return a(i((u||(u=o(t,e.map(n),fs)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,_K),h()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=fY,h()},d.clamp=function(f){return arguments.length?(a=f?!0:Zc,h()):a!==Zc},d.interpolate=function(f){return arguments.length?(r=f,h()):r},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,p){return n=f,i=p,h()}}function n7(){return SK()(Zc,Zc)}function CK(e,t,r,n){var i=Hv(e,t,r),s;switch(n=em(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=HX(i,a))&&(n.precision=s),e7(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=GX(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=UX(i))&&(n.precision=s-(n.type==="%")*2);break}}return bl(n)}function EK(e){var t=e.domain;return e.ticks=function(r){var n=t();return YG(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return CK(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],o=n[s],l,u,h=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);h-- >0;){if(u=Uv(a,o,r),u===l)return n[i]=a,n[s]=o,t(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function Rh(){var e=n7();return e.copy=function(){return r7(e,Rh())},e2.apply(e,arguments),EK(e)}function AK(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}const Zx=new Date,Jx=new Date;function Zr(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<a);return l},i.filter=s=>Zr(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(Zx.setTime(+s),Jx.setTime(+a),e(Zx),e(Jx),Math.floor(r(Zx,Jx))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Ih=Zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ih.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ih);Ih.range;const $a=1e3,Yi=$a*60,Oa=Yi*60,qa=Oa*24,jk=qa*7,sC=qa*30,tb=qa*365,bo=Zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$a)},(e,t)=>(t-e)/$a,e=>e.getUTCSeconds());bo.range;const gp=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$a)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getMinutes());gp.range;const LK=Zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCMinutes());LK.range;const mp=Zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$a-e.getMinutes()*Yi)},(e,t)=>{e.setTime(+e+t*Oa)},(e,t)=>(t-e)/Oa,e=>e.getHours());mp.range;const RK=Zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oa)},(e,t)=>(t-e)/Oa,e=>e.getUTCHours());RK.range;const Gl=Zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yi)/qa,e=>e.getDate()-1);Gl.range;const Yk=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qa,e=>e.getUTCDate()-1);Yk.range;const IK=Zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qa,e=>Math.floor(e/qa));IK.range;function dc(e){return Zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Yi)/jk)}const cg=dc(0),yp=dc(1),i7=dc(2),s7=dc(3),ql=dc(4),a7=dc(5),o7=dc(6);cg.range;yp.range;i7.range;s7.range;ql.range;a7.range;o7.range;function fc(e){return Zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/jk)}const l7=fc(0),nm=fc(1),NK=fc(2),$K=fc(3),Nh=fc(4),OK=fc(5),DK=fc(6);l7.range;nm.range;NK.range;$K.range;Nh.range;OK.range;DK.range;const xp=Zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xp.range;const MK=Zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());MK.range;const ja=Zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ja.range;const jl=Zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());jl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});jl.range;function PK(e,t,r,n,i,s){const a=[[bo,1,$a],[bo,5,5*$a],[bo,15,15*$a],[bo,30,30*$a],[s,1,Yi],[s,5,5*Yi],[s,15,15*Yi],[s,30,30*Yi],[i,1,Oa],[i,3,3*Oa],[i,6,6*Oa],[i,12,12*Oa],[n,1,qa],[n,2,2*qa],[r,1,jk],[t,1,sC],[t,3,3*sC],[e,1,tb]];function o(u,h,d){const f=h<u;f&&([u,h]=[h,u]);const p=d&&typeof d.range=="function"?d:l(u,h,d),m=p?p.range(u,+h+1):[];return f?m.reverse():m}function l(u,h,d){const f=Math.abs(h-u)/d,p=Bk(([,,b])=>b).right(a,f);if(p===a.length)return e.every(Hv(u/tb,h/tb,d));if(p===0)return Ih.every(Math.max(Hv(u,h,d),1));const[m,y]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return m.every(y)}return[o,l]}const[BK,FK]=PK(ja,xp,cg,Gl,mp,gp);function eb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ed(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function VK(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,l=e.shortMonths,u=Ad(i),h=Ld(i),d=Ad(s),f=Ld(s),p=Ad(a),m=Ld(a),y=Ad(o),b=Ld(o),x=Ad(l),v=Ld(l),_={a:P,A:O,b:M,B:Y,c:null,d:hC,e:hC,f:cQ,g:bQ,G:_Q,H:aQ,I:oQ,j:lQ,L:c7,m:uQ,M:hQ,p:F,q:j,Q:pC,s:gC,S:dQ,u:fQ,U:pQ,V:gQ,w:mQ,W:yQ,x:null,X:null,y:xQ,Y:vQ,Z:TQ,"%":fC},S={a:it,A:ft,b:J,B:dt,c:null,d:dC,e:dC,f:CQ,g:MQ,G:BQ,H:kQ,I:wQ,j:SQ,L:h7,m:EQ,M:AQ,p:et,q:St,Q:pC,s:gC,S:LQ,u:RQ,U:IQ,V:NQ,w:$Q,W:OQ,x:null,X:null,y:DQ,Y:PQ,Z:FQ,"%":fC},k={a:R,A:w,b:$,B:A,c:L,d:cC,e:cC,f:rQ,g:lC,G:oC,H:uC,I:uC,j:ZK,L:eQ,m:QK,M:JK,p:C,q:KK,Q:iQ,s:sQ,S:tQ,u:GK,U:qK,V:jK,w:HK,W:YK,x:N,X:D,y:lC,Y:oC,Z:XK,"%":nQ};_.x=T(r,_),_.X=T(n,_),_.c=T(t,_),S.x=T(r,S),S.X=T(n,S),S.c=T(t,S);function T(ct,bt){return function(nt){var Z=[],z=-1,V=0,G=ct.length,W,ot,B;for(nt instanceof Date||(nt=new Date(+nt));++z<G;)ct.charCodeAt(z)===37&&(Z.push(ct.slice(V,z)),(ot=aC[W=ct.charAt(++z)])!=null?W=ct.charAt(++z):ot=W==="e"?" ":"0",(B=bt[W])&&(W=B(nt,ot)),Z.push(W),V=z+1);return Z.push(ct.slice(V,z)),Z.join("")}}function E(ct,bt){return function(nt){var Z=Ed(1900,void 0,1),z=I(Z,ct,nt+="",0),V,G;if(z!=nt.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(bt&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(V=rb(Ed(Z.y,0,1)),G=V.getUTCDay(),V=G>4||G===0?nm.ceil(V):nm(V),V=Yk.offset(V,(Z.V-1)*7),Z.y=V.getUTCFullYear(),Z.m=V.getUTCMonth(),Z.d=V.getUTCDate()+(Z.w+6)%7):(V=eb(Ed(Z.y,0,1)),G=V.getDay(),V=G>4||G===0?yp.ceil(V):yp(V),V=Gl.offset(V,(Z.V-1)*7),Z.y=V.getFullYear(),Z.m=V.getMonth(),Z.d=V.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),G="Z"in Z?rb(Ed(Z.y,0,1)).getUTCDay():eb(Ed(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(G+5)%7:Z.w+Z.U*7-(G+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,rb(Z)):eb(Z)}}function I(ct,bt,nt,Z){for(var z=0,V=bt.length,G=nt.length,W,ot;z<V;){if(Z>=G)return-1;if(W=bt.charCodeAt(z++),W===37){if(W=bt.charAt(z++),ot=k[W in aC?bt.charAt(z++):W],!ot||(Z=ot(ct,nt,Z))<0)return-1}else if(W!=nt.charCodeAt(Z++))return-1}return Z}function C(ct,bt,nt){var Z=u.exec(bt.slice(nt));return Z?(ct.p=h.get(Z[0].toLowerCase()),nt+Z[0].length):-1}function R(ct,bt,nt){var Z=p.exec(bt.slice(nt));return Z?(ct.w=m.get(Z[0].toLowerCase()),nt+Z[0].length):-1}function w(ct,bt,nt){var Z=d.exec(bt.slice(nt));return Z?(ct.w=f.get(Z[0].toLowerCase()),nt+Z[0].length):-1}function $(ct,bt,nt){var Z=x.exec(bt.slice(nt));return Z?(ct.m=v.get(Z[0].toLowerCase()),nt+Z[0].length):-1}function A(ct,bt,nt){var Z=y.exec(bt.slice(nt));return Z?(ct.m=b.get(Z[0].toLowerCase()),nt+Z[0].length):-1}function L(ct,bt,nt){return I(ct,t,bt,nt)}function N(ct,bt,nt){return I(ct,r,bt,nt)}function D(ct,bt,nt){return I(ct,n,bt,nt)}function P(ct){return a[ct.getDay()]}function O(ct){return s[ct.getDay()]}function M(ct){return l[ct.getMonth()]}function Y(ct){return o[ct.getMonth()]}function F(ct){return i[+(ct.getHours()>=12)]}function j(ct){return 1+~~(ct.getMonth()/3)}function it(ct){return a[ct.getUTCDay()]}function ft(ct){return s[ct.getUTCDay()]}function J(ct){return l[ct.getUTCMonth()]}function dt(ct){return o[ct.getUTCMonth()]}function et(ct){return i[+(ct.getUTCHours()>=12)]}function St(ct){return 1+~~(ct.getUTCMonth()/3)}return{format:function(ct){var bt=T(ct+="",_);return bt.toString=function(){return ct},bt},parse:function(ct){var bt=E(ct+="",!1);return bt.toString=function(){return ct},bt},utcFormat:function(ct){var bt=T(ct+="",S);return bt.toString=function(){return ct},bt},utcParse:function(ct){var bt=E(ct+="",!0);return bt.toString=function(){return ct},bt}}}var aC={"-":"",_:" ",0:"0"},ln=/^\s*\d+/,zK=/^%/,WK=/[\\^$*+?|[\]().{}]/g;function Ve(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function UK(e){return e.replace(WK,"\\$&")}function Ad(e){return new RegExp("^(?:"+e.map(UK).join("|")+")","i")}function Ld(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function HK(e,t,r){var n=ln.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function GK(e,t,r){var n=ln.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qK(e,t,r){var n=ln.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jK(e,t,r){var n=ln.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function YK(e,t,r){var n=ln.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function oC(e,t,r){var n=ln.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lC(e,t,r){var n=ln.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function XK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KK(e,t,r){var n=ln.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function QK(e,t,r){var n=ln.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function cC(e,t,r){var n=ln.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ZK(e,t,r){var n=ln.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function uC(e,t,r){var n=ln.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function JK(e,t,r){var n=ln.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function tQ(e,t,r){var n=ln.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eQ(e,t,r){var n=ln.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rQ(e,t,r){var n=ln.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nQ(e,t,r){var n=zK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function iQ(e,t,r){var n=ln.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function sQ(e,t,r){var n=ln.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hC(e,t){return Ve(e.getDate(),t,2)}function aQ(e,t){return Ve(e.getHours(),t,2)}function oQ(e,t){return Ve(e.getHours()%12||12,t,2)}function lQ(e,t){return Ve(1+Gl.count(ja(e),e),t,3)}function c7(e,t){return Ve(e.getMilliseconds(),t,3)}function cQ(e,t){return c7(e,t)+"000"}function uQ(e,t){return Ve(e.getMonth()+1,t,2)}function hQ(e,t){return Ve(e.getMinutes(),t,2)}function dQ(e,t){return Ve(e.getSeconds(),t,2)}function fQ(e){var t=e.getDay();return t===0?7:t}function pQ(e,t){return Ve(cg.count(ja(e)-1,e),t,2)}function u7(e){var t=e.getDay();return t>=4||t===0?ql(e):ql.ceil(e)}function gQ(e,t){return e=u7(e),Ve(ql.count(ja(e),e)+(ja(e).getDay()===4),t,2)}function mQ(e){return e.getDay()}function yQ(e,t){return Ve(yp.count(ja(e)-1,e),t,2)}function xQ(e,t){return Ve(e.getFullYear()%100,t,2)}function bQ(e,t){return e=u7(e),Ve(e.getFullYear()%100,t,2)}function vQ(e,t){return Ve(e.getFullYear()%1e4,t,4)}function _Q(e,t){var r=e.getDay();return e=r>=4||r===0?ql(e):ql.ceil(e),Ve(e.getFullYear()%1e4,t,4)}function TQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ve(t/60|0,"0",2)+Ve(t%60,"0",2)}function dC(e,t){return Ve(e.getUTCDate(),t,2)}function kQ(e,t){return Ve(e.getUTCHours(),t,2)}function wQ(e,t){return Ve(e.getUTCHours()%12||12,t,2)}function SQ(e,t){return Ve(1+Yk.count(jl(e),e),t,3)}function h7(e,t){return Ve(e.getUTCMilliseconds(),t,3)}function CQ(e,t){return h7(e,t)+"000"}function EQ(e,t){return Ve(e.getUTCMonth()+1,t,2)}function AQ(e,t){return Ve(e.getUTCMinutes(),t,2)}function LQ(e,t){return Ve(e.getUTCSeconds(),t,2)}function RQ(e){var t=e.getUTCDay();return t===0?7:t}function IQ(e,t){return Ve(l7.count(jl(e)-1,e),t,2)}function d7(e){var t=e.getUTCDay();return t>=4||t===0?Nh(e):Nh.ceil(e)}function NQ(e,t){return e=d7(e),Ve(Nh.count(jl(e),e)+(jl(e).getUTCDay()===4),t,2)}function $Q(e){return e.getUTCDay()}function OQ(e,t){return Ve(nm.count(jl(e)-1,e),t,2)}function DQ(e,t){return Ve(e.getUTCFullYear()%100,t,2)}function MQ(e,t){return e=d7(e),Ve(e.getUTCFullYear()%100,t,2)}function PQ(e,t){return Ve(e.getUTCFullYear()%1e4,t,4)}function BQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Nh(e):Nh.ceil(e),Ve(e.getUTCFullYear()%1e4,t,4)}function FQ(){return"+0000"}function fC(){return"%"}function pC(e){return+e}function gC(e){return Math.floor(+e/1e3)}var Bc,im;VQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VQ(e){return Bc=VK(e),im=Bc.format,Bc.parse,Bc.utcFormat,Bc.utcParse,Bc}function zQ(e){return new Date(e)}function WQ(e){return e instanceof Date?+e:+new Date(+e)}function f7(e,t,r,n,i,s,a,o,l,u){var h=n7(),d=h.invert,f=h.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),v=u("%b %d"),_=u("%B"),S=u("%Y");function k(T){return(l(T)<T?p:o(T)<T?m:a(T)<T?y:s(T)<T?b:n(T)<T?i(T)<T?x:v:r(T)<T?_:S)(T)}return h.invert=function(T){return new Date(d(T))},h.domain=function(T){return arguments.length?f(Array.from(T,WQ)):f().map(zQ)},h.ticks=function(T){var E=f();return e(E[0],E[E.length-1],T??10)},h.tickFormat=function(T,E){return E==null?k:u(E)},h.nice=function(T){var E=f();return(!T||typeof T.range!="function")&&(T=t(E[0],E[E.length-1],T??10)),T?f(AK(E,T)):h},h.copy=function(){return r7(h,f7(e,t,r,n,i,s,a,o,l,u))},h}function UQ(){return e2.apply(f7(BK,FK,ja,xp,cg,Gl,mp,gp,bo,im).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function HQ(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const GQ=HQ("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Cr(e){return function(){return e}}const mC=Math.abs,Tn=Math.atan2,hl=Math.cos,qQ=Math.max,nb=Math.min,Bs=Math.sin,Jc=Math.sqrt,wn=1e-12,bp=Math.PI,sm=bp/2,Z1=2*bp;function jQ(e){return e>1?0:e<-1?bp:Math.acos(e)}function yC(e){return e>=1?sm:e<=-1?-sm:Math.asin(e)}function p7(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new OX(t)}function YQ(e){return e.innerRadius}function XQ(e){return e.outerRadius}function KQ(e){return e.startAngle}function QQ(e){return e.endAngle}function ZQ(e){return e&&e.padAngle}function JQ(e,t,r,n,i,s,a,o){var l=r-e,u=n-t,h=a-i,d=o-s,f=d*l-h*u;if(!(f*f<wn))return f=(h*(t-s)-d*(e-i))/f,[e+f*l,t+f*u]}function Qg(e,t,r,n,i,s,a){var o=e-r,l=t-n,u=(a?s:-s)/Jc(o*o+l*l),h=u*l,d=-u*o,f=e+h,p=t+d,m=r+h,y=n+d,b=(f+m)/2,x=(p+y)/2,v=m-f,_=y-p,S=v*v+_*_,k=i-s,T=f*y-m*p,E=(_<0?-1:1)*Jc(qQ(0,k*k*S-T*T)),I=(T*_-v*E)/S,C=(-T*v-_*E)/S,R=(T*_+v*E)/S,w=(-T*v+_*E)/S,$=I-b,A=C-x,L=R-b,N=w-x;return $*$+A*A>L*L+N*N&&(I=R,C=w),{cx:I,cy:C,x01:-h,y01:-d,x11:I*(i/k-1),y11:C*(i/k-1)}}function $h(){var e=YQ,t=XQ,r=Cr(0),n=null,i=KQ,s=QQ,a=ZQ,o=null,l=p7(u);function u(){var h,d,f=+e.apply(this,arguments),p=+t.apply(this,arguments),m=i.apply(this,arguments)-sm,y=s.apply(this,arguments)-sm,b=mC(y-m),x=y>m;if(o||(o=h=l()),p<f&&(d=p,p=f,f=d),!(p>wn))o.moveTo(0,0);else if(b>Z1-wn)o.moveTo(p*hl(m),p*Bs(m)),o.arc(0,0,p,m,y,!x),f>wn&&(o.moveTo(f*hl(y),f*Bs(y)),o.arc(0,0,f,y,m,x));else{var v=m,_=y,S=m,k=y,T=b,E=b,I=a.apply(this,arguments)/2,C=I>wn&&(n?+n.apply(this,arguments):Jc(f*f+p*p)),R=nb(mC(p-f)/2,+r.apply(this,arguments)),w=R,$=R,A,L;if(C>wn){var N=yC(C/f*Bs(I)),D=yC(C/p*Bs(I));(T-=N*2)>wn?(N*=x?1:-1,S+=N,k-=N):(T=0,S=k=(m+y)/2),(E-=D*2)>wn?(D*=x?1:-1,v+=D,_-=D):(E=0,v=_=(m+y)/2)}var P=p*hl(v),O=p*Bs(v),M=f*hl(k),Y=f*Bs(k);if(R>wn){var F=p*hl(_),j=p*Bs(_),it=f*hl(S),ft=f*Bs(S),J;if(b<bp)if(J=JQ(P,O,it,ft,F,j,M,Y)){var dt=P-J[0],et=O-J[1],St=F-J[0],ct=j-J[1],bt=1/Bs(jQ((dt*St+et*ct)/(Jc(dt*dt+et*et)*Jc(St*St+ct*ct)))/2),nt=Jc(J[0]*J[0]+J[1]*J[1]);w=nb(R,(f-nt)/(bt-1)),$=nb(R,(p-nt)/(bt+1))}else w=$=0}E>wn?$>wn?(A=Qg(it,ft,P,O,p,$,x),L=Qg(F,j,M,Y,p,$,x),o.moveTo(A.cx+A.x01,A.cy+A.y01),$<R?o.arc(A.cx,A.cy,$,Tn(A.y01,A.x01),Tn(L.y01,L.x01),!x):(o.arc(A.cx,A.cy,$,Tn(A.y01,A.x01),Tn(A.y11,A.x11),!x),o.arc(0,0,p,Tn(A.cy+A.y11,A.cx+A.x11),Tn(L.cy+L.y11,L.cx+L.x11),!x),o.arc(L.cx,L.cy,$,Tn(L.y11,L.x11),Tn(L.y01,L.x01),!x))):(o.moveTo(P,O),o.arc(0,0,p,v,_,!x)):o.moveTo(P,O),!(f>wn)||!(T>wn)?o.lineTo(M,Y):w>wn?(A=Qg(M,Y,F,j,f,-w,x),L=Qg(P,O,it,ft,f,-w,x),o.lineTo(A.cx+A.x01,A.cy+A.y01),w<R?o.arc(A.cx,A.cy,w,Tn(A.y01,A.x01),Tn(L.y01,L.x01),!x):(o.arc(A.cx,A.cy,w,Tn(A.y01,A.x01),Tn(A.y11,A.x11),!x),o.arc(0,0,f,Tn(A.cy+A.y11,A.cx+A.x11),Tn(L.cy+L.y11,L.cx+L.x11),x),o.arc(L.cx,L.cy,w,Tn(L.y11,L.x11),Tn(L.y01,L.x01),!x))):o.arc(0,0,f,k,S,x)}if(o.closePath(),h)return o=null,h+""||null}return u.centroid=function(){var h=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-bp/2;return[hl(d)*h,Bs(d)*h]},u.innerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:Cr(+h),u):e},u.outerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Cr(+h),u):t},u.cornerRadius=function(h){return arguments.length?(r=typeof h=="function"?h:Cr(+h),u):r},u.padRadius=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Cr(+h),u):n},u.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:Cr(+h),u):i},u.endAngle=function(h){return arguments.length?(s=typeof h=="function"?h:Cr(+h),u):s},u.padAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Cr(+h),u):a},u.context=function(h){return arguments.length?(o=h??null,u):o},u}function g7(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function m7(e){this._context=e}m7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function am(e){return new m7(e)}function tZ(e){return e[0]}function eZ(e){return e[1]}function vp(e,t){var r=Cr(!0),n=null,i=am,s=null,a=p7(o);e=typeof e=="function"?e:e===void 0?tZ:Cr(e),t=typeof t=="function"?t:t===void 0?eZ:Cr(t);function o(l){var u,h=(l=g7(l)).length,d,f=!1,p;for(n==null&&(s=i(p=a())),u=0;u<=h;++u)!(u<h&&r(d=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(d,u,l),+t(d,u,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Cr(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Cr(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Cr(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function rZ(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function nZ(e){return e}function iZ(){var e=nZ,t=rZ,r=null,n=Cr(0),i=Cr(Z1),s=Cr(0);function a(o){var l,u=(o=g7(o)).length,h,d,f=0,p=new Array(u),m=new Array(u),y=+n.apply(this,arguments),b=Math.min(Z1,Math.max(-Z1,i.apply(this,arguments)-y)),x,v=Math.min(Math.abs(b)/u,s.apply(this,arguments)),_=v*(b<0?-1:1),S;for(l=0;l<u;++l)(S=m[p[l]=l]=+e(o[l],l,o))>0&&(f+=S);for(t!=null?p.sort(function(k,T){return t(m[k],m[T])}):r!=null&&p.sort(function(k,T){return r(o[k],o[T])}),l=0,d=f?(b-u*_)/f:0;l<u;++l,y=x)h=p[l],S=m[h],x=y+(S>0?S*d:0)+_,m[h]={data:o[h],index:l,value:S,startAngle:y,endAngle:x,padAngle:v};return m}return a.value=function(o){return arguments.length?(e=typeof o=="function"?o:Cr(+o),a):e},a.sortValues=function(o){return arguments.length?(t=o,r=null,a):t},a.sort=function(o){return arguments.length?(r=o,t=null,a):r},a.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:Cr(+o),a):n},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Cr(+o),a):i},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:Cr(+o),a):s},a}class y7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function x7(e){return new y7(e,!0)}function b7(e){return new y7(e,!1)}function Ro(){}function om(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function r2(e){this._context=e}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:om(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:om(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fu(e){return new r2(e)}function v7(e){this._context=e}v7.prototype={areaStart:Ro,areaEnd:Ro,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:om(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sZ(e){return new v7(e)}function _7(e){this._context=e}_7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:om(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aZ(e){return new _7(e)}function T7(e,t){this._basis=new r2(e),this._beta=t}T7.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],s=e[r]-n,a=t[r]-i,o=-1,l;++o<=r;)l=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(n+l*s),this._beta*t[o]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const oZ=function e(t){function r(n){return t===1?new r2(n):new T7(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function lm(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Xk(e,t){this._context=e,this._k=(1-t)/6}Xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:lm(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:lm(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const k7=function e(t){function r(n){return new Xk(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Kk(e,t){this._context=e,this._k=(1-t)/6}Kk.prototype={areaStart:Ro,areaEnd:Ro,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:lm(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lZ=function e(t){function r(n){return new Kk(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Qk(e,t){this._context=e,this._k=(1-t)/6}Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lm(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cZ=function e(t){function r(n){return new Qk(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Zk(e,t,r){var n=e._x1,i=e._y1,s=e._x2,a=e._y2;if(e._l01_a>wn){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>wn){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*u+e._x1*e._l23_2a-t*e._l12_2a)/h,a=(a*u+e._y1*e._l23_2a-r*e._l12_2a)/h}e._context.bezierCurveTo(n,i,s,a,e._x2,e._y2)}function w7(e,t){this._context=e,this._alpha=t}w7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Zk(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const S7=function e(t){function r(n){return t?new w7(n,t):new Xk(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function C7(e,t){this._context=e,this._alpha=t}C7.prototype={areaStart:Ro,areaEnd:Ro,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Zk(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const uZ=function e(t){function r(n){return t?new C7(n,t):new Kk(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function E7(e,t){this._context=e,this._alpha=t}E7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zk(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hZ=function e(t){function r(n){return t?new E7(n,t):new Qk(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function A7(e){this._context=e}A7.prototype={areaStart:Ro,areaEnd:Ro,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dZ(e){return new A7(e)}function xC(e){return e<0?-1:1}function bC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(xC(s)+xC(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function vC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ib(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,i+o*t,s-o,a-o*r,s,a)}function cm(e){this._context=e}cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ib(this,this._t0,vC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ib(this,vC(this,r=bC(this,e,t)),r);break;default:ib(this,this._t0,r=bC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function L7(e){this._context=new R7(e)}(L7.prototype=Object.create(cm.prototype)).point=function(e,t){cm.prototype.point.call(this,t,e)};function R7(e){this._context=e}R7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function I7(e){return new cm(e)}function N7(e){return new L7(e)}function $7(e){this._context=e}$7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_C(e),i=_C(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _C(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function O7(e){return new $7(e)}function n2(e,t){this._context=e,this._t=t}n2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function D7(e){return new n2(e,.5)}function M7(e){return new n2(e,0)}function P7(e){return new n2(e,1)}function Gd(e,t,r){this.k=e,this.x=t,this.y=r}Gd.prototype={constructor:Gd,scale:function(e){return e===1?this:new Gd(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gd(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Gd.prototype;var eo=g(e=>{var i;const{securityLevel:t}=rt();let r=Lt("body");if(t==="sandbox"){const a=((i=Lt(`#i${e}`).node())==null?void 0:i.contentDocument)??document;r=Lt(a.body)}return r.select(`#${e}`)},"selectSvgElement");function Jk(e){return typeof e>"u"||e===null}g(Jk,"isNothing");function B7(e){return typeof e=="object"&&e!==null}g(B7,"isObject");function F7(e){return Array.isArray(e)?e:Jk(e)?[]:[e]}g(F7,"toArray");function V7(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}g(V7,"extend");function z7(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}g(z7,"repeat");function W7(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}g(W7,"isNegativeZero");var fZ=Jk,pZ=B7,gZ=F7,mZ=z7,yZ=W7,xZ=V7,Yr={isNothing:fZ,isObject:pZ,toArray:gZ,repeat:mZ,isNegativeZero:yZ,extend:xZ};function tw(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}g(tw,"formatError");function Oh(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=tw(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}g(Oh,"YAMLException$1");Oh.prototype=Object.create(Error.prototype);Oh.prototype.constructor=Oh;Oh.prototype.toString=g(function(t){return this.name+": "+tw(this,t)},"toString");var oi=Oh;function J1(e,t,r,n,i){var s="",a="",o=Math.floor(i/2)-1;return n-t>o&&(s=" ... ",t=n-o+s.length),r-n>o&&(a=" ...",r=n+o-a.length),{str:s+e.slice(t,r).replace(/\t/g,"")+a,pos:n-t+s.length}}g(J1,"getLine");function t0(e,t){return Yr.repeat(" ",t-e.length)+e}g(t0,"padStart");function U7(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var o="",l,u,h=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+h+3);for(l=1;l<=t.linesBefore&&!(a-l<0);l++)u=J1(e.buffer,n[a-l],i[a-l],e.position-(n[a]-n[a-l]),d),o=Yr.repeat(" ",t.indent)+t0((e.line-l+1).toString(),h)+" | "+u.str+`
`+o;for(u=J1(e.buffer,n[a],i[a],e.position,d),o+=Yr.repeat(" ",t.indent)+t0((e.line+1).toString(),h)+" | "+u.str+`
`,o+=Yr.repeat("-",t.indent+h+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(a+l>=i.length);l++)u=J1(e.buffer,n[a+l],i[a+l],e.position-(n[a]-n[a+l]),d),o+=Yr.repeat(" ",t.indent)+t0((e.line+l+1).toString(),h)+" | "+u.str+`
`;return o.replace(/\n$/,"")}g(U7,"makeSnippet");var bZ=U7,vZ=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],_Z=["scalar","sequence","mapping"];function H7(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}g(H7,"compileStyleAliases");function G7(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(vZ.indexOf(r)===-1)throw new oi('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=H7(t.styleAliases||null),_Z.indexOf(this.kind)===-1)throw new oi('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}g(G7,"Type$1");var Dn=G7;function i_(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}g(i_,"compileList");function q7(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(g(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}g(q7,"compileMap");function um(e){return this.extend(e)}g(um,"Schema$1");um.prototype.extend=g(function(t){var r=[],n=[];if(t instanceof Dn)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new oi("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Dn))throw new oi("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new oi("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new oi("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Dn))throw new oi("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(um.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=i_(i,"implicit"),i.compiledExplicit=i_(i,"explicit"),i.compiledTypeMap=q7(i.compiledImplicit,i.compiledExplicit),i},"extend");var TZ=um,kZ=new Dn("tag:yaml.org,2002:str",{kind:"scalar",construct:g(function(e){return e!==null?e:""},"construct")}),wZ=new Dn("tag:yaml.org,2002:seq",{kind:"sequence",construct:g(function(e){return e!==null?e:[]},"construct")}),SZ=new Dn("tag:yaml.org,2002:map",{kind:"mapping",construct:g(function(e){return e!==null?e:{}},"construct")}),CZ=new TZ({explicit:[kZ,wZ,SZ]});function j7(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}g(j7,"resolveYamlNull");function Y7(){return null}g(Y7,"constructYamlNull");function X7(e){return e===null}g(X7,"isNull");var EZ=new Dn("tag:yaml.org,2002:null",{kind:"scalar",resolve:j7,construct:Y7,predicate:X7,represent:{canonical:g(function(){return"~"},"canonical"),lowercase:g(function(){return"null"},"lowercase"),uppercase:g(function(){return"NULL"},"uppercase"),camelcase:g(function(){return"Null"},"camelcase"),empty:g(function(){return""},"empty")},defaultStyle:"lowercase"});function K7(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}g(K7,"resolveYamlBoolean");function Q7(e){return e==="true"||e==="True"||e==="TRUE"}g(Q7,"constructYamlBoolean");function Z7(e){return Object.prototype.toString.call(e)==="[object Boolean]"}g(Z7,"isBoolean");var AZ=new Dn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:K7,construct:Q7,predicate:Z7,represent:{lowercase:g(function(e){return e?"true":"false"},"lowercase"),uppercase:g(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:g(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function J7(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}g(J7,"isHexCode");function tI(e){return 48<=e&&e<=55}g(tI,"isOctCode");function eI(e){return 48<=e&&e<=57}g(eI,"isDecCode");function rI(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!J7(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!tI(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!eI(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}g(rI,"resolveYamlInteger");function nI(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}g(nI,"constructYamlInteger");function iI(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Yr.isNegativeZero(e)}g(iI,"isInteger");var LZ=new Dn("tag:yaml.org,2002:int",{kind:"scalar",resolve:rI,construct:nI,predicate:iI,represent:{binary:g(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:g(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:g(function(e){return e.toString(10)},"decimal"),hexadecimal:g(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),RZ=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function sI(e){return!(e===null||!RZ.test(e)||e[e.length-1]==="_")}g(sI,"resolveYamlFloat");function aI(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}g(aI,"constructYamlFloat");var IZ=/^[-+]?[0-9]+e/;function oI(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Yr.isNegativeZero(e))return"-0.0";return r=e.toString(10),IZ.test(r)?r.replace("e",".e"):r}g(oI,"representYamlFloat");function lI(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Yr.isNegativeZero(e))}g(lI,"isFloat");var NZ=new Dn("tag:yaml.org,2002:float",{kind:"scalar",resolve:sI,construct:aI,predicate:lI,represent:oI,defaultStyle:"lowercase"}),cI=CZ.extend({implicit:[EZ,AZ,LZ,NZ]}),$Z=cI,uI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),hI=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function dI(e){return e===null?!1:uI.exec(e)!==null||hI.exec(e)!==null}g(dI,"resolveYamlTimestamp");function fI(e){var t,r,n,i,s,a,o,l=0,u=null,h,d,f;if(t=uI.exec(e),t===null&&(t=hI.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],o=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(h=+t[10],d=+(t[11]||0),u=(h*60+d)*6e4,t[9]==="-"&&(u=-u)),f=new Date(Date.UTC(r,n,i,s,a,o,l)),u&&f.setTime(f.getTime()-u),f}g(fI,"constructYamlTimestamp");function pI(e){return e.toISOString()}g(pI,"representYamlTimestamp");var OZ=new Dn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:dI,construct:fI,instanceOf:Date,represent:pI});function gI(e){return e==="<<"||e===null}g(gI,"resolveYamlMerge");var DZ=new Dn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:gI}),ew=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function mI(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=ew;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}g(mI,"resolveYamlBinary");function yI(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=ew,a=0,o=[];for(t=0;t<i;t++)t%4===0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):r===18?(o.push(a>>10&255),o.push(a>>2&255)):r===12&&o.push(a>>4&255),new Uint8Array(o)}g(yI,"constructYamlBinary");function xI(e){var t="",r=0,n,i,s=e.length,a=ew;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}g(xI,"representYamlBinary");function bI(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}g(bI,"isBinary");var MZ=new Dn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:mI,construct:yI,predicate:bI,represent:xI}),PZ=Object.prototype.hasOwnProperty,BZ=Object.prototype.toString;function vI(e){if(e===null)return!0;var t=[],r,n,i,s,a,o=e;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],a=!1,BZ.call(i)!=="[object Object]")return!1;for(s in i)if(PZ.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}g(vI,"resolveYamlOmap");function _I(e){return e!==null?e:[]}g(_I,"constructYamlOmap");var FZ=new Dn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:vI,construct:_I}),VZ=Object.prototype.toString;function TI(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],VZ.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}g(TI,"resolveYamlPairs");function kI(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}g(kI,"constructYamlPairs");var zZ=new Dn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:TI,construct:kI}),WZ=Object.prototype.hasOwnProperty;function wI(e){if(e===null)return!0;var t,r=e;for(t in r)if(WZ.call(r,t)&&r[t]!==null)return!1;return!0}g(wI,"resolveYamlSet");function SI(e){return e!==null?e:{}}g(SI,"constructYamlSet");var UZ=new Dn("tag:yaml.org,2002:set",{kind:"mapping",resolve:wI,construct:SI}),CI=$Z.extend({implicit:[OZ,DZ],explicit:[MZ,FZ,zZ,UZ]}),Io=Object.prototype.hasOwnProperty,hm=1,EI=2,AI=3,dm=4,sb=1,HZ=2,TC=3,GZ=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,qZ=/[\x85\u2028\u2029]/,jZ=/[,\[\]\{\}]/,LI=/^(?:!|!!|![a-z\-]+!)$/i,RI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function s_(e){return Object.prototype.toString.call(e)}g(s_,"_class");function vs(e){return e===10||e===13}g(vs,"is_EOL");function Eo(e){return e===9||e===32}g(Eo,"is_WHITE_SPACE");function qn(e){return e===9||e===32||e===10||e===13}g(qn,"is_WS_OR_EOL");function Sl(e){return e===44||e===91||e===93||e===123||e===125}g(Sl,"is_FLOW_INDICATOR");function II(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}g(II,"fromHexCode");function NI(e){return e===120?2:e===117?4:e===85?8:0}g(NI,"escapedHexLen");function $I(e){return 48<=e&&e<=57?e-48:-1}g($I,"fromDecimalCode");function a_(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}g(a_,"simpleEscapeSequence");function OI(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}g(OI,"charFromCodepoint");var DI=new Array(256),MI=new Array(256);for(dl=0;dl<256;dl++)DI[dl]=a_(dl)?1:0,MI[dl]=a_(dl);var dl;function PI(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||CI,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}g(PI,"State$1");function rw(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=bZ(r),new oi(t,r)}g(rw,"generateError");function se(e,t){throw rw(e,t)}g(se,"throwError");function _p(e,t){e.onWarning&&e.onWarning.call(null,rw(e,t))}g(_p,"throwWarning");var kC={YAML:g(function(t,r,n){var i,s,a;t.version!==null&&se(t,"duplication of %YAML directive"),n.length!==1&&se(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&se(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&se(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&_p(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:g(function(t,r,n){var i,s;n.length!==2&&se(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],LI.test(i)||se(t,"ill-formed tag handle (first argument) of the TAG directive"),Io.call(t.tagMap,i)&&se(t,'there is a previously declared suffix for "'+i+'" tag handle'),RI.test(s)||se(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{se(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function Fa(e,t,r,n){var i,s,a,o;if(t<r){if(o=e.input.slice(t,r),n)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||se(e,"expected valid JSON character");else GZ.test(o)&&se(e,"the stream contains non-printable characters");e.result+=o}}g(Fa,"captureSegment");function o_(e,t,r,n){var i,s,a,o;for(Yr.isObject(r)||se(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,o=i.length;a<o;a+=1)s=i[a],Io.call(t,s)||(t[s]=r[s],n[s]=!0)}g(o_,"mergeMappings");function Cl(e,t,r,n,i,s,a,o,l){var u,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,h=i.length;u<h;u+=1)Array.isArray(i[u])&&se(e,"nested arrays are not supported inside keys"),typeof i=="object"&&s_(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&s_(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,h=s.length;u<h;u+=1)o_(e,t,s[u],r);else o_(e,t,s,r);else!e.json&&!Io.call(r,i)&&Io.call(t,i)&&(e.line=a||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,se(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}g(Cl,"storeMappingPair");function i2(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):se(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}g(i2,"readLineBreak");function Lr(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Eo(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(vs(i))for(i2(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&_p(e,"deficient indentation"),n}g(Lr,"skipSeparationSpace");function ug(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||qn(r)))}g(ug,"testDocumentSeparator");function s2(e,t){t===1?e.result+=" ":t>1&&(e.result+=Yr.repeat(`
`,t-1))}g(s2,"writeFoldedLines");function BI(e,t,r){var n,i,s,a,o,l,u,h,d=e.kind,f=e.result,p;if(p=e.input.charCodeAt(e.position),qn(p)||Sl(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),qn(i)||r&&Sl(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,o=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),qn(i)||r&&Sl(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),qn(n))break}else{if(e.position===e.lineStart&&ug(e)||r&&Sl(p))break;if(vs(p))if(l=e.line,u=e.lineStart,h=e.lineIndent,Lr(e,!1,-1),e.lineIndent>=t){o=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=l,e.lineStart=u,e.lineIndent=h;break}}o&&(Fa(e,s,a,!1),s2(e,e.line-l),s=a=e.position,o=!1),Eo(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return Fa(e,s,a,!1),e.result?!0:(e.kind=d,e.result=f,!1)}g(BI,"readPlainScalar");function FI(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Fa(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else vs(r)?(Fa(e,n,i,!0),s2(e,Lr(e,!1,t)),n=i=e.position):e.position===e.lineStart&&ug(e)?se(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);se(e,"unexpected end of the stream within a single quoted scalar")}g(FI,"readSingleQuotedScalar");function VI(e,t){var r,n,i,s,a,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return Fa(e,r,e.position,!0),e.position++,!0;if(o===92){if(Fa(e,r,e.position,!0),o=e.input.charCodeAt(++e.position),vs(o))Lr(e,!1,t);else if(o<256&&DI[o])e.result+=MI[o],e.position++;else if((a=NI(o))>0){for(i=a,s=0;i>0;i--)o=e.input.charCodeAt(++e.position),(a=II(o))>=0?s=(s<<4)+a:se(e,"expected hexadecimal character");e.result+=OI(s),e.position++}else se(e,"unknown escape sequence");r=n=e.position}else vs(o)?(Fa(e,r,n,!0),s2(e,Lr(e,!1,t)),r=n=e.position):e.position===e.lineStart&&ug(e)?se(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}se(e,"unexpected end of the stream within a double quoted scalar")}g(VI,"readDoubleQuotedScalar");function zI(e,t){var r=!0,n,i,s,a=e.tag,o,l=e.anchor,u,h,d,f,p,m=Object.create(null),y,b,x,v;if(v=e.input.charCodeAt(e.position),v===91)h=93,p=!1,o=[];else if(v===123)h=125,p=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),v=e.input.charCodeAt(++e.position);v!==0;){if(Lr(e,!0,t),v=e.input.charCodeAt(e.position),v===h)return e.position++,e.tag=a,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=o,!0;r?v===44&&se(e,"expected the node content, but found ','"):se(e,"missed comma between flow collection entries"),b=y=x=null,d=f=!1,v===63&&(u=e.input.charCodeAt(e.position+1),qn(u)&&(d=f=!0,e.position++,Lr(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Yl(e,t,hm,!1,!0),b=e.tag,y=e.result,Lr(e,!0,t),v=e.input.charCodeAt(e.position),(f||e.line===n)&&v===58&&(d=!0,v=e.input.charCodeAt(++e.position),Lr(e,!0,t),Yl(e,t,hm,!1,!0),x=e.result),p?Cl(e,o,m,b,y,x,n,i,s):d?o.push(Cl(e,null,m,b,y,x,n,i,s)):o.push(y),Lr(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}se(e,"unexpected end of the stream within a flow collection")}g(zI,"readFlowCollection");function WI(e,t){var r,n,i=sb,s=!1,a=!1,o=t,l=0,u=!1,h,d;if(d=e.input.charCodeAt(e.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)sb===i?i=d===43?TC:HZ:se(e,"repeat of a chomping mode identifier");else if((h=$I(d))>=0)h===0?se(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?se(e,"repeat of an indentation width identifier"):(o=t+h-1,a=!0);else break;if(Eo(d)){do d=e.input.charCodeAt(++e.position);while(Eo(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!vs(d)&&d!==0)}for(;d!==0;){for(i2(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!a||e.lineIndent<o)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>o&&(o=e.lineIndent),vs(d)){l++;continue}if(e.lineIndent<o){i===TC?e.result+=Yr.repeat(`
`,s?1+l:l):i===sb&&s&&(e.result+=`
`);break}for(n?Eo(d)?(u=!0,e.result+=Yr.repeat(`
`,s?1+l:l)):u?(u=!1,e.result+=Yr.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=Yr.repeat(`
`,l):e.result+=Yr.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,r=e.position;!vs(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Fa(e,r,e.position,!1)}return!0}g(WI,"readBlockScalar");function l_(e,t){var r,n=e.tag,i=e.anchor,s=[],a,o=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,se(e,"tab characters must not be used in indentation")),!(l!==45||(a=e.input.charCodeAt(e.position+1),!qn(a))));){if(o=!0,e.position++,Lr(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Yl(e,t,AI,!1,!0),s.push(e.result),Lr(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)se(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}g(l_,"readBlockSequence");function UI(e,t,r){var n,i,s,a,o,l,u=e.tag,h=e.anchor,d={},f=Object.create(null),p=null,m=null,y=null,b=!1,x=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),v=e.input.charCodeAt(e.position);v!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,se(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(v===63||v===58)&&qn(n))v===63?(b&&(Cl(e,d,f,p,m,null,a,o,l),p=m=y=null),x=!0,b=!0,i=!0):b?(b=!1,i=!0):se(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(a=e.line,o=e.lineStart,l=e.position,!Yl(e,r,EI,!1,!0))break;if(e.line===s){for(v=e.input.charCodeAt(e.position);Eo(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),qn(v)||se(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Cl(e,d,f,p,m,null,a,o,l),p=m=y=null),x=!0,b=!1,i=!1,p=e.tag,m=e.result;else if(x)se(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=h,!0}else if(x)se(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=h,!0}if((e.line===s||e.lineIndent>t)&&(b&&(a=e.line,o=e.lineStart,l=e.position),Yl(e,t,dm,!0,i)&&(b?m=e.result:y=e.result),b||(Cl(e,d,f,p,m,y,a,o,l),p=m=y=null),Lr(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&v!==0)se(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Cl(e,d,f,p,m,null,a,o,l),x&&(e.tag=u,e.anchor=h,e.kind="mapping",e.result=d),x}g(UI,"readBlockMapping");function HI(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&se(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):se(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!qn(a);)a===33&&(n?se(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),LI.test(i)||se(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),jZ.test(s)&&se(e,"tag suffix cannot contain flow indicator characters")}s&&!RI.test(s)&&se(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{se(e,"tag name is malformed: "+s)}return r?e.tag=s:Io.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:se(e,'undeclared tag handle "'+i+'"'),!0}g(HI,"readTagProperty");function GI(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&se(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!qn(r)&&!Sl(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&se(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}g(GI,"readAnchorProperty");function qI(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!qn(n)&&!Sl(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&se(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Io.call(e.anchorMap,r)||se(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Lr(e,!0,-1),!0}g(qI,"readAlias");function Yl(e,t,r,n,i){var s,a,o,l=1,u=!1,h=!1,d,f,p,m,y,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=o=dm===r||AI===r,n&&Lr(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;HI(e)||GI(e);)Lr(e,!0,-1)?(u=!0,o=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):o=!1;if(o&&(o=u||i),(l===1||dm===r)&&(hm===r||EI===r?y=t:y=t+1,b=e.position-e.lineStart,l===1?o&&(l_(e,b)||UI(e,b,y))||zI(e,y)?h=!0:(a&&WI(e,y)||FI(e,y)||VI(e,y)?h=!0:qI(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&se(e,"alias node should not have any properties")):BI(e,y,hm===r)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(h=o&&l_(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&se(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,f=e.implicitTypes.length;d<f;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Io.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],d=0,f=p.length;d<f;d+=1)if(e.tag.slice(0,p[d].tag.length)===p[d].tag){m=p[d];break}m||se(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&se(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):se(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}g(Yl,"composeNode");function jI(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Lr(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!qn(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&se(e,"directive name must not be less than one character in length");a!==0;){for(;Eo(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!vs(a));break}if(vs(a))break;for(r=e.position;a!==0&&!qn(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&i2(e),Io.call(kC,n)?kC[n](e,n,i):_p(e,'unknown document directive "'+n+'"')}if(Lr(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Lr(e,!0,-1)):s&&se(e,"directives end mark is expected"),Yl(e,e.lineIndent-1,dm,!1,!0),Lr(e,!0,-1),e.checkLineBreaks&&qZ.test(e.input.slice(t,e.position))&&_p(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ug(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Lr(e,!0,-1));return}if(e.position<e.length-1)se(e,"end of the stream or a document separator is expected");else return}g(jI,"readDocument");function nw(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new PI(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,se(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)jI(r);return r.documents}g(nw,"loadDocuments");function YZ(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=nw(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}g(YZ,"loadAll$1");function YI(e,t){var r=nw(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new oi("expected a single document in the stream, but found more")}}g(YI,"load$1");var XZ=YI,KZ={load:XZ},XI=Object.prototype.toString,KI=Object.prototype.hasOwnProperty,iw=65279,QZ=9,Tp=10,ZZ=13,JZ=32,tJ=33,eJ=34,c_=35,rJ=37,nJ=38,iJ=39,sJ=42,QI=44,aJ=45,fm=58,oJ=61,lJ=62,cJ=63,uJ=64,ZI=91,JI=93,hJ=96,tN=123,dJ=124,eN=125,Bn={};Bn[0]="\\0";Bn[7]="\\a";Bn[8]="\\b";Bn[9]="\\t";Bn[10]="\\n";Bn[11]="\\v";Bn[12]="\\f";Bn[13]="\\r";Bn[27]="\\e";Bn[34]='\\"';Bn[92]="\\\\";Bn[133]="\\N";Bn[160]="\\_";Bn[8232]="\\L";Bn[8233]="\\P";var fJ=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],pJ=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function rN(e,t){var r,n,i,s,a,o,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],o=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=e.compiledTypeMap.fallback[a],l&&KI.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[a]=o;return r}g(rN,"compileStyleMap");function nN(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new oi("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Yr.repeat("0",n-t.length)+t}g(nN,"encodeHex");var gJ=1,kp=2;function iN(e){this.schema=e.schema||CI,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Yr.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=rN(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?kp:gJ,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}g(iN,"State");function u_(e,t){for(var r=Yr.repeat(" ",t),n=0,i=-1,s="",a,o=e.length;n<o;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=o):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}g(u_,"indentString");function pm(e,t){return`
`+Yr.repeat(" ",e.indent*t)}g(pm,"generateNextLine");function sN(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}g(sN,"testImplicitResolving");function wp(e){return e===JZ||e===QZ}g(wp,"isWhitespace");function Dh(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==iw||65536<=e&&e<=1114111}g(Dh,"isPrintable");function h_(e){return Dh(e)&&e!==iw&&e!==ZZ&&e!==Tp}g(h_,"isNsCharOrWhitespace");function d_(e,t,r){var n=h_(e),i=n&&!wp(e);return(r?n:n&&e!==QI&&e!==ZI&&e!==JI&&e!==tN&&e!==eN)&&e!==c_&&!(t===fm&&!i)||h_(t)&&!wp(t)&&e===c_||t===fm&&i}g(d_,"isPlainSafe");function aN(e){return Dh(e)&&e!==iw&&!wp(e)&&e!==aJ&&e!==cJ&&e!==fm&&e!==QI&&e!==ZI&&e!==JI&&e!==tN&&e!==eN&&e!==c_&&e!==nJ&&e!==sJ&&e!==tJ&&e!==dJ&&e!==oJ&&e!==lJ&&e!==iJ&&e!==eJ&&e!==rJ&&e!==uJ&&e!==hJ}g(aN,"isPlainSafeFirst");function oN(e){return!wp(e)&&e!==fm}g(oN,"isPlainSafeLast");function tu(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}g(tu,"codePointAt");function sw(e){var t=/^\n* /;return t.test(e)}g(sw,"needIndentIndicator");var lN=1,f_=2,cN=3,uN=4,qc=5;function hN(e,t,r,n,i,s,a,o){var l,u=0,h=null,d=!1,f=!1,p=n!==-1,m=-1,y=aN(tu(e,0))&&oN(tu(e,e.length-1));if(t||a)for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=tu(e,l),!Dh(u))return qc;y=y&&d_(u,h,o),h=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(u=tu(e,l),u===Tp)d=!0,p&&(f=f||l-m-1>n&&e[m+1]!==" ",m=l);else if(!Dh(u))return qc;y=y&&d_(u,h,o),h=u}f=f||p&&l-m-1>n&&e[m+1]!==" "}return!d&&!f?y&&!a&&!i(e)?lN:s===kp?qc:f_:r>9&&sw(e)?qc:a?s===kp?qc:f_:f?uN:cN}g(hN,"chooseScalarStyle");function dN(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===kp?'""':"''";if(!e.noCompatMode&&(fJ.indexOf(t)!==-1||pJ.test(t)))return e.quotingType===kp?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),o=n||e.flowLevel>-1&&r>=e.flowLevel;function l(u){return sN(e,u)}switch(g(l,"testAmbiguity"),hN(t,o,e.indent,a,l,e.quotingType,e.forceQuotes&&!n,i)){case lN:return t;case f_:return"'"+t.replace(/'/g,"''")+"'";case cN:return"|"+p_(t,e.indent)+g_(u_(t,s));case uN:return">"+p_(t,e.indent)+g_(u_(fN(t,a),s));case qc:return'"'+pN(t)+'"';default:throw new oi("impossible error: invalid scalar style")}}()}g(dN,"writeScalar");function p_(e,t){var r=sw(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}g(p_,"blockHeader");function g_(e){return e[e.length-1]===`
`?e.slice(0,-1):e}g(g_,"dropEndingNewline");function fN(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,m_(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var o=a[1],l=a[2];s=l[0]===" ",n+=o+(!i&&!s&&l!==""?`
`:"")+m_(l,t),i=s}return n}g(fN,"foldString");function m_(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,o=0,l="";n=r.exec(e);)o=n.index,o-i>t&&(s=a>i?a:o,l+=`
`+e.slice(i,s),i=s+1),a=o;return l+=`
`,e.length-i>t&&a>i?l+=e.slice(i,a)+`
`+e.slice(a+1):l+=e.slice(i),l.slice(1)}g(m_,"foldLine");function pN(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=tu(e,i),n=Bn[r],!n&&Dh(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||nN(r);return t}g(pN,"escapeString");function gN(e,t,r){var n="",i=e.tag,s,a,o;for(s=0,a=r.length;s<a;s+=1)o=r[s],e.replacer&&(o=e.replacer.call(r,String(s),o)),(na(e,t,o,!1,!1)||typeof o>"u"&&na(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}g(gN,"writeFlowSequence");function y_(e,t,r,n){var i="",s=e.tag,a,o,l;for(a=0,o=r.length;a<o;a+=1)l=r[a],e.replacer&&(l=e.replacer.call(r,String(a),l)),(na(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&na(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=pm(e,t)),e.dump&&Tp===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}g(y_,"writeBlockSequence");function mN(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,o,l,u,h;for(a=0,o=s.length;a<o;a+=1)h="",n!==""&&(h+=", "),e.condenseFlow&&(h+='"'),l=s[a],u=r[l],e.replacer&&(u=e.replacer.call(r,l,u)),na(e,t,l,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),na(e,t,u,!1,!1)&&(h+=e.dump,n+=h));e.tag=i,e.dump="{"+n+"}"}g(mN,"writeFlowMapping");function yN(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),o,l,u,h,d,f;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new oi("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)f="",(!n||i!=="")&&(f+=pm(e,t)),u=a[o],h=r[u],e.replacer&&(h=e.replacer.call(r,u,h)),na(e,t+1,u,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&Tp===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,d&&(f+=pm(e,t)),na(e,t+1,h,!0,d)&&(e.dump&&Tp===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}g(yN,"writeBlockMapping");function x_(e,t,r){var n,i,s,a,o,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,XI.call(o.represent)==="[object Function]")n=o.represent(t,l);else if(KI.call(o.represent,l))n=o.represent[l](t,l);else throw new oi("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}g(x_,"detectType");function na(e,t,r,n,i,s,a){e.tag=null,e.dump=r,x_(e,r,!1)||x_(e,r,!0);var o=XI.call(e.dump),l=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var h=o==="[object Object]"||o==="[object Array]",d,f;if(h&&(d=e.duplicates.indexOf(r),f=d!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(h&&f&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),o==="[object Object]")n&&Object.keys(e.dump).length!==0?(yN(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(mN(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(o==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?y_(e,t-1,e.dump,i):y_(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(gN(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&dN(e,e.dump,t,s,l);else{if(o==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new oi("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}g(na,"writeNode");function xN(e,t){var r=[],n=[],i,s;for(gm(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}g(xN,"getDuplicateReferences");function gm(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)gm(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)gm(e[n[i]],t,r)}g(gm,"inspectNode");function mJ(e,t){t=t||{};var r=new iN(t);r.noRefs||xN(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),na(r,0,n,!0,!0)?r.dump+`
`:""}g(mJ,"dump$1");function yJ(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}g(yJ,"renamed");var a2=cI,o2=KZ.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var Cn={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},wC={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function qd(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=hr(e),t=hr(t);const[r,n]=[e.x,e.y],[i,s]=[t.x,t.y],a=i-r,o=s-n;return{angle:Math.atan(o/a),deltaX:a,deltaY:o}}g(qd,"calculateDeltaAndAngle");var hr=g(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),bN=g(e=>({x:g(function(t,r,n){let i=0;const s=hr(n[0]).x<hr(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Cn,e.arrowTypeStart)){const{angle:p,deltaX:m}=qd(n[0],n[1]);i=Cn[e.arrowTypeStart]*Math.cos(p)*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Cn,e.arrowTypeEnd)){const{angle:p,deltaX:m}=qd(n[n.length-1],n[n.length-2]);i=Cn[e.arrowTypeEnd]*Math.cos(p)*(m>=0?1:-1)}const a=Math.abs(hr(t).x-hr(n[n.length-1]).x),o=Math.abs(hr(t).y-hr(n[n.length-1]).y),l=Math.abs(hr(t).x-hr(n[0]).x),u=Math.abs(hr(t).y-hr(n[0]).y),h=Cn[e.arrowTypeStart],d=Cn[e.arrowTypeEnd],f=1;if(a<d&&a>0&&o<d){let p=d+f-a;p*=s==="right"?-1:1,i-=p}if(l<h&&l>0&&u<h){let p=h+f-l;p*=s==="right"?-1:1,i+=p}return hr(t).x+i},"x"),y:g(function(t,r,n){let i=0;const s=hr(n[0]).y<hr(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Cn,e.arrowTypeStart)){const{angle:p,deltaY:m}=qd(n[0],n[1]);i=Cn[e.arrowTypeStart]*Math.abs(Math.sin(p))*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Cn,e.arrowTypeEnd)){const{angle:p,deltaY:m}=qd(n[n.length-1],n[n.length-2]);i=Cn[e.arrowTypeEnd]*Math.abs(Math.sin(p))*(m>=0?1:-1)}const a=Math.abs(hr(t).y-hr(n[n.length-1]).y),o=Math.abs(hr(t).x-hr(n[n.length-1]).x),l=Math.abs(hr(t).y-hr(n[0]).y),u=Math.abs(hr(t).x-hr(n[0]).x),h=Cn[e.arrowTypeStart],d=Cn[e.arrowTypeEnd],f=1;if(a<d&&a>0&&o<d){let p=d+f-a;p*=s==="up"?-1:1,i-=p}if(l<h&&l>0&&u<h){let p=h+f-l;p*=s==="up"?-1:1,i+=p}return hr(t).y+i},"y")}),"getLineFunctionsWithOffset"),hg=g(({flowchart:e})=>{var i,s;const t=((i=e==null?void 0:e.subGraphTitleMargin)==null?void 0:i.top)??0,r=((s=e==null?void 0:e.subGraphTitleMargin)==null?void 0:s.bottom)??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),xJ=g(e=>{const{handDrawnSeed:t}=rt();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),id=g(e=>{const t=bJ([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),bJ=g(e=>{const t=new Map;return e.forEach(r=>{const[n,i]=r.split(":");t.set(n.trim(),i==null?void 0:i.trim())}),t},"styles2Map"),aw=g(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),Gt=g(e=>{const{stylesArray:t}=id(e),r=[],n=[],i=[],s=[];return t.forEach(a=>{const o=a[0];aw(o)?r.push(a.join(":")+" !important"):(n.push(a.join(":")+" !important"),o.includes("stroke")&&i.push(a.join(":")+" !important"),o==="fill"&&s.push(a.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:s}},"styles2String"),Qt=g((e,t)=>{var l;const{themeVariables:r,handDrawnSeed:n}=rt(),{nodeBorder:i,mainBkg:s}=r,{stylesMap:a}=id(e);return Object.assign({roughness:.7,fill:a.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:a.get("stroke")||i,seed:n,strokeWidth:((l=a.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:vJ(a.get("stroke-dasharray"))},t)},"userNodeOverrides"),vJ=g(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const i=isNaN(t[0])?0:t[0];return[i,i]}const r=isNaN(t[0])?0:t[0],n=isNaN(t[1])?0:t[1];return[r,n]},"getStrokeDashArray"),ow={},en={};Object.defineProperty(en,"__esModule",{value:!0});en.BLANK_URL=en.relativeFirstCharacters=en.whitespaceEscapeCharsRegex=en.urlSchemeRegex=en.ctrlCharactersRegex=en.htmlCtrlEntityRegex=en.htmlEntitiesRegex=en.invalidProtocolRegex=void 0;en.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;en.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;en.htmlCtrlEntityRegex=/&(newline|tab);/gi;en.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;en.urlSchemeRegex=/^.+(:|&colon;)/gim;en.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;en.relativeFirstCharacters=[".","/"];en.BLANK_URL="about:blank";Object.defineProperty(ow,"__esModule",{value:!0});var Go=ow.sanitizeUrl=void 0,Sn=en;function _J(e){return Sn.relativeFirstCharacters.indexOf(e[0])>-1}function TJ(e){var t=e.replace(Sn.ctrlCharactersRegex,"");return t.replace(Sn.htmlEntitiesRegex,function(r,n){return String.fromCharCode(n)})}function kJ(e){return URL.canParse(e)}function SC(e){try{return decodeURIComponent(e)}catch{return e}}function wJ(e){if(!e)return Sn.BLANK_URL;var t,r=SC(e.trim());do r=TJ(r).replace(Sn.htmlCtrlEntityRegex,"").replace(Sn.ctrlCharactersRegex,"").replace(Sn.whitespaceEscapeCharsRegex,"").trim(),r=SC(r),t=r.match(Sn.ctrlCharactersRegex)||r.match(Sn.htmlEntitiesRegex)||r.match(Sn.htmlCtrlEntityRegex)||r.match(Sn.whitespaceEscapeCharsRegex);while(t&&t.length>0);var n=r;if(!n)return Sn.BLANK_URL;if(_J(n))return n;var i=n.trimStart(),s=i.match(Sn.urlSchemeRegex);if(!s)return n;var a=s[0].toLowerCase().trim();if(Sn.invalidProtocolRegex.test(a))return Sn.BLANK_URL;var o=i.replace(/\\/g,"/");if(a==="mailto:"||a.includes("://"))return o;if(a==="http:"||a==="https:"){if(!kJ(o))return Sn.BLANK_URL;var l=new URL(o);return l.protocol=l.protocol.toLowerCase(),l.hostname=l.hostname.toLowerCase(),l.toString()}return o}Go=ow.sanitizeUrl=wJ;var vN=typeof global=="object"&&global&&global.Object===Object&&global,SJ=typeof self=="object"&&self&&self.Object===Object&&self,la=vN||SJ||Function("return this")(),ts=la.Symbol,_N=Object.prototype,CJ=_N.hasOwnProperty,EJ=_N.toString,Rd=ts?ts.toStringTag:void 0;function AJ(e){var t=CJ.call(e,Rd),r=e[Rd];try{e[Rd]=void 0;var n=!0}catch{}var i=EJ.call(e);return n&&(t?e[Rd]=r:delete e[Rd]),i}var LJ=Object.prototype,RJ=LJ.toString;function IJ(e){return RJ.call(e)}var NJ="[object Null]",$J="[object Undefined]",CC=ts?ts.toStringTag:void 0;function pc(e){return e==null?e===void 0?$J:NJ:CC&&CC in Object(e)?AJ(e):IJ(e)}function Ei(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var OJ="[object AsyncFunction]",DJ="[object Function]",MJ="[object GeneratorFunction]",PJ="[object Proxy]";function Sp(e){if(!Ei(e))return!1;var t=pc(e);return t==DJ||t==MJ||t==OJ||t==PJ}var ab=la["__core-js_shared__"],EC=function(){var e=/[^.]+$/.exec(ab&&ab.keys&&ab.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function BJ(e){return!!EC&&EC in e}var FJ=Function.prototype,VJ=FJ.toString;function gc(e){if(e!=null){try{return VJ.call(e)}catch{}try{return e+""}catch{}}return""}var zJ=/[\\^$.*+?()[\]{}|]/g,WJ=/^\[object .+?Constructor\]$/,UJ=Function.prototype,HJ=Object.prototype,GJ=UJ.toString,qJ=HJ.hasOwnProperty,jJ=RegExp("^"+GJ.call(qJ).replace(zJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function YJ(e){if(!Ei(e)||BJ(e))return!1;var t=Sp(e)?jJ:WJ;return t.test(gc(e))}function XJ(e,t){return e==null?void 0:e[t]}function mc(e,t){var r=XJ(e,t);return YJ(r)?r:void 0}var Cp=mc(Object,"create");function KJ(){this.__data__=Cp?Cp(null):{},this.size=0}function QJ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ZJ="__lodash_hash_undefined__",JJ=Object.prototype,ttt=JJ.hasOwnProperty;function ett(e){var t=this.__data__;if(Cp){var r=t[e];return r===ZJ?void 0:r}return ttt.call(t,e)?t[e]:void 0}var rtt=Object.prototype,ntt=rtt.hasOwnProperty;function itt(e){var t=this.__data__;return Cp?t[e]!==void 0:ntt.call(t,e)}var stt="__lodash_hash_undefined__";function att(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cp&&t===void 0?stt:t,this}function Xl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xl.prototype.clear=KJ;Xl.prototype.delete=QJ;Xl.prototype.get=ett;Xl.prototype.has=itt;Xl.prototype.set=att;function ott(){this.__data__=[],this.size=0}function sd(e,t){return e===t||e!==e&&t!==t}function l2(e,t){for(var r=e.length;r--;)if(sd(e[r][0],t))return r;return-1}var ltt=Array.prototype,ctt=ltt.splice;function utt(e){var t=this.__data__,r=l2(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ctt.call(t,r,1),--this.size,!0}function htt(e){var t=this.__data__,r=l2(t,e);return r<0?void 0:t[r][1]}function dtt(e){return l2(this.__data__,e)>-1}function ftt(e,t){var r=this.__data__,n=l2(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ro(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ro.prototype.clear=ott;ro.prototype.delete=utt;ro.prototype.get=htt;ro.prototype.has=dtt;ro.prototype.set=ftt;var Ep=mc(la,"Map");function ptt(){this.size=0,this.__data__={hash:new Xl,map:new(Ep||ro),string:new Xl}}function gtt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function c2(e,t){var r=e.__data__;return gtt(t)?r[typeof t=="string"?"string":"hash"]:r.map}function mtt(e){var t=c2(this,e).delete(e);return this.size-=t?1:0,t}function ytt(e){return c2(this,e).get(e)}function xtt(e){return c2(this,e).has(e)}function btt(e,t){var r=c2(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function no(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}no.prototype.clear=ptt;no.prototype.delete=mtt;no.prototype.get=ytt;no.prototype.has=xtt;no.prototype.set=btt;var vtt="Expected a function";function ad(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(vtt);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(ad.Cache||no),r}ad.Cache=no;function _tt(){this.__data__=new ro,this.size=0}function Ttt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function ktt(e){return this.__data__.get(e)}function wtt(e){return this.__data__.has(e)}var Stt=200;function Ctt(e,t){var r=this.__data__;if(r instanceof ro){var n=r.__data__;if(!Ep||n.length<Stt-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new no(n)}return r.set(e,t),this.size=r.size,this}function _s(e){var t=this.__data__=new ro(e);this.size=t.size}_s.prototype.clear=_tt;_s.prototype.delete=Ttt;_s.prototype.get=ktt;_s.prototype.has=wtt;_s.prototype.set=Ctt;var mm=function(){try{var e=mc(Object,"defineProperty");return e({},"",{}),e}catch{}}();function u2(e,t,r){t=="__proto__"&&mm?mm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function b_(e,t,r){(r!==void 0&&!sd(e[t],r)||r===void 0&&!(t in e))&&u2(e,t,r)}function Ett(e){return function(t,r,n){for(var i=-1,s=Object(t),a=n(t),o=a.length;o--;){var l=a[++i];if(r(s[l],l,s)===!1)break}return t}}var lw=Ett(),TN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,AC=TN&&typeof module=="object"&&module&&!module.nodeType&&module,Att=AC&&AC.exports===TN,LC=Att?la.Buffer:void 0,RC=LC?LC.allocUnsafe:void 0;function kN(e,t){if(t)return e.slice();var r=e.length,n=RC?RC(r):new e.constructor(r);return e.copy(n),n}var ym=la.Uint8Array;function cw(e){var t=new e.constructor(e.byteLength);return new ym(t).set(new ym(e)),t}function wN(e,t){var r=t?cw(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function SN(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var IC=Object.create,Ltt=function(){function e(){}return function(t){if(!Ei(t))return{};if(IC)return IC(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function CN(e,t){return function(r){return e(t(r))}}var uw=CN(Object.getPrototypeOf,Object),Rtt=Object.prototype;function h2(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Rtt;return e===r}function EN(e){return typeof e.constructor=="function"&&!h2(e)?Ltt(uw(e)):{}}function ia(e){return e!=null&&typeof e=="object"}var Itt="[object Arguments]";function NC(e){return ia(e)&&pc(e)==Itt}var AN=Object.prototype,Ntt=AN.hasOwnProperty,$tt=AN.propertyIsEnumerable,Mh=NC(function(){return arguments}())?NC:function(e){return ia(e)&&Ntt.call(e,"callee")&&!$tt.call(e,"callee")},Br=Array.isArray,Ott=9007199254740991;function hw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ott}function qo(e){return e!=null&&hw(e.length)&&!Sp(e)}function LN(e){return ia(e)&&qo(e)}function Dtt(){return!1}var RN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$C=RN&&typeof module=="object"&&module&&!module.nodeType&&module,Mtt=$C&&$C.exports===RN,OC=Mtt?la.Buffer:void 0,Ptt=OC?OC.isBuffer:void 0,Ph=Ptt||Dtt,Btt="[object Object]",Ftt=Function.prototype,Vtt=Object.prototype,IN=Ftt.toString,ztt=Vtt.hasOwnProperty,Wtt=IN.call(Object);function Utt(e){if(!ia(e)||pc(e)!=Btt)return!1;var t=uw(e);if(t===null)return!0;var r=ztt.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&IN.call(r)==Wtt}var Htt="[object Arguments]",Gtt="[object Array]",qtt="[object Boolean]",jtt="[object Date]",Ytt="[object Error]",Xtt="[object Function]",Ktt="[object Map]",Qtt="[object Number]",Ztt="[object Object]",Jtt="[object RegExp]",tet="[object Set]",eet="[object String]",ret="[object WeakMap]",net="[object ArrayBuffer]",iet="[object DataView]",set="[object Float32Array]",aet="[object Float64Array]",oet="[object Int8Array]",cet="[object Int16Array]",uet="[object Int32Array]",het="[object Uint8Array]",det="[object Uint8ClampedArray]",fet="[object Uint16Array]",pet="[object Uint32Array]",lr={};lr[set]=lr[aet]=lr[oet]=lr[cet]=lr[uet]=lr[het]=lr[det]=lr[fet]=lr[pet]=!0;lr[Htt]=lr[Gtt]=lr[net]=lr[qtt]=lr[iet]=lr[jtt]=lr[Ytt]=lr[Xtt]=lr[Ktt]=lr[Qtt]=lr[Ztt]=lr[Jtt]=lr[tet]=lr[eet]=lr[ret]=!1;function get(e){return ia(e)&&hw(e.length)&&!!lr[pc(e)]}function d2(e){return function(t){return e(t)}}var NN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Kf=NN&&typeof module=="object"&&module&&!module.nodeType&&module,met=Kf&&Kf.exports===NN,ob=met&&vN.process,Bh=function(){try{var e=Kf&&Kf.require&&Kf.require("util").types;return e||ob&&ob.binding&&ob.binding("util")}catch{}}(),DC=Bh&&Bh.isTypedArray,f2=DC?d2(DC):get;function v_(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var yet=Object.prototype,xet=yet.hasOwnProperty;function p2(e,t,r){var n=e[t];(!(xet.call(e,t)&&sd(n,r))||r===void 0&&!(t in e))&&u2(e,t,r)}function dg(e,t,r,n){var i=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=void 0;l===void 0&&(l=e[o]),i?u2(r,o,l):p2(r,o,l)}return r}function bet(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var vet=9007199254740991,_et=/^(?:0|[1-9]\d*)$/;function g2(e,t){var r=typeof e;return t=t??vet,!!t&&(r=="number"||r!="symbol"&&_et.test(e))&&e>-1&&e%1==0&&e<t}var Tet=Object.prototype,ket=Tet.hasOwnProperty;function $N(e,t){var r=Br(e),n=!r&&Mh(e),i=!r&&!n&&Ph(e),s=!r&&!n&&!i&&f2(e),a=r||n||i||s,o=a?bet(e.length,String):[],l=o.length;for(var u in e)(t||ket.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||g2(u,l)))&&o.push(u);return o}function wet(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Cet=Object.prototype,Eet=Cet.hasOwnProperty;function Aet(e){if(!Ei(e))return wet(e);var t=h2(e),r=[];for(var n in e)n=="constructor"&&(t||!Eet.call(e,n))||r.push(n);return r}function yc(e){return qo(e)?$N(e,!0):Aet(e)}function Let(e){return dg(e,yc(e))}function Ret(e,t,r,n,i,s,a){var o=v_(e,r),l=v_(t,r),u=a.get(l);if(u){b_(e,r,u);return}var h=s?s(o,l,r+"",e,t,a):void 0,d=h===void 0;if(d){var f=Br(l),p=!f&&Ph(l),m=!f&&!p&&f2(l);h=l,f||p||m?Br(o)?h=o:LN(o)?h=SN(o):p?(d=!1,h=kN(l,!0)):m?(d=!1,h=wN(l,!0)):h=[]:Utt(l)||Mh(l)?(h=o,Mh(o)?h=Let(o):(!Ei(o)||Sp(o))&&(h=EN(l))):d=!1}d&&(a.set(l,h),i(h,l,n,s,a),a.delete(l)),b_(e,r,h)}function ON(e,t,r,n,i){e!==t&&lw(t,function(s,a){if(i||(i=new _s),Ei(s))Ret(e,t,a,r,ON,n,i);else{var o=n?n(v_(e,a),s,a+"",e,t,i):void 0;o===void 0&&(o=s),b_(e,a,o)}},yc)}function xc(e){return e}function Iet(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var MC=Math.max;function DN(e,t,r){return t=MC(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=MC(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(a),Iet(e,this,o)}}function eu(e){return function(){return e}}var Net=mm?function(e,t){return mm(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:xc,$et=800,Oet=16,Det=Date.now;function Met(e){var t=0,r=0;return function(){var n=Det(),i=Oet-(n-r);if(r=n,i>0){if(++t>=$et)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var MN=Met(Net);function m2(e,t){return MN(DN(e,t,xc),e+"")}function Ap(e,t,r){if(!Ei(r))return!1;var n=typeof t;return(n=="number"?qo(r)&&g2(t,r.length):n=="string"&&t in r)?sd(r[t],e):!1}function Pet(e){return m2(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,a&&Ap(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var o=r[n];o&&e(t,o,n,s)}return t})}var xm=Pet(function(e,t,r){ON(e,t,r)}),PN="",Bet={curveBasis:fu,curveBasisClosed:sZ,curveBasisOpen:aZ,curveBumpX:x7,curveBumpY:b7,curveBundle:oZ,curveCardinalClosed:lZ,curveCardinalOpen:cZ,curveCardinal:k7,curveCatmullRomClosed:uZ,curveCatmullRomOpen:hZ,curveCatmullRom:S7,curveLinear:am,curveLinearClosed:dZ,curveMonotoneX:I7,curveMonotoneY:N7,curveNatural:O7,curveStep:D7,curveStepAfter:P7,curveStepBefore:M7},Fet=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Vet=g(function(e,t){const r=BN(e,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const a=r.map(o=>o.args);V0(a),n=Ar(n,[...a])}else n=r.args;if(!n)return;let i=Ik(e,t);const s="config";return n[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[s],delete n[s]),n},"detectInit"),BN=g(function(e,t=null){var r,n;try{const i=new RegExp(`[%]{2}(?![{]${Fet.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(i,"").replace(/'/gm,'"'),U.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let s;const a=[];for(;(s=jf.exec(e))!==null;)if(s.index===jf.lastIndex&&jf.lastIndex++,s&&!t||t&&((r=s[1])!=null&&r.match(t))||t&&((n=s[2])!=null&&n.match(t))){const o=s[1]?s[1]:s[2],l=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;a.push({type:o,args:l})}return a.length===0?{type:e,args:null}:a.length===1?a[0]:a}catch(i){return U.error(`ERROR: ${i.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),zet=g(function(e){return e.replace(jf,"")},"removeDirectives"),Wet=g(function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray");function dw(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return Bet[r]??t}g(dw,"interpolateToCurve");function FN(e,t){const r=e.trim();if(r)return t.securityLevel!=="loose"?Go(r):r}g(FN,"formatUrl");var Uet=g((e,...t)=>{const r=e.split("."),n=r.length-1,i=r[n];let s=window;for(let a=0;a<n;a++)if(s=s[r[a]],!s){U.error(`Function name: ${e} not found in window`);return}s[i](...t)},"runFunc");function fw(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}g(fw,"distance");function VN(e){let t,r=0;e.forEach(i=>{r+=fw(i,t),t=i});const n=r/2;return pw(e,n)}g(VN,"traverseEdge");function zN(e){return e.length===1?e[0]:VN(e)}g(zN,"calcLabelPosition");var PC=g((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),pw=g((e,t)=>{let r,n=t;for(const i of e){if(r){const s=fw(i,r);if(s===0)return r;if(s<n)n-=s;else{const a=n/s;if(a<=0)return r;if(a>=1)return{x:i.x,y:i.y};if(a>0&&a<1)return{x:PC((1-a)*r.x+a*i.x,5),y:PC((1-a)*r.y+a*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Het=g((e,t,r)=>{U.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=pw(t,25),s=e?10:5,a=Math.atan2(t[0].y-i.y,t[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(a)*s+(t[0].x+i.x)/2,o.y=-Math.cos(a)*s+(t[0].y+i.y)/2,o},"calcCardinalityPosition");function WN(e,t,r){const n=structuredClone(r);U.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();const i=25+e,s=pw(n,i),a=10+e*.5,o=Math.atan2(n[0].y-s.y,n[0].x-s.x),l={x:0,y:0};return t==="start_left"?(l.x=Math.sin(o+Math.PI)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o+Math.PI)*a+(n[0].y+s.y)/2):t==="end_right"?(l.x=Math.sin(o-Math.PI)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o-Math.PI)*a+(n[0].y+s.y)/2-5):t==="end_left"?(l.x=Math.sin(o)*a+(n[0].x+s.x)/2-5,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2-5):(l.x=Math.sin(o)*a+(n[0].x+s.x)/2,l.y=-Math.cos(o)*a+(n[0].y+s.y)/2),l}g(WN,"calcTerminalLabelPosition");function gw(e){let t="",r="";for(const n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}g(gw,"getStylesFromArray");var BC=0,UN=g(()=>(BC++,"id-"+Math.random().toString(36).substr(2,12)+"-"+BC),"generateId");function HN(e){let t="";const r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}g(HN,"makeRandomHex");var GN=g(e=>HN(e.length),"random"),Get=g(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),qet=g(function(e,t){const r=t.text.replace(Ot.lineBreakRegex," "),[,n]=bc(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);const s=i.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(r),i},"drawSimpleText"),qN=ad((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Ot.lineBreakRegex.test(e)))return e;const n=e.split(" ").filter(Boolean),i=[];let s="";return n.forEach((a,o)=>{const l=Yn(`${a} `,r),u=Yn(s,r);if(l>t){const{hyphenatedStrings:f,remainingWord:p}=jet(a,t,"-",r);i.push(s,...f),s=p}else u+l>=t?(i.push(s),s=a):s=[s,a].filter(Boolean).join(" ");o+1===n.length&&i.push(s)}),i.filter(a=>a!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),jet=ad((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],s=[];let a="";return i.forEach((o,l)=>{const u=`${a}${o}`;if(Yn(u,n)>=t){const d=l+1,f=i.length===d,p=`${u}${r}`;s.push(f?u:p),a=""}else a=u}),{hyphenatedStrings:s,remainingWord:a}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function bm(e,t){return mw(e,t).height}g(bm,"calculateTextHeight");function Yn(e,t){return mw(e,t).width}g(Yn,"calculateTextWidth");var mw=ad((e,t)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};const[,s]=bc(r),a=["sans-serif",n],o=e.split(Ot.lineBreakRegex),l=[],u=Lt("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const h=u.append("svg");for(const f of a){let p=0;const m={width:0,height:0,lineHeight:0};for(const y of o){const b=Get();b.text=y||PN;const x=qet(h,b).style("font-size",s).style("font-weight",i).style("font-family",f),v=(x._groups||x)[0][0].getBBox();if(v.width===0&&v.height===0)throw new Error("svg element not in render tree");m.width=Math.round(Math.max(m.width,v.width)),p=Math.round(v.height),m.height+=p,m.lineHeight=Math.round(Math.max(m.lineHeight,p))}l.push(m)}h.remove();const d=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[d]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Ru,Yet=(Ru=class{constructor(t=!1,r){this.count=0,this.count=r?r.length:0,this.next=t?()=>this.count++:()=>Date.now()}},g(Ru,"InitIDGenerator"),Ru),Zg,Xet=g(function(e){return Zg=Zg||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Zg.innerHTML=e,unescape(Zg.textContent)},"entityDecode");function yw(e){return"str"in e}g(yw,"isDetailedError");var Ket=g((e,t,r,n)=>{var s;if(!n)return;const i=(s=e.node())==null?void 0:s.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),bc=g(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function Zn(e,t){return xm({},e,t)}g(Zn,"cleanAndMerge");var be={assignWithDepth:Ar,wrapLabel:qN,calculateTextHeight:bm,calculateTextWidth:Yn,calculateTextDimensions:mw,cleanAndMerge:Zn,detectInit:Vet,detectDirective:BN,isSubstringInArray:Wet,interpolateToCurve:dw,calcLabelPosition:zN,calcCardinalityPosition:Het,calcTerminalLabelPosition:WN,formatUrl:FN,getStylesFromArray:gw,generateId:UN,random:GN,runFunc:Uet,entityDecode:Xet,insertTitle:Ket,isLabelCoordinateInPath:jN,parseFontSize:bc,InitIDGenerator:Yet},Qet=g(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?""+n+"":""+n+""}),t},"encodeEntities"),sa=g(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),pu=g((e,t,{counter:r=0,prefix:n,suffix:i},s)=>s||`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId");function Mn(e){return e??null}g(Mn,"handleUndefinedAttr");function jN(e,t){const r=Math.round(e.x),n=Math.round(e.y),i=t.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return i.includes(r.toString())||i.includes(n.toString())}g(jN,"isLabelCoordinateInPath");const Zet=Object.freeze({left:0,top:0,width:16,height:16}),vm=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),YN=Object.freeze({...Zet,...vm}),Jet=Object.freeze({...YN,body:"",hidden:!1}),trt=Object.freeze({width:null,height:null}),ert=Object.freeze({...trt,...vm}),rrt=(e,t,r,n="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const o=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:n,prefix:l,name:o};return lb(u)?u:null}const s=i[0],a=s.split("-");if(a.length>1){const o={provider:n,prefix:a.shift(),name:a.join("-")};return lb(o)?o:null}if(r&&n===""){const o={provider:n,prefix:"",name:s};return lb(o,r)?o:null}return null},lb=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function nrt(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function FC(e,t){const r=nrt(e,t);for(const n in Jet)n in vm?n in e&&!(n in r)&&(r[n]=vm[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function irt(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function s(a){if(r[a])return i[a]=[];if(!(a in i)){i[a]=null;const o=n[a]&&n[a].parent,l=o&&s(o);l&&(i[a]=[o].concat(l))}return i[a]}return(t||Object.keys(r).concat(Object.keys(n))).forEach(s),i}function VC(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let s={};function a(o){s=FC(n[o]||i[o],s)}return a(t),r.forEach(a),FC(e,s)}function srt(e,t){if(e.icons[t])return VC(e,t,[]);const r=irt(e,[t])[t];return r?VC(e,t,r):null}const art=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ort=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function zC(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(art);if(n===null||!n.length)return e;const i=[];let s=n.shift(),a=ort.test(s);for(;;){if(a){const o=parseFloat(s);isNaN(o)?i.push(s):i.push(Math.ceil(o*t*r)/r)}else i.push(s);if(s=n.shift(),s===void 0)return i.join("");a=!a}}function lrt(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const a=e.indexOf(">",s);if(a===-1)break;r+=e.slice(i+1,s).trim(),e=e.slice(0,n).trim()+e.slice(a+1)}return{defs:r,content:e}}function crt(e,t){return e?"<defs>"+e+"</defs>"+t:t}function urt(e,t,r){const n=lrt(e);return crt(n.defs,t+n.content+r)}const hrt=e=>e==="unset"||e==="undefined"||e==="none";function drt(e,t){const r={...YN,...e},n={...ert,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let s=r.body;[r,n].forEach(y=>{const b=[],x=y.hFlip,v=y.vFlip;let _=y.rotate;x?v?_+=2:(b.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),b.push("scale(-1 1)"),i.top=i.left=0):v&&(b.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),b.push("scale(1 -1)"),i.top=i.left=0);let S;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:S=i.height/2+i.top,b.unshift("rotate(90 "+S.toString()+" "+S.toString()+")");break;case 2:b.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:S=i.width/2+i.left,b.unshift("rotate(-90 "+S.toString()+" "+S.toString()+")");break}_%2===1&&(i.left!==i.top&&(S=i.left,i.left=i.top,i.top=S),i.width!==i.height&&(S=i.width,i.width=i.height,i.height=S)),b.length&&(s=urt(s,'<g transform="'+b.join(" ")+'">',"</g>"))});const a=n.width,o=n.height,l=i.width,u=i.height;let h,d;a===null?(d=o===null?"1em":o==="auto"?u:o,h=zC(d,l/u)):(h=a==="auto"?l:a,d=o===null?zC(h,u/l):o==="auto"?u:o);const f={},p=(y,b)=>{hrt(b)||(f[y]=b.toString())};p("width",h),p("height",d);const m=[i.left,i.top,l,u];return f.viewBox=m.join(" "),{attributes:f,viewBox:m,body:s}}const frt=/\sid="(\S+)"/g,WC=new Map;function prt(e){e=e.replace(/[0-9]+$/,"")||"a";const t=WC.get(e)||0;return WC.set(e,t+1),t?`${e}${t}`:e}function grt(e){const t=[];let r;for(;r=frt.exec(e);)t.push(r[1]);if(!t.length)return e;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(i=>{const s=prt(i),a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+s+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}function mrt(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function xw(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var vc=xw();function XN(e){vc=e}var Qf={exec:()=>null};function ze(e,t=""){let r=typeof e=="string"?e:e.source,n={replace:(i,s)=>{let a=typeof s=="string"?s:s.source;return a=a.replace(jn.caret,"$1"),r=r.replace(i,a),n},getRegex:()=>new RegExp(r,t)};return n}var yrt=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),jn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},xrt=/^(?:[ \t]*(?:\n|$))+/,brt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,vrt=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,fg=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,_rt=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bw=/(?:[*+-]|\d{1,9}[.)])/,KN=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,QN=ze(KN).replace(/bull/g,bw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Trt=ze(KN).replace(/bull/g,bw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),vw=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,krt=/^[^\n]+/,_w=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,wrt=ze(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",_w).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Srt=ze(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bw).getRegex(),y2="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Tw=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Crt=ze("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Tw).replace("tag",y2).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ZN=ze(vw).replace("hr",fg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",y2).getRegex(),Ert=ze(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ZN).getRegex(),kw={blockquote:Ert,code:brt,def:wrt,fences:vrt,heading:_rt,hr:fg,html:Crt,lheading:QN,list:Srt,newline:xrt,paragraph:ZN,table:Qf,text:krt},UC=ze("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",fg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",y2).getRegex(),Art={...kw,lheading:Trt,table:UC,paragraph:ze(vw).replace("hr",fg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",UC).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",y2).getRegex()},Lrt={...kw,html:ze(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Tw).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Qf,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ze(vw).replace("hr",fg).replace("heading",` *#{1,6} *[^
]`).replace("lheading",QN).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Rrt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Irt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,JN=/^( {2,}|\\)\n(?!\s*$)/,Nrt=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,x2=/[\p{P}\p{S}]/u,ww=/[\s\p{P}\p{S}]/u,t$=/[^\s\p{P}\p{S}]/u,$rt=ze(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ww).getRegex(),e$=/(?!~)[\p{P}\p{S}]/u,Ort=/(?!~)[\s\p{P}\p{S}]/u,Drt=/(?:[^\s\p{P}\p{S}]|~)/u,Mrt=ze(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",yrt?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),r$=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Prt=ze(r$,"u").replace(/punct/g,x2).getRegex(),Brt=ze(r$,"u").replace(/punct/g,e$).getRegex(),n$="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Frt=ze(n$,"gu").replace(/notPunctSpace/g,t$).replace(/punctSpace/g,ww).replace(/punct/g,x2).getRegex(),Vrt=ze(n$,"gu").replace(/notPunctSpace/g,Drt).replace(/punctSpace/g,Ort).replace(/punct/g,e$).getRegex(),zrt=ze("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,t$).replace(/punctSpace/g,ww).replace(/punct/g,x2).getRegex(),Wrt=ze(/\\(punct)/,"gu").replace(/punct/g,x2).getRegex(),Urt=ze(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Hrt=ze(Tw).replace("(?:-->|$)","-->").getRegex(),Grt=ze("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Hrt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_m=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,qrt=ze(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",_m).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),i$=ze(/^!?\[(label)\]\[(ref)\]/).replace("label",_m).replace("ref",_w).getRegex(),s$=ze(/^!?\[(ref)\](?:\[\])?/).replace("ref",_w).getRegex(),jrt=ze("reflink|nolink(?!\\()","g").replace("reflink",i$).replace("nolink",s$).getRegex(),HC=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Sw={_backpedal:Qf,anyPunctuation:Wrt,autolink:Urt,blockSkip:Mrt,br:JN,code:Irt,del:Qf,emStrongLDelim:Prt,emStrongRDelimAst:Frt,emStrongRDelimUnd:zrt,escape:Rrt,link:qrt,nolink:s$,punctuation:$rt,reflink:i$,reflinkSearch:jrt,tag:Grt,text:Nrt,url:Qf},Yrt={...Sw,link:ze(/^!?\[(label)\]\((.*?)\)/).replace("label",_m).getRegex(),reflink:ze(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_m).getRegex()},__={...Sw,emStrongRDelimAst:Vrt,emStrongLDelim:Brt,url:ze(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",HC).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ze(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",HC).getRegex()},Xrt={...__,br:ze(JN).replace("{2,}","*").getRegex(),text:ze(__.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Jg={normal:kw,gfm:Art,pedantic:Lrt},Id={normal:Sw,gfm:__,breaks:Xrt,pedantic:Yrt},Krt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},GC=e=>Krt[e];function Vs(e,t){if(t){if(jn.escapeTest.test(e))return e.replace(jn.escapeReplace,GC)}else if(jn.escapeTestNoEncode.test(e))return e.replace(jn.escapeReplaceNoEncode,GC);return e}function qC(e){try{e=encodeURI(e).replace(jn.percentDecode,"%")}catch{return null}return e}function jC(e,t){var s;let r=e.replace(jn.findPipe,(a,o,l)=>{let u=!1,h=o;for(;--h>=0&&l[h]==="\\";)u=!u;return u?"|":" |"}),n=r.split(jn.splitPipe),i=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(jn.slashPipe,"|");return n}function Nd(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n&&e.charAt(n-i-1)===t;)i++;return e.slice(0,n-i)}function Qrt(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return r>0?-2:-1}function YC(e,t,r,n,i){let s=t.href,a=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");n.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}function Zrt(e,t,r){let n=e.match(r.other.indentCodeCompensation);if(n===null)return t;let i=n[1];return t.split(`
`).map(s=>{let a=s.match(r.other.beginningSpace);if(a===null)return s;let[o]=a;return o.length>=i.length?s.slice(i.length):s}).join(`
`)}var Tm=class{constructor(t){Le(this,"options");Le(this,"rules");Le(this,"lexer");this.options=t||vc}space(t){let r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){let r=this.rules.block.code.exec(t);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Nd(n,`
`)}}}fences(t){let r=this.rules.block.fences.exec(t);if(r){let n=r[0],i=Zrt(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:i}}}heading(t){let r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let i=Nd(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:Nd(r[0],`
`)}}blockquote(t){let r=this.rules.block.blockquote.exec(t);if(r){let n=Nd(r[0],`
`).split(`
`),i="",s="",a=[];for(;n.length>0;){let o=!1,l=[],u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))l.push(n[u]),o=!0;else if(!o)l.push(n[u]);else break;n=n.slice(u);let h=l.join(`
`),d=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${h}`:h,s=s?`${s}
${d}`:d;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,a,!0),this.lexer.state.top=f,n.length===0)break;let p=a.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){let m=p,y=m.raw+`
`+n.join(`
`),b=this.blockquote(y);a[a.length-1]=b,i=i.substring(0,i.length-m.raw.length)+b.raw,s=s.substring(0,s.length-m.text.length)+b.text;break}else if((p==null?void 0:p.type)==="list"){let m=p,y=m.raw+`
`+n.join(`
`),b=this.list(y);a[a.length-1]=b,i=i.substring(0,i.length-p.raw.length)+b.raw,s=s.substring(0,s.length-m.raw.length)+b.raw,n=y.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:a,text:s}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim(),i=n.length>1,s={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let a=this.rules.other.listItemRegex(n),o=!1;for(;t;){let u=!1,h="",d="";if(!(r=a.exec(t))||this.rules.block.hr.test(t))break;h=r[0],t=t.substring(h.length);let f=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),p=t.split(`
`,1)[0],m=!f.trim(),y=0;if(this.options.pedantic?(y=2,d=f.trimStart()):m?y=r[1].length+1:(y=r[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,d=f.slice(y),y+=r[1].length),m&&this.rules.other.blankLine.test(p)&&(h+=p+`
`,t=t.substring(p.length+1),u=!0),!u){let v=this.rules.other.nextBulletRegex(y),_=this.rules.other.hrRegex(y),S=this.rules.other.fencesBeginRegex(y),k=this.rules.other.headingBeginRegex(y),T=this.rules.other.htmlBeginRegex(y);for(;t;){let E=t.split(`
`,1)[0],I;if(p=E,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),I=p):I=p.replace(this.rules.other.tabCharGlobal,"    "),S.test(p)||k.test(p)||T.test(p)||v.test(p)||_.test(p))break;if(I.search(this.rules.other.nonSpaceChar)>=y||!p.trim())d+=`
`+I.slice(y);else{if(m||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||S.test(f)||k.test(f)||_.test(f))break;d+=`
`+p}!m&&!p.trim()&&(m=!0),h+=E+`
`,t=t.substring(E.length+1),f=I.slice(y)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(o=!0));let b=null,x;this.options.gfm&&(b=this.rules.other.listIsTask.exec(d),b&&(x=b[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:h,task:!!b,checked:x,loose:!1,text:d,tokens:[]}),s.raw+=h}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){let h=s.items[u].tokens.filter(f=>f.type==="space"),d=h.length>0&&h.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=d}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(t){let r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(t){let r=this.rules.block.def.exec(t);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:i,title:s}}}table(t){var o;let r=this.rules.block.table.exec(t);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=jC(r[1]),i=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=r[3])!=null&&o.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let l of i)this.rules.other.tableAlignRight.test(l)?a.align.push("right"):this.rules.other.tableAlignCenter.test(l)?a.align.push("center"):this.rules.other.tableAlignLeft.test(l)?a.align.push("left"):a.align.push(null);for(let l=0;l<n.length;l++)a.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:a.align[l]});for(let l of s)a.rows.push(jC(l,a.header.length).map((u,h)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:a.align[h]})));return a}}lheading(t){let r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){let r=this.rules.block.paragraph.exec(t);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){let r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(t){let r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){let r=this.rules.inline.link.exec(t);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let a=Nd(n.slice(0,-1),"\\");if((n.length-a.length)%2===0)return}else{let a=Qrt(r[2],"()");if(a===-2)return;if(a>-1){let o=(r[0].indexOf("!")===0?5:4)+r[1].length+a;r[2]=r[2].substring(0,a),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let i=r[2],s="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(i);a&&(i=a[1],s=a[3])}else s=r[3]?r[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),YC(r,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=r[i.toLowerCase()];if(!s){let a=n[0].charAt(0);return{type:"text",raw:a,text:a}}return YC(n,s,n[0],this.lexer,this.rules)}}emStrong(t,r,n=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...i[0]].length-1,a,o,l=s,u=0,h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);(i=h.exec(r))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(o=[...a].length,i[3]||i[4]){l+=o;continue}else if((i[5]||i[6])&&s%3&&!((s+o)%3)){u+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+u);let d=[...i[0]][0].length,f=t.slice(0,s+i.index+d+o);if(Math.min(s,o)%2){let m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}let p=f.slice(2,-2);return{type:"strong",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){let r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(t){let r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){let r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){let r=this.rules.inline.autolink.exec(t);if(r){let n,i;return r[2]==="@"?(n=r[1],i="mailto:"+n):(n=r[1],i=n),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let r;if(r=this.rules.inline.url.exec(t)){let i,s;if(r[2]==="@")i=r[0],s="mailto:"+i;else{let a;do a=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(a!==r[0]);i=r[0],r[1]==="www."?s="http://"+r[0]:s=r[0]}return{type:"link",raw:r[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){let r=this.rules.inline.text.exec(t);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},ps=class T_{constructor(t){Le(this,"tokens");Le(this,"options");Le(this,"state");Le(this,"tokenizer");Le(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||vc,this.options.tokenizer=this.options.tokenizer||new Tm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:jn,block:Jg.normal,inline:Id.normal};this.options.pedantic?(r.block=Jg.pedantic,r.inline=Id.pedantic):this.options.gfm&&(r.block=Jg.gfm,this.options.breaks?r.inline=Id.breaks:r.inline=Id.gfm),this.tokenizer.rules=r}static get rules(){return{block:Jg,inline:Id}}static lex(t,r){return new T_(r).lex(t)}static lexInline(t,r){return new T_(r).inlineTokens(t)}lex(t){t=t.replace(jn.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){var i,s,a;for(this.options.pedantic&&(t=t.replace(jn.tabCharGlobal,"    ").replace(jn.spaceLine,""));t;){let o;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(u=>(o=u.call({lexer:this},t,r))?(t=t.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let u=r.at(-1);o.raw.length===1&&u!==void 0?u.raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.text,this.inlineQueue.at(-1).src=u.text):r.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},r.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),r.push(o);continue}let l=t;if((a=this.options.extensions)!=null&&a.startBlock){let u=1/0,h=t.slice(1),d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},h),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){let u=r.at(-1);n&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(o),n=l.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(o);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){var l,u,h,d,f;let n=t,i=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=i[2]?i[2].length:0,n=n.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((u=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:u.call({lexer:this},n))??n;let a=!1,o="";for(;t;){a||(o=""),a=!1;let p;if((d=(h=this.options.extensions)==null?void 0:h.inline)!=null&&d.some(y=>(p=y.call({lexer:this},t,r))?(t=t.substring(p.raw.length),r.push(p),!0):!1))continue;if(p=this.tokenizer.escape(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.tag(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.link(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(p.raw.length);let y=r.at(-1);p.type==="text"&&(y==null?void 0:y.type)==="text"?(y.raw+=p.raw,y.text+=p.text):r.push(p);continue}if(p=this.tokenizer.emStrong(t,n,o)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.codespan(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.br(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.del(t)){t=t.substring(p.raw.length),r.push(p);continue}if(p=this.tokenizer.autolink(t)){t=t.substring(p.raw.length),r.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(t))){t=t.substring(p.raw.length),r.push(p);continue}let m=t;if((f=this.options.extensions)!=null&&f.startInline){let y=1/0,b=t.slice(1),x;this.options.extensions.startInline.forEach(v=>{x=v.call({lexer:this},b),typeof x=="number"&&x>=0&&(y=Math.min(y,x))}),y<1/0&&y>=0&&(m=t.substring(0,y+1))}if(p=this.tokenizer.inlineText(m)){t=t.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(o=p.raw.slice(-1)),a=!0;let y=r.at(-1);(y==null?void 0:y.type)==="text"?(y.raw+=p.raw,y.text+=p.text):r.push(p);continue}if(t){let y="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return r}},km=class{constructor(t){Le(this,"options");Le(this,"parser");this.options=t||vc}space(t){return""}code({text:t,lang:r,escaped:n}){var a;let i=(a=(r||"").match(jn.notSpaceStart))==null?void 0:a[0],s=t.replace(jn.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Vs(i)+'">'+(n?s:Vs(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:Vs(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:r}){return`<h${r}>${this.parser.parseInline(t)}</h${r}>
`}hr(t){return`<hr>
`}list(t){let r=t.ordered,n=t.start,i="";for(let o=0;o<t.items.length;o++){let l=t.items[o];i+=this.listitem(l)}let s=r?"ol":"ul",a=r&&n!==1?' start="'+n+'"':"";return"<"+s+a+`>
`+i+"</"+s+`>
`}listitem(t){var n;let r="";if(t.task){let i=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+Vs(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):r+=i+" "}return r+=this.parser.parse(t.tokens,!!t.loose),`<li>${r}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let r="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);r+=this.tablerow({text:n});let i="";for(let s=0;s<t.rows.length;s++){let a=t.rows[s];n="";for(let o=0;o<a.length;o++)n+=this.tablecell(a[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+i+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let r=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Vs(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:r,tokens:n}){let i=this.parser.parseInline(n),s=qC(t);if(s===null)return i;t=s;let a='<a href="'+t+'"';return r&&(a+=' title="'+Vs(r)+'"'),a+=">"+i+"</a>",a}image({href:t,title:r,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let s=qC(t);if(s===null)return Vs(n);t=s;let a=`<img src="${t}" alt="${n}"`;return r&&(a+=` title="${Vs(r)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Vs(t.text)}},Cw=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},gs=class k_{constructor(t){Le(this,"options");Le(this,"renderer");Le(this,"textRenderer");this.options=t||vc,this.options.renderer=this.options.renderer||new km,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Cw}static parse(t,r){return new k_(r).parse(t)}static parseInline(t,r){return new k_(r).parseInline(t)}parse(t,r=!0){var i,s;let n="";for(let a=0;a<t.length;a++){let o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let u=o,h=this.options.extensions.renderers[u.type].call({parser:this},u);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){n+=h||"";continue}}let l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"def":{n+=this.renderer.def(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let u=l,h=this.renderer.text(u);for(;a+1<t.length&&t[a+1].type==="text";)u=t[++a],h+=`
`+this.renderer.text(u);r?n+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):n+=h;continue}default:{let u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(t,r=this.renderer){var i,s;let n="";for(let a=0;a<t.length;a++){let o=t[a];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[o.type]){let u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=u||"";continue}}let l=o;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{let u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}},B1,jd=(B1=class{constructor(t){Le(this,"options");Le(this,"block");this.options=t||vc}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?ps.lex:ps.lexInline}provideParser(){return this.block?gs.parse:gs.parseInline}},Le(B1,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Le(B1,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),B1),Jrt=class{constructor(...t){Le(this,"defaults",xw());Le(this,"options",this.setOptions);Le(this,"parse",this.parseMarkdown(!0));Le(this,"parseInline",this.parseMarkdown(!1));Le(this,"Parser",gs);Le(this,"Renderer",km);Le(this,"TextRenderer",Cw);Le(this,"Lexer",ps);Le(this,"Tokenizer",Tm);Le(this,"Hooks",jd);this.use(...t)}walkTokens(t,r){var i,s;let n=[];for(let a of t)switch(n=n.concat(r.call(this,a)),a.type){case"table":{let o=a;for(let l of o.header)n=n.concat(this.walkTokens(l.tokens,r));for(let l of o.rows)for(let u of l)n=n.concat(this.walkTokens(u.tokens,r));break}case"list":{let o=a;n=n.concat(this.walkTokens(o.items,r));break}default:{let o=a;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{let u=o[l].flat(1/0);n=n.concat(this.walkTokens(u,r))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,r)))}}return n}use(...t){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let a=r.renderers[s.name];a?r.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:r.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=r[s.level];a?a.unshift(s.tokenizer):r[s.level]=[s.tokenizer],s.start&&(s.level==="block"?r.startBlock?r.startBlock.push(s.start):r.startBlock=[s.start]:s.level==="inline"&&(r.startInline?r.startInline.push(s.start):r.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(r.childTokens[s.name]=s.childTokens)}),i.extensions=r),n.renderer){let s=this.defaults.renderer||new km(this.defaults);for(let a in n.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let o=a,l=n.renderer[o],u=s[o];s[o]=(...h)=>{let d=l.apply(s,h);return d===!1&&(d=u.apply(s,h)),d||""}}i.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Tm(this.defaults);for(let a in n.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let o=a,l=n.tokenizer[o],u=s[o];s[o]=(...h)=>{let d=l.apply(s,h);return d===!1&&(d=u.apply(s,h)),d}}i.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new jd;for(let a in n.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let o=a,l=n.hooks[o],u=s[o];jd.passThroughHooks.has(a)?s[o]=h=>{if(this.defaults.async&&jd.passThroughHooksRespectAsync.has(a))return(async()=>{let f=await l.call(s,h);return u.call(s,f)})();let d=l.call(s,h);return u.call(s,d)}:s[o]=(...h)=>{if(this.defaults.async)return(async()=>{let f=await l.apply(s,h);return f===!1&&(f=await u.apply(s,h)),f})();let d=l.apply(s,h);return d===!1&&(d=u.apply(s,h)),d}}i.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,a=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return ps.lex(t,r??this.defaults)}parser(t,r){return gs.parse(t,r??this.defaults)}parseMarkdown(t){return(r,n)=>{let i={...n},s={...this.defaults,...i},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(r):r,l=await(s.hooks?await s.hooks.provideLexer():t?ps.lex:ps.lexInline)(o,s),u=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():t?gs.parse:gs.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let o=(s.hooks?s.hooks.provideLexer():t?ps.lex:ps.lexInline)(r,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():t?gs.parse:gs.parseInline)(o,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(o){return a(o)}}}onError(t,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let i="<p>An error occurred:</p><pre>"+Vs(n.message+"",!0)+"</pre>";return r?Promise.resolve(i):i}if(r)return Promise.reject(n);throw n}}},Kl=new Jrt;function Ye(e,t){return Kl.parse(e,t)}Ye.options=Ye.setOptions=function(e){return Kl.setOptions(e),Ye.defaults=Kl.defaults,XN(Ye.defaults),Ye};Ye.getDefaults=xw;Ye.defaults=vc;Ye.use=function(...e){return Kl.use(...e),Ye.defaults=Kl.defaults,XN(Ye.defaults),Ye};Ye.walkTokens=function(e,t){return Kl.walkTokens(e,t)};Ye.parseInline=Kl.parseInline;Ye.Parser=gs;Ye.parser=gs.parse;Ye.Renderer=km;Ye.TextRenderer=Cw;Ye.Lexer=ps;Ye.lexer=ps.lex;Ye.Tokenizer=Tm;Ye.Hooks=jd;Ye.parse=Ye;Ye.options;Ye.setOptions;Ye.use;Ye.walkTokens;Ye.parseInline;gs.parse;ps.lex;function a$(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(o,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?o.concat(u.map(function(h){var d,f;return(f=(d=h.match(/[\t ]/g))===null||d===void 0?void 0:d.length)!==null&&f!==void 0?f:0})):o},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(o){return o.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(o,l){var u=a.match(/(?:^|\n)( *)$/),h=u?u[1]:"",d=o;typeof o=="string"&&o.includes(`
`)&&(d=String(o).split(`
`).map(function(f,p){return p===0?f:""+h+f}).join(`
`)),a+=d+n[l+1]}),a}var o$={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},w_=new Map,l$=new Map,c$=g(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(U.debug("Registering icon pack:",t.name),"loader"in t)l$.set(t.name,t.loader);else if("icons"in t)w_.set(t.name,t.icons);else throw U.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),u$=g(async(e,t)=>{const r=rrt(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);const n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=w_.get(n);if(!i){const a=l$.get(n);if(!a)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await a(),prefix:n},w_.set(n,i)}catch(o){throw U.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=srt(i,r.name);if(!s)throw new Error(`Icon not found: ${e}`);return s},"getRegisteredIconData"),tnt=g(async e=>{try{return await u$(e),!0}catch{return!1}},"isIconAvailable"),No=g(async(e,t,r)=>{let n;try{n=await u$(e,t==null?void 0:t.fallbackPrefix)}catch(a){U.error(a),n=o$}const i=drt(n,t),s=mrt(grt(i.body),{...i.attributes,...r});return Ne(s,De())},"getIconSVG");function h$(e,{markdownAutoWrap:t}){const n=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=a$(n);return t===!1?i.replace(/ /g,"&nbsp;"):i}g(h$,"preprocessMarkdown");function d$(e,t={}){const r=h$(e,t),n=Ye.lexer(r),i=[[]];let s=0;function a(o,l="normal"){o.type==="text"?o.text.split(`
`).forEach((h,d)=>{d!==0&&(s++,i.push([])),h.split(" ").forEach(f=>{f=f.replace(/&#39;/g,"'"),f&&i[s].push({content:f,type:l})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(u=>{a(u,o.type)}):o.type==="html"&&i[s].push({content:o.text,type:"normal"})}return g(a,"processNode"),n.forEach(o=>{var l;o.type==="paragraph"?(l=o.tokens)==null||l.forEach(u=>{a(u)}):o.type==="html"?i[s].push({content:o.text,type:"normal"}):i[s].push({content:o.raw,type:"normal"})}),i}g(d$,"markdownToLines");function f$(e,{markdownAutoWrap:t}={}){const r=Ye.lexer(e);function n(i){var s,a,o;return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(s=i.tokens)==null?void 0:s.map(n).join("")}</strong>`:i.type==="em"?`<em>${(a=i.tokens)==null?void 0:a.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${(o=i.tokens)==null?void 0:o.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:(U.warn(`Unsupported markdown: ${i.type}`),i.raw)}return g(n,"output"),r.map(n).join("")}g(f$,"markdownToHTML");function p$(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}g(p$,"splitTextToChars");function g$(e,t){const r=p$(t.content);return Ew(e,[],r,t.type)}g(g$,"splitWordToFitWidth");function Ew(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];const[i,...s]=r,a=[...t,i];return e([{content:a.join(""),type:n}])?Ew(e,a,s,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}g(Ew,"splitWordToFitWidthRecursion");function m$(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return wm(e,t)}g(m$,"splitLineToFitWidth");function wm(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},a=[...n];if(i!==""&&a.push({content:i,type:"normal"}),a.push(s),t(a))return wm(e,t,r,a);if(n.length>0)r.push(n),e.unshift(s);else if(s.content){const[o,l]=g$(t,s);r.push([o]),l.content&&e.unshift(l)}return wm(e,t,r)}g(wm,"splitLineToFitWidthRecursion");function S_(e,t){t&&e.attr("style",t)}g(S_,"applyStyle");async function y$(e,t,r,n,i=!1,s=De()){const a=e.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);const o=a.append("xhtml:div"),l=vr(t.label)?await sg(t.label.replace(Ot.lineBreakRegex,`
`),s):Ne(t.label,s),u=t.isNode?"nodeLabel":"edgeLabel",h=o.append("span");h.html(l),S_(h,t.labelStyle),h.attr("class",`${u} ${n}`),S_(o,t.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",r+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let d=o.node().getBoundingClientRect();return d.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),d=o.node().getBoundingClientRect()),a.node()}g(y$,"addHtmlSpan");function b2(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}g(b2,"createTspan");function x$(e,t,r){const n=e.append("text"),i=b2(n,1,t);v2(i,r);const s=i.node().getComputedTextLength();return n.remove(),s}g(x$,"computeWidthOfText");function b$(e,t,r){var a;const n=e.append("text"),i=b2(n,1,t);v2(i,[{content:r,type:"normal"}]);const s=(a=i.node())==null?void 0:a.getBoundingClientRect();return s&&n.remove(),s}g(b$,"computeDimensionOfText");function v$(e,t,r,n=!1){const s=t.append("g"),a=s.insert("rect").attr("class","background").attr("style","stroke: none"),o=s.append("text").attr("y","-10.1");let l=0;for(const u of r){const h=g(f=>x$(s,1.1,f)<=e,"checkWidth"),d=h(u)?[u]:m$(u,h);for(const f of d){const p=b2(o,l,1.1);v2(p,f),l++}}if(n){const u=o.node().getBBox(),h=2;return a.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),s.node()}else return o.node()}g(v$,"createFormattedText");function v2(e,t){e.text(""),t.forEach((r,n)=>{const i=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}g(v2,"updateTextContentAndStyles");async function Aw(e,t={}){const r=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(i,s,a)=>(r.push((async()=>{const o=`${s}:${a}`;return await tnt(o)?await No(o,void 0,{class:"label-icon"}):`<i class='${Ne(i,t).replace(":"," ")}'></i>`})()),i));const n=await Promise.all(r);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}g(Aw,"replaceIconSubstring");var Ri=g(async(e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:s=!0,isNode:a=!0,width:o=200,addSvgBackground:l=!1}={},u)=>{if(U.debug("XYZ createText",t,r,n,i,s,a,"addSvgBackground: ",l),s){const h=f$(t,u),d=await Aw(sa(h),u),f=t.replace(/\\\\/g,"\\"),p={isNode:a,label:vr(t)?f:d,labelStyle:r.replace("fill:","color:")};return await y$(e,p,o,i,l,u)}else{const h=t.replace(/<br\s*\/?>/g,"<br/>"),d=d$(h.replace("<br>","<br/>"),u),f=v$(o,e,d,t?l:!1);if(a){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Lt(f).attr("style",p)}else{const p=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Lt(f).select("rect").attr("style",p.replace(/background:/g,"fill:"));const m=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Lt(f).select("text").attr("style",m)}return f}},"createText");function cb(e,t,r){if(e&&e.length){const[n,i]=t,s=Math.PI/180*r,a=Math.cos(s),o=Math.sin(s);for(const l of e){const[u,h]=l;l[0]=(u-n)*a-(h-i)*o+n,l[1]=(u-n)*o+(h-i)*a+i}}}function ent(e,t){return e[0]===t[0]&&e[1]===t[1]}function rnt(e,t,r,n=1){const i=r,s=Math.max(t,.1),a=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(i)for(const u of a)cb(u,o,i);const l=function(u,h,d){const f=[];for(const v of u){const _=[...v];ent(_[0],_[_.length-1])||_.push([_[0][0],_[0][1]]),_.length>2&&f.push(_)}const p=[];h=Math.max(h,.1);const m=[];for(const v of f)for(let _=0;_<v.length-1;_++){const S=v[_],k=v[_+1];if(S[1]!==k[1]){const T=Math.min(S[1],k[1]);m.push({ymin:T,ymax:Math.max(S[1],k[1]),x:T===S[1]?S[0]:k[0],islope:(k[0]-S[0])/(k[1]-S[1])})}}if(m.sort((v,_)=>v.ymin<_.ymin?-1:v.ymin>_.ymin?1:v.x<_.x?-1:v.x>_.x?1:v.ymax===_.ymax?0:(v.ymax-_.ymax)/Math.abs(v.ymax-_.ymax)),!m.length)return p;let y=[],b=m[0].ymin,x=0;for(;y.length||m.length;){if(m.length){let v=-1;for(let _=0;_<m.length&&!(m[_].ymin>b);_++)v=_;m.splice(0,v+1).forEach(_=>{y.push({s:b,edge:_})})}if(y=y.filter(v=>!(v.edge.ymax<=b)),y.sort((v,_)=>v.edge.x===_.edge.x?0:(v.edge.x-_.edge.x)/Math.abs(v.edge.x-_.edge.x)),(d!==1||x%h==0)&&y.length>1)for(let v=0;v<y.length;v+=2){const _=v+1;if(_>=y.length)break;const S=y[v].edge,k=y[_].edge;p.push([[Math.round(S.x),b],[Math.round(k.x),b]])}b+=d,y.forEach(v=>{v.edge.x=v.edge.x+d*v.edge.islope}),x++}return p}(a,s,n);if(i){for(const u of a)cb(u,o,-i);(function(u,h,d){const f=[];u.forEach(p=>f.push(...p)),cb(f,h,d)})(l,o,-i)}return l}function pg(e,t){var r;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(s=i),rnt(e,i,n,s||1)}class Lw{constructor(t){this.helper=t}fillPolygons(t,r){return this._fillPolygons(t,r)}_fillPolygons(t,r){const n=pg(t,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(t,r){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],r));return n}}function _2(e){const t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class nnt extends Lw{fillPolygons(t,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const i=pg(t,Object.assign({},r,{hachureGap:n})),s=Math.PI/180*r.hachureAngle,a=[],o=.5*n*Math.cos(s),l=.5*n*Math.sin(s);for(const[u,h]of i)_2([u,h])&&a.push([[u[0]-o,u[1]+l],[...h]],[[u[0]+o,u[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,r)}}}class int extends Lw{fillPolygons(t,r){const n=this._fillPolygons(t,r),i=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class snt{constructor(t){this.helper=t}fillPolygons(t,r){const n=pg(t,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(t,r){const n=[];let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const a=i/4;for(const o of t){const l=_2(o),u=l/i,h=Math.ceil(u)-1,d=l-h*i,f=(o[0][0]+o[1][0])/2-i/4,p=Math.min(o[0][1],o[1][1]);for(let m=0;m<h;m++){const y=p+d+m*i,b=f-a+2*Math.random()*a,x=y-a+2*Math.random()*a,v=this.helper.ellipse(b,x,s,s,r);n.push(...v.ops)}}return{type:"fillSketch",ops:n}}}let ant=class{constructor(t){this.helper=t}fillPolygons(t,r){const n=pg(t,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(t,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,i=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,s=[];return t.forEach(a=>{const o=_2(a),l=Math.floor(o/(n+i)),u=(o+i-l*(n+i))/2;let h=a[0],d=a[1];h[0]>d[0]&&(h=a[1],d=a[0]);const f=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let p=0;p<l;p++){const m=p*(n+i),y=m+n,b=[h[0]+m*Math.cos(f)+u*Math.cos(f),h[1]+m*Math.sin(f)+u*Math.sin(f)],x=[h[0]+y*Math.cos(f)+u*Math.cos(f),h[1]+y*Math.sin(f)+u*Math.sin(f)];s.push(...this.helper.doubleLineOps(b[0],b[1],x[0],x[1],r))}}),s}};class ont{constructor(t){this.helper=t}fillPolygons(t,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,i=r.zigzagOffset<0?n:r.zigzagOffset,s=pg(t,r=Object.assign({},r,{hachureGap:n+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,r)}}zigzagLines(t,r,n){const i=[];return t.forEach(s=>{const a=_2(s),o=Math.round(a/(2*r));let l=s[0],u=s[1];l[0]>u[0]&&(l=s[1],u=s[0]);const h=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let d=0;d<o;d++){const f=2*d*r,p=2*(d+1)*r,m=Math.sqrt(2*Math.pow(r,2)),y=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],b=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],x=[y[0]+m*Math.cos(h+Math.PI/4),y[1]+m*Math.sin(h+Math.PI/4)];i.push(...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],n),...this.helper.doubleLineOps(x[0],x[1],b[0],b[1],n))}}),i}}const ii={};class lnt{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const cnt=0,ub=1,XC=2,t1={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function hb(e,t){return e.type===t}function Rw(e){const t=[],r=function(a){const o=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:cnt,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:ub,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return o[o.length]={type:XC,text:""},o}(e);let n="BOD",i=0,s=r[i];for(;!hb(s,XC);){let a=0;const o=[];if(n==="BOD"){if(s.text!=="M"&&s.text!=="m")return Rw("M0,0"+e);i++,a=t1[s.text],n=s.text}else hb(s,ub)?a=t1[n]:(i++,a=t1[s.text],n=s.text);if(!(i+a<r.length))throw new Error("Path data ended short");for(let l=i;l<i+a;l++){const u=r[l];if(!hb(u,ub))throw new Error("Param not a number: "+n+","+u.text);o[o.length]=+u.text}if(typeof t1[n]!="number")throw new Error("Bad segment: "+n);{const l={key:n,data:o};t.push(l),i+=a,s=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function _$(e){let t=0,r=0,n=0,i=0;const s=[];for(const{key:a,data:o}of e)switch(a){case"M":s.push({key:"M",data:[...o]}),[t,r]=o,[n,i]=o;break;case"m":t+=o[0],r+=o[1],s.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":s.push({key:"L",data:[...o]}),[t,r]=o;break;case"l":t+=o[0],r+=o[1],s.push({key:"L",data:[t,r]});break;case"C":s.push({key:"C",data:[...o]}),t=o[4],r=o[5];break;case"c":{const l=o.map((u,h)=>h%2?u+r:u+t);s.push({key:"C",data:l}),t=l[4],r=l[5];break}case"Q":s.push({key:"Q",data:[...o]}),t=o[2],r=o[3];break;case"q":{const l=o.map((u,h)=>h%2?u+r:u+t);s.push({key:"Q",data:l}),t=l[2],r=l[3];break}case"A":s.push({key:"A",data:[...o]}),t=o[5],r=o[6];break;case"a":t+=o[5],r+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,r]});break;case"H":s.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],s.push({key:"V",data:[r]});break;case"S":s.push({key:"S",data:[...o]}),t=o[2],r=o[3];break;case"s":{const l=o.map((u,h)=>h%2?u+r:u+t);s.push({key:"S",data:l}),t=l[2],r=l[3];break}case"T":s.push({key:"T",data:[...o]}),t=o[0],r=o[1];break;case"t":t+=o[0],r+=o[1],s.push({key:"T",data:[t,r]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,r=i}return s}function T$(e){const t=[];let r="",n=0,i=0,s=0,a=0,o=0,l=0;for(const{key:u,data:h}of e){switch(u){case"M":t.push({key:"M",data:[...h]}),[n,i]=h,[s,a]=h;break;case"C":t.push({key:"C",data:[...h]}),n=h[4],i=h[5],o=h[2],l=h[3];break;case"L":t.push({key:"L",data:[...h]}),[n,i]=h;break;case"H":n=h[0],t.push({key:"L",data:[n,i]});break;case"V":i=h[0],t.push({key:"L",data:[n,i]});break;case"S":{let d=0,f=0;r==="C"||r==="S"?(d=n+(n-o),f=i+(i-l)):(d=n,f=i),t.push({key:"C",data:[d,f,...h]}),o=h[0],l=h[1],n=h[2],i=h[3];break}case"T":{const[d,f]=h;let p=0,m=0;r==="Q"||r==="T"?(p=n+(n-o),m=i+(i-l)):(p=n,m=i);const y=n+2*(p-n)/3,b=i+2*(m-i)/3,x=d+2*(p-d)/3,v=f+2*(m-f)/3;t.push({key:"C",data:[y,b,x,v,d,f]}),o=p,l=m,n=d,i=f;break}case"Q":{const[d,f,p,m]=h,y=n+2*(d-n)/3,b=i+2*(f-i)/3,x=p+2*(d-p)/3,v=m+2*(f-m)/3;t.push({key:"C",data:[y,b,x,v,p,m]}),o=d,l=f,n=p,i=m;break}case"A":{const d=Math.abs(h[0]),f=Math.abs(h[1]),p=h[2],m=h[3],y=h[4],b=h[5],x=h[6];d===0||f===0?(t.push({key:"C",data:[n,i,b,x,b,x]}),n=b,i=x):(n!==b||i!==x)&&(k$(n,i,b,x,d,f,p,m,y).forEach(function(v){t.push({key:"C",data:v})}),n=b,i=x);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=a}r=u}return t}function $d(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function k$(e,t,r,n,i,s,a,o,l,u){const h=(d=a,Math.PI*d/180);var d;let f=[],p=0,m=0,y=0,b=0;if(u)[p,m,y,b]=u;else{[e,t]=$d(e,t,-h),[r,n]=$d(r,n,-h);const A=(e-r)/2,L=(t-n)/2;let N=A*A/(i*i)+L*L/(s*s);N>1&&(N=Math.sqrt(N),i*=N,s*=N);const D=i*i,P=s*s,O=D*P-D*L*L-P*A*A,M=D*L*L+P*A*A,Y=(o===l?-1:1)*Math.sqrt(Math.abs(O/M));y=Y*i*L/s+(e+r)/2,b=Y*-s*A/i+(t+n)/2,p=Math.asin(parseFloat(((t-b)/s).toFixed(9))),m=Math.asin(parseFloat(((n-b)/s).toFixed(9))),e<y&&(p=Math.PI-p),r<y&&(m=Math.PI-m),p<0&&(p=2*Math.PI+p),m<0&&(m=2*Math.PI+m),l&&p>m&&(p-=2*Math.PI),!l&&m>p&&(m-=2*Math.PI)}let x=m-p;if(Math.abs(x)>120*Math.PI/180){const A=m,L=r,N=n;m=l&&m>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,f=k$(r=y+i*Math.cos(m),n=b+s*Math.sin(m),L,N,i,s,a,0,l,[m,A,y,b])}x=m-p;const v=Math.cos(p),_=Math.sin(p),S=Math.cos(m),k=Math.sin(m),T=Math.tan(x/4),E=4/3*i*T,I=4/3*s*T,C=[e,t],R=[e+E*_,t-I*v],w=[r+E*k,n-I*S],$=[r,n];if(R[0]=2*C[0]-R[0],R[1]=2*C[1]-R[1],u)return[R,w,$].concat(f);{f=[R,w,$].concat(f);const A=[];for(let L=0;L<f.length;L+=3){const N=$d(f[L][0],f[L][1],h),D=$d(f[L+1][0],f[L+1][1],h),P=$d(f[L+2][0],f[L+2][1],h);A.push([N[0],N[1],D[0],D[1],P[0],P[1]])}return A}}const unt={randOffset:function(e,t){return he(e,t)},randOffsetWithRange:function(e,t,r){return Sm(e,t,r)},ellipse:function(e,t,r,n,i){const s=S$(r,n,i);return C_(e,t,i,s).opset},doubleLineOps:function(e,t,r,n,i){return $o(e,t,r,n,i,!0)}};function w$(e,t,r,n,i){return{type:"path",ops:$o(e,t,r,n,i)}}function e0(e,t,r){const n=(e||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...$o(e[s][0],e[s][1],e[s+1][0],e[s+1][1],r));return t&&i.push(...$o(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?w$(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function hnt(e,t,r,n,i){return function(s,a){return e0(s,!0,a)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function KC(e,t){if(e.length){const r=typeof e[0][0]=="number"?[e]:e,n=e1(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:e1(r[0],1.5*(1+.22*t.roughness),JC(t));for(let s=1;s<r.length;s++){const a=r[s];if(a.length){const o=e1(a,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:e1(a,1.5*(1+.22*t.roughness),JC(t));for(const u of o)u.op!=="move"&&n.push(u);for(const u of l)u.op!=="move"&&i.push(u)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function S$(e,t,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),s=2*Math.PI/i;let a=Math.abs(e/2),o=Math.abs(t/2);const l=1-r.curveFitting;return a+=he(a*l,r),o+=he(o*l,r),{increment:s,rx:a,ry:o}}function C_(e,t,r,n){const[i,s]=tE(n.increment,e,t,n.rx,n.ry,1,n.increment*Sm(.1,Sm(.4,1,r),r),r);let a=Cm(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[o]=tE(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=Cm(o,null,r);a=a.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function QC(e,t,r,n,i,s,a,o,l){const u=e,h=t;let d=Math.abs(r/2),f=Math.abs(n/2);d+=he(.01*d,l),f+=he(.01*f,l);let p=i,m=s;for(;p<0;)p+=2*Math.PI,m+=2*Math.PI;m-p>2*Math.PI&&(p=0,m=2*Math.PI);const y=2*Math.PI/l.curveStepCount,b=Math.min(y/2,(m-p)/2),x=eE(b,u,h,d,f,p,m,1,l);if(!l.disableMultiStroke){const v=eE(b,u,h,d,f,p,m,1.5,l);x.push(...v)}return a&&(o?x.push(...$o(u,h,u+d*Math.cos(p),h+f*Math.sin(p),l),...$o(u,h,u+d*Math.cos(m),h+f*Math.sin(m),l)):x.push({op:"lineTo",data:[u,h]},{op:"lineTo",data:[u+d*Math.cos(p),h+f*Math.sin(p)]})),{type:"path",ops:x}}function ZC(e,t){const r=T$(_$(Rw(e))),n=[];let i=[0,0],s=[0,0];for(const{key:a,data:o}of r)switch(a){case"M":s=[o[0],o[1]],i=[o[0],o[1]];break;case"L":n.push(...$o(s[0],s[1],o[0],o[1],t)),s=[o[0],o[1]];break;case"C":{const[l,u,h,d,f,p]=o;n.push(...dnt(l,u,h,d,f,p,s,t)),s=[f,p];break}case"Z":n.push(...$o(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]]}return{type:"path",ops:n}}function db(e,t){const r=[];for(const n of e)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){r.push({op:"move",data:[n[0][0]+he(i,t),n[0][1]+he(i,t)]});for(let a=1;a<s;a++)r.push({op:"lineTo",data:[n[a][0]+he(i,t),n[a][1]+he(i,t)]})}}return{type:"fillPath",ops:r}}function Fc(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!ii[i])switch(i){case"zigzag":ii[i]||(ii[i]=new nnt(n));break;case"cross-hatch":ii[i]||(ii[i]=new int(n));break;case"dots":ii[i]||(ii[i]=new snt(n));break;case"dashed":ii[i]||(ii[i]=new ant(n));break;case"zigzag-line":ii[i]||(ii[i]=new ont(n));break;default:i="hachure",ii[i]||(ii[i]=new Lw(n))}return ii[i]}(t,unt).fillPolygons(e,t)}function JC(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function C$(e){return e.randomizer||(e.randomizer=new lnt(e.seed||0)),e.randomizer.next()}function Sm(e,t,r,n=1){return r.roughness*n*(C$(r)*(t-e)+e)}function he(e,t,r=1){return Sm(-e,e,t,r)}function $o(e,t,r,n,i,s=!1){const a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=E_(e,t,r,n,i,!0,!1);if(a)return o;const l=E_(e,t,r,n,i,!0,!0);return o.concat(l)}function E_(e,t,r,n,i,s,a){const o=Math.pow(e-r,2)+Math.pow(t-n,2),l=Math.sqrt(o);let u=1;u=l<200?1:l>500?.4:-.0016668*l+1.233334;let h=i.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const d=h/2,f=.2+.2*C$(i);let p=i.bowing*i.maxRandomnessOffset*(n-t)/200,m=i.bowing*i.maxRandomnessOffset*(e-r)/200;p=he(p,i,u),m=he(m,i,u);const y=[],b=()=>he(d,i,u),x=()=>he(h,i,u),v=i.preserveVertices;return a?y.push({op:"move",data:[e+(v?0:b()),t+(v?0:b())]}):y.push({op:"move",data:[e+(v?0:he(h,i,u)),t+(v?0:he(h,i,u))]}),a?y.push({op:"bcurveTo",data:[p+e+(r-e)*f+b(),m+t+(n-t)*f+b(),p+e+2*(r-e)*f+b(),m+t+2*(n-t)*f+b(),r+(v?0:b()),n+(v?0:b())]}):y.push({op:"bcurveTo",data:[p+e+(r-e)*f+x(),m+t+(n-t)*f+x(),p+e+2*(r-e)*f+x(),m+t+2*(n-t)*f+x(),r+(v?0:x()),n+(v?0:x())]}),y}function e1(e,t,r){if(!e.length)return[];const n=[];n.push([e[0][0]+he(t,r),e[0][1]+he(t,r)]),n.push([e[0][0]+he(t,r),e[0][1]+he(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+he(t,r),e[i][1]+he(t,r)]),i===e.length-1&&n.push([e[i][0]+he(t,r),e[i][1]+he(t,r)]);return Cm(n,null,r)}function Cm(e,t,r){const n=e.length,i=[];if(n>3){const s=[],a=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<n;o++){const l=e[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*e[o+1][0]-a*e[o-1][0])/6,l[1]+(a*e[o+1][1]-a*e[o-1][1])/6],s[2]=[e[o+1][0]+(a*e[o][0]-a*e[o+2][0])/6,e[o+1][1]+(a*e[o][1]-a*e[o+2][1])/6],s[3]=[e[o+1][0],e[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...E_(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function tE(e,t,r,n,i,s,a,o){const l=[],u=[];if(o.roughness===0){e/=4,u.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let h=0;h<=2*Math.PI;h+=e){const d=[t+n*Math.cos(h),r+i*Math.sin(h)];l.push(d),u.push(d)}u.push([t+n*Math.cos(0),r+i*Math.sin(0)]),u.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{const h=he(.5,o)-Math.PI/2;u.push([he(s,o)+t+.9*n*Math.cos(h-e),he(s,o)+r+.9*i*Math.sin(h-e)]);const d=2*Math.PI+h-.01;for(let f=h;f<d;f+=e){const p=[he(s,o)+t+n*Math.cos(f),he(s,o)+r+i*Math.sin(f)];l.push(p),u.push(p)}u.push([he(s,o)+t+n*Math.cos(h+2*Math.PI+.5*a),he(s,o)+r+i*Math.sin(h+2*Math.PI+.5*a)]),u.push([he(s,o)+t+.98*n*Math.cos(h+a),he(s,o)+r+.98*i*Math.sin(h+a)]),u.push([he(s,o)+t+.9*n*Math.cos(h+.5*a),he(s,o)+r+.9*i*Math.sin(h+.5*a)])}return[u,l]}function eE(e,t,r,n,i,s,a,o,l){const u=s+he(.1,l),h=[];h.push([he(o,l)+t+.9*n*Math.cos(u-e),he(o,l)+r+.9*i*Math.sin(u-e)]);for(let d=u;d<=a;d+=e)h.push([he(o,l)+t+n*Math.cos(d),he(o,l)+r+i*Math.sin(d)]);return h.push([t+n*Math.cos(a),r+i*Math.sin(a)]),h.push([t+n*Math.cos(a),r+i*Math.sin(a)]),Cm(h,null,l)}function dnt(e,t,r,n,i,s,a,o){const l=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const d=o.disableMultiStroke?1:2,f=o.preserveVertices;for(let p=0;p<d;p++)p===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(f?0:he(u[0],o)),a[1]+(f?0:he(u[0],o))]}),h=f?[i,s]:[i+he(u[p],o),s+he(u[p],o)],l.push({op:"bcurveTo",data:[e+he(u[p],o),t+he(u[p],o),r+he(u[p],o),n+he(u[p],o),h[0],h[1]]});return l}function Od(e){return[...e]}function rE(e,t=0){const r=e.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(Od(e[0]),Od(e[1]),Od(e[2]),Od(e[2]));else{const i=[];i.push(e[0],e[0]);for(let o=1;o<e.length;o++)i.push(e[o]),o===e.length-1&&i.push(e[o]);const s=[],a=1-t;n.push(Od(i[0]));for(let o=1;o+2<i.length;o++){const l=i[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*i[o+1][0]-a*i[o-1][0])/6,l[1]+(a*i[o+1][1]-a*i[o-1][1])/6],s[2]=[i[o+1][0]+(a*i[o][0]-a*i[o+2][0])/6,i[o+1][1]+(a*i[o][1]-a*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],n.push(s[1],s[2],s[3])}}return n}function r0(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function fnt(e,t,r){const n=r0(t,r);if(n===0)return r0(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),r0(e,yl(t,r,i))}function yl(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function A_(e,t,r,n){const i=n||[];if(function(o,l){const u=o[l+0],h=o[l+1],d=o[l+2],f=o[l+3];let p=3*h[0]-2*u[0]-f[0];p*=p;let m=3*h[1]-2*u[1]-f[1];m*=m;let y=3*d[0]-2*f[0]-u[0];y*=y;let b=3*d[1]-2*f[1]-u[1];return b*=b,p<y&&(p=y),m<b&&(m=b),p+m}(e,t)<r){const o=e[t+0];i.length?(s=i[i.length-1],a=o,Math.sqrt(r0(s,a))>1&&i.push(o)):i.push(o),i.push(e[t+3])}else{const l=e[t+0],u=e[t+1],h=e[t+2],d=e[t+3],f=yl(l,u,.5),p=yl(u,h,.5),m=yl(h,d,.5),y=yl(f,p,.5),b=yl(p,m,.5),x=yl(y,b,.5);A_([l,f,y,x],0,r,i),A_([x,b,m,d],0,r,i)}var s,a;return i}function pnt(e,t){return Em(e,0,e.length,t)}function Em(e,t,r,n,i){const s=i||[],a=e[t],o=e[r-1];let l=0,u=1;for(let h=t+1;h<r-1;++h){const d=fnt(e[h],a,o);d>l&&(l=d,u=h)}return Math.sqrt(l)>n?(Em(e,t,u+1,n,s),Em(e,u,r,n,s)):(s.length||s.push(a),s.push(o)),s}function fb(e,t=.15,r){const n=[],i=(e.length-1)/3;for(let s=0;s<i;s++)A_(e,3*s,t,n);return r&&r>0?Em(n,0,n.length,r):n}const xi="none";class Am{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,r,n){return{shape:t,sets:r||[],options:n||this.defaultOptions}}line(t,r,n,i,s){const a=this._o(s);return this._d("line",[w$(t,r,n,i,a)],a)}rectangle(t,r,n,i,s){const a=this._o(s),o=[],l=hnt(t,r,n,i,a);if(a.fill){const u=[[t,r],[t+n,r],[t+n,r+i],[t,r+i]];a.fillStyle==="solid"?o.push(db([u],a)):o.push(Fc([u],a))}return a.stroke!==xi&&o.push(l),this._d("rectangle",o,a)}ellipse(t,r,n,i,s){const a=this._o(s),o=[],l=S$(n,i,a),u=C_(t,r,a,l);if(a.fill)if(a.fillStyle==="solid"){const h=C_(t,r,a,l).opset;h.type="fillPath",o.push(h)}else o.push(Fc([u.estimatedPoints],a));return a.stroke!==xi&&o.push(u.opset),this._d("ellipse",o,a)}circle(t,r,n,i){const s=this.ellipse(t,r,n,n,i);return s.shape="circle",s}linearPath(t,r){const n=this._o(r);return this._d("linearPath",[e0(t,!1,n)],n)}arc(t,r,n,i,s,a,o=!1,l){const u=this._o(l),h=[],d=QC(t,r,n,i,s,a,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){const f=Object.assign({},u);f.disableMultiStroke=!0;const p=QC(t,r,n,i,s,a,!0,!1,f);p.type="fillPath",h.push(p)}else h.push(function(f,p,m,y,b,x,v){const _=f,S=p;let k=Math.abs(m/2),T=Math.abs(y/2);k+=he(.01*k,v),T+=he(.01*T,v);let E=b,I=x;for(;E<0;)E+=2*Math.PI,I+=2*Math.PI;I-E>2*Math.PI&&(E=0,I=2*Math.PI);const C=(I-E)/v.curveStepCount,R=[];for(let w=E;w<=I;w+=C)R.push([_+k*Math.cos(w),S+T*Math.sin(w)]);return R.push([_+k*Math.cos(I),S+T*Math.sin(I)]),R.push([_,S]),Fc([R],v)}(t,r,n,i,s,a,u));return u.stroke!==xi&&h.push(d),this._d("arc",h,u)}curve(t,r){const n=this._o(r),i=[],s=KC(t,n);if(n.fill&&n.fill!==xi)if(n.fillStyle==="solid"){const a=KC(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=t;if(o.length){const l=typeof o[0][0]=="number"?[o]:o;for(const u of l)u.length<3?a.push(...u):u.length===3?a.push(...fb(rE([u[0],u[0],u[1],u[2]]),10,(1+n.roughness)/2)):a.push(...fb(rE(u),10,(1+n.roughness)/2))}a.length&&i.push(Fc([a],n))}return n.stroke!==xi&&i.push(s),this._d("curve",i,n)}polygon(t,r){const n=this._o(r),i=[],s=e0(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(db([t],n)):i.push(Fc([t],n))),n.stroke!==xi&&i.push(s),this._d("polygon",i,n)}path(t,r){const n=this._o(r),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==xi,a=n.stroke!==xi,o=!!(n.simplification&&n.simplification<1),l=function(h,d,f){const p=T$(_$(Rw(h))),m=[];let y=[],b=[0,0],x=[];const v=()=>{x.length>=4&&y.push(...fb(x,d)),x=[]},_=()=>{v(),y.length&&(m.push(y),y=[])};for(const{key:k,data:T}of p)switch(k){case"M":_(),b=[T[0],T[1]],y.push(b);break;case"L":v(),y.push([T[0],T[1]]);break;case"C":if(!x.length){const E=y.length?y[y.length-1]:b;x.push([E[0],E[1]])}x.push([T[0],T[1]]),x.push([T[2],T[3]]),x.push([T[4],T[5]]);break;case"Z":v(),y.push([b[0],b[1]])}if(_(),!f)return m;const S=[];for(const k of m){const T=pnt(k,f);T.length&&S.push(T)}return S}(t,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),u=ZC(t,n);if(s)if(n.fillStyle==="solid")if(l.length===1){const h=ZC(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else i.push(db(l,n));else i.push(Fc(l,n));return a&&(o?l.forEach(h=>{i.push(e0(h,!1,n))}):i.push(u)),this._d("path",i,n)}opsToPath(t,r){let n="";for(const i of t.ops){const s=typeof r=="number"&&r>=0?i.data.map(a=>+a.toFixed(r)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `}}return n.trim()}toPaths(t){const r=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of r){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:xi};break;case"fillPath":a={d:this.opsToPath(s),stroke:xi,strokeWidth:0,fill:n.fill||xi};break;case"fillSketch":a=this.fillSketch(s,n)}a&&i.push(a)}return i}fillSketch(t,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(t),stroke:r.fill||xi,strokeWidth:n,fill:xi}}_mergedShape(t){return t.filter((r,n)=>n===0||r.op!=="move")}}class gnt{constructor(t,r){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Am(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const a of r)switch(a.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,a,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,a,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,a,n)}}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,r,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,r,n,i="nonzero"){t.beginPath();for(const s of r.ops){const a=typeof n=="number"&&n>=0?s.data.map(o=>+o.toFixed(n)):s.data;switch(s.op){case"move":t.moveTo(a[0],a[1]);break;case"bcurveTo":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":t.lineTo(a[0],a[1])}}r.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a),a}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a),a}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a),a}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s),s}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n),n}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n),n}arc(t,r,n,i,s,a,o=!1,l){const u=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(u),u}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n),n}path(t,r){const n=this.gen.path(t,r);return this.draw(n),n}}const r1="http://www.w3.org/2000/svg";class mnt{constructor(t,r){this.svg=t,this.gen=new Am(r)}draw(t){const r=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(r1,"g"),a=t.options.fixedDecimalPlaceDigits;for(const o of r){let l=null;switch(o.type){case"path":l=i.createElementNS(r1,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke",n.stroke),l.setAttribute("stroke-width",n.strokeWidth+""),l.setAttribute("fill","none"),n.strokeLineDash&&l.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(r1,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",n.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,o,n)}l&&s.appendChild(l)}return s}fillSketch(t,r,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(r1,"path");return s.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,r){return this.gen.opsToPath(t,r)}line(t,r,n,i,s){const a=this.gen.line(t,r,n,i,s);return this.draw(a)}rectangle(t,r,n,i,s){const a=this.gen.rectangle(t,r,n,i,s);return this.draw(a)}ellipse(t,r,n,i,s){const a=this.gen.ellipse(t,r,n,i,s);return this.draw(a)}circle(t,r,n,i){const s=this.gen.circle(t,r,n,i);return this.draw(s)}linearPath(t,r){const n=this.gen.linearPath(t,r);return this.draw(n)}polygon(t,r){const n=this.gen.polygon(t,r);return this.draw(n)}arc(t,r,n,i,s,a,o=!1,l){const u=this.gen.arc(t,r,n,i,s,a,o,l);return this.draw(u)}curve(t,r){const n=this.gen.curve(t,r);return this.draw(n)}path(t,r){const n=this.gen.path(t,r);return this.draw(n)}}var Xt={canvas:(e,t)=>new gnt(e,t),svg:(e,t)=>new mnt(e,t),generator:e=>new Am(e),newSeed:()=>Am.newSeed()},ue=g(async(e,t,r)=>{var d,f;let n;const i=t.useHtmlLabels||Ze((d=rt())==null?void 0:d.htmlLabels);r?n=r:n="node default";const s=e.insert("g").attr("class",n).attr("id",t.domId||t.id),a=s.insert("g").attr("class","label").attr("style",Mn(t.labelStyle));let o;t.label===void 0?o="":o=typeof t.label=="string"?t.label:t.label[0];const l=await Ri(a,Ne(sa(o),rt()),{useHtmlLabels:i,width:t.width||((f=rt().flowchart)==null?void 0:f.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let u=l.getBBox();const h=((t==null?void 0:t.padding)??0)/2;if(i){const p=l.children[0],m=Lt(l),y=p.getElementsByTagName("img");if(y){const b=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(x=>new Promise(v=>{function _(){if(x.style.display="flex",x.style.flexDirection="column",b){const S=rt().fontSize?rt().fontSize:window.getComputedStyle(document.body).fontSize,k=5,[T=Re.fontSize]=bc(S),E=T*k+"px";x.style.minWidth=E,x.style.maxWidth=E}else x.style.width="100%";v(x)}g(_,"setupImage"),setTimeout(()=>{x.complete&&_()}),x.addEventListener("error",_),x.addEventListener("load",_)})))}u=p.getBoundingClientRect(),m.attr("width",u.width),m.attr("height",u.height)}return i?a.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):a.attr("transform","translate(0, "+-u.height/2+")"),t.centerLabel&&a.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:s,bbox:u,halfPadding:h,label:a}},"labelHelper"),pb=g(async(e,t,r)=>{var l,u,h,d,f,p;const n=r.useHtmlLabels||Ze((u=(l=rt())==null?void 0:l.flowchart)==null?void 0:u.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),s=await Ri(i,Ne(sa(t),rt()),{useHtmlLabels:n,width:r.width||((d=(h=rt())==null?void 0:h.flowchart)==null?void 0:d.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let a=s.getBBox();const o=r.padding/2;if(Ze((p=(f=rt())==null?void 0:f.flowchart)==null?void 0:p.htmlLabels)){const m=s.children[0],y=Lt(s);a=m.getBoundingClientRect(),y.attr("width",a.width),y.attr("height",a.height)}return n?i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"):i.attr("transform","translate(0, "+-a.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:a,halfPadding:o,label:i}},"insertLabel"),Zt=g((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),le=g((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Ee(e){const t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}g(Ee,"createPathFromPoints");function Oo(e,t,r,n,i,s){const a=[],l=r-e,u=n-t,h=l/s,d=2*Math.PI/h,f=t+u/2;for(let p=0;p<=50;p++){const m=p/50,y=e+m*l,b=f+i*Math.sin(d*(y-e));a.push({x:y,y:b})}return a}g(Oo,"generateFullSineWavePoints");function Lp(e,t,r,n,i,s){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const f=o+d*h,p=e+r*Math.cos(f),m=t+r*Math.sin(f);a.push({x:-p,y:-m})}return a}g(Lp,"generateCirclePoints");var ynt=g((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,a=e.width/2,o=e.height/2,l,u;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=s===0?0:o*i/s,u=o):(i<0&&(a=-a),l=a,u=i===0?0:a*s/i),{x:r+l,y:n+u}},"intersectRect"),od=ynt;function E$(e,t){t&&e.attr("style",t)}g(E$,"applyStyle");async function A$(e){const t=Lt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=rt();let i=e.label;e.label&&vr(e.label)&&(i=await sg(e.label.replace(Ot.lineBreakRegex,`
`),n));const a='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+i+"</span>";return r.html(Ne(a,n)),E$(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}g(A$,"addHtmlLabel");var xnt=g(async(e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Ze(rt().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),U.info("vertexText"+i);const s={isNode:n,label:sa(i).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await A$(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let a=[];typeof i=="string"?a=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?a=i:a=[];for(const o of a){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),r?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=o.trim(),s.appendChild(l)}return s}},"createLabel"),El=xnt,jo=g((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD"),L$=g(async(e,t)=>{U.info("Creating subgraph rect for ",t.id,t);const r=rt(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:h}=Gt(t),d=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Ze(r.flowchart.htmlLabels),p=d.insert("g").attr("class","cluster-label "),m=await Ri(p,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0});let y=m.getBBox();if(Ze(r.flowchart.htmlLabels)){const E=m.children[0],I=Lt(m);y=E.getBoundingClientRect(),I.attr("width",y.width),I.attr("height",y.height)}const b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,v=t.x-b/2,_=t.y-x/2;U.trace("Data ",t,JSON.stringify(t));let S;if(t.look==="handDrawn"){const E=Xt.svg(d),I=Qt(t,{roughness:.7,fill:s,stroke:a,fillWeight:3,seed:i}),C=E.path(jo(v,_,b,x,0),I);S=d.insert(()=>(U.debug("Rough node insert CXC",C),C),":first-child"),S.select("path:nth-child(2)").attr("style",u.join(";")),S.select("path").attr("style",h.join(";").replace("fill","stroke"))}else S=d.insert("rect",":first-child"),S.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",v).attr("y",_).attr("width",b).attr("height",x);const{subGraphTitleTopMargin:k}=hg(r);if(p.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+k})`),o){const E=p.select("span");E&&E.attr("style",o)}const T=S.node().getBBox();return t.offsetX=0,t.width=T.width,t.height=T.height,t.offsetY=y.height-t.padding/2,t.intersect=function(E){return od(t,E)},{cluster:d,labelBBox:y}},"rect"),bnt=g((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,s=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const a=n.node().getBBox();return t.width=a.width,t.height=a.height,t.intersect=function(o){return od(t,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),vnt=g(async(e,t)=>{const r=rt(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:s,compositeBackground:a,compositeTitleBackground:o,nodeBorder:l}=n,u=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),h=u.insert("g",":first-child"),d=u.insert("g").attr("class","cluster-label");let f=u.append("rect");const p=d.node().appendChild(await El(t.label,t.labelStyle,void 0,!0));let m=p.getBBox();if(Ze(r.flowchart.htmlLabels)){const C=p.children[0],R=Lt(p);m=C.getBoundingClientRect(),R.attr("width",m.width),R.attr("height",m.height)}const y=0*t.padding,b=y/2,x=(t.width<=m.width+t.padding?m.width+t.padding:t.width)+y;t.width<=m.width+t.padding?t.diff=(x-t.width)/2-t.padding:t.diff=-t.padding;const v=t.height+y,_=t.height+y-m.height-6,S=t.x-x/2,k=t.y-v/2;t.width=x;const T=t.y-t.height/2-b+m.height+2;let E;if(t.look==="handDrawn"){const C=t.cssClasses.includes("statediagram-cluster-alt"),R=Xt.svg(u),w=t.rx||t.ry?R.path(jo(S,k,x,v,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:l,seed:i}):R.rectangle(S,k,x,v,{seed:i});E=u.insert(()=>w,":first-child");const $=R.rectangle(S,T,x,_,{fill:C?s:a,fillStyle:C?"hachure":"solid",stroke:l,seed:i});E=u.insert(()=>w,":first-child"),f=u.insert(()=>$)}else E=h.insert("rect",":first-child"),E.attr("class","outer").attr("x",S).attr("y",k).attr("width",x).attr("height",v).attr("data-look",t.look),f.attr("class","inner").attr("x",S).attr("y",T).attr("width",x).attr("height",_);d.attr("transform",`translate(${t.x-m.width/2}, ${k+1-(Ze(r.flowchart.htmlLabels)?0:3)})`);const I=E.node().getBBox();return t.height=I.height,t.offsetX=0,t.offsetY=m.height-t.padding/2,t.labelBBox=m,t.intersect=function(C){return od(t,C)},{cluster:u,labelBBox:m}},"roundedWithTitle"),_nt=g(async(e,t)=>{U.info("Creating subgraph rect for ",t.id,t);const r=rt(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:s,clusterBorder:a}=n,{labelStyles:o,nodeStyles:l,borderStyles:u,backgroundStyles:h}=Gt(t),d=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Ze(r.flowchart.htmlLabels),p=d.insert("g").attr("class","cluster-label "),m=await Ri(p,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0,width:t.width});let y=m.getBBox();if(Ze(r.flowchart.htmlLabels)){const E=m.children[0],I=Lt(m);y=E.getBoundingClientRect(),I.attr("width",y.width),I.attr("height",y.height)}const b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;const x=t.height,v=t.x-b/2,_=t.y-x/2;U.trace("Data ",t,JSON.stringify(t));let S;if(t.look==="handDrawn"){const E=Xt.svg(d),I=Qt(t,{roughness:.7,fill:s,stroke:a,fillWeight:4,seed:i}),C=E.path(jo(v,_,b,x,t.rx),I);S=d.insert(()=>(U.debug("Rough node insert CXC",C),C),":first-child"),S.select("path:nth-child(2)").attr("style",u.join(";")),S.select("path").attr("style",h.join(";").replace("fill","stroke"))}else S=d.insert("rect",":first-child"),S.attr("style",l).attr("rx",t.rx).attr("ry",t.ry).attr("x",v).attr("y",_).attr("width",b).attr("height",x);const{subGraphTitleTopMargin:k}=hg(r);if(p.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+k})`),o){const E=p.select("span");E&&E.attr("style",o)}const T=S.node().getBBox();return t.offsetX=0,t.width=T.width,t.height=T.height,t.offsetY=y.height-t.padding/2,t.intersect=function(E){return od(t,E)},{cluster:d,labelBBox:y}},"kanbanSection"),Tnt=g((e,t)=>{const r=rt(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:s}=n,a=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),o=a.insert("g",":first-child"),l=0*t.padding,u=t.width+l;t.diff=-t.padding;const h=t.height+l,d=t.x-u/2,f=t.y-h/2;t.width=u;let p;if(t.look==="handDrawn"){const b=Xt.svg(a).rectangle(d,f,u,h,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});p=a.insert(()=>b,":first-child")}else p=o.insert("rect",":first-child"),p.attr("class","divider").attr("x",d).attr("y",f).attr("width",u).attr("height",h).attr("data-look",t.look);const m=p.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(y){return od(t,y)},{cluster:a,labelBBox:{}}},"divider"),knt=L$,wnt={rect:L$,squareRect:knt,roundedWithTitle:vnt,noteGroup:bnt,divider:Tnt,kanbanSection:_nt},R$=new Map,Iw=g(async(e,t)=>{const r=t.shape||"rect",n=await wnt[r](e,t);return R$.set(t.id,n),n},"insertCluster"),Snt=g(()=>{R$=new Map},"clear");function I$(e,t){return e.intersect(t)}g(I$,"intersectNode");var Cnt=I$;function N$(e,t,r,n){var i=e.x,s=e.y,a=i-n.x,o=s-n.y,l=Math.sqrt(t*t*o*o+r*r*a*a),u=Math.abs(t*r*a/l);n.x<i&&(u=-u);var h=Math.abs(t*r*o/l);return n.y<s&&(h=-h),{x:i+u,y:s+h}}g(N$,"intersectEllipse");var $$=N$;function O$(e,t,r){return $$(e,t,t,r)}g(O$,"intersectCircle");var Ent=O$;function D$(e,t,r,n){{const i=t.y-e.y,s=e.x-t.x,a=t.x*e.y-e.x*t.y,o=i*r.x+s*r.y+a,l=i*n.x+s*n.y+a,u=1e-6;if(o!==0&&l!==0&&L_(o,l))return;const h=n.y-r.y,d=r.x-n.x,f=n.x*r.y-r.x*n.y,p=h*e.x+d*e.y+f,m=h*t.x+d*t.y+f;if(Math.abs(p)<u&&Math.abs(m)<u&&L_(p,m))return;const y=i*d-h*s;if(y===0)return;const b=Math.abs(y/2);let x=s*f-d*a;const v=x<0?(x-b)/y:(x+b)/y;x=h*a-i*f;const _=x<0?(x-b)/y:(x+b)/y;return{x:v,y:_}}}g(D$,"intersectLine");function L_(e,t){return e*t>0}g(L_,"sameSign");var Ant=D$;function M$(e,t,r){let n=e.x,i=e.y,s=[],a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(h){a=Math.min(a,h.x),o=Math.min(o,h.y)}):(a=Math.min(a,t.x),o=Math.min(o,t.y));let l=n-e.width/2-a,u=i-e.height/2-o;for(let h=0;h<t.length;h++){let d=t[h],f=t[h<t.length-1?h+1:0],p=Ant(e,r,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(h,d){let f=h.x-r.x,p=h.y-r.y,m=Math.sqrt(f*f+p*p),y=d.x-r.x,b=d.y-r.y,x=Math.sqrt(y*y+b*b);return m<x?-1:m===x?0:1}),s[0]):e}g(M$,"intersectPolygon");var Lnt=M$,Ht={node:Cnt,circle:Ent,ellipse:$$,polygon:Lnt,rect:od};function P$(e,t){const{labelStyles:r}=Gt(t);t.labelStyle=r;const n=le(t);let i=n;n||(i="anchor");const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),a=1,{cssStyles:o}=t,l=Xt.svg(s),u=Qt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(u.roughness=0);const h=l.circle(0,0,a*2,u),d=s.insert(()=>h,":first-child");return d.attr("class","anchor").attr("style",Mn(o)),Zt(t,d),t.intersect=function(f){return U.info("Circle intersect",t,a,f),Ht.circle(t,a,f)},s}g(P$,"anchor");function R_(e,t,r,n,i,s,a){const l=(e+r)/2,u=(t+n)/2,h=Math.atan2(n-t,r-e),d=(r-e)/2,f=(n-t)/2,p=d/i,m=f/s,y=Math.sqrt(p**2+m**2);if(y>1)throw new Error("The given radii are too small to create an arc between the points.");const b=Math.sqrt(1-y**2),x=l+b*s*Math.sin(h)*(a?-1:1),v=u-b*i*Math.cos(h)*(a?-1:1),_=Math.atan2((t-v)/s,(e-x)/i);let k=Math.atan2((n-v)/s,(r-x)/i)-_;a&&k<0&&(k+=2*Math.PI),!a&&k>0&&(k-=2*Math.PI);const T=[];for(let E=0;E<20;E++){const I=E/19,C=_+I*k,R=x+i*Math.cos(C),w=v+s*Math.sin(C);T.push({x:R,y:w})}return T}g(R_,"generateArcPoints");async function B$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=s.width+t.padding+20,o=s.height+t.padding,l=o/2,u=l/(2.5+o/50),{cssStyles:h}=t,d=[{x:a/2,y:-o/2},{x:-a/2,y:-o/2},...R_(-a/2,-o/2,-a/2,o/2,u,l,!1),{x:a/2,y:o/2},...R_(a/2,o/2,a/2,-o/2,u,l,!0)],f=Xt.svg(i),p=Qt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=Ee(d),y=f.path(m,p),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${u/2}, 0)`),Zt(t,b),t.intersect=function(x){return Ht.polygon(t,d,x)},i}g(B$,"bowTieRect");function Yo(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}g(Yo,"insertPolygonShape");async function F$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=s.height+t.padding,o=12,l=s.width+t.padding+o,u=0,h=l,d=-a,f=0,p=[{x:u+o,y:d},{x:h,y:d},{x:h,y:f},{x:u,y:f},{x:u,y:d+o},{x:u+o,y:d}];let m;const{cssStyles:y}=t;if(t.look==="handDrawn"){const b=Xt.svg(i),x=Qt(t,{}),v=Ee(p),_=b.path(v,x);m=i.insert(()=>_,":first-child").attr("transform",`translate(${-l/2}, ${a/2})`),y&&m.attr("style",y)}else m=Yo(i,l,a,p);return n&&m.attr("style",n),Zt(t,m),t.intersect=function(b){return Ht.polygon(t,p,b)},i}g(F$,"card");function V$(e,t){const{nodeStyles:r}=Gt(t);t.label="";const n=e.insert("g").attr("class",le(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,s=Math.max(28,t.width??0),a=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],o=Xt.svg(n),l=Qt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=Ee(a),h=o.path(u,l),d=n.insert(()=>h,":first-child");return i&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",i),r&&t.look!=="handDrawn"&&d.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(f){return Ht.polygon(t,a,f)},n}g(V$,"choice");async function Nw(e,t,r){const{labelStyles:n,nodeStyles:i}=Gt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a,halfPadding:o}=await ue(e,t,le(t)),l=(r==null?void 0:r.padding)??o,u=a.width/2+l;let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const f=Xt.svg(s),p=Qt(t,{}),m=f.circle(0,0,u*2,p);h=s.insert(()=>m,":first-child"),h.attr("class","basic label-container").attr("style",Mn(d))}else h=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",i).attr("r",u).attr("cx",0).attr("cy",0);return Zt(t,h),t.calcIntersect=function(f,p){const m=f.width/2;return Ht.circle(f,m,p)},t.intersect=function(f){return U.info("Circle intersect",t,u,f),Ht.circle(t,u,f)},s}g(Nw,"circle");function z$(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,i={x:n/2*t,y:n/2*r},s={x:-(n/2)*t,y:n/2*r},a={x:-(n/2)*t,y:-(n/2)*r},o={x:n/2*t,y:-(n/2)*r};return`M ${s.x},${s.y} L ${o.x},${o.y}
                   M ${i.x},${i.y} L ${a.x},${a.y}`}g(z$,"createLine");function W$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r,t.label="";const i=e.insert("g").attr("class",le(t)).attr("id",t.domId??t.id),s=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:a}=t,o=Xt.svg(i),l=Qt(t,{});t.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const u=o.circle(0,0,s*2,l),h=z$(s),d=o.path(h,l),f=i.insert(()=>u,":first-child");return f.insert(()=>d),a&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",n),Zt(t,f),t.intersect=function(p){return U.info("crossedCircle intersect",t,{radius:s,point:p}),Ht.circle(t,s,p)},i}g(W$,"crossedCircle");function _a(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const f=o+d*h,p=e+r*Math.cos(f),m=t+r*Math.sin(f);a.push({x:-p,y:-m})}return a}g(_a,"generateCirclePoints");async function U$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=t,d=[..._a(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},..._a(o/2+u*2,-u,u,20,-180,-270),..._a(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},..._a(o/2,l/2,u,20,0,90)],f=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},..._a(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},..._a(o/2+o*.1,-u,u,20,-180,-270),..._a(o/2+o*.1,u,u,20,-90,-180),{x:-o/2-u,y:l/2},..._a(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2,y:l/2+u}],p=Xt.svg(i),m=Qt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const b=Ee(d).replace("Z",""),x=p.path(b,m),v=Ee(f),_=p.path(v,{...m}),S=i.insert("g",":first-child");return S.insert(()=>_,":first-child").attr("stroke-opacity",0),S.insert(()=>x,":first-child"),S.attr("class","text"),h&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(${u}, 0)`),a.attr("transform",`translate(${-o/2+u-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Zt(t,S),t.intersect=function(k){return Ht.polygon(t,f,k)},i}g(U$,"curlyBraceLeft");function Ta(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const f=o+d*h,p=e+r*Math.cos(f),m=t+r*Math.sin(f);a.push({x:p,y:m})}return a}g(Ta,"generateCirclePoints");async function H$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=t,d=[...Ta(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...Ta(o/2+u*2,-u,u,20,-180,-270),...Ta(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...Ta(o/2,l/2,u,20,0,90)],f=[{x:-o/2,y:-l/2-u},{x:o/2,y:-l/2-u},...Ta(o/2,-l/2,u,20,-90,0),{x:o/2+u,y:-u},...Ta(o/2+u*2,-u,u,20,-180,-270),...Ta(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:l/2},...Ta(o/2,l/2,u,20,0,90),{x:o/2,y:l/2+u},{x:-o/2,y:l/2+u}],p=Xt.svg(i),m=Qt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const b=Ee(d).replace("Z",""),x=p.path(b,m),v=Ee(f),_=p.path(v,{...m}),S=i.insert("g",":first-child");return S.insert(()=>_,":first-child").attr("stroke-opacity",0),S.insert(()=>x,":first-child"),S.attr("class","text"),h&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(${-u}, 0)`),a.attr("transform",`translate(${-o/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Zt(t,S),t.intersect=function(k){return Ht.polygon(t,f,k)},i}g(H$,"curlyBraceRight");function un(e,t,r,n=100,i=0,s=180){const a=[],o=i*Math.PI/180,h=(s*Math.PI/180-o)/(n-1);for(let d=0;d<n;d++){const f=o+d*h,p=e+r*Math.cos(f),m=t+r*Math.sin(f);a.push({x:-p,y:-m})}return a}g(un,"generateCirclePoints");async function G$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=s.width+(t.padding??0),l=s.height+(t.padding??0),u=Math.max(5,l*.1),{cssStyles:h}=t,d=[...un(o/2,-l/2,u,30,-90,0),{x:-o/2-u,y:u},...un(o/2+u*2,-u,u,20,-180,-270),...un(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-l/2},...un(o/2,l/2,u,20,0,90)],f=[...un(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...un(-o/2-u/2,-u,u,20,0,90),...un(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...un(-o/2+u+u/2,l/2,u,30,-180,-270)],p=[{x:o/2,y:-l/2-u},{x:-o/2,y:-l/2-u},...un(o/2,-l/2,u,20,-90,0),{x:-o/2-u,y:-u},...un(o/2+u*2,-u,u,20,-180,-270),...un(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:l/2},...un(o/2,l/2,u,20,0,90),{x:-o/2,y:l/2+u},{x:o/2-u-u/2,y:l/2+u},...un(-o/2+u+u/2,-l/2,u,20,-90,-180),{x:o/2-u/2,y:u},...un(-o/2-u/2,-u,u,20,0,90),...un(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...un(-o/2+u+u/2,l/2,u,30,-180,-270)],m=Xt.svg(i),y=Qt(t,{fill:"none"});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const x=Ee(d).replace("Z",""),v=m.path(x,y),S=Ee(f).replace("Z",""),k=m.path(S,y),T=Ee(p),E=m.path(T,{...y}),I=i.insert("g",":first-child");return I.insert(()=>E,":first-child").attr("stroke-opacity",0),I.insert(()=>v,":first-child"),I.insert(()=>k,":first-child"),I.attr("class","text"),h&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",h),n&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(${u-u/4}, 0)`),a.attr("transform",`translate(${-o/2+(t.padding??0)/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Zt(t,I),t.intersect=function(C){return Ht.polygon(t,p,C)},i}g(G$,"curlyBraces");async function q$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=80,o=20,l=Math.max(a,(s.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),u=Math.max(o,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=u/2,{cssStyles:d}=t,f=Xt.svg(i),p=Qt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=l,y=u,b=m-h,x=y/4,v=[{x:b,y:0},{x,y:0},{x:0,y:y/2},{x,y},{x:b,y},...Lp(-b,-y/2,h,50,270,90)],_=Ee(v),S=f.path(_,p),k=i.insert(()=>S,":first-child");return k.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",n),k.attr("transform",`translate(${-l/2}, ${-u/2})`),Zt(t,k),t.intersect=function(T){return Ht.polygon(t,v,T)},i}g(q$,"curvedTrapezoid");var Rnt=g((e,t,r,n,i,s)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),Int=g((e,t,r,n,i,s)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),Nnt=g((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function j$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+t.padding,t.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(s.height+u+t.padding,t.height??0);let d;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=Xt.svg(i),m=Int(0,0,o,h,l,u),y=Nnt(0,u,o,h,l,u),b=p.path(m,Qt(t,{})),x=p.path(y,Qt(t,{fill:"none"}));d=i.insert(()=>x,":first-child"),d=i.insert(()=>b,":first-child"),d.attr("class","basic label-container"),f&&d.attr("style",f)}else{const p=Rnt(0,0,o,h,l,u);d=i.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",Mn(f)).attr("style",n)}return d.attr("label-offset-y",u),d.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),Zt(t,d),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(p){const m=Ht.rect(t,p),y=m.x-(t.x??0);if(l!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-u)){let b=u*u*(1-y*y/(l*l));b>0&&(b=Math.sqrt(b)),b=u-b,p.y-(t.y??0)>0&&(b=-b),m.y+=b}return m},i}g(j$,"cylinder");async function Y$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=s.width+t.padding,l=s.height+t.padding,u=l*.2,h=-o/2,d=-l/2-u/2,{cssStyles:f}=t,p=Xt.svg(i),m=Qt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:h,y:d+u},{x:-h,y:d+u},{x:-h,y:-d},{x:h,y:-d},{x:h,y:d},{x:-h,y:d},{x:-h,y:d+u}],b=p.polygon(y.map(v=>[v.x,v.y]),m),x=i.insert(()=>b,":first-child");return x.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),a.attr("transform",`translate(${h+(t.padding??0)/2-(s.x-(s.left??0))}, ${d+u+(t.padding??0)/2-(s.y-(s.top??0))})`),Zt(t,x),t.intersect=function(v){return Ht.rect(t,v)},i}g(Y$,"dividedRectangle");async function X$(e,t){var f,p;const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a}=await ue(e,t,le(t)),l=s.width/2+a+5,u=s.width/2+a;let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=Xt.svg(i),y=Qt(t,{roughness:.2,strokeWidth:2.5}),b=Qt(t,{roughness:.2,strokeWidth:1.5}),x=m.circle(0,0,l*2,y),v=m.circle(0,0,u*2,b);h=i.insert("g",":first-child"),h.attr("class",Mn(t.cssClasses)).attr("style",Mn(d)),(f=h.node())==null||f.appendChild(x),(p=h.node())==null||p.appendChild(v)}else{h=i.insert("g",":first-child");const m=h.insert("circle",":first-child"),y=h.insert("circle");h.attr("class","basic label-container").attr("style",n),m.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),y.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return Zt(t,h),t.intersect=function(m){return U.info("DoubleCircle intersect",t,l,m),Ht.circle(t,l,m)},i}g(X$,"doublecircle");function K$(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Gt(t);t.label="",t.labelStyle=n;const s=e.insert("g").attr("class",le(t)).attr("id",t.domId??t.id),a=7,{cssStyles:o}=t,l=Xt.svg(s),{nodeBorder:u}=r,h=Qt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const d=l.circle(0,0,a*2,h),f=s.insert(()=>d,":first-child");return f.selectAll("path").attr("style",`fill: ${u} !important;`),o&&o.length>0&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",o),i&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",i),Zt(t,f),t.intersect=function(p){return U.info("filledCircle intersect",t,{radius:a,point:p}),Ht.circle(t,a,p)},s}g(K$,"filledCircle");async function Q$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=s.width+(t.padding??0),l=o+s.height,u=o+s.height,h=[{x:0,y:-l},{x:u,y:-l},{x:u/2,y:0}],{cssStyles:d}=t,f=Xt.svg(i),p=Qt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=Ee(h),y=f.path(m,p),b=i.insert(()=>y,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return d&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),t.width=o,t.height=l,Zt(t,b),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(x){return U.info("Triangle intersect",t,h,x),Ht.polygon(t,h,x)},i}g(Q$,"flippedTriangle");function Z$(e,t,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:s}=Gt(t);t.label="";const a=e.insert("g").attr("class",le(t)).attr("id",t.domId??t.id),{cssStyles:o}=t;let l=Math.max(70,(t==null?void 0:t.width)??0),u=Math.max(10,(t==null?void 0:t.height)??0);r==="LR"&&(l=Math.max(10,(t==null?void 0:t.width)??0),u=Math.max(70,(t==null?void 0:t.height)??0));const h=-1*l/2,d=-1*u/2,f=Xt.svg(a),p=Qt(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=f.rectangle(h,d,l,u,p),y=a.insert(()=>m,":first-child");o&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",o),s&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",s),Zt(t,y);const b=(n==null?void 0:n.padding)??0;return t.width&&t.height&&(t.width+=b/2||0,t.height+=b/2||0),t.intersect=function(x){return Ht.rect(t,x)},a}g(Z$,"forkJoin");async function J$(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const i=80,s=50,{shapeSvg:a,bbox:o}=await ue(e,t,le(t)),l=Math.max(i,o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(s,o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=u/2,{cssStyles:d}=t,f=Xt.svg(a),p=Qt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:-l/2,y:-u/2},{x:l/2-h,y:-u/2},...Lp(-l/2+h,0,h,50,90,270),{x:l/2-h,y:u/2},{x:-l/2,y:u/2}],y=Ee(m),b=f.path(y,p),x=a.insert(()=>b,":first-child");return x.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),Zt(t,x),t.intersect=function(v){return U.info("Pill intersect",t,{radius:h,point:v}),Ht.polygon(t,m,v)},a}g(J$,"halfRoundedRectangle");async function tO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=s.height+(t.padding??0),o=s.width+(t.padding??0)*2.5,{cssStyles:l}=t,u=Xt.svg(i),h=Qt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let d=o/2;const f=d/6;d=d+f;const p=a/2,m=p/2,y=d-m,b=[{x:-y,y:-p},{x:0,y:-p},{x:y,y:-p},{x:d,y:0},{x:y,y:p},{x:0,y:p},{x:-y,y:p},{x:-d,y:0}],x=Ee(b),v=u.path(x,h),_=i.insert(()=>v,":first-child");return _.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&_.selectChildren("path").attr("style",n),t.width=o,t.height=a,Zt(t,_),t.intersect=function(S){return Ht.polygon(t,b,S)},i}g(tO,"hexagon");async function eO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.label="",t.labelStyle=r;const{shapeSvg:i}=await ue(e,t,le(t)),s=Math.max(30,(t==null?void 0:t.width)??0),a=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:o}=t,l=Xt.svg(i),u=Qt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const h=[{x:0,y:0},{x:s,y:0},{x:0,y:a},{x:s,y:a}],d=Ee(h),f=l.path(d,u),p=i.insert(()=>f,":first-child");return p.attr("class","basic label-container"),o&&t.look!=="handDrawn"&&p.selectChildren("path").attr("style",o),n&&t.look!=="handDrawn"&&p.selectChildren("path").attr("style",n),p.attr("transform",`translate(${-s/2}, ${-a/2})`),Zt(t,p),t.intersect=function(m){return U.info("Pill intersect",t,{points:h}),Ht.polygon(t,h,m)},i}g(eO,"hourglass");async function rO(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Gt(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:d}=await ue(e,t,"icon-shape default"),f=t.pos==="t",p=o,m=o,{nodeBorder:y}=r,{stylesMap:b}=id(t),x=-m/2,v=-p/2,_=t.label?8:0,S=Xt.svg(u),k=Qt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const T=S.rectangle(x,v,m,p,k),E=Math.max(m,h.width),I=p+h.height+_,C=S.rectangle(-E/2,-I/2,E,I,{...k,fill:"transparent",stroke:"none"}),R=u.insert(()=>T,":first-child"),w=u.insert(()=>C);if(t.icon){const $=u.append("g");$.html(`<g>${await No(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const A=$.node().getBBox(),L=A.width,N=A.height,D=A.x,P=A.y;$.attr("transform",`translate(${-L/2-D},${f?h.height/2+_/2-N/2-P:-h.height/2-_/2-N/2-P})`),$.attr("style",`color: ${b.get("stroke")??y};`)}return d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-I/2:I/2-h.height})`),R.attr("transform",`translate(0,${f?h.height/2+_/2:-h.height/2-_/2})`),Zt(t,w),t.intersect=function($){if(U.info("iconSquare intersect",t,$),!t.label)return Ht.rect(t,$);const A=t.x??0,L=t.y??0,N=t.height??0;let D=[];return f?D=[{x:A-h.width/2,y:L-N/2},{x:A+h.width/2,y:L-N/2},{x:A+h.width/2,y:L-N/2+h.height+_},{x:A+m/2,y:L-N/2+h.height+_},{x:A+m/2,y:L+N/2},{x:A-m/2,y:L+N/2},{x:A-m/2,y:L-N/2+h.height+_},{x:A-h.width/2,y:L-N/2+h.height+_}]:D=[{x:A-m/2,y:L-N/2},{x:A+m/2,y:L-N/2},{x:A+m/2,y:L-N/2+p},{x:A+h.width/2,y:L-N/2+p},{x:A+h.width/2/2,y:L+N/2},{x:A-h.width/2,y:L+N/2},{x:A-h.width/2,y:L-N/2+p},{x:A-m/2,y:L-N/2+p}],Ht.polygon(t,D,$)},u}g(rO,"icon");async function nO(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Gt(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,label:d}=await ue(e,t,"icon-shape default"),f=20,p=t.label?8:0,m=t.pos==="t",{nodeBorder:y,mainBkg:b}=r,{stylesMap:x}=id(t),v=Xt.svg(u),_=Qt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=x.get("fill");_.stroke=S??b;const k=u.append("g");t.icon&&k.html(`<g>${await No(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const T=k.node().getBBox(),E=T.width,I=T.height,C=T.x,R=T.y,w=Math.max(E,I)*Math.SQRT2+f*2,$=v.circle(0,0,w,_),A=Math.max(w,h.width),L=w+h.height+p,N=v.rectangle(-A/2,-L/2,A,L,{..._,fill:"transparent",stroke:"none"}),D=u.insert(()=>$,":first-child"),P=u.insert(()=>N);return k.attr("transform",`translate(${-E/2-C},${m?h.height/2+p/2-I/2-R:-h.height/2-p/2-I/2-R})`),k.attr("style",`color: ${x.get("stroke")??y};`),d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${m?-L/2:L/2-h.height})`),D.attr("transform",`translate(0,${m?h.height/2+p/2:-h.height/2-p/2})`),Zt(t,P),t.intersect=function(O){return U.info("iconSquare intersect",t,O),Ht.rect(t,O)},u}g(nO,"iconCircle");async function iO(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Gt(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:d,label:f}=await ue(e,t,"icon-shape default"),p=t.pos==="t",m=o+d*2,y=o+d*2,{nodeBorder:b,mainBkg:x}=r,{stylesMap:v}=id(t),_=-y/2,S=-m/2,k=t.label?8:0,T=Xt.svg(u),E=Qt(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const I=v.get("fill");E.stroke=I??x;const C=T.path(jo(_,S,y,m,5),E),R=Math.max(y,h.width),w=m+h.height+k,$=T.rectangle(-R/2,-w/2,R,w,{...E,fill:"transparent",stroke:"none"}),A=u.insert(()=>C,":first-child").attr("class","icon-shape2"),L=u.insert(()=>$);if(t.icon){const N=u.append("g");N.html(`<g>${await No(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const D=N.node().getBBox(),P=D.width,O=D.height,M=D.x,Y=D.y;N.attr("transform",`translate(${-P/2-M},${p?h.height/2+k/2-O/2-Y:-h.height/2-k/2-O/2-Y})`),N.attr("style",`color: ${v.get("stroke")??b};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-w/2:w/2-h.height})`),A.attr("transform",`translate(0,${p?h.height/2+k/2:-h.height/2-k/2})`),Zt(t,L),t.intersect=function(N){if(U.info("iconSquare intersect",t,N),!t.label)return Ht.rect(t,N);const D=t.x??0,P=t.y??0,O=t.height??0;let M=[];return p?M=[{x:D-h.width/2,y:P-O/2},{x:D+h.width/2,y:P-O/2},{x:D+h.width/2,y:P-O/2+h.height+k},{x:D+y/2,y:P-O/2+h.height+k},{x:D+y/2,y:P+O/2},{x:D-y/2,y:P+O/2},{x:D-y/2,y:P-O/2+h.height+k},{x:D-h.width/2,y:P-O/2+h.height+k}]:M=[{x:D-y/2,y:P-O/2},{x:D+y/2,y:P-O/2},{x:D+y/2,y:P-O/2+m},{x:D+h.width/2,y:P-O/2+m},{x:D+h.width/2/2,y:P+O/2},{x:D-h.width/2,y:P+O/2},{x:D-h.width/2,y:P-O/2+m},{x:D-y/2,y:P-O/2+m}],Ht.polygon(t,M,N)},u}g(iO,"iconRounded");async function sO(e,t,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:i}=Gt(t);t.labelStyle=i;const s=t.assetHeight??48,a=t.assetWidth??48,o=Math.max(s,a),l=n==null?void 0:n.wrappingWidth;t.width=Math.max(o,l??0);const{shapeSvg:u,bbox:h,halfPadding:d,label:f}=await ue(e,t,"icon-shape default"),p=t.pos==="t",m=o+d*2,y=o+d*2,{nodeBorder:b,mainBkg:x}=r,{stylesMap:v}=id(t),_=-y/2,S=-m/2,k=t.label?8:0,T=Xt.svg(u),E=Qt(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const I=v.get("fill");E.stroke=I??x;const C=T.path(jo(_,S,y,m,.1),E),R=Math.max(y,h.width),w=m+h.height+k,$=T.rectangle(-R/2,-w/2,R,w,{...E,fill:"transparent",stroke:"none"}),A=u.insert(()=>C,":first-child"),L=u.insert(()=>$);if(t.icon){const N=u.append("g");N.html(`<g>${await No(t.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const D=N.node().getBBox(),P=D.width,O=D.height,M=D.x,Y=D.y;N.attr("transform",`translate(${-P/2-M},${p?h.height/2+k/2-O/2-Y:-h.height/2-k/2-O/2-Y})`),N.attr("style",`color: ${v.get("stroke")??b};`)}return f.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${p?-w/2:w/2-h.height})`),A.attr("transform",`translate(0,${p?h.height/2+k/2:-h.height/2-k/2})`),Zt(t,L),t.intersect=function(N){if(U.info("iconSquare intersect",t,N),!t.label)return Ht.rect(t,N);const D=t.x??0,P=t.y??0,O=t.height??0;let M=[];return p?M=[{x:D-h.width/2,y:P-O/2},{x:D+h.width/2,y:P-O/2},{x:D+h.width/2,y:P-O/2+h.height+k},{x:D+y/2,y:P-O/2+h.height+k},{x:D+y/2,y:P+O/2},{x:D-y/2,y:P+O/2},{x:D-y/2,y:P-O/2+h.height+k},{x:D-h.width/2,y:P-O/2+h.height+k}]:M=[{x:D-y/2,y:P-O/2},{x:D+y/2,y:P-O/2},{x:D+y/2,y:P-O/2+m},{x:D+h.width/2,y:P-O/2+m},{x:D+h.width/2/2,y:P+O/2},{x:D-h.width/2,y:P+O/2},{x:D-h.width/2,y:P-O/2+m},{x:D-y/2,y:P-O/2+m}],Ht.polygon(t,M,N)},u}g(sO,"iconSquare");async function aO(e,t,{config:{flowchart:r}}){const n=new Image;n.src=(t==null?void 0:t.img)??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),s=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/s;const{labelStyles:a}=Gt(t);t.labelStyle=a;const o=r==null?void 0:r.wrappingWidth;t.defaultWidth=r==null?void 0:r.wrappingWidth;const l=Math.max(t.label?o??0:0,(t==null?void 0:t.assetWidth)??i),u=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:l,h=t.constraint==="on"?u/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??s;t.width=Math.max(u,o??0);const{shapeSvg:d,bbox:f,label:p}=await ue(e,t,"image-shape default"),m=t.pos==="t",y=-u/2,b=-h/2,x=t.label?8:0,v=Xt.svg(d),_=Qt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=v.rectangle(y,b,u,h,_),k=Math.max(u,f.width),T=h+f.height+x,E=v.rectangle(-k/2,-T/2,k,T,{..._,fill:"none",stroke:"none"}),I=d.insert(()=>S,":first-child"),C=d.insert(()=>E);if(t.img){const R=d.append("image");R.attr("href",t.img),R.attr("width",u),R.attr("height",h),R.attr("preserveAspectRatio","none"),R.attr("transform",`translate(${-u/2},${m?T/2-h:-T/2})`)}return p.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${m?-h/2-f.height/2-x/2:h/2-f.height/2+x/2})`),I.attr("transform",`translate(0,${m?f.height/2+x/2:-f.height/2-x/2})`),Zt(t,C),t.intersect=function(R){if(U.info("iconSquare intersect",t,R),!t.label)return Ht.rect(t,R);const w=t.x??0,$=t.y??0,A=t.height??0;let L=[];return m?L=[{x:w-f.width/2,y:$-A/2},{x:w+f.width/2,y:$-A/2},{x:w+f.width/2,y:$-A/2+f.height+x},{x:w+u/2,y:$-A/2+f.height+x},{x:w+u/2,y:$+A/2},{x:w-u/2,y:$+A/2},{x:w-u/2,y:$-A/2+f.height+x},{x:w-f.width/2,y:$-A/2+f.height+x}]:L=[{x:w-u/2,y:$-A/2},{x:w+u/2,y:$-A/2},{x:w+u/2,y:$-A/2+h},{x:w+f.width/2,y:$-A/2+h},{x:w+f.width/2/2,y:$+A/2},{x:w-f.width/2,y:$+A/2},{x:w-f.width/2,y:$-A/2+h},{x:w-u/2,y:$-A/2+h}],Ht.polygon(t,L,R)},d}g(aO,"imageSquare");async function oO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),o=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),l=[{x:0,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:-3*o/6,y:-o}];let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const d=Xt.svg(i),f=Qt(t,{}),p=Ee(l),m=d.path(p,f);u=i.insert(()=>m,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&u.attr("style",h)}else u=Yo(i,a,o,l);return n&&u.attr("style",n),t.width=a,t.height=o,Zt(t,u),t.intersect=function(d){return Ht.polygon(t,l,d)},i}g(oO,"inv_trapezoid");async function T2(e,t,r){const{labelStyles:n,nodeStyles:i}=Gt(t);t.labelStyle=n;const{shapeSvg:s,bbox:a}=await ue(e,t,le(t)),o=Math.max(a.width+r.labelPaddingX*2,(t==null?void 0:t.width)||0),l=Math.max(a.height+r.labelPaddingY*2,(t==null?void 0:t.height)||0),u=-o/2,h=-l/2;let d,{rx:f,ry:p}=t;const{cssStyles:m}=t;if(r!=null&&r.rx&&r.ry&&(f=r.rx,p=r.ry),t.look==="handDrawn"){const y=Xt.svg(s),b=Qt(t,{}),x=f||p?y.path(jo(u,h,o,l,f||0),b):y.rectangle(u,h,o,l,b);d=s.insert(()=>x,":first-child"),d.attr("class","basic label-container").attr("style",Mn(m))}else d=s.insert("rect",":first-child"),d.attr("class","basic label-container").attr("style",i).attr("rx",Mn(f)).attr("ry",Mn(p)).attr("x",u).attr("y",h).attr("width",o).attr("height",l);return Zt(t,d),t.calcIntersect=function(y,b){return Ht.rect(y,b)},t.intersect=function(y){return Ht.rect(t,y)},s}g(T2,"drawRect");async function lO(e,t){const{shapeSvg:r,bbox:n,label:i}=await ue(e,t,"label"),s=r.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Zt(t,s),t.intersect=function(l){return Ht.rect(t,l)},r}g(lO,"labelRect");async function cO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),o=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),l=[{x:0,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:-(3*o)/6,y:-o}];let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const d=Xt.svg(i),f=Qt(t,{}),p=Ee(l),m=d.path(p,f);u=i.insert(()=>m,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&u.attr("style",h)}else u=Yo(i,a,o,l);return n&&u.attr("style",n),t.width=a,t.height=o,Zt(t,u),t.intersect=function(d){return Ht.polygon(t,l,d)},i}g(cO,"lean_left");async function uO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),o=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),l=[{x:-3*o/6,y:0},{x:a,y:0},{x:a+3*o/6,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const d=Xt.svg(i),f=Qt(t,{}),p=Ee(l),m=d.path(p,f);u=i.insert(()=>m,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&u.attr("style",h)}else u=Yo(i,a,o,l);return n&&u.attr("style",n),t.width=a,t.height=o,Zt(t,u),t.intersect=function(d){return Ht.polygon(t,l,d)},i}g(uO,"lean_right");function hO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.label="",t.labelStyle=r;const i=e.insert("g").attr("class",le(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,a=Math.max(35,(t==null?void 0:t.width)??0),o=Math.max(35,(t==null?void 0:t.height)??0),l=7,u=[{x:a,y:0},{x:0,y:o+l/2},{x:a-2*l,y:o+l/2},{x:0,y:2*o},{x:a,y:o-l/2},{x:2*l,y:o-l/2}],h=Xt.svg(i),d=Qt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const f=Ee(u),p=h.path(f,d),m=i.insert(()=>p,":first-child");return s&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),m.attr("transform",`translate(-${a/2},${-o})`),Zt(t,m),t.intersect=function(y){return U.info("lightningBolt intersect",t,y),Ht.polygon(t,u,y)},i}g(hO,"lightningBolt");var $nt=g((e,t,r,n,i,s,a)=>[`M${e},${t+s}`,`a${i},${s} 0,0,0 ${r},0`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),Ont=g((e,t,r,n,i,s,a)=>[`M${e},${t+s}`,`M${e+r},${t+s}`,`a${i},${s} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${s} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+s+a}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),Dnt=g((e,t,r,n,i,s)=>[`M${e-r/2},${-n/2}`,`a${i},${s} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function dO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+(t.padding??0),t.width??0),l=o/2,u=l/(2.5+o/50),h=Math.max(s.height+u+(t.padding??0),t.height??0),d=h*.1;let f;const{cssStyles:p}=t;if(t.look==="handDrawn"){const m=Xt.svg(i),y=Ont(0,0,o,h,l,u,d),b=Dnt(0,u,o,h,l,u),x=Qt(t,{}),v=m.path(y,x),_=m.path(b,x);i.insert(()=>_,":first-child").attr("class","line"),f=i.insert(()=>v,":first-child"),f.attr("class","basic label-container"),p&&f.attr("style",p)}else{const m=$nt(0,0,o,h,l,u,d);f=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Mn(p)).attr("style",n)}return f.attr("label-offset-y",u),f.attr("transform",`translate(${-o/2}, ${-(h/2+u)})`),Zt(t,f),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+u-(s.y-(s.top??0))})`),t.intersect=function(m){const y=Ht.rect(t,m),b=y.x-(t.x??0);if(l!=0&&(Math.abs(b)<(t.width??0)/2||Math.abs(b)==(t.width??0)/2&&Math.abs(y.y-(t.y??0))>(t.height??0)/2-u)){let x=u*u*(1-b*b/(l*l));x>0&&(x=Math.sqrt(x)),x=u-x,m.y-(t.y??0)>0&&(x=-x),y.y+=x}return y},i}g(dO,"linedCylinder");async function fO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=l/4,h=l+u,{cssStyles:d}=t,f=Xt.svg(i),p=Qt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:-o/2-o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:h/2},...Oo(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,u,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2},{x:-o/2,y:-h/2},{x:-o/2,y:h/2*1.1},{x:-o/2,y:-h/2}],y=f.polygon(m.map(x=>[x.x,x.y]),p),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)+o/2*.1/2-(s.x-(s.left??0))},${-l/2+(t.padding??0)-u/2-(s.y-(s.top??0))})`),Zt(t,b),t.intersect=function(x){return Ht.polygon(t,m,x)},i}g(fO,"linedWaveEdgedRect");async function pO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=5,h=-o/2,d=-l/2,{cssStyles:f}=t,p=Xt.svg(i),m=Qt(t,{}),y=[{x:h-u,y:d+u},{x:h-u,y:d+l+u},{x:h+o-u,y:d+l+u},{x:h+o-u,y:d+l},{x:h+o,y:d+l},{x:h+o,y:d+l-u},{x:h+o+u,y:d+l-u},{x:h+o+u,y:d-u},{x:h+u,y:d-u},{x:h+u,y:d},{x:h,y:d},{x:h,y:d+u}],b=[{x:h,y:d+u},{x:h+o-u,y:d+u},{x:h+o-u,y:d+l},{x:h+o,y:d+l},{x:h+o,y:d},{x:h,y:d}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=Ee(y),v=p.path(x,m),_=Ee(b),S=p.path(_,{...m,fill:"none"}),k=i.insert(()=>S,":first-child");return k.insert(()=>v,":first-child"),k.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)-u-(s.x-(s.left??0))}, ${-(s.height/2)+u-(s.y-(s.top??0))})`),Zt(t,k),t.intersect=function(T){return Ht.polygon(t,y,T)},i}g(pO,"multiRect");async function gO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=l/4,h=l+u,d=-o/2,f=-h/2,p=5,{cssStyles:m}=t,y=Oo(d-p,f+h+p,d+o-p,f+h+p,u,.8),b=y==null?void 0:y[y.length-1],x=[{x:d-p,y:f+p},{x:d-p,y:f+h+p},...y,{x:d+o-p,y:b.y-p},{x:d+o,y:b.y-p},{x:d+o,y:b.y-2*p},{x:d+o+p,y:b.y-2*p},{x:d+o+p,y:f-p},{x:d+p,y:f-p},{x:d+p,y:f},{x:d,y:f},{x:d,y:f+p}],v=[{x:d,y:f+p},{x:d+o-p,y:f+p},{x:d+o-p,y:b.y-p},{x:d+o,y:b.y-p},{x:d+o,y:f},{x:d,y:f}],_=Xt.svg(i),S=Qt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const k=Ee(x),T=_.path(k,S),E=Ee(v),I=_.path(E,S),C=i.insert(()=>T,":first-child");return C.insert(()=>I),C.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",m),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-(s.width/2)-p-(s.x-(s.left??0))}, ${-(s.height/2)+p-u/2-(s.y-(s.top??0))})`),Zt(t,C),t.intersect=function(R){return Ht.polygon(t,x,R)},i}g(gO,"multiWaveEdgedRectangle");async function mO(e,t,{config:{themeVariables:r}}){var v;const{labelStyles:n,nodeStyles:i}=Gt(t);t.labelStyle=n,t.useHtmlLabels||((v=De().flowchart)==null?void 0:v.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:a,bbox:o,label:l}=await ue(e,t,le(t)),u=Math.max(o.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(o.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=-u/2,f=-h/2,{cssStyles:p}=t,m=Xt.svg(a),y=Qt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=m.rectangle(d,f,u,h,y),x=a.insert(()=>b,":first-child");return x.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",i),l.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),Zt(t,x),t.intersect=function(_){return Ht.rect(t,_)},a}g(mO,"note");var Mnt=g((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function yO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=s.width+t.padding,o=s.height+t.padding,l=a+o,u=.5,h=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let d;const{cssStyles:f}=t;if(t.look==="handDrawn"){const p=Xt.svg(i),m=Qt(t,{}),y=Mnt(0,0,l),b=p.path(y,m);d=i.insert(()=>b,":first-child").attr("transform",`translate(${-l/2+u}, ${l/2})`),f&&d.attr("style",f)}else d=Yo(i,l,l,h),d.attr("transform",`translate(${-l/2+u}, ${l/2})`);return n&&d.attr("style",n),Zt(t,d),t.calcIntersect=function(p,m){const y=p.width,b=[{x:y/2,y:0},{x:y,y:-y/2},{x:y/2,y:-y},{x:0,y:-y/2}],x=Ht.polygon(p,b,m);return{x:x.x-.5,y:x.y-.5}},t.intersect=function(p){return this.calcIntersect(t,p)},i}g(yO,"question");async function xO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),u=-o/2,h=-l/2,d=h/2,f=[{x:u+d,y:h},{x:u,y:0},{x:u+d,y:-h},{x:-u,y:-h},{x:-u,y:h}],{cssStyles:p}=t,m=Xt.svg(i),y=Qt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=Ee(f),x=m.path(b,y),v=i.insert(()=>x,":first-child");return v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(${-d/2},0)`),a.attr("transform",`translate(${-d/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Zt(t,v),t.intersect=function(_){return Ht.polygon(t,f,_)},i}g(xO,"rect_left_inv_arrow");async function bO(e,t){var I,C;const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;let i;t.cssClasses?i="node "+t.cssClasses:i="node default";const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),a=s.insert("g"),o=s.insert("g").attr("class","label").attr("style",n),l=t.description,u=t.label,h=o.node().appendChild(await El(u,t.labelStyle,!0,!0));let d={width:0,height:0};if(Ze((C=(I=rt())==null?void 0:I.flowchart)==null?void 0:C.htmlLabels)){const R=h.children[0],w=Lt(h);d=R.getBoundingClientRect(),w.attr("width",d.width),w.attr("height",d.height)}U.info("Text 2",l);const f=l||[],p=h.getBBox(),m=o.node().appendChild(await El(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0)),y=m.children[0],b=Lt(m);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height);const x=(t.padding||0)/2;Lt(m).attr("transform","translate( "+(d.width>p.width?0:(p.width-d.width)/2)+", "+(p.height+x+5)+")"),Lt(h).attr("transform","translate( "+(d.width<p.width?0:-(p.width-d.width)/2)+", 0)"),d=o.node().getBBox(),o.attr("transform","translate("+-d.width/2+", "+(-d.height/2-x+3)+")");const v=d.width+(t.padding||0),_=d.height+(t.padding||0),S=-d.width/2-x,k=-d.height/2-x;let T,E;if(t.look==="handDrawn"){const R=Xt.svg(s),w=Qt(t,{}),$=R.path(jo(S,k,v,_,t.rx||0),w),A=R.line(-d.width/2-x,-d.height/2-x+p.height+x,d.width/2+x,-d.height/2-x+p.height+x,w);E=s.insert(()=>(U.debug("Rough node insert CXC",$),A),":first-child"),T=s.insert(()=>(U.debug("Rough node insert CXC",$),$),":first-child")}else T=a.insert("rect",":first-child"),E=a.insert("line"),T.attr("class","outer title-state").attr("style",n).attr("x",-d.width/2-x).attr("y",-d.height/2-x).attr("width",d.width+(t.padding||0)).attr("height",d.height+(t.padding||0)),E.attr("class","divider").attr("x1",-d.width/2-x).attr("x2",d.width/2+x).attr("y1",-d.height/2-x+p.height+x).attr("y2",-d.height/2-x+p.height+x);return Zt(t,T),t.intersect=function(R){return Ht.rect(t,R)},s}g(bO,"rectWithTitle");function Yd(e,t,r,n,i,s,a){const l=(e+r)/2,u=(t+n)/2,h=Math.atan2(n-t,r-e),d=(r-e)/2,f=(n-t)/2,p=d/i,m=f/s,y=Math.sqrt(p**2+m**2);if(y>1)throw new Error("The given radii are too small to create an arc between the points.");const b=Math.sqrt(1-y**2),x=l+b*s*Math.sin(h)*(a?-1:1),v=u-b*i*Math.cos(h)*(a?-1:1),_=Math.atan2((t-v)/s,(e-x)/i);let k=Math.atan2((n-v)/s,(r-x)/i)-_;a&&k<0&&(k+=2*Math.PI),!a&&k>0&&(k-=2*Math.PI);const T=[];for(let E=0;E<20;E++){const I=E/19,C=_+I*k,R=x+i*Math.cos(C),w=v+s*Math.sin(C);T.push({x:R,y:w})}return T}g(Yd,"generateArcPoints");async function vO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=(t==null?void 0:t.padding)??0,o=(t==null?void 0:t.padding)??0,l=(t!=null&&t.width?t==null?void 0:t.width:s.width)+a*2,u=(t!=null&&t.height?t==null?void 0:t.height:s.height)+o*2,h=t.radius||5,d=t.taper||5,{cssStyles:f}=t,p=Xt.svg(i),m=Qt(t,{});t.stroke&&(m.stroke=t.stroke),t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:-l/2+d,y:-u/2},{x:l/2-d,y:-u/2},...Yd(l/2-d,-u/2,l/2,-u/2+d,h,h,!0),{x:l/2,y:-u/2+d},{x:l/2,y:u/2-d},...Yd(l/2,u/2-d,l/2-d,u/2,h,h,!0),{x:l/2-d,y:u/2},{x:-l/2+d,y:u/2},...Yd(-l/2+d,u/2,-l/2,u/2-d,h,h,!0),{x:-l/2,y:u/2-d},{x:-l/2,y:-u/2+d},...Yd(-l/2,-u/2+d,-l/2+d,-u/2,h,h,!0)],b=Ee(y),x=p.path(b,m),v=i.insert(()=>x,":first-child");return v.attr("class","basic label-container outer-path"),f&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),Zt(t,v),t.intersect=function(_){return Ht.polygon(t,y,_)},i}g(vO,"roundedRect");async function _O(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=(t==null?void 0:t.padding)??0,l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=-s.width/2-o,d=-s.height/2-o,{cssStyles:f}=t,p=Xt.svg(i),m=Qt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:h,y:d},{x:h+l+8,y:d},{x:h+l+8,y:d+u},{x:h-8,y:d+u},{x:h-8,y:d},{x:h,y:d},{x:h,y:d+u}],b=p.polygon(y.map(v=>[v.x,v.y]),m),x=i.insert(()=>b,":first-child");return x.attr("class","basic label-container").attr("style",Mn(f)),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),a.attr("transform",`translate(${-l/2+4+(t.padding??0)-(s.x-(s.left??0))},${-u/2+(t.padding??0)-(s.y-(s.top??0))})`),Zt(t,x),t.intersect=function(v){return Ht.rect(t,v)},i}g(_O,"shadedProcess");async function TO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=-o/2,h=-l/2,{cssStyles:d}=t,f=Xt.svg(i),p=Qt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:u,y:h},{x:u,y:h+l},{x:u+o,y:h+l},{x:u+o,y:h-l/2}],y=Ee(m),b=f.path(y,p),x=i.insert(()=>b,":first-child");return x.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),x.attr("transform",`translate(0, ${l/4})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))}, ${-l/4+(t.padding??0)-(s.y-(s.top??0))})`),Zt(t,x),t.intersect=function(v){return Ht.polygon(t,m,v)},i}g(TO,"slopedRect");async function kO(e,t){const r={rx:0,ry:0,labelPaddingX:t.labelPaddingX??((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return T2(e,t,r)}g(kO,"squareRect");async function wO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=s.height+t.padding,o=s.width+a/4+t.padding,l=a/2,{cssStyles:u}=t,h=Xt.svg(i),d=Qt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const f=[{x:-o/2+l,y:-a/2},{x:o/2-l,y:-a/2},...Lp(-o/2+l,0,l,50,90,270),{x:o/2-l,y:a/2},...Lp(o/2-l,0,l,50,270,450)],p=Ee(f),m=h.path(p,d),y=i.insert(()=>m,":first-child");return y.attr("class","basic label-container outer-path"),u&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),n&&t.look!=="handDrawn"&&y.selectChildren("path").attr("style",n),Zt(t,y),t.intersect=function(b){return Ht.polygon(t,f,b)},i}g(wO,"stadium");async function SO(e,t){return T2(e,t,{rx:5,ry:5})}g(SO,"state");function CO(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=Gt(t);t.labelStyle=n;const{cssStyles:s}=t,{lineColor:a,stateBorder:o,nodeBorder:l}=r,u=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),h=Xt.svg(u),d=Qt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const f=h.circle(0,0,14,{...d,stroke:a,strokeWidth:2}),p=o??l,m=h.circle(0,0,5,{...d,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),y=u.insert(()=>f,":first-child");return y.insert(()=>m),s&&y.selectAll("path").attr("style",s),i&&y.selectAll("path").attr("style",i),Zt(t,y),t.intersect=function(b){return Ht.circle(t,7,b)},u}g(CO,"stateEnd");function EO(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if(t.look==="handDrawn"){const o=Xt.svg(i).circle(0,0,14,xJ(n));s=i.insert(()=>o),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Zt(t,s),t.intersect=function(a){return Ht.circle(t,7,a)},i}g(EO,"stateStart");async function AO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=((t==null?void 0:t.padding)||0)/2,o=s.width+t.padding,l=s.height+t.padding,u=-s.width/2-a,h=-s.height/2-a,d=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(t.look==="handDrawn"){const f=Xt.svg(i),p=Qt(t,{}),m=f.rectangle(u-8,h,o+16,l,p),y=f.line(u,h,u,h+l,p),b=f.line(u+o,h,u+o,h+l,p);i.insert(()=>y,":first-child"),i.insert(()=>b,":first-child");const x=i.insert(()=>m,":first-child"),{cssStyles:v}=t;x.attr("class","basic label-container").attr("style",Mn(v)),Zt(t,x)}else{const f=Yo(i,o,l,d);n&&f.attr("style",n),Zt(t,f)}return t.intersect=function(f){return Ht.polygon(t,d,f)},i}g(AO,"subroutine");async function LO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),o=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),l=-a/2,u=-o/2,h=.2*o,d=.2*o,{cssStyles:f}=t,p=Xt.svg(i),m=Qt(t,{}),y=[{x:l-h/2,y:u},{x:l+a+h/2,y:u},{x:l+a+h/2,y:u+o},{x:l-h/2,y:u+o}],b=[{x:l+a-h/2,y:u+o},{x:l+a+h/2,y:u+o},{x:l+a+h/2,y:u+o-d}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=Ee(y),v=p.path(x,m),_=Ee(b),S=p.path(_,{...m,fillStyle:"solid"}),k=i.insert(()=>S,":first-child");return k.insert(()=>v,":first-child"),k.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),Zt(t,k),t.intersect=function(T){return Ht.polygon(t,y,T)},i}g(LO,"taggedRect");async function RO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=l/4,h=.2*o,d=.2*l,f=l+u,{cssStyles:p}=t,m=Xt.svg(i),y=Qt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const b=[{x:-o/2-o/2*.1,y:f/2},...Oo(-o/2-o/2*.1,f/2,o/2+o/2*.1,f/2,u,.8),{x:o/2+o/2*.1,y:-f/2},{x:-o/2-o/2*.1,y:-f/2}],x=-o/2+o/2*.1,v=-f/2-d*.4,_=[{x:x+o-h,y:(v+l)*1.4},{x:x+o,y:v+l-d},{x:x+o,y:(v+l)*.9},...Oo(x+o,(v+l)*1.3,x+o-h,(v+l)*1.5,-l*.03,.5)],S=Ee(b),k=m.path(S,y),T=Ee(_),E=m.path(T,{...y,fillStyle:"solid"}),I=i.insert(()=>E,":first-child");return I.insert(()=>k,":first-child"),I.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-u/2-(s.y-(s.top??0))})`),Zt(t,I),t.intersect=function(C){return Ht.polygon(t,b,C)},i}g(RO,"taggedWaveEdgedRectangle");async function IO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=Math.max(s.width+t.padding,(t==null?void 0:t.width)||0),o=Math.max(s.height+t.padding,(t==null?void 0:t.height)||0),l=-a/2,u=-o/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",u).attr("width",a).attr("height",o),Zt(t,h),t.intersect=function(d){return Ht.rect(t,d)},i}g(IO,"text");var Pnt=g((e,t,r,n,i,s)=>`M${e},${t}
    a${i},${s} 0,0,1 0,${-n}
    l${r},0
    a${i},${s} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${s} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),Bnt=g((e,t,r,n,i,s)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${s} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${s} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),Fnt=g((e,t,r,n,i,s)=>[`M${e+r/2},${-n/2}`,`a${i},${s} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function NO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a,halfPadding:o}=await ue(e,t,le(t)),l=t.look==="neo"?o*2:o,u=s.height+l,h=u/2,d=h/(2.5+u/50),f=s.width+d+l,{cssStyles:p}=t;let m;if(t.look==="handDrawn"){const y=Xt.svg(i),b=Bnt(0,0,f,u,d,h),x=Fnt(0,0,f,u,d,h),v=y.path(b,Qt(t,{})),_=y.path(x,Qt(t,{fill:"none"}));m=i.insert(()=>_,":first-child"),m=i.insert(()=>v,":first-child"),m.attr("class","basic label-container"),p&&m.attr("style",p)}else{const y=Pnt(0,0,f,u,d,h);m=i.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Mn(p)).attr("style",n),m.attr("class","basic label-container"),p&&m.selectAll("path").attr("style",p),n&&m.selectAll("path").attr("style",n)}return m.attr("label-offset-x",d),m.attr("transform",`translate(${-f/2}, ${u/2} )`),a.attr("transform",`translate(${-(s.width/2)-d-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Zt(t,m),t.intersect=function(y){const b=Ht.rect(t,y),x=b.y-(t.y??0);if(h!=0&&(Math.abs(x)<(t.height??0)/2||Math.abs(x)==(t.height??0)/2&&Math.abs(b.x-(t.x??0))>(t.width??0)/2-d)){let v=d*d*(1-x*x/(h*h));v!=0&&(v=Math.sqrt(Math.abs(v))),v=d-v,y.x-(t.x??0)>0&&(v=-v),b.x+=v}return b},i}g(NO,"tiltedCylinder");async function $O(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=s.width+t.padding,o=s.height+t.padding,l=[{x:-3*o/6,y:0},{x:a+3*o/6,y:0},{x:a,y:-o},{x:0,y:-o}];let u;const{cssStyles:h}=t;if(t.look==="handDrawn"){const d=Xt.svg(i),f=Qt(t,{}),p=Ee(l),m=d.path(p,f);u=i.insert(()=>m,":first-child").attr("transform",`translate(${-a/2}, ${o/2})`),h&&u.attr("style",h)}else u=Yo(i,a,o,l);return n&&u.attr("style",n),t.width=a,t.height=o,Zt(t,u),t.intersect=function(d){return Ht.polygon(t,l,d)},i}g($O,"trapezoid");async function OO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=60,o=20,l=Math.max(a,s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(o,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:h}=t,d=Xt.svg(i),f=Qt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:-l/2*.8,y:-u/2},{x:l/2*.8,y:-u/2},{x:l/2,y:-u/2*.6},{x:l/2,y:u/2},{x:-l/2,y:u/2},{x:-l/2,y:-u/2*.6}],m=Ee(p),y=d.path(m,f),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),h&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",h),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),Zt(t,b),t.intersect=function(x){return Ht.polygon(t,p,x)},i}g(OO,"trapezoidalPentagon");async function DO(e,t){var v;const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Ze((v=rt().flowchart)==null?void 0:v.htmlLabels),l=s.width+(t.padding??0),u=l+s.height,h=l+s.height,d=[{x:0,y:0},{x:h,y:0},{x:h/2,y:-u}],{cssStyles:f}=t,p=Xt.svg(i),m=Qt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=Ee(d),b=p.path(y,m),x=i.insert(()=>b,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return f&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",n),t.width=l,t.height=u,Zt(t,x),a.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${u/2-(s.height+(t.padding??0)/(o?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(_){return U.info("Triangle intersect",t,d,_),Ht.polygon(t,d,_)},i}g(DO,"triangle");async function MO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=l/8,h=l+u,{cssStyles:d}=t,p=70-o,m=p>0?p/2:0,y=Xt.svg(i),b=Qt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const x=[{x:-o/2-m,y:h/2},...Oo(-o/2-m,h/2,o/2+m,h/2,u,.8),{x:o/2+m,y:-h/2},{x:-o/2-m,y:-h/2}],v=Ee(x),_=y.path(v,b),S=i.insert(()=>_,":first-child");return S.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(0,${-u/2})`),a.attr("transform",`translate(${-o/2+(t.padding??0)-(s.x-(s.left??0))},${-l/2+(t.padding??0)-u-(s.y-(s.top??0))})`),Zt(t,S),t.intersect=function(k){return Ht.polygon(t,x,k)},i}g(MO,"waveEdgedRectangle");async function PO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s}=await ue(e,t,le(t)),a=100,o=50,l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),u=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=l/u;let d=l,f=u;d>f*h?f=d/h:d=f*h,d=Math.max(d,a),f=Math.max(f,o);const p=Math.min(f*.2,f/4),m=f+p*2,{cssStyles:y}=t,b=Xt.svg(i),x=Qt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const v=[{x:-d/2,y:m/2},...Oo(-d/2,m/2,d/2,m/2,p,1),{x:d/2,y:-m/2},...Oo(d/2,-m/2,-d/2,-m/2,p,-1)],_=Ee(v),S=b.path(_,x),k=i.insert(()=>S,":first-child");return k.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",y),n&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",n),Zt(t,k),t.intersect=function(T){return Ht.polygon(t,v,T)},i}g(PO,"waveRectangle");async function BO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,label:a}=await ue(e,t,le(t)),o=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),l=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),u=5,h=-o/2,d=-l/2,{cssStyles:f}=t,p=Xt.svg(i),m=Qt(t,{}),y=[{x:h-u,y:d-u},{x:h-u,y:d+l},{x:h+o,y:d+l},{x:h+o,y:d-u}],b=`M${h-u},${d-u} L${h+o},${d-u} L${h+o},${d+l} L${h-u},${d+l} L${h-u},${d-u}
                M${h-u},${d} L${h+o},${d}
                M${h},${d-u} L${h},${d+l}`;t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const x=p.path(b,m),v=i.insert(()=>x,":first-child");return v.attr("transform",`translate(${u/2}, ${u/2})`),v.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),a.attr("transform",`translate(${-(s.width/2)+u/2-(s.x-(s.left??0))}, ${-(s.height/2)+u/2-(s.y-(s.top??0))})`),Zt(t,v),t.intersect=function(_){return Ht.polygon(t,y,_)},i}g(BO,"windowPane");async function $w(e,t){var j,it,ft,J;const r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){const{themeVariables:dt}=De(),{background:et}=dt,St={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${et}`]};await $w(e,St)}const n=De();t.useHtmlLabels=n.htmlLabels;let i=((j=n.er)==null?void 0:j.diagramPadding)??10,s=((it=n.er)==null?void 0:it.entityPadding)??6;const{cssStyles:a}=t,{labelStyles:o,nodeStyles:l}=Gt(t);if(r.attributes.length===0&&t.label){const dt={rx:0,ry:0,labelPaddingX:i,labelPaddingY:i*1.5};Yn(t.label,n)+dt.labelPaddingX*2<n.er.minEntityWidth&&(t.width=n.er.minEntityWidth);const et=await T2(e,t,dt);if(!Ze(n.htmlLabels)){const St=et.select("text"),ct=(ft=St.node())==null?void 0:ft.getBBox();St.attr("transform",`translate(${-ct.width/2}, 0)`)}return et}n.htmlLabels||(i*=1.25,s*=1.25);let u=le(t);u||(u="node default");const h=e.insert("g").attr("class",u).attr("id",t.domId||t.id),d=await jc(h,t.label??"",n,0,0,["name"],o);d.height+=s;let f=0;const p=[],m=[];let y=0,b=0,x=0,v=0,_=!0,S=!0;for(const dt of r.attributes){const et=await jc(h,dt.type,n,0,f,["attribute-type"],o);y=Math.max(y,et.width+i);const St=await jc(h,dt.name,n,0,f,["attribute-name"],o);b=Math.max(b,St.width+i);const ct=await jc(h,dt.keys.join(),n,0,f,["attribute-keys"],o);x=Math.max(x,ct.width+i);const bt=await jc(h,dt.comment,n,0,f,["attribute-comment"],o);v=Math.max(v,bt.width+i);const nt=Math.max(et.height,St.height,ct.height,bt.height)+s;m.push({yOffset:f,rowHeight:nt}),f+=nt}let k=4;x<=i&&(_=!1,x=0,k--),v<=i&&(S=!1,v=0,k--);const T=h.node().getBBox();if(d.width+i*2-(y+b+x+v)>0){const dt=d.width+i*2-(y+b+x+v);y+=dt/k,b+=dt/k,x>0&&(x+=dt/k),v>0&&(v+=dt/k)}const E=y+b+x+v,I=Xt.svg(h),C=Qt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");let R=0;m.length>0&&(R=m.reduce((dt,et)=>dt+((et==null?void 0:et.rowHeight)??0),0));const w=Math.max(T.width+i*2,(t==null?void 0:t.width)||0,E),$=Math.max((R??0)+d.height,(t==null?void 0:t.height)||0),A=-w/2,L=-$/2;h.selectAll("g:not(:first-child)").each((dt,et,St)=>{const ct=Lt(St[et]),bt=ct.attr("transform");let nt=0,Z=0;if(bt){const V=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(bt);V&&(nt=parseFloat(V[1]),Z=parseFloat(V[2]),ct.attr("class").includes("attribute-name")?nt+=y:ct.attr("class").includes("attribute-keys")?nt+=y+b:ct.attr("class").includes("attribute-comment")&&(nt+=y+b+x))}ct.attr("transform",`translate(${A+i/2+nt}, ${Z+L+d.height+s/2})`)}),h.select(".name").attr("transform","translate("+-d.width/2+", "+(L+s/2)+")");const N=I.rectangle(A,L,w,$,C),D=h.insert(()=>N,":first-child").attr("style",a.join("")),{themeVariables:P}=De(),{rowEven:O,rowOdd:M,nodeBorder:Y}=P;p.push(0);for(const[dt,et]of m.entries()){const ct=(dt+1)%2===0&&et.yOffset!==0,bt=I.rectangle(A,d.height+L+(et==null?void 0:et.yOffset),w,et==null?void 0:et.rowHeight,{...C,fill:ct?O:M,stroke:Y});h.insert(()=>bt,"g.label").attr("style",a.join("")).attr("class",`row-rect-${ct?"even":"odd"}`)}let F=I.line(A,d.height+L,w+A,d.height+L,C);h.insert(()=>F).attr("class","divider"),F=I.line(y+A,d.height+L,y+A,$+L,C),h.insert(()=>F).attr("class","divider"),_&&(F=I.line(y+b+A,d.height+L,y+b+A,$+L,C),h.insert(()=>F).attr("class","divider")),S&&(F=I.line(y+b+x+A,d.height+L,y+b+x+A,$+L,C),h.insert(()=>F).attr("class","divider"));for(const dt of p)F=I.line(A,d.height+L+dt,w+A,d.height+L+dt,C),h.insert(()=>F).attr("class","divider");if(Zt(t,D),l&&t.look!=="handDrawn"){const dt=l.split(";"),et=(J=dt==null?void 0:dt.filter(St=>St.includes("stroke")))==null?void 0:J.map(St=>`${St}`).join("; ");h.selectAll("path").attr("style",et??""),h.selectAll(".row-rect-even path").attr("style",l)}return t.intersect=function(dt){return Ht.rect(t,dt)},h}g($w,"erBox");async function jc(e,t,r,n=0,i=0,s=[],a=""){const o=e.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${n}, ${i})`).attr("style",a);t!==go(t)&&(t=go(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const l=o.node().appendChild(await Ri(o,t,{width:Yn(t,r)+100,style:a,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let h=l.children[0];for(h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");h.childNodes[0];)h=h.childNodes[0],h.textContent=h.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let u=l.getBBox();if(Ze(r.htmlLabels)){const h=l.children[0];h.style.textAlign="start";const d=Lt(l);u=h.getBoundingClientRect(),d.attr("width",u.width),d.attr("height",u.height)}return u}g(jc,"addText");async function FO(e,t,r,n,i=r.class.padding??12){const s=n?0:3,a=e.insert("g").attr("class",le(t)).attr("id",t.domId||t.id);let o=null,l=null,u=null,h=null,d=0,f=0,p=0;if(o=a.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const v=t.annotations[0];await Xd(o,{text:`${v}`},0),d=o.node().getBBox().height}l=a.insert("g").attr("class","label-group text"),await Xd(l,t,0,["font-weight: bolder"]);const m=l.node().getBBox();f=m.height,u=a.insert("g").attr("class","members-group text");let y=0;for(const v of t.members){const _=await Xd(u,v,y,[v.parseClassifier()]);y+=_+s}p=u.node().getBBox().height,p<=0&&(p=i/2),h=a.insert("g").attr("class","methods-group text");let b=0;for(const v of t.methods){const _=await Xd(h,v,b,[v.parseClassifier()]);b+=_+s}let x=a.node().getBBox();if(o!==null){const v=o.node().getBBox();o.attr("transform",`translate(${-v.width/2})`)}return l.attr("transform",`translate(${-m.width/2}, ${d})`),x=a.node().getBBox(),u.attr("transform",`translate(0, ${d+f+i*2})`),x=a.node().getBBox(),h.attr("transform",`translate(0, ${d+f+(p?p+i*4:i*2)})`),x=a.node().getBBox(),{shapeSvg:a,bbox:x}}g(FO,"textHelper");async function Xd(e,t,r,n=[]){const i=e.insert("g").attr("class","label").attr("style",n.join("; ")),s=De();let a="useHtmlLabels"in t?t.useHtmlLabels:Ze(s.htmlLabels)??!0,o="";"text"in t?o=t.text:o=t.label,!a&&o.startsWith("\\")&&(o=o.substring(1)),vr(o)&&(a=!0);const l=await Ri(i,Pk(sa(o)),{width:Yn(o,s)+50,classes:"markdown-node-label",useHtmlLabels:a},s);let u,h=1;if(a){const d=l.children[0],f=Lt(l);h=d.innerHTML.split("<br>").length,d.innerHTML.includes("</math>")&&(h+=d.innerHTML.split("<mrow>").length-1);const p=d.getElementsByTagName("img");if(p){const m=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(y=>new Promise(b=>{function x(){var v;if(y.style.display="flex",y.style.flexDirection="column",m){const _=((v=s.fontSize)==null?void 0:v.toString())??window.getComputedStyle(document.body).fontSize,k=parseInt(_,10)*5+"px";y.style.minWidth=k,y.style.maxWidth=k}else y.style.width="100%";b(y)}g(x,"setupImage"),setTimeout(()=>{y.complete&&x()}),y.addEventListener("error",x),y.addEventListener("load",x)})))}u=d.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}else{n.includes("font-weight: bolder")&&Lt(l).selectAll("tspan").attr("font-weight",""),h=l.children.length;const d=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(d.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(d.textContent=d.textContent[0]+" "+d.textContent.substring(1))),d.textContent==="undefined"&&(d.textContent=""),u=l.getBBox()}return i.attr("transform","translate(0,"+(-u.height/(2*h)+r)+")"),u.height}g(Xd,"addText");async function VO(e,t){var C,R;const r=rt(),n=r.class.padding??12,i=n,s=t.useHtmlLabels??Ze(r.htmlLabels)??!0,a=t;a.annotations=a.annotations??[],a.members=a.members??[],a.methods=a.methods??[];const{shapeSvg:o,bbox:l}=await FO(e,t,r,s,i),{labelStyles:u,nodeStyles:h}=Gt(t);t.labelStyle=u,t.cssStyles=a.styles||"";const d=((C=a.styles)==null?void 0:C.join(";"))||h||"";t.cssStyles||(t.cssStyles=d.replaceAll("!important","").split(";"));const f=a.members.length===0&&a.methods.length===0&&!((R=r.class)!=null&&R.hideEmptyMembersBox),p=Xt.svg(o),m=Qt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=l.width;let b=l.height;a.members.length===0&&a.methods.length===0?b+=i:a.members.length>0&&a.methods.length===0&&(b+=i*2);const x=-y/2,v=-b/2,_=p.rectangle(x-n,v-n-(f?n:a.members.length===0&&a.methods.length===0?-n/2:0),y+2*n,b+2*n+(f?n*2:a.members.length===0&&a.methods.length===0?-n:0),m),S=o.insert(()=>_,":first-child");S.attr("class","basic label-container");const k=S.node().getBBox();o.selectAll(".text").each((w,$,A)=>{var M;const L=Lt(A[$]),N=L.attr("transform");let D=0;if(N){const F=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(N);F&&(D=parseFloat(F[2]))}let P=D+v+n-(f?n:a.members.length===0&&a.methods.length===0?-n/2:0);s||(P-=4);let O=x;(L.attr("class").includes("label-group")||L.attr("class").includes("annotation-group"))&&(O=-((M=L.node())==null?void 0:M.getBBox().width)/2||0,o.selectAll("text").each(function(Y,F,j){window.getComputedStyle(j[F]).textAnchor==="middle"&&(O=0)})),L.attr("transform",`translate(${O}, ${P})`)});const T=o.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,E=o.select(".label-group").node().getBBox().height-(f?n/2:0)||0,I=o.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(a.members.length>0||a.methods.length>0||f){const w=p.line(k.x,T+E+v+n,k.x+k.width,T+E+v+n,m);o.insert(()=>w).attr("class","divider").attr("style",d)}if(f||a.members.length>0||a.methods.length>0){const w=p.line(k.x,T+E+I+v+i*2+n,k.x+k.width,T+E+I+v+n+i*2,m);o.insert(()=>w).attr("class","divider").attr("style",d)}if(a.look!=="handDrawn"&&o.selectAll("path").attr("style",d),S.select(":nth-child(2)").attr("style",d),o.selectAll(".divider").select("path").attr("style",d),t.labelStyle?o.selectAll("span").attr("style",t.labelStyle):o.selectAll("span").attr("style",d),!s){const w=RegExp(/color\s*:\s*([^;]*)/),$=w.exec(d);if($){const A=$[0].replace("color","fill");o.selectAll("tspan").attr("style",A)}else if(u){const A=w.exec(u);if(A){const L=A[0].replace("color","fill");o.selectAll("tspan").attr("style",L)}}}return Zt(t,S),t.intersect=function(w){return Ht.rect(t,w)},o}g(VO,"classBox");async function zO(e,t){var T,E;const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const i=t,s=t,a=20,o=20,l="verifyMethod"in t,u=le(t),h=e.insert("g").attr("class",u).attr("id",t.domId??t.id);let d;l?d=await zs(h,`&lt;&lt;${i.type}&gt;&gt;`,0,t.labelStyle):d=await zs(h,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let f=d;const p=await zs(h,i.name,f,t.labelStyle+"; font-weight: bold;");if(f+=p+o,l){const I=await zs(h,`${i.requirementId?`ID: ${i.requirementId}`:""}`,f,t.labelStyle);f+=I;const C=await zs(h,`${i.text?`Text: ${i.text}`:""}`,f,t.labelStyle);f+=C;const R=await zs(h,`${i.risk?`Risk: ${i.risk}`:""}`,f,t.labelStyle);f+=R,await zs(h,`${i.verifyMethod?`Verification: ${i.verifyMethod}`:""}`,f,t.labelStyle)}else{const I=await zs(h,`${s.type?`Type: ${s.type}`:""}`,f,t.labelStyle);f+=I,await zs(h,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,f,t.labelStyle)}const m=(((T=h.node())==null?void 0:T.getBBox().width)??200)+a,y=(((E=h.node())==null?void 0:E.getBBox().height)??200)+a,b=-m/2,x=-y/2,v=Xt.svg(h),_=Qt(t,{});t.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=v.rectangle(b,x,m,y,_),k=h.insert(()=>S,":first-child");if(k.attr("class","basic label-container").attr("style",n),h.selectAll(".label").each((I,C,R)=>{const w=Lt(R[C]),$=w.attr("transform");let A=0,L=0;if($){const O=RegExp(/translate\(([^,]+),([^)]+)\)/).exec($);O&&(A=parseFloat(O[1]),L=parseFloat(O[2]))}const N=L-y/2;let D=b+a/2;(C===0||C===1)&&(D=A),w.attr("transform",`translate(${D}, ${N+a})`)}),f>d+p+o){const I=v.line(b,x+d+p+o,b+m,x+d+p+o,_);h.insert(()=>I).attr("style",n)}return Zt(t,k),t.intersect=function(I){return Ht.rect(t,I)},h}g(zO,"requirementBox");async function zs(e,t,r,n=""){if(t==="")return 0;const i=e.insert("g").attr("class","label").attr("style",n),s=rt(),a=s.htmlLabels??!0,o=await Ri(i,Pk(sa(t)),{width:Yn(t,s)+50,classes:"markdown-node-label",useHtmlLabels:a,style:n},s);let l;if(a){const u=o.children[0],h=Lt(o);l=u.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}else{const u=o.children[0];for(const h of u.children)h.textContent=h.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&h.setAttribute("style",n);l=o.getBBox(),l.height+=6}return i.attr("transform",`translate(${-l.width/2},${-l.height/2+r})`),l.height}g(zs,"addText");var Vnt=g(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function WO(e,t,{config:r}){var $,A;const{labelStyles:n,nodeStyles:i}=Gt(t);t.labelStyle=n||"";const s=10,a=t.width;t.width=(t.width??200)-10;const{shapeSvg:o,bbox:l,label:u}=await ue(e,t,le(t)),h=t.padding||10;let d="",f;"ticket"in t&&t.ticket&&(($=r==null?void 0:r.kanban)!=null&&$.ticketBaseUrl)&&(d=(A=r==null?void 0:r.kanban)==null?void 0:A.ticketBaseUrl.replace("#TICKET#",t.ticket),f=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",d).attr("target","_blank"));const p={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let m,y;f?{label:m,bbox:y}=await pb(f,"ticket"in t&&t.ticket||"",p):{label:m,bbox:y}=await pb(o,"ticket"in t&&t.ticket||"",p);const{label:b,bbox:x}=await pb(o,"assigned"in t&&t.assigned||"",p);t.width=a;const v=10,_=(t==null?void 0:t.width)||0,S=Math.max(y.height,x.height)/2,k=Math.max(l.height+v*2,(t==null?void 0:t.height)||0)+S,T=-_/2,E=-k/2;u.attr("transform","translate("+(h-_/2)+", "+(-S-l.height/2)+")"),m.attr("transform","translate("+(h-_/2)+", "+(-S+l.height/2)+")"),b.attr("transform","translate("+(h+_/2-x.width-2*s)+", "+(-S+l.height/2)+")");let I;const{rx:C,ry:R}=t,{cssStyles:w}=t;if(t.look==="handDrawn"){const L=Xt.svg(o),N=Qt(t,{}),D=C||R?L.path(jo(T,E,_,k,C||0),N):L.rectangle(T,E,_,k,N);I=o.insert(()=>D,":first-child"),I.attr("class","basic label-container").attr("style",w||null)}else{I=o.insert("rect",":first-child"),I.attr("class","basic label-container __APA__").attr("style",i).attr("rx",C??5).attr("ry",R??5).attr("x",T).attr("y",E).attr("width",_).attr("height",k);const L="priority"in t&&t.priority;if(L){const N=o.append("line"),D=T+2,P=E+Math.floor((C??0)/2),O=E+k-Math.floor((C??0)/2);N.attr("x1",D).attr("y1",P).attr("x2",D).attr("y2",O).attr("stroke-width","4").attr("stroke",Vnt(L))}}return Zt(t,I),t.height=k,t.intersect=function(L){return Ht.rect(t,L)},o}g(WO,"kanbanItem");async function UO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await ue(e,t,le(t)),l=s.width+10*a,u=s.height+8*a,h=.15*l,{cssStyles:d}=t,f=s.width+20,p=s.height+20,m=Math.max(l,f),y=Math.max(u,p);o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let b;const x=`M0 0 
    a${h},${h} 1 0,0 ${m*.25},${-1*y*.1}
    a${h},${h} 1 0,0 ${m*.25},0
    a${h},${h} 1 0,0 ${m*.25},0
    a${h},${h} 1 0,0 ${m*.25},${y*.1}

    a${h},${h} 1 0,0 ${m*.15},${y*.33}
    a${h*.8},${h*.8} 1 0,0 0,${y*.34}
    a${h},${h} 1 0,0 ${-1*m*.15},${y*.33}

    a${h},${h} 1 0,0 ${-1*m*.25},${y*.15}
    a${h},${h} 1 0,0 ${-1*m*.25},0
    a${h},${h} 1 0,0 ${-1*m*.25},0
    a${h},${h} 1 0,0 ${-1*m*.25},${-1*y*.15}

    a${h},${h} 1 0,0 ${-1*m*.1},${-1*y*.33}
    a${h*.8},${h*.8} 1 0,0 0,${-1*y*.34}
    a${h},${h} 1 0,0 ${m*.1},${-1*y*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const v=Xt.svg(i),_=Qt(t,{}),S=v.path(x,_);b=i.insert(()=>S,":first-child"),b.attr("class","basic label-container").attr("style",Mn(d))}else b=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",x);return b.attr("transform",`translate(${-m/2}, ${-y/2})`),Zt(t,b),t.calcIntersect=function(v,_){return Ht.rect(v,_)},t.intersect=function(v){return U.info("Bang intersect",t,v),Ht.rect(t,v)},i}g(UO,"bang");async function HO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await ue(e,t,le(t)),l=s.width+2*a,u=s.height+2*a,h=.15*l,d=.25*l,f=.35*l,p=.2*l,{cssStyles:m}=t;let y;const b=`M0 0 
    a${h},${h} 0 0,1 ${l*.25},${-1*l*.1}
    a${f},${f} 1 0,1 ${l*.4},${-1*l*.1}
    a${d},${d} 1 0,1 ${l*.35},${l*.2}

    a${h},${h} 1 0,1 ${l*.15},${u*.35}
    a${p},${p} 1 0,1 ${-1*l*.15},${u*.65}

    a${d},${h} 1 0,1 ${-1*l*.25},${l*.15}
    a${f},${f} 1 0,1 ${-1*l*.5},0
    a${h},${h} 1 0,1 ${-1*l*.25},${-1*l*.15}

    a${h},${h} 1 0,1 ${-1*l*.1},${-1*u*.35}
    a${p},${p} 1 0,1 ${l*.1},${-1*u*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const x=Xt.svg(i),v=Qt(t,{}),_=x.path(b,v);y=i.insert(()=>_,":first-child"),y.attr("class","basic label-container").attr("style",Mn(m))}else y=i.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",b);return o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),y.attr("transform",`translate(${-l/2}, ${-u/2})`),Zt(t,y),t.calcIntersect=function(x,v){return Ht.rect(x,v)},t.intersect=function(x){return U.info("Cloud intersect",t,x),Ht.rect(t,x)},i}g(HO,"cloud");async function GO(e,t){const{labelStyles:r,nodeStyles:n}=Gt(t);t.labelStyle=r;const{shapeSvg:i,bbox:s,halfPadding:a,label:o}=await ue(e,t,le(t)),l=s.width+8*a,u=s.height+2*a,h=5,d=`
    M${-l/2} ${u/2-h}
    v${-u+2*h}
    q0,-${h} ${h},-${h}
    h${l-2*h}
    q${h},0 ${h},${h}
    v${u-2*h}
    q0,${h} -${h},${h}
    h${-l+2*h}
    q-${h},0 -${h},-${h}
    Z
  `,f=i.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",n).attr("d",d);return i.append("line").attr("class","node-line-").attr("x1",-l/2).attr("y1",u/2).attr("x2",l/2).attr("y2",u/2),o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),i.append(()=>o.node()),Zt(t,f),t.calcIntersect=function(p,m){return Ht.rect(p,m)},t.intersect=function(p){return Ht.rect(t,p)},i}g(GO,"defaultMindmapNode");async function qO(e,t){const r={padding:t.padding??0};return Nw(e,t,r)}g(qO,"mindmapCircle");var znt=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:kO},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:vO},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:wO},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:AO},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:j$},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Nw},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:UO},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:HO},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:yO},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:tO},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:uO},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:cO},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:$O},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:oO},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:X$},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:IO},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:F$},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:_O},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:EO},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:CO},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Z$},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:eO},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:U$},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:H$},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:G$},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:hO},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:MO},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:J$},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:NO},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:dO},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:q$},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Y$},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:DO},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:BO},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:K$},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:OO},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Q$},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:TO},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:gO},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:pO},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:B$},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:W$},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:RO},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:LO},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:PO},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:xO},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:fO}],Wnt=g(()=>{const t=[...Object.entries({state:SO,choice:V$,note:mO,rectWithTitle:bO,labelRect:lO,iconSquare:sO,iconCircle:nO,icon:rO,iconRounded:iO,imageSquare:aO,anchor:P$,kanbanItem:WO,mindmapCircle:qO,defaultMindmapNode:GO,classBox:VO,erBox:$w,requirementBox:zO}),...znt.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(i=>[i,r.handler]))];return Object.fromEntries(t)},"generateShapeMap"),jO=Wnt();function YO(e){return e in jO}g(YO,"isValidShape");var k2=new Map;async function w2(e,t,r){let n,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const s=t.shape?jO[t.shape]:void 0;if(!s)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let a;r.config.securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a??null),i=await s(n,t,r)}else i=await s(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),k2.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}g(w2,"insertNode");var Unt=g((e,t)=>{k2.set(t.id,e)},"setNodeElem"),Hnt=g(()=>{k2.clear()},"clear"),I_=g(e=>{const t=k2.get(e.id);U.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode"),Gnt=g((e,t,r,n,i,s)=>{t.arrowTypeStart&&nE(e,"start",t.arrowTypeStart,r,n,i,s),t.arrowTypeEnd&&nE(e,"end",t.arrowTypeEnd,r,n,i,s)},"addEdgeMarkers"),qnt={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},nE=g((e,t,r,n,i,s,a)=>{var d;const o=qnt[r];if(!o){U.warn(`Unknown arrow type: ${r}`);return}const l=o.type,h=`${i}_${s}-${l}${t==="start"?"Start":"End"}`;if(a&&a.trim()!==""){const f=a.replace(/[^\dA-Za-z]/g,"_"),p=`${h}_${f}`;if(!document.getElementById(p)){const m=document.getElementById(h);if(m){const y=m.cloneNode(!0);y.id=p,y.querySelectorAll("path, circle, line").forEach(x=>{x.setAttribute("stroke",a),o.fill&&x.setAttribute("fill",a)}),(d=m.parentNode)==null||d.appendChild(y)}}e.attr(`marker-${t}`,`url(${n}#${p})`)}else e.attr(`marker-${t}`,`url(${n}#${h})`)},"addEdgeMarker"),Lm=new Map,fn=new Map,jnt=g(()=>{Lm.clear(),fn.clear()},"clear"),n1=g(e=>e?e.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),XO=g(async(e,t)=>{let r=Ze(rt().flowchart.htmlLabels);const{labelStyles:n}=Gt(t);t.labelStyle=n;const i=await Ri(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});U.info("abc82",t,t.labelType);const s=e.insert("g").attr("class","edgeLabel"),a=s.insert("g").attr("class","label").attr("data-id",t.id);a.node().appendChild(i);let o=i.getBBox();if(r){const u=i.children[0],h=Lt(i);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),Lm.set(t.id,s),t.width=o.width,t.height=o.height;let l;if(t.startLabelLeft){const u=await El(t.startLabelLeft,n1(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),fn.get(t.id)||fn.set(t.id,{}),fn.get(t.id).startLeft=h,Kd(l,t.startLabelLeft)}if(t.startLabelRight){const u=await El(t.startLabelRight,n1(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=h.node().appendChild(u),d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),fn.get(t.id)||fn.set(t.id,{}),fn.get(t.id).startRight=h,Kd(l,t.startLabelRight)}if(t.endLabelLeft){const u=await El(t.endLabelLeft,n1(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(u),fn.get(t.id)||fn.set(t.id,{}),fn.get(t.id).endLeft=h,Kd(l,t.endLabelLeft)}if(t.endLabelRight){const u=await El(t.endLabelRight,n1(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(u),fn.get(t.id)||fn.set(t.id,{}),fn.get(t.id).endRight=h,Kd(l,t.endLabelRight)}return i},"insertEdgeLabel");function Kd(e,t){rt().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}g(Kd,"setTerminalWidth");var KO=g((e,t)=>{U.debug("Moving label abc88 ",e.id,e.label,Lm.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=rt(),{subGraphTitleTotalMargin:i}=hg(n);if(e.label){const s=Lm.get(e.id);let a=e.x,o=e.y;if(r){const l=be.calcLabelPosition(r);U.debug("Moving label "+e.label+" from (",a,",",o,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(a=l.x,o=l.y)}s.attr("transform",`translate(${a}, ${o+i/2})`)}if(e.startLabelLeft){const s=fn.get(e.id).startLeft;let a=e.x,o=e.y;if(r){const l=be.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.startLabelRight){const s=fn.get(e.id).startRight;let a=e.x,o=e.y;if(r){const l=be.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelLeft){const s=fn.get(e.id).endLeft;let a=e.x,o=e.y;if(r){const l=be.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelRight){const s=fn.get(e.id).endRight;let a=e.x,o=e.y;if(r){const l=be.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}},"positionEdgeLabel"),Ynt=g((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),a=e.width/2,o=e.height/2;return i>=a||s>=o},"outsideNode"),Xnt=g((e,t,r)=>{U.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,s=Math.abs(n-r.x),a=e.width/2;let o=r.x<t.x?a-s:a+s;const l=e.height/2,u=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*a>Math.abs(n-t.x)*l){let d=r.y<t.y?t.y-l-i:i-l-t.y;o=h*d/u;const f={x:r.x<t.x?r.x+o:r.x-h+o,y:r.y<t.y?r.y+u-d:r.y-u+d};return o===0&&(f.x=t.x,f.y=t.y),h===0&&(f.x=t.x),u===0&&(f.y=t.y),U.debug(`abc89 top/bottom calc, Q ${u}, q ${d}, R ${h}, r ${o}`,f),f}else{r.x<t.x?o=t.x-a-n:o=n-a-t.x;let d=u*o/h,f=r.x<t.x?r.x+h-o:r.x-h+o,p=r.y<t.y?r.y+d:r.y-d;return U.debug(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${o}`,{_x:f,_y:p}),o===0&&(f=t.x,p=t.y),h===0&&(f=t.x),u===0&&(p=t.y),{x:f,y:p}}},"intersection"),iE=g((e,t)=>{U.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(U.info("abc88 checking point",s,t),!Ynt(t,s)&&!i){const a=Xnt(t,n,s);U.debug("abc88 inside",s,n,a),U.debug("abc88 intersection",a,t);let o=!1;r.forEach(l=>{o=o||l.x===a.x&&l.y===a.y}),r.some(l=>l.x===a.x&&l.y===a.y)?U.warn("abc88 no intersect",a,r):r.push(a),i=!0}else U.warn("abc88 outside",s,n),n=s,i||r.push(s)}),U.debug("returning points",r),r},"cutPathAtIntersect");function QO(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const i=e[n-1],s=e[n],a=e[n+1];(i.x===s.x&&s.y===a.y&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===a.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-a.y)>5)&&(t.push(s),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}g(QO,"extractCornerPoints");var sE=g(function(e,t,r){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i),a=r/s;return{x:t.x-a*n,y:t.y-a*i}},"findAdjacentPoint"),Knt=g(function(e){const{cornerPointPositions:t}=QO(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const i=e[n-1],s=e[n+1],a=e[n],o=sE(i,a,5),l=sE(s,a,5),u=l.x-o.x,h=l.y-o.y;r.push(o);const d=Math.sqrt(2)*2;let f={x:a.x,y:a.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){U.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const p=5;a.x===o.x?f={x:u<0?o.x-p+d:o.x+p-d,y:h<0?o.y-d:o.y+d}:f={x:u<0?o.x-d:o.x+d,y:h<0?o.y-p+d:o.y+p-d}}else U.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));r.push(f,l)}else r.push(e[n]);return r},"fixCorners"),Qnt=g((e,t,r)=>{const n=e-t-r,i=2,s=2,a=i+s,o=Math.floor(n/a),l=Array(o).fill(`${i} ${s}`).join(" ");return`0 ${t} ${l} ${r}`},"generateDashArray"),ZO=g(function(e,t,r,n,i,s,a,o=!1){var L;const{handDrawnSeed:l}=rt();let u=t.points,h=!1;const d=i;var f=s;const p=[];for(const N in t.cssCompiledStyles)aw(N)||p.push(t.cssCompiledStyles[N]);U.debug("UIO intersect check",t.points,f.x,d.x),f.intersect&&d.intersect&&!o&&(u=u.slice(1,t.points.length-1),u.unshift(d.intersect(u[0])),U.debug("Last point UIO",t.start,"-->",t.end,u[u.length-1],f,f.intersect(u[u.length-1])),u.push(f.intersect(u[u.length-1])));const m=btoa(JSON.stringify(u));t.toCluster&&(U.info("to cluster abc88",r.get(t.toCluster)),u=iE(t.points,r.get(t.toCluster).node),h=!0),t.fromCluster&&(U.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(u,null,2)),u=iE(u.reverse(),r.get(t.fromCluster).node).reverse(),h=!0);let y=u.filter(N=>!Number.isNaN(N.y));y=Knt(y);let b=fu;switch(b=am,t.curve){case"linear":b=am;break;case"basis":b=fu;break;case"cardinal":b=k7;break;case"bumpX":b=x7;break;case"bumpY":b=b7;break;case"catmullRom":b=S7;break;case"monotoneX":b=I7;break;case"monotoneY":b=N7;break;case"natural":b=O7;break;case"step":b=D7;break;case"stepAfter":b=P7;break;case"stepBefore":b=M7;break;default:b=fu}const{x,y:v}=bN(t),_=vp().x(x).y(v).curve(b);let S;switch(t.thickness){case"normal":S="edge-thickness-normal";break;case"thick":S="edge-thickness-thick";break;case"invisible":S="edge-thickness-invisible";break;default:S="edge-thickness-normal"}switch(t.pattern){case"solid":S+=" edge-pattern-solid";break;case"dotted":S+=" edge-pattern-dotted";break;case"dashed":S+=" edge-pattern-dashed";break;default:S+=" edge-pattern-solid"}let k,T=t.curve==="rounded"?JO(t9(y,t),5):_(y);const E=Array.isArray(t.style)?t.style:[t.style];let I=E.find(N=>N==null?void 0:N.startsWith("stroke:")),C=!1;if(t.look==="handDrawn"){const N=Xt.svg(e);Object.assign([],y);const D=N.path(T,{roughness:.3,seed:l});S+=" transition",k=Lt(D).select("path").attr("id",t.id).attr("class"," "+S+(t.classes?" "+t.classes:"")).attr("style",E?E.reduce((O,M)=>O+";"+M,""):"");let P=k.attr("d");k.attr("d",P),e.node().appendChild(k.node())}else{const N=p.join(";"),D=E?E.reduce((it,ft)=>it+ft+";",""):"";let P="";t.animate&&(P=" edge-animation-fast"),t.animation&&(P=" edge-animation-"+t.animation);const O=(N?N+";"+D+";":D)+";"+(E?E.reduce((it,ft)=>it+";"+ft,""):"");k=e.append("path").attr("d",T).attr("id",t.id).attr("class"," "+S+(t.classes?" "+t.classes:"")+(P??"")).attr("style",O),I=(L=O.match(/stroke:([^;]+)/))==null?void 0:L[1],C=t.animate===!0||!!t.animation||N.includes("animation");const M=k.node(),Y=typeof M.getTotalLength=="function"?M.getTotalLength():0,F=wC[t.arrowTypeStart]||0,j=wC[t.arrowTypeEnd]||0;if(t.look==="neo"&&!C){const ft=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?Qnt(Y,F,j):`0 ${F} ${Y-F-j} ${j}`}; stroke-dashoffset: 0;`;k.attr("style",ft+k.attr("style"))}}k.attr("data-edge",!0),k.attr("data-et","edge"),k.attr("data-id",t.id),k.attr("data-points",m),t.showPoints&&y.forEach(N=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",N.x).attr("cy",N.y)});let R="";(rt().flowchart.arrowMarkerAbsolute||rt().state.arrowMarkerAbsolute)&&(R=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,R=R.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),U.info("arrowTypeStart",t.arrowTypeStart),U.info("arrowTypeEnd",t.arrowTypeEnd),Gnt(k,t,R,a,n,I);const w=Math.floor(u.length/2),$=u[w];be.isLabelCoordinateInPath($,k.attr("d"))||(h=!0);let A={};return h&&(A.updatedPath=u),A.originalPath=t.points,A},"insertEdge");function JO(e,t){if(e.length<2)return"";let r="";const n=e.length,i=1e-5;for(let s=0;s<n;s++){const a=e[s],o=e[s-1],l=e[s+1];if(s===0)r+=`M${a.x},${a.y}`;else if(s===n-1)r+=`L${a.x},${a.y}`;else{const u=a.x-o.x,h=a.y-o.y,d=l.x-a.x,f=l.y-a.y,p=Math.hypot(u,h),m=Math.hypot(d,f);if(p<i||m<i){r+=`L${a.x},${a.y}`;continue}const y=u/p,b=h/p,x=d/m,v=f/m,_=y*x+b*v,S=Math.max(-1,Math.min(1,_)),k=Math.acos(S);if(k<i||Math.abs(Math.PI-k)<i){r+=`L${a.x},${a.y}`;continue}const T=Math.min(t/Math.sin(k/2),p/2,m/2),E=a.x-y*T,I=a.y-b*T,C=a.x+x*T,R=a.y+v*T;r+=`L${E},${I}`,r+=`Q${a.x},${a.y} ${C},${R}`}}return r}g(JO,"generateRoundedPath");function N_(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const r=t.x-e.x,n=t.y-e.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}g(N_,"calculateDeltaAndAngle");function t9(e,t){const r=e.map(i=>({...i}));if(e.length>=2&&Cn[t.arrowTypeStart]){const i=Cn[t.arrowTypeStart],s=e[0],a=e[1],{angle:o}=N_(s,a),l=i*Math.cos(o),u=i*Math.sin(o);r[0].x=s.x+l,r[0].y=s.y+u}const n=e.length;if(n>=2&&Cn[t.arrowTypeEnd]){const i=Cn[t.arrowTypeEnd],s=e[n-1],a=e[n-2],{angle:o}=N_(a,s),l=i*Math.cos(o),u=i*Math.sin(o);r[n-1].x=s.x-l,r[n-1].y=s.y-u}return r}g(t9,"applyMarkerOffsetsToPoints");var Znt=g((e,t,r,n)=>{t.forEach(i=>{pit[i](e,r,n)})},"insertMarkers"),Jnt=g((e,t,r)=>{U.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),tit=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),eit=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),rit=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),nit=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),iit=g((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),sit=g((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),ait=g((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),oit=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),lit=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),cit=g((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),uit=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),hit=g((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),dit=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),fit=g((e,t,r)=>{const n=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),pit={extension:Jnt,composition:tit,aggregation:eit,dependency:rit,lollipop:nit,point:iit,circle:sit,cross:ait,barb:oit,only_one:lit,zero_or_one:cit,one_or_more:uit,zero_or_more:hit,requirement_arrow:dit,requirement_contains:fit},e9=Znt,git={common:Ot,getConfig:De,insertCluster:Iw,insertEdge:ZO,insertEdgeLabel:XO,insertMarkers:e9,insertNode:w2,interpolateToCurve:dw,labelHelper:ue,log:U,positionEdgeLabel:KO},Rp={},r9=g(e=>{for(const t of e)Rp[t.name]=t},"registerLayoutLoaders"),mit=g(()=>{r9([{name:"dagre",loader:g(async()=>await Ce(()=>Promise.resolve().then(()=>Mft),void 0),"loader")},{name:"cose-bilkent",loader:g(async()=>await Ce(()=>Promise.resolve().then(()=>Fft),void 0),"loader")}])},"registerDefaultLayoutLoaders");mit();var ld=g(async(e,t)=>{if(!(e.layoutAlgorithm in Rp))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=Rp[e.layoutAlgorithm];return(await r.loader()).render(e,t,git,{algorithm:r.algorithm})},"render"),gg=g((e="",{fallback:t="dagre"}={})=>{if(e in Rp)return e;if(t in Rp)return U.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),n9="comm",i9="rule",s9="decl",yit="@import",xit="@namespace",bit="@keyframes",vit="@layer",a9=Math.abs,Ow=String.fromCharCode;function o9(e){return e.trim()}function n0(e,t,r){return e.replace(t,r)}function _it(e,t,r){return e.indexOf(t,r)}function gu(e,t){return e.charCodeAt(t)|0}function Fh(e,t,r){return e.slice(t,r)}function Gs(e){return e.length}function Tit(e){return e.length}function i1(e,t){return t.push(e),e}var S2=1,Vh=1,l9=0,es=0,Or=0,cd="";function Dw(e,t,r,n,i,s,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:S2,column:Vh,length:a,return:"",siblings:o}}function kit(){return Or}function wit(){return Or=es>0?gu(cd,--es):0,Vh--,Or===10&&(Vh=1,S2--),Or}function Ts(){return Or=es<l9?gu(cd,es++):0,Vh++,Or===10&&(Vh=1,S2++),Or}function vo(){return gu(cd,es)}function i0(){return es}function C2(e,t){return Fh(cd,e,t)}function Ip(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sit(e){return S2=Vh=1,l9=Gs(cd=e),es=0,[]}function Cit(e){return cd="",e}function gb(e){return o9(C2(es-1,$_(e===91?e+2:e===40?e+1:e)))}function Eit(e){for(;(Or=vo())&&Or<33;)Ts();return Ip(e)>2||Ip(Or)>3?"":" "}function Ait(e,t){for(;--t&&Ts()&&!(Or<48||Or>102||Or>57&&Or<65||Or>70&&Or<97););return C2(e,i0()+(t<6&&vo()==32&&Ts()==32))}function $_(e){for(;Ts();)switch(Or){case e:return es;case 34:case 39:e!==34&&e!==39&&$_(Or);break;case 40:e===41&&$_(e);break;case 92:Ts();break}return es}function Lit(e,t){for(;Ts()&&e+Or!==57;)if(e+Or===84&&vo()===47)break;return"/*"+C2(t,es-1)+"*"+Ow(e===47?e:Ts())}function Rit(e){for(;!Ip(vo());)Ts();return C2(e,es)}function Iit(e){return Cit(s0("",null,null,null,[""],e=Sit(e),0,[0],e))}function s0(e,t,r,n,i,s,a,o,l){for(var u=0,h=0,d=a,f=0,p=0,m=0,y=1,b=1,x=1,v=0,_="",S=i,k=s,T=n,E=_;b;)switch(m=v,v=Ts()){case 40:if(m!=108&&gu(E,d-1)==58){_it(E+=n0(gb(v),"&","&\f"),"&\f",a9(u?o[u-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:E+=gb(v);break;case 9:case 10:case 13:case 32:E+=Eit(m);break;case 92:E+=Ait(i0()-1,7);continue;case 47:switch(vo()){case 42:case 47:i1(Nit(Lit(Ts(),i0()),t,r,l),l),(Ip(m||1)==5||Ip(vo()||1)==5)&&Gs(E)&&Fh(E,-1,void 0)!==" "&&(E+=" ");break;default:E+="/"}break;case 123*y:o[u++]=Gs(E)*x;case 125*y:case 59:case 0:switch(v){case 0:case 125:b=0;case 59+h:x==-1&&(E=n0(E,/\f/g,"")),p>0&&(Gs(E)-d||y===0&&m===47)&&i1(p>32?oE(E+";",n,r,d-1,l):oE(n0(E," ","")+";",n,r,d-2,l),l);break;case 59:E+=";";default:if(i1(T=aE(E,t,r,u,h,i,o,_,S=[],k=[],d,s),s),v===123)if(h===0)s0(E,t,T,T,S,s,d,o,k);else{switch(f){case 99:if(gu(E,3)===110)break;case 108:if(gu(E,2)===97)break;default:h=0;case 100:case 109:case 115:}h?s0(e,T,T,n&&i1(aE(e,T,T,0,0,i,o,_,i,S=[],d,k),k),i,k,d,o,n?S:k):s0(E,T,T,T,[""],k,0,o,k)}}u=h=p=0,y=x=1,_=E="",d=a;break;case 58:d=1+Gs(E),p=m;default:if(y<1){if(v==123)--y;else if(v==125&&y++==0&&wit()==125)continue}switch(E+=Ow(v),v*y){case 38:x=h>0?1:(E+="\f",-1);break;case 44:o[u++]=(Gs(E)-1)*x,x=1;break;case 64:vo()===45&&(E+=gb(Ts())),f=vo(),h=d=Gs(_=E+=Rit(i0())),v++;break;case 45:m===45&&Gs(E)==2&&(y=0)}}return s}function aE(e,t,r,n,i,s,a,o,l,u,h,d){for(var f=i-1,p=i===0?s:[""],m=Tit(p),y=0,b=0,x=0;y<n;++y)for(var v=0,_=Fh(e,f+1,f=a9(b=a[y])),S=e;v<m;++v)(S=o9(b>0?p[v]+" "+_:n0(_,/&\f/g,p[v])))&&(l[x++]=S);return Dw(e,t,r,i===0?i9:o,l,u,h,d)}function Nit(e,t,r,n){return Dw(e,t,r,n9,Ow(kit()),Fh(e,2,-2),0,n)}function oE(e,t,r,n,i){return Dw(e,t,r,s9,Fh(e,0,n),Fh(e,n+1,-1),n,i)}function O_(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function $it(e,t,r,n){switch(e.type){case vit:if(e.children.length)break;case yit:case xit:case s9:return e.return=e.return||e.value;case n9:return"";case bit:return e.return=e.value+"{"+O_(e.children,n)+"}";case i9:if(!Gs(e.value=e.props.join(",")))return""}return Gs(r=O_(e.children,n))?e.return=e.value+"{"+r+"}":""}var Oit=CN(Object.keys,Object),Dit=Object.prototype,Mit=Dit.hasOwnProperty;function c9(e){if(!h2(e))return Oit(e);var t=[];for(var r in Object(e))Mit.call(e,r)&&r!="constructor"&&t.push(r);return t}var D_=mc(la,"DataView"),M_=mc(la,"Promise"),mu=mc(la,"Set"),P_=mc(la,"WeakMap"),lE="[object Map]",Pit="[object Object]",cE="[object Promise]",uE="[object Set]",hE="[object WeakMap]",dE="[object DataView]",Bit=gc(D_),Fit=gc(Ep),Vit=gc(M_),zit=gc(mu),Wit=gc(P_),Gi=pc;(D_&&Gi(new D_(new ArrayBuffer(1)))!=dE||Ep&&Gi(new Ep)!=lE||M_&&Gi(M_.resolve())!=cE||mu&&Gi(new mu)!=uE||P_&&Gi(new P_)!=hE)&&(Gi=function(e){var t=pc(e),r=t==Pit?e.constructor:void 0,n=r?gc(r):"";if(n)switch(n){case Bit:return dE;case Fit:return lE;case Vit:return cE;case zit:return uE;case Wit:return hE}return t});var Uit="[object Map]",Hit="[object Set]",Git=Object.prototype,qit=Git.hasOwnProperty;function Np(e){if(e==null)return!0;if(qo(e)&&(Br(e)||typeof e=="string"||typeof e.splice=="function"||Ph(e)||f2(e)||Mh(e)))return!e.length;var t=Gi(e);if(t==Uit||t==Hit)return!e.size;if(h2(e))return!c9(e).length;for(var r in e)if(qit.call(e,r))return!1;return!0}var u9="c4",jit=g(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),Yit=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Dpt);return{diagram:t}},void 0);return{id:u9,diagram:e}},"loader"),Xit={id:u9,detector:jit,loader:Yit},Kit=Xit,h9="flowchart",Qit=g((e,t)=>{var r,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),Zit=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>lS);return{diagram:t}},void 0);return{id:h9,diagram:e}},"loader"),Jit={id:h9,detector:Qit,loader:Zit},tst=Jit,d9="flowchart-v2",est=g((e,t)=>{var r,n,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),rst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>lS);return{diagram:t}},void 0);return{id:d9,diagram:e}},"loader"),nst={id:d9,detector:est,loader:rst},ist=nst,f9="er",sst=g(e=>/^\s*erDiagram/.test(e),"detector"),ast=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>egt);return{diagram:t}},void 0);return{id:f9,diagram:e}},"loader"),ost={id:f9,detector:sst,loader:ast},lst=ost,p9="gitGraph",cst=g(e=>/^\s*gitGraph/.test(e),"detector"),ust=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>Ywt);return{diagram:t}},void 0);return{id:p9,diagram:e}},"loader"),hst={id:p9,detector:cst,loader:ust},dst=hst,g9="gantt",fst=g(e=>/^\s*gantt/.test(e),"detector"),pst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>FSt);return{diagram:t}},void 0);return{id:g9,diagram:e}},"loader"),gst={id:g9,detector:fst,loader:pst},mst=gst,m9="info",yst=g(e=>/^\s*info/.test(e),"detector"),xst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>jSt);return{diagram:t}},void 0);return{id:m9,diagram:e}},"loader"),bst={id:m9,detector:yst,loader:xst},y9="pie",vst=g(e=>/^\s*pie/.test(e),"detector"),_st=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>u3t);return{diagram:t}},void 0);return{id:y9,diagram:e}},"loader"),Tst={id:y9,detector:vst,loader:_st},x9="quadrantChart",kst=g(e=>/^\s*quadrantChart/.test(e),"detector"),wst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>b3t);return{diagram:t}},void 0);return{id:x9,diagram:e}},"loader"),Sst={id:x9,detector:kst,loader:wst},Cst=Sst,b9="xychart",Est=g(e=>/^\s*xychart(-beta)?/.test(e),"detector"),Ast=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>O3t);return{diagram:t}},void 0);return{id:b9,diagram:e}},"loader"),Lst={id:b9,detector:Est,loader:Ast},Rst=Lst,v9="requirement",Ist=g(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),Nst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>z3t);return{diagram:t}},void 0);return{id:v9,diagram:e}},"loader"),$st={id:v9,detector:Ist,loader:Nst},Ost=$st,_9="sequence",Dst=g(e=>/^\s*sequenceDiagram/.test(e),"detector"),Mst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>A4t);return{diagram:t}},void 0);return{id:_9,diagram:e}},"loader"),Pst={id:_9,detector:Dst,loader:Mst},Bst=Pst,T9="class",Fst=g((e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),Vst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>O4t);return{diagram:t}},void 0);return{id:T9,diagram:e}},"loader"),zst={id:T9,detector:Fst,loader:Vst},Wst=zst,k9="classDiagram",Ust=g((e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),Hst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>M4t);return{diagram:t}},void 0);return{id:k9,diagram:e}},"loader"),Gst={id:k9,detector:Ust,loader:Hst},qst=Gst,w9="state",jst=g((e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),Yst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>SCt);return{diagram:t}},void 0);return{id:w9,diagram:e}},"loader"),Xst={id:w9,detector:jst,loader:Yst},Kst=Xst,S9="stateDiagram",Qst=g((e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),Zst=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>ECt);return{diagram:t}},void 0);return{id:S9,diagram:e}},"loader"),Jst={id:S9,detector:Qst,loader:Zst},tat=Jst,C9="journey",eat=g(e=>/^\s*journey/.test(e),"detector"),rat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>XCt);return{diagram:t}},void 0);return{id:C9,diagram:e}},"loader"),nat={id:C9,detector:eat,loader:rat},iat=nat,sat=g((e,t,r)=>{U.debug(`rendering svg for syntax error
`);const n=eo(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),ei(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),E9={draw:sat},aat=E9,oat={db:{},renderer:E9,parser:{parse:g(()=>{},"parse")}},lat=oat,A9="flowchart-elk",cat=g((e,t={})=>{var r;return/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),uat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>lS);return{diagram:t}},void 0);return{id:A9,diagram:e}},"loader"),hat={id:A9,detector:cat,loader:uat},dat=hat,L9="timeline",fat=g(e=>/^\s*timeline/.test(e),"detector"),pat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>yEt);return{diagram:t}},void 0);return{id:L9,diagram:e}},"loader"),gat={id:L9,detector:fat,loader:pat},mat=gat,R9="mindmap",yat=g(e=>/^\s*mindmap/.test(e),"detector"),xat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>IEt);return{diagram:t}},void 0);return{id:R9,diagram:e}},"loader"),bat={id:R9,detector:yat,loader:xat},vat=bat,I9="kanban",_at=g(e=>/^\s*kanban/.test(e),"detector"),Tat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>QEt);return{diagram:t}},void 0);return{id:I9,diagram:e}},"loader"),kat={id:I9,detector:_at,loader:Tat},wat=kat,N9="sankey",Sat=g(e=>/^\s*sankey(-beta)?/.test(e),"detector"),Cat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>D5t);return{diagram:t}},void 0);return{id:N9,diagram:e}},"loader"),Eat={id:N9,detector:Sat,loader:Cat},Aat=Eat,$9="packet",Lat=g(e=>/^\s*packet(-beta)?/.test(e),"detector"),Rat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>q5t);return{diagram:t}},void 0);return{id:$9,diagram:e}},"loader"),Iat={id:$9,detector:Lat,loader:Rat},O9="radar",Nat=g(e=>/^\s*radar-beta/.test(e),"detector"),$at=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>fAt);return{diagram:t}},void 0);return{id:O9,diagram:e}},"loader"),Oat={id:O9,detector:Nat,loader:$at},D9="block",Dat=g(e=>/^\s*block(-beta)?/.test(e),"detector"),Mat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>F6t);return{diagram:t}},void 0);return{id:D9,diagram:e}},"loader"),Pat={id:D9,detector:Dat,loader:Mat},Bat=Pat,M9="architecture",Fat=g(e=>/^\s*architecture/.test(e),"detector"),Vat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>sLt);return{diagram:t}},void 0);return{id:M9,diagram:e}},"loader"),zat={id:M9,detector:Fat,loader:Vat},Wat=zat,P9="treemap",Uat=g(e=>/^\s*treemap/.test(e),"detector"),Hat=g(async()=>{const{diagram:e}=await Ce(async()=>{const{diagram:t}=await Promise.resolve().then(()=>mLt);return{diagram:t}},void 0);return{id:P9,diagram:e}},"loader"),Gat={id:P9,detector:Uat,loader:Hat},fE=!1,E2=g(()=>{fE||(fE=!0,H0("error",lat,e=>e.toLowerCase().trim()==="error"),H0("---",{db:{clear:g(()=>{},"clear")},styles:{},renderer:{draw:g(()=>{},"draw")},parser:{parse:g(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:g(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Pv(dat,vat,Wat),Pv(Kit,wat,qst,Wst,lst,mst,bst,Tst,Ost,Bst,ist,tst,mat,dst,tat,Kst,iat,Cst,Aat,Iat,Rst,Bat,Oat,Gat))},"addDiagrams"),qat=g(async()=>{U.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(zl).map(async([r,{detector:n,loader:i}])=>{if(i)try{Wv(r)}catch{try{const{diagram:s,id:a}=await i();H0(a,s,n)}catch(s){throw U.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete zl[r],s}}}))).filter(r=>r.status==="rejected");if(t.length>0){U.error(`Failed to load ${t.length} external diagrams`);for(const r of t)U.error(r);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),jat="graphics-document document";function B9(e,t){e.attr("role",jat),t!==""&&e.attr("aria-roledescription",t)}g(B9,"setA11yDiagramInfo");function F9(e,t,r,n){if(e.insert!==void 0){if(r){const i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){const i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}g(F9,"addSVGa11yTitleDescription");var Fl,B_=(Fl=class{constructor(t,r,n,i,s){this.type=t,this.text=r,this.db=n,this.parser=i,this.renderer=s}static async fromText(t,r={}){var u,h;const n=De(),i=Ik(t,n);t=Qet(t)+`
`;try{Wv(i)}catch{const d=JH(i);if(!d)throw new a8(`Diagram ${i} not found.`);const{id:f,diagram:p}=await d();H0(f,p)}const{db:s,parser:a,renderer:o,init:l}=Wv(i);return a.parser&&(a.parser.yy=s),(u=s.clear)==null||u.call(s),l==null||l(n),r.title&&((h=s.setDiagramTitle)==null||h.call(s,r.title)),await a.parse(t),new Fl(i,t,s,a,o)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}},g(Fl,"Diagram"),Fl),pE=[],Yat=g(()=>{pE.forEach(e=>{e()}),pE=[]},"attachFunctions"),Xat=g(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function V9(e){const t=e.match(s8);if(!t)return{text:e,metadata:{}};let r=o2(t[1],{schema:a2})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}g(V9,"extractFrontMatter");var Kat=g(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Qat=g(e=>{const{text:t,metadata:r}=V9(e),{displayMode:n,title:i,config:s={}}=r;return n&&(s.gantt||(s.gantt={}),s.gantt.displayMode=n),{title:i,config:s,text:t}},"processFrontmatter"),Zat=g(e=>{const t=be.detectInit(e)??{},r=be.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:zet(e),directive:t}},"processDirectives");function Mw(e){const t=Kat(e),r=Qat(t),n=Zat(r.text),i=Zn(r.config,n.directive);return e=Xat(n.text),{code:e,title:r.title,config:i}}g(Mw,"preprocessDiagram");function z9(e){const t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}g(z9,"toBase64");var Jat=5e4,tot="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",eot="sandbox",rot="loose",not="http://www.w3.org/2000/svg",iot="http://www.w3.org/1999/xlink",sot="http://www.w3.org/1999/xhtml",aot="100%",oot="100%",lot="border:0;margin:0;",cot="margin:0",uot="allow-top-navigation-by-user-activation allow-popups",hot='The "iframe" tag is not supported by your browser.',dot=["foreignobject"],fot=["dominant-baseline"];function Pw(e){const t=Mw(e);return W0(),pG(t.config??{}),t}g(Pw,"processAndSetConfigs");async function W9(e,t){E2();try{const{code:r,config:n}=Pw(e);return{diagramType:(await H9(r)).type,config:n}}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}}g(W9,"parse");var gE=g((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),pot=g((e,t=new Map)=>{var n;let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const o=e.htmlLabels??((n=e.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(l=>{Np(l.styles)||o.forEach(u=>{r+=gE(l.id,u,l.styles)}),Np(l.textStyles)||(r+=gE(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(u=>u.replace("color","fill"))))})}return r},"createCssStyles"),got=g((e,t,r,n)=>{const i=pot(e,r),s=$G(t,i,e.themeVariables);return O_(Iit(`${n}{${s}}`),$it)},"createUserStyles"),mot=g((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=sa(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),yot=g((e="",t)=>{var i,s;const r=(s=(i=t==null?void 0:t.viewBox)==null?void 0:i.baseVal)!=null&&s.height?t.viewBox.baseVal.height+"px":oot,n=z9(`<body style="${cot}">${e}</body>`);return`<iframe style="width:${aot};height:${r};${lot}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${uot}">
  ${hot}
</iframe>`},"putIntoIFrame"),mE=g((e,t,r,n,i)=>{const s=e.append("div");s.attr("id",r),n&&s.attr("style",n);const a=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",not);return i&&a.attr("xmlns:xlink",i),a.append("g"),e},"appendDivSvgG");function F_(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}g(F_,"sandboxedIframe");var xot=g((e,t,r,n)=>{var i,s,a;(i=e.getElementById(t))==null||i.remove(),(s=e.getElementById(r))==null||s.remove(),(a=e.getElementById(n))==null||a.remove()},"removeExistingElements"),bot=g(async function(e,t,r){var $,A,L,N,D,P;E2();const n=Pw(t);t=n.code;const i=De();U.debug(i),t.length>((i==null?void 0:i.maxTextSize)??Jat)&&(t=tot);const s="#"+e,a="i"+e,o="#"+a,l="d"+e,u="#"+l,h=g(()=>{const M=Lt(f?o:u).node();M&&"remove"in M&&M.remove()},"removeTempElements");let d=Lt("body");const f=i.securityLevel===eot,p=i.securityLevel===rot,m=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){const O=F_(Lt(r),a);d=Lt(O.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=Lt(r);mE(d,e,l,`font-family: ${m}`,iot)}else{if(xot(document,e,l,a),f){const O=F_(Lt("body"),a);d=Lt(O.nodes()[0].contentDocument.body),d.node().style.margin=0}else d=Lt("body");mE(d,e,l)}let y,b;try{y=await B_.fromText(t,{title:n.title})}catch(O){if(i.suppressErrorRendering)throw h(),O;y=await B_.fromText("error"),b=O}const x=d.select(u).node(),v=y.type,_=x.firstChild,S=_.firstChild,k=(A=($=y.renderer).getClasses)==null?void 0:A.call($,t,y),T=got(i,v,k,s),E=document.createElement("style");E.innerHTML=T,_.insertBefore(E,S);try{await y.renderer.draw(t,e,$v.version,y)}catch(O){throw i.suppressErrorRendering?h():aat.draw(t,e,$v.version),O}const I=d.select(`${u} svg`),C=(N=(L=y.db).getAccTitle)==null?void 0:N.call(L),R=(P=(D=y.db).getAccDescription)==null?void 0:P.call(D);G9(v,I,C,R),d.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",sot);let w=d.select(u).node().innerHTML;if(U.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),w=mot(w,f,Ze(i.arrowMarkerAbsolute)),f){const O=d.select(u+" svg").node();w=yot(w,O)}else p||(w=Sh.sanitize(w,{ADD_TAGS:dot,ADD_ATTR:fot,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Yat(),b)throw b;return h(),{diagramType:v,svg:w,bindFunctions:y.db.bindFunctions}},"render");function U9(e={}){var n;const t=Ar({},e);t!=null&&t.fontFamily&&!((n=t.themeVariables)!=null&&n.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),dG(t),t!=null&&t.theme&&t.theme in Ba?t.themeVariables=Ba[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Ba.default.getThemeVariables(t.themeVariables));const r=typeof t=="object"?hG(t):u8();Lk(r.logLevel),E2()}g(U9,"initialize");var H9=g((e,t={})=>{const{code:r}=Mw(e);return B_.fromText(r,t)},"getDiagramFromText");function G9(e,t,r,n){B9(t,e),F9(t,r,n,t.attr("id"))}g(G9,"addA11yInfo");var Ql=Object.freeze({render:bot,parse:W9,getDiagramFromText:H9,initialize:U9,getConfig:De,setConfig:h8,getSiteConfig:u8,updateSiteConfig:fG,reset:g(()=>{W0()},"reset"),globalReset:g(()=>{W0(Ch)},"globalReset"),defaultConfig:Ch});Lk(De().logLevel);W0(De());var vot=g((e,t,r)=>{U.warn(e),yw(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),q9=g(async function(e={querySelector:".mermaid"}){try{await _ot(e)}catch(t){if(yw(t)&&U.error(t.str),Si.parseError&&Si.parseError(t),!e.suppressErrors)throw U.error("Use the suppressErrors option to suppress these errors"),t}},"run"),_ot=g(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=Ql.getConfig();U.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");U.debug(`Found ${i.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(U.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),Ql.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const s=new be.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let a;const o=[];for(const l of Array.from(i)){if(U.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${s.next()}`;a=l.innerHTML,a=a$(be.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=be.detectInit(a);h&&U.debug("Detected early reinit: ",h);try{const{svg:d,bindFunctions:f}=await K9(u,a,l);l.innerHTML=d,e&&await e(u),f&&f(l)}catch(d){vot(d,o,Si.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),j9=g(function(e){Ql.initialize(e)},"initialize"),Tot=g(async function(e,t,r){U.warn("mermaid.init is deprecated. Please use run instead."),e&&j9(e);const n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await q9(n)},"init"),kot=g(async(e,{lazyLoad:t=!0}={})=>{E2(),Pv(...e),t===!1&&await qat()},"registerExternalDiagrams"),Y9=g(function(){if(Si.startOnLoad){const{startOnLoad:e}=Ql.getConfig();e&&Si.run().catch(t=>U.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",Y9,!1);var wot=g(function(e){Si.parseError=e},"setParseErrorHandler"),Rm=[],mb=!1,X9=g(async()=>{if(!mb){for(mb=!0;Rm.length>0;){const e=Rm.shift();if(e)try{await e()}catch(t){U.error("Error executing queue",t)}}mb=!1}},"executeQueue"),Sot=g(async(e,t)=>new Promise((r,n)=>{const i=g(()=>new Promise((s,a)=>{Ql.parse(e,t).then(o=>{s(o),r(o)},o=>{var l;U.error("Error parsing",o),(l=Si.parseError)==null||l.call(Si,o),a(o),n(o)})}),"performCall");Rm.push(i),X9().catch(n)}),"parse"),K9=g((e,t,r)=>new Promise((n,i)=>{const s=g(()=>new Promise((a,o)=>{Ql.render(e,t,r).then(l=>{a(l),n(l)},l=>{var u;U.error("Error parsing",l),(u=Si.parseError)==null||u.call(Si,l),o(l),i(l)})}),"performCall");Rm.push(s),X9().catch(i)}),"render"),Cot=g(()=>Object.keys(zl).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Si={startOnLoad:!0,mermaidAPI:Ql,parse:Sot,render:K9,init:Tot,run:q9,registerExternalDiagrams:kot,registerLayoutLoaders:r9,initialize:j9,parseError:void 0,contentLoaded:Y9,setParseErrorHandler:wot,detectType:Ik,registerIconPacks:c$,getRegisteredDiagramsMetadata:Cot},Im=Si;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const Eot=async e=>{try{Im.registerExternalDiagrams&&await Im.registerExternalDiagrams(e)}catch(t){console.error(t)}},Aot=async(e,t,r)=>{Im.initialize(r);const{svg:n}=await Im.render(e,t);return n},Lot=window.__VP_SITE_DATA__;function Q9(e){return zL()?(Kz(e),!0):!1}const yb=new WeakMap,Rot=(...e)=>{var t;const r=e[0],n=(t=uc())==null?void 0:t.proxy;if(n==null&&!lR())throw new Error("injectLocal must be called in setup");return n&&yb.has(n)&&r in yb.get(n)?yb.get(n)[r]:Nl(...e)},Z9=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Iot=Object.prototype.toString,Not=e=>Iot.call(e)==="[object Object]",Zl=()=>{},yE=$ot();function $ot(){var e,t;return Z9&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Bw(e,t){function r(...n){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(s)})}return r}const J9=e=>e();function Oot(e,t={}){let r,n,i=Zl;const s=l=>{clearTimeout(l),i(),i=Zl};let a;return l=>{const u=Er(e),h=Er(t.maxWait);return r&&s(r),u<=0||h!==void 0&&h<=0?(n&&(s(n),n=null),Promise.resolve(l())):new Promise((d,f)=>{i=t.rejectOnCancel?f:d,a=l,h&&!n&&(n=setTimeout(()=>{r&&s(r),n=null,d(a())},h)),r=setTimeout(()=>{n&&s(n),n=null,d(l())},u)})}}function Dot(...e){let t=0,r,n=!0,i=Zl,s,a,o,l,u;!Mr(e[0])&&typeof e[0]=="object"?{delay:a,trailing:o=!0,leading:l=!0,rejectOnCancel:u=!1}=e[0]:[a,o=!0,l=!0,u=!1]=e;const h=()=>{r&&(clearTimeout(r),r=void 0,i(),i=Zl)};return f=>{const p=Er(a),m=Date.now()-t,y=()=>s=f();return h(),p<=0?(t=Date.now(),y()):(m>p&&(l||!n)?(t=Date.now(),y()):o&&(s=new Promise((b,x)=>{i=u?x:b,r=setTimeout(()=>{t=Date.now(),n=!0,b(y()),h()},Math.max(0,p-m))})),!l&&!r&&(r=setTimeout(()=>n=!0,p)),n=!1,s)}}function Mot(e=J9,t={}){const{initialState:r="active"}=t,n=Fw(r==="active");function i(){n.value=!1}function s(){n.value=!0}const a=(...o)=>{n.value&&e(...o)};return{isActive:sp(n),pause:i,resume:s,eventFilter:a}}function xE(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function Pot(e){return uc()}function xb(e){return Array.isArray(e)?e:[e]}function Fw(...e){if(e.length!==1)return kW(...e);const t=e[0];return typeof t=="function"?sp(vW(()=>({get:t,set:Zl}))):So(t)}function Bot(e,t=200,r={}){return Bw(Oot(t,r),e)}function Fot(e,t=200,r=!1,n=!0,i=!1){return Bw(Dot(t,r,n,i),e)}function Vot(e,t,r={}){const{eventFilter:n=J9,...i}=r;return bs(e,Bw(n,t),i)}function zot(e,t,r={}){const{eventFilter:n,initialState:i="active",...s}=r,{eventFilter:a,pause:o,resume:l,isActive:u}=Mot(n,{initialState:i});return{stop:Vot(e,t,{...s,eventFilter:a}),pause:o,resume:l,isActive:u}}function A2(e,t=!0,r){Pot()?rg(e,r):t?e():Dy(e)}function Wot(e,t,r){return bs(e,t,{...r,immediate:!0})}const Ya=Z9?window:void 0;function Vw(e){var t;const r=Er(e);return(t=r==null?void 0:r.$el)!=null?t:r}function Xa(...e){const t=[],r=()=>{t.forEach(o=>o()),t.length=0},n=(o,l,u,h)=>(o.addEventListener(l,u,h),()=>o.removeEventListener(l,u,h)),i=fr(()=>{const o=xb(Er(e[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),s=Wot(()=>{var o,l;return[(l=(o=i.value)==null?void 0:o.map(u=>Vw(u)))!=null?l:[Ya].filter(u=>u!=null),xb(Er(i.value?e[1]:e[0])),xb(Oy(i.value?e[2]:e[1])),Er(i.value?e[3]:e[2])]},([o,l,u,h])=>{if(r(),!(o!=null&&o.length)||!(l!=null&&l.length)||!(u!=null&&u.length))return;const d=Not(h)?{...h}:h;t.push(...o.flatMap(f=>l.flatMap(p=>u.map(m=>n(f,p,m,d)))))},{flush:"post"}),a=()=>{s(),r()};return Q9(r),a}function Uot(){const e=Ki(!1),t=uc();return t&&rg(()=>{e.value=!0},t),e}function Hot(e){const t=Uot();return fr(()=>(t.value,!!e()))}function Got(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function QLt(...e){let t,r,n={};e.length===3?(t=e[0],r=e[1],n=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,r=e[0],n=e[1]):(t=e[0],r=e[1]):(t=!0,r=e[0]);const{target:i=Ya,eventName:s="keydown",passive:a=!1,dedupe:o=!1}=n,l=Got(t);return Xa(i,s,h=>{h.repeat&&Er(o)||l(h)&&r(h)},a)}const qot=Symbol("vueuse-ssr-width");function jot(){const e=lR()?Rot(qot,null):null;return typeof e=="number"?e:void 0}function tD(e,t={}){const{window:r=Ya,ssrWidth:n=jot()}=t,i=Hot(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function"),s=Ki(typeof n=="number"),a=Ki(),o=Ki(!1),l=u=>{o.value=u.matches};return DW(()=>{if(s.value){s.value=!i.value;const u=Er(e).split(",");o.value=u.some(h=>{const d=h.includes("not all"),f=h.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),p=h.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let m=!!(f||p);return f&&m&&(m=n>=xE(f[1])),p&&m&&(m=n<=xE(p[1])),d?!m:m});return}i.value&&(a.value=r.matchMedia(Er(e)),o.value=a.value.matches)}),Xa(a,"change",l,{passive:!0}),fr(()=>o.value)}const s1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a1="__vueuse_ssr_handlers__",Yot=Xot();function Xot(){return a1 in s1||(s1[a1]=s1[a1]||{}),s1[a1]}function eD(e,t){return Yot[e]||t}function rD(e){return tD("(prefers-color-scheme: dark)",e)}function Kot(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Qot={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},bE="vueuse-storage";function Zot(e,t,r,n={}){var i;const{flush:s="pre",deep:a=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:h,window:d=Ya,eventFilter:f,onError:p=w=>{console.error(w)},initOnMounted:m}=n,y=(h?Ki:So)(typeof t=="function"?t():t),b=fr(()=>Er(e));if(!r)try{r=eD("getDefaultStorage",()=>{var w;return(w=Ya)==null?void 0:w.localStorage})()}catch(w){p(w)}if(!r)return y;const x=Er(t),v=Kot(x),_=(i=n.serializer)!=null?i:Qot[v],{pause:S,resume:k}=zot(y,()=>E(y.value),{flush:s,deep:a,eventFilter:f});bs(b,()=>C(),{flush:s}),d&&o&&A2(()=>{r instanceof Storage?Xa(d,"storage",C,{passive:!0}):Xa(d,bE,R),m&&C()}),m||C();function T(w,$){if(d){const A={key:b.value,oldValue:w,newValue:$,storageArea:r};d.dispatchEvent(r instanceof Storage?new StorageEvent("storage",A):new CustomEvent(bE,{detail:A}))}}function E(w){try{const $=r.getItem(b.value);if(w==null)T($,null),r.removeItem(b.value);else{const A=_.write(w);$!==A&&(r.setItem(b.value,A),T($,A))}}catch($){p($)}}function I(w){const $=w?w.newValue:r.getItem(b.value);if($==null)return l&&x!=null&&r.setItem(b.value,_.write(x)),x;if(!w&&u){const A=_.read($);return typeof u=="function"?u(A,x):v==="object"&&!Array.isArray(A)?{...x,...A}:A}else return typeof $!="string"?$:_.read($)}function C(w){if(!(w&&w.storageArea!==r)){if(w&&w.key==null){y.value=x;return}if(!(w&&w.key!==b.value)){S();try{(w==null?void 0:w.newValue)!==_.write(y.value)&&(y.value=I(w))}catch($){p($)}finally{w?Dy(k):k()}}}}function R(w){C(w.detail)}return y}const Jot="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function tlt(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:i=Ya,storage:s,storageKey:a="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:l,emitAuto:u,disableTransition:h=!0}=e,d={auto:"",light:"light",dark:"dark",...e.modes||{}},f=rD({window:i}),p=fr(()=>f.value?"dark":"light"),m=l||(a==null?Fw(n):Zot(a,n,s,{window:i,listenToStorageChanges:o})),y=fr(()=>m.value==="auto"?p.value:m.value),b=eD("updateHTMLAttrs",(S,k,T)=>{const E=typeof S=="string"?i==null?void 0:i.document.querySelector(S):Vw(S);if(!E)return;const I=new Set,C=new Set;let R=null;if(k==="class"){const $=T.split(/\s/g);Object.values(d).flatMap(A=>(A||"").split(/\s/g)).filter(Boolean).forEach(A=>{$.includes(A)?I.add(A):C.add(A)})}else R={key:k,value:T};if(I.size===0&&C.size===0&&R===null)return;let w;h&&(w=i.document.createElement("style"),w.appendChild(document.createTextNode(Jot)),i.document.head.appendChild(w));for(const $ of I)E.classList.add($);for(const $ of C)E.classList.remove($);R&&E.setAttribute(R.key,R.value),h&&(i.getComputedStyle(w).opacity,document.head.removeChild(w))});function x(S){var k;b(t,r,(k=d[S])!=null?k:S)}function v(S){e.onChanged?e.onChanged(S,x):x(S)}bs(y,v,{flush:"post",immediate:!0}),A2(()=>v(y.value));const _=fr({get(){return u?m.value:y.value},set(S){m.value=S}});return Object.assign(_,{store:m,system:p,state:y})}function elt(e={}){const{valueDark:t="dark",valueLight:r=""}=e,n=tlt({...e,onChanged:(a,o)=>{var l;e.onChanged?(l=e.onChanged)==null||l.call(e,a==="dark",o,a):o(a)},modes:{dark:t,light:r}}),i=fr(()=>n.system.value);return fr({get(){return n.value==="dark"},set(a){const o=a?"dark":"light";i.value===o?n.value="auto":n.value=o}})}function bb(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const vE=1;function rlt(e,t={}){const{throttle:r=0,idle:n=200,onStop:i=Zl,onScroll:s=Zl,offset:a={left:0,right:0,top:0,bottom:0},eventListenerOptions:o={capture:!1,passive:!0},behavior:l="auto",window:u=Ya,onError:h=E=>{console.error(E)}}=t,d=Ki(0),f=Ki(0),p=fr({get(){return d.value},set(E){y(E,void 0)}}),m=fr({get(){return f.value},set(E){y(void 0,E)}});function y(E,I){var C,R,w,$;if(!u)return;const A=Er(e);if(!A)return;(w=A instanceof Document?u.document.body:A)==null||w.scrollTo({top:(C=Er(I))!=null?C:m.value,left:(R=Er(E))!=null?R:p.value,behavior:Er(l)});const L=(($=A==null?void 0:A.document)==null?void 0:$.documentElement)||(A==null?void 0:A.documentElement)||A;p!=null&&(d.value=L.scrollLeft),m!=null&&(f.value=L.scrollTop)}const b=Ki(!1),x=_h({left:!0,right:!1,top:!0,bottom:!1}),v=_h({left:!1,right:!1,top:!1,bottom:!1}),_=E=>{b.value&&(b.value=!1,v.left=!1,v.right=!1,v.top=!1,v.bottom=!1,i(E))},S=Bot(_,r+n),k=E=>{var I;if(!u)return;const C=((I=E==null?void 0:E.document)==null?void 0:I.documentElement)||(E==null?void 0:E.documentElement)||Vw(E),{display:R,flexDirection:w,direction:$}=getComputedStyle(C),A=$==="rtl"?-1:1,L=C.scrollLeft;v.left=L<d.value,v.right=L>d.value;const N=Math.abs(L*A)<=(a.left||0),D=Math.abs(L*A)+C.clientWidth>=C.scrollWidth-(a.right||0)-vE;R==="flex"&&w==="row-reverse"?(x.left=D,x.right=N):(x.left=N,x.right=D),d.value=L;let P=C.scrollTop;E===u.document&&!P&&(P=u.document.body.scrollTop),v.top=P<f.value,v.bottom=P>f.value;const O=Math.abs(P)<=(a.top||0),M=Math.abs(P)+C.clientHeight>=C.scrollHeight-(a.bottom||0)-vE;R==="flex"&&w==="column-reverse"?(x.top=M,x.bottom=O):(x.top=O,x.bottom=M),f.value=P},T=E=>{var I;if(!u)return;const C=(I=E.target.documentElement)!=null?I:E.target;k(C),b.value=!0,S(E),s(E)};return Xa(e,"scroll",r?Fot(T,r,!0,!1):T,o),A2(()=>{try{const E=Er(e);if(!E)return;k(E)}catch(E){h(E)}}),Xa(e,"scrollend",_,o),{x:p,y:m,isScrolling:b,arrivedState:x,directions:v,measure(){const E=Er(e);u&&E&&k(E)}}}function nD(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const r=e.parentNode;return!r||r.tagName==="BODY"?!1:nD(r)}}function nlt(e){const t=e||window.event,r=t.target;return nD(r)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const vb=new WeakMap;function ZLt(e,t=!1){const r=Ki(t);let n=null,i="";bs(Fw(e),o=>{const l=bb(Er(o));if(l){const u=l;if(vb.get(u)||vb.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(i=u.style.overflow),u.style.overflow==="hidden")return r.value=!0;if(r.value)return u.style.overflow="hidden"}},{immediate:!0});const s=()=>{const o=bb(Er(e));!o||r.value||(yE&&(n=Xa(o,"touchmove",l=>{nlt(l)},{passive:!1})),o.style.overflow="hidden",r.value=!0)},a=()=>{const o=bb(Er(e));!o||!r.value||(yE&&(n==null||n()),o.style.overflow=i,vb.delete(o),r.value=!1)};return Q9(a),fr({get(){return r.value},set(o){o?s():a()}})}function JLt(e={}){const{window:t=Ya,...r}=e;return rlt(t,r)}function tRt(e={}){const{window:t=Ya,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:s=!0,type:a="inner"}=e,o=Ki(r),l=Ki(n),u=()=>{if(t)if(a==="outer")o.value=t.outerWidth,l.value=t.outerHeight;else if(a==="visual"&&t.visualViewport){const{width:d,height:f,scale:p}=t.visualViewport;o.value=Math.round(d*p),l.value=Math.round(f*p)}else s?(o.value=t.innerWidth,l.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,l.value=t.document.documentElement.clientHeight)};u(),A2(u);const h={passive:!0};if(Xa("resize",u,h),t&&a==="visual"&&t.visualViewport&&Xa(t.visualViewport,"resize",u,h),i){const d=tD("(orientation: portrait)");bs(d,()=>u())}return{width:o,height:l}}const _b={};var Tb={};const iD=/^(?:[a-z]+:|\/\/)/i,ilt="vitepress-theme-appearance",slt=/#.*$/,alt=/[?#].*$/,olt=/(?:(^|\/)index)?\.(?:md|html)$/,Ui=typeof document<"u",sD={relativePath:"404.md",filePath:"",title:"404",description:"Not Found",headers:[],frontmatter:{sidebar:!1,layout:"page"},lastUpdated:0,isNotFound:!0};function llt(e,t,r=!1){if(t===void 0)return!1;if(e=_E(`/${e}`),r)return new RegExp(t).test(e);if(_E(t)!==e)return!1;const n=t.match(slt);return n?(Ui?location.hash:"")===n[0]:!0}function _E(e){return decodeURI(e).replace(alt,"").replace(olt,"$1")}function clt(e){return iD.test(e)}function ult(e,t){return Object.keys((e==null?void 0:e.locales)||{}).find(r=>r!=="root"&&!clt(r)&&llt(t,`/${r}/`,!0))||"root"}function hlt(e,t){var n,i,s,a,o,l,u;const r=ult(e,t);return Object.assign({},e,{localeIndex:r,lang:((n=e.locales[r])==null?void 0:n.lang)??e.lang,dir:((i=e.locales[r])==null?void 0:i.dir)??e.dir,title:((s=e.locales[r])==null?void 0:s.title)??e.title,titleTemplate:((a=e.locales[r])==null?void 0:a.titleTemplate)??e.titleTemplate,description:((o=e.locales[r])==null?void 0:o.description)??e.description,head:glt(e.head,((l=e.locales[r])==null?void 0:l.head)??[]),themeConfig:{...e.themeConfig,...(u=e.locales[r])==null?void 0:u.themeConfig}})}function dlt(e,t){const r=t.title||e.title,n=t.titleTemplate??e.titleTemplate;if(typeof n=="string"&&n.includes(":title"))return n.replace(/:title/g,r);const i=flt(e.title,n);return r===i.slice(3)?r:`${r}${i}`}function flt(e,t){return t===!1?"":t===!0||t===void 0?` | ${e}`:e===t?"":` | ${t}`}function plt(e,t){const[r,n]=t;if(r!=="meta")return!1;const i=Object.entries(n)[0];return i==null?!1:e.some(([s,a])=>s===r&&a[i[0]]===i[1])}function glt(e,t){return[...e.filter(r=>!plt(t,r)),...t]}const mlt=/[\u0000-\u001F"#$&*+,:;<=>?[\]^`{|}\u007F]/g,ylt=/^[a-z]:/i;function TE(e){const t=ylt.exec(e),r=t?t[0]:"";return r+e.slice(r.length).replace(mlt,"_").replace(/(^|\/)_+(?=[^/]*$)/,"$1")}const kb=new Set;function xlt(e){if(kb.size===0){const r=typeof process=="object"&&(Tb==null?void 0:Tb.VITE_EXTRA_EXTENSIONS)||(_b==null?void 0:_b.VITE_EXTRA_EXTENSIONS)||"";("3g2,3gp,aac,ai,apng,au,avif,bin,bmp,cer,class,conf,crl,css,csv,dll,doc,eps,epub,exe,gif,gz,ics,ief,jar,jpe,jpeg,jpg,js,json,jsonld,m4a,man,mid,midi,mjs,mov,mp2,mp3,mp4,mpe,mpeg,mpg,mpp,oga,ogg,ogv,ogx,opus,otf,p10,p7c,p7m,p7s,pdf,png,ps,qt,roff,rtf,rtx,ser,svg,t,tif,tiff,tr,ts,tsv,ttf,txt,vtt,wav,weba,webm,webp,woff,woff2,xhtml,xml,yaml,yml,zip"+(r&&typeof r=="string"?","+r:"")).split(",").forEach(n=>kb.add(n))}const t=e.split(".").pop();return t==null||!kb.has(t.toLowerCase())}const blt=Symbol(),Bl=Ki(Lot);function eRt(e){const t=fr(()=>hlt(Bl.value,e.data.relativePath)),r=t.value.appearance,n=r==="force-dark"?So(!0):r==="force-auto"?rD():r?elt({storageKey:ilt,initialValue:()=>r==="dark"?"dark":"auto",...typeof r=="object"?r:{}}):So(!1),i=So(Ui?location.hash:"");return Ui&&window.addEventListener("hashchange",()=>{i.value=location.hash}),bs(()=>e.data,()=>{i.value=Ui?location.hash:""}),{site:t,theme:fr(()=>t.value.themeConfig),page:fr(()=>e.data),frontmatter:fr(()=>e.data.frontmatter),params:fr(()=>e.data.params),lang:fr(()=>t.value.lang),dir:fr(()=>e.data.frontmatter.dir||t.value.dir),localeIndex:fr(()=>t.value.localeIndex||"root"),title:fr(()=>dlt(t.value,e.data)),description:fr(()=>e.data.description||t.value.description),isDark:n,hash:fr(()=>i.value)}}function aD(){const e=Nl(blt);if(!e)throw new Error("vitepress data not properly injected in app");return e}function vlt(e,t){return`${e}${t}`.replace(/\/+/g,"/")}function kE(e){return iD.test(e)||!e.startsWith("/")?e:vlt(Bl.value.base,e)}function rRt(e){let t=e.replace(/\.html$/,"");if(t=decodeURIComponent(t),t=t.replace(/\/$/,"/index"),Ui){const r="/learn-ai/";t=TE(t.slice(r.length).replace(/\//g,"_")||"index")+".md";let n=__VP_HASH_MAP__[t.toLowerCase()];if(n||(t=t.endsWith("_index.md")?t.slice(0,-9)+".md":t.slice(0,-3)+"_index.md",n=__VP_HASH_MAP__[t.toLowerCase()]),!n)return null;t=`${r}assets/${t}.${n}.js`}else t=`./${TE(t.slice(1).replace(/\//g,"_"))}.md.js`;return t}let a0=[];function nRt(e){a0.push(e),Fy(()=>{a0=a0.filter(t=>t!==e)})}function _lt(){let e=Bl.value.scrollOffset,t=0,r=24;if(typeof e=="object"&&"padding"in e&&(r=e.padding,e=e.selector),typeof e=="number")t=e;else if(typeof e=="string")t=wE(e,r);else if(Array.isArray(e))for(const n of e){const i=wE(n,r);if(i){t=i;break}}return t}function wE(e,t){const r=document.querySelector(e);if(!r)return 0;const n=r.getBoundingClientRect().bottom;return n<0?0:n+t}const Tlt=Symbol(),oD="http://a.com",klt=()=>({path:"/",component:null,data:sD});function iRt(e,t){const r=_h(klt()),n={route:r,go:i};async function i(o=Ui?location.href:"/"){var l,u;o=wb(o),await((l=n.onBeforeRouteChange)==null?void 0:l.call(n,o))!==!1&&(Ui&&o!==wb(location.href)&&(history.replaceState({scrollPosition:window.scrollY},""),history.pushState({},"",o)),await a(o),await((u=n.onAfterRouteChange??n.onAfterRouteChanged)==null?void 0:u(o)))}let s=null;async function a(o,l=0,u=!1){var f,p;if(await((f=n.onBeforePageLoad)==null?void 0:f.call(n,o))===!1)return;const h=new URL(o,oD),d=s=h.pathname;try{let m=await e(d);if(!m)throw new Error(`Page not found: ${d}`);if(s===d){s=null;const{default:y,__pageData:b}=m;if(!y)throw new Error(`Invalid route component: ${y}`);await((p=n.onAfterPageLoad)==null?void 0:p.call(n,o)),r.path=Ui?d:kE(d),r.component=z1(y),r.data=z1(b),Ui&&Dy(()=>{let x=Bl.value.base+b.relativePath.replace(/(?:(^|\/)index)?\.md$/,"$1");if(!Bl.value.cleanUrls&&!x.endsWith("/")&&(x+=".html"),x!==h.pathname&&(h.pathname=x,o=x+h.search+h.hash,history.replaceState({},"",o)),h.hash&&!l){let v=null;try{v=document.getElementById(decodeURIComponent(h.hash).slice(1))}catch(_){console.warn(_)}if(v){SE(v,h.hash);return}}window.scrollTo(0,l)})}}catch(m){if(!/fetch|Page not found/.test(m.message)&&!/^\/404(\.html|\/)?$/.test(o)&&console.error(m),!u)try{const y=await fetch(Bl.value.base+"hashmap.json");window.__VP_HASH_MAP__=await y.json(),await a(o,l,!0);return}catch{}if(s===d){s=null,r.path=Ui?d:kE(d),r.component=t?z1(t):null;const y=Ui?d.replace(/(^|\/)$/,"$1index").replace(/(\.html)?$/,".md").replace(/^\//,""):"404.md";r.data={...sD,relativePath:y}}}}return Ui&&(history.state===null&&history.replaceState({},""),window.addEventListener("click",o=>{if(o.defaultPrevented||!(o.target instanceof Element)||o.target.closest("button")||o.button!==0||o.ctrlKey||o.shiftKey||o.altKey||o.metaKey)return;const l=o.target.closest("a");if(!l||l.closest(".vp-raw")||l.hasAttribute("download")||l.hasAttribute("target"))return;const u=l.getAttribute("href")??(l instanceof SVGAElement?l.getAttribute("xlink:href"):null);if(u==null)return;const{href:h,origin:d,pathname:f,hash:p,search:m}=new URL(u,l.baseURI),y=new URL(location.href);d===y.origin&&xlt(f)&&(o.preventDefault(),f===y.pathname&&m===y.search?(p!==y.hash&&(history.pushState({},"",h),window.dispatchEvent(new HashChangeEvent("hashchange",{oldURL:y.href,newURL:h}))),p?SE(l,p,l.classList.contains("header-anchor")):window.scrollTo(0,0)):i(h))},{capture:!0}),window.addEventListener("popstate",async o=>{var u;if(o.state===null)return;const l=wb(location.href);await a(l,o.state&&o.state.scrollPosition||0),await((u=n.onAfterRouteChange??n.onAfterRouteChanged)==null?void 0:u(l))}),window.addEventListener("hashchange",o=>{o.preventDefault()})),n}function wlt(){const e=Nl(Tlt);if(!e)throw new Error("useRouter() is called without provider.");return e}function Slt(){return wlt().route}function SE(e,t,r=!1){let n=null;try{n=e.classList.contains("header-anchor")?e:document.getElementById(decodeURIComponent(t).slice(1))}catch(i){console.warn(i)}if(n){let i=function(){!r||Math.abs(a-window.scrollY)>window.innerHeight?window.scrollTo(0,a):window.scrollTo({left:0,top:a,behavior:"smooth"})};const s=parseInt(window.getComputedStyle(n).paddingTop,10),a=window.scrollY+n.getBoundingClientRect().top-_lt()+s;requestAnimationFrame(i)}}function wb(e){const t=new URL(e,oD);return t.pathname=t.pathname.replace(/(^|\/)index(\.html)?$/,"$1"),Bl.value.cleanUrls?t.pathname=t.pathname.replace(/\.html$/,""):!t.pathname.endsWith("/")&&!t.pathname.endsWith(".html")&&(t.pathname+=".html"),t.pathname+t.search+t.hash}const o1=()=>a0.forEach(e=>e()),sRt=zW({name:"VitePressContent",props:{as:{type:[Object,String],default:"div"}},setup(e){const t=Slt(),{frontmatter:r,site:n}=aD();return bs(r,o1,{deep:!0,flush:"post"}),()=>Iv(e.as,n.value.contentProps??{style:{position:"relative"}},[t.component?Iv(t.component,{onVnodeMounted:o1,onVnodeUpdated:o1,onVnodeUnmounted:o1}):"404 Page Not Found"])}}),Clt=["innerHTML"],aRt={__name:"Mermaid",props:{graph:{type:String,required:!0},id:{type:String,required:!0},class:{type:String,required:!1,default:"mermaid"}},setup(e){const t=So({securityLevel:"loose",startOnLoad:!1,externalDiagrams:[]}),{page:r}=aD(),{frontmatter:n}=Me(r.value),i=n.mermaidTheme||"",s=e,a=So(null);let o=null;rg(async()=>{var d;await Eot(t.value.externalDiagrams);let u=await Ce(()=>import("./virtual_mermaid-config.DDnGl6nM.js"),[]);u!=null&&u.default&&(t.value=u.default),o=new MutationObserver(async()=>await l()),o.observe(document.documentElement,{attributes:!0}),await l(),((d=/<img([\w\W]+?)>/.exec(decodeURIComponent(s.graph)))==null?void 0:d.length)>0&&setTimeout(()=>{let f=document.getElementsByTagName("img"),p=Array.from(f);p.length&&Promise.all(p.filter(m=>!m.complete).map(m=>new Promise(y=>{m.onload=m.onerror=y}))).then(async()=>{await l()})},100)}),Fy(()=>o.disconnect());const l=async()=>{const u=document.documentElement.classList.contains("dark");let h={...t.value};i&&(h.theme=i),u&&(h.theme="dark");let d=await Aot(s.id,decodeURIComponent(s.graph),h);const f=Math.random().toString(36).substring(7);a.value=`${d} <span style="display: none">${f}</span>`};return(u,h)=>(cp(),$U("div",{innerHTML:a.value,class:Ry(s.class)},null,10,Clt))}};var Elt="[object Symbol]";function Jl(e){return typeof e=="symbol"||ia(e)&&pc(e)==Elt}function yu(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var CE=ts?ts.prototype:void 0,EE=CE?CE.toString:void 0;function lD(e){if(typeof e=="string")return e;if(Br(e))return yu(e,lD)+"";if(Jl(e))return EE?EE.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Alt=/\s/;function Llt(e){for(var t=e.length;t--&&Alt.test(e.charAt(t)););return t}var Rlt=/^\s+/;function Ilt(e){return e&&e.slice(0,Llt(e)+1).replace(Rlt,"")}var AE=NaN,Nlt=/^[-+]0x[0-9a-f]+$/i,$lt=/^0b[01]+$/i,Olt=/^0o[0-7]+$/i,Dlt=parseInt;function Mlt(e){if(typeof e=="number")return e;if(Jl(e))return AE;if(Ei(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ei(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ilt(e);var r=$lt.test(e);return r||Olt.test(e)?Dlt(e.slice(2),r?2:8):Nlt.test(e)?AE:+e}var LE=1/0,Plt=17976931348623157e292;function o0(e){if(!e)return e===0?e:0;if(e=Mlt(e),e===LE||e===-LE){var t=e<0?-1:1;return t*Plt}return e===e?e:0}function Blt(e){var t=o0(e),r=t%1;return t===t?r?t-r:t:0}function Flt(){}function cD(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function uD(e,t,r,n){for(var i=e.length,s=r+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function Vlt(e){return e!==e}function zlt(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function Wlt(e,t,r){return t===t?zlt(e,t,r):uD(e,Vlt,r)}function Ult(e,t){var r=e==null?0:e.length;return!!r&&Wlt(e,t,0)>-1}function Ti(e){return qo(e)?$N(e):c9(e)}var Hlt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Glt=/^\w*$/;function zw(e,t){if(Br(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Jl(e)?!0:Glt.test(e)||!Hlt.test(e)||t!=null&&e in Object(t)}var qlt=500;function jlt(e){var t=ad(e,function(n){return r.size===qlt&&r.clear(),n}),r=t.cache;return t}var Ylt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xlt=/\\(\\)?/g,Klt=jlt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ylt,function(r,n,i,s){t.push(i?s.replace(Xlt,"$1"):n||r)}),t});function hD(e){return e==null?"":lD(e)}function L2(e,t){return Br(e)?e:zw(e,t)?[e]:Klt(hD(e))}function mg(e){if(typeof e=="string"||Jl(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function R2(e,t){t=L2(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[mg(t[r++])];return r&&r==n?e:void 0}function Qlt(e,t,r){var n=e==null?void 0:R2(e,t);return n===void 0?r:n}function Ww(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var RE=ts?ts.isConcatSpreadable:void 0;function Zlt(e){return Br(e)||Mh(e)||!!(RE&&e&&e[RE])}function I2(e,t,r,n,i){var s=-1,a=e.length;for(r||(r=Zlt),i||(i=[]);++s<a;){var o=e[s];r(o)?Ww(i,o):n||(i[i.length]=o)}return i}function _c(e){var t=e==null?0:e.length;return t?I2(e):[]}function Jlt(e){return MN(DN(e,void 0,_c),e+"")}function tct(e,t,r,n){var i=-1,s=e==null?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function ect(e,t){return e&&dg(t,Ti(t),e)}function rct(e,t){return e&&dg(t,yc(t),e)}function dD(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var a=e[r];t(a,r,e)&&(s[i++]=a)}return s}function fD(){return[]}var nct=Object.prototype,ict=nct.propertyIsEnumerable,IE=Object.getOwnPropertySymbols,Uw=IE?function(e){return e==null?[]:(e=Object(e),dD(IE(e),function(t){return ict.call(e,t)}))}:fD;function sct(e,t){return dg(e,Uw(e),t)}var act=Object.getOwnPropertySymbols,pD=act?function(e){for(var t=[];e;)Ww(t,Uw(e)),e=uw(e);return t}:fD;function oct(e,t){return dg(e,pD(e),t)}function gD(e,t,r){var n=t(e);return Br(e)?n:Ww(n,r(e))}function V_(e){return gD(e,Ti,Uw)}function lct(e){return gD(e,yc,pD)}var cct=Object.prototype,uct=cct.hasOwnProperty;function hct(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&uct.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function dct(e,t){var r=t?cw(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var fct=/\w*$/;function pct(e){var t=new e.constructor(e.source,fct.exec(e));return t.lastIndex=e.lastIndex,t}var NE=ts?ts.prototype:void 0,$E=NE?NE.valueOf:void 0;function gct(e){return $E?Object($E.call(e)):{}}var mct="[object Boolean]",yct="[object Date]",xct="[object Map]",bct="[object Number]",vct="[object RegExp]",_ct="[object Set]",Tct="[object String]",kct="[object Symbol]",wct="[object ArrayBuffer]",Sct="[object DataView]",Cct="[object Float32Array]",Ect="[object Float64Array]",Act="[object Int8Array]",Lct="[object Int16Array]",Rct="[object Int32Array]",Ict="[object Uint8Array]",Nct="[object Uint8ClampedArray]",$ct="[object Uint16Array]",Oct="[object Uint32Array]";function Dct(e,t,r){var n=e.constructor;switch(t){case wct:return cw(e);case mct:case yct:return new n(+e);case Sct:return dct(e,r);case Cct:case Ect:case Act:case Lct:case Rct:case Ict:case Nct:case $ct:case Oct:return wN(e,r);case xct:return new n;case bct:case Tct:return new n(e);case vct:return pct(e);case _ct:return new n;case kct:return gct(e)}}var Mct="[object Map]";function Pct(e){return ia(e)&&Gi(e)==Mct}var OE=Bh&&Bh.isMap,Bct=OE?d2(OE):Pct,Fct="[object Set]";function Vct(e){return ia(e)&&Gi(e)==Fct}var DE=Bh&&Bh.isSet,zct=DE?d2(DE):Vct,Wct=1,Uct=2,Hct=4,mD="[object Arguments]",Gct="[object Array]",qct="[object Boolean]",jct="[object Date]",Yct="[object Error]",yD="[object Function]",Xct="[object GeneratorFunction]",Kct="[object Map]",Qct="[object Number]",xD="[object Object]",Zct="[object RegExp]",Jct="[object Set]",tut="[object String]",eut="[object Symbol]",rut="[object WeakMap]",nut="[object ArrayBuffer]",iut="[object DataView]",sut="[object Float32Array]",aut="[object Float64Array]",out="[object Int8Array]",lut="[object Int16Array]",cut="[object Int32Array]",uut="[object Uint8Array]",hut="[object Uint8ClampedArray]",dut="[object Uint16Array]",fut="[object Uint32Array]",nr={};nr[mD]=nr[Gct]=nr[nut]=nr[iut]=nr[qct]=nr[jct]=nr[sut]=nr[aut]=nr[out]=nr[lut]=nr[cut]=nr[Kct]=nr[Qct]=nr[xD]=nr[Zct]=nr[Jct]=nr[tut]=nr[eut]=nr[uut]=nr[hut]=nr[dut]=nr[fut]=!0;nr[Yct]=nr[yD]=nr[rut]=!1;function Zf(e,t,r,n,i,s){var a,o=t&Wct,l=t&Uct,u=t&Hct;if(a!==void 0)return a;if(!Ei(e))return e;var h=Br(e);if(h){if(a=hct(e),!o)return SN(e,a)}else{var d=Gi(e),f=d==yD||d==Xct;if(Ph(e))return kN(e,o);if(d==xD||d==mD||f&&!i){if(a=l||f?{}:EN(e),!o)return l?oct(e,rct(a,e)):sct(e,ect(a,e))}else{if(!nr[d])return i?e:{};a=Dct(e,d,o)}}s||(s=new _s);var p=s.get(e);if(p)return p;s.set(e,a),zct(e)?e.forEach(function(b){a.add(Zf(b,t,r,b,e,s))}):Bct(e)&&e.forEach(function(b,x){a.set(x,Zf(b,t,r,x,e,s))});var m=u?l?lct:V_:l?yc:Ti,y=h?void 0:m(e);return cD(y||e,function(b,x){y&&(x=b,b=e[x]),p2(a,x,Zf(b,t,r,x,e,s))}),a}var put=4;function bD(e){return Zf(e,put)}var gut=1,mut=4;function yut(e){return Zf(e,gut|mut)}var xut="__lodash_hash_undefined__";function but(e){return this.__data__.set(e,xut),this}function vut(e){return this.__data__.has(e)}function $p(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new no;++t<r;)this.add(e[t])}$p.prototype.add=$p.prototype.push=but;$p.prototype.has=vut;function _ut(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function vD(e,t){return e.has(t)}var Tut=1,kut=2;function _D(e,t,r,n,i,s){var a=r&Tut,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(e),h=s.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,p=r&kut?new $p:void 0;for(s.set(e,t),s.set(t,e);++d<o;){var m=e[d],y=t[d];if(n)var b=a?n(y,m,d,t,e,s):n(m,y,d,e,t,s);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!_ut(t,function(x,v){if(!vD(p,v)&&(m===x||i(m,x,r,n,s)))return p.push(v)})){f=!1;break}}else if(!(m===y||i(m,y,r,n,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function wut(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function Hw(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Sut=1,Cut=2,Eut="[object Boolean]",Aut="[object Date]",Lut="[object Error]",Rut="[object Map]",Iut="[object Number]",Nut="[object RegExp]",$ut="[object Set]",Out="[object String]",Dut="[object Symbol]",Mut="[object ArrayBuffer]",Put="[object DataView]",ME=ts?ts.prototype:void 0,Sb=ME?ME.valueOf:void 0;function But(e,t,r,n,i,s,a){switch(r){case Put:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Mut:return!(e.byteLength!=t.byteLength||!s(new ym(e),new ym(t)));case Eut:case Aut:case Iut:return sd(+e,+t);case Lut:return e.name==t.name&&e.message==t.message;case Nut:case Out:return e==t+"";case Rut:var o=wut;case $ut:var l=n&Sut;if(o||(o=Hw),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;n|=Cut,a.set(e,t);var h=_D(o(e),o(t),n,i,s,a);return a.delete(e),h;case Dut:if(Sb)return Sb.call(e)==Sb.call(t)}return!1}var Fut=1,Vut=Object.prototype,zut=Vut.hasOwnProperty;function Wut(e,t,r,n,i,s){var a=r&Fut,o=V_(e),l=o.length,u=V_(t),h=u.length;if(l!=h&&!a)return!1;for(var d=l;d--;){var f=o[d];if(!(a?f in t:zut.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var y=!0;s.set(e,t),s.set(t,e);for(var b=a;++d<l;){f=o[d];var x=e[f],v=t[f];if(n)var _=a?n(v,x,f,t,e,s):n(x,v,f,e,t,s);if(!(_===void 0?x===v||i(x,v,r,n,s):_)){y=!1;break}b||(b=f=="constructor")}if(y&&!b){var S=e.constructor,k=t.constructor;S!=k&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof k=="function"&&k instanceof k)&&(y=!1)}return s.delete(e),s.delete(t),y}var Uut=1,PE="[object Arguments]",BE="[object Array]",l1="[object Object]",Hut=Object.prototype,FE=Hut.hasOwnProperty;function Gut(e,t,r,n,i,s){var a=Br(e),o=Br(t),l=a?BE:Gi(e),u=o?BE:Gi(t);l=l==PE?l1:l,u=u==PE?l1:u;var h=l==l1,d=u==l1,f=l==u;if(f&&Ph(e)){if(!Ph(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new _s),a||f2(e)?_D(e,t,r,n,i,s):But(e,t,l,r,n,i,s);if(!(r&Uut)){var p=h&&FE.call(e,"__wrapped__"),m=d&&FE.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,b=m?t.value():t;return s||(s=new _s),i(y,b,r,n,s)}}return f?(s||(s=new _s),Wut(e,t,r,n,i,s)):!1}function Gw(e,t,r,n,i){return e===t?!0:e==null||t==null||!ia(e)&&!ia(t)?e!==e&&t!==t:Gut(e,t,r,n,Gw,i)}var qut=1,jut=2;function Yut(e,t,r,n){var i=r.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var a=r[i];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=r[i];var o=a[0],l=e[o],u=a[1];if(a[2]){if(l===void 0&&!(o in e))return!1}else{var h=new _s,d;if(!(d===void 0?Gw(u,l,qut|jut,n,h):d))return!1}}return!0}function TD(e){return e===e&&!Ei(e)}function Xut(e){for(var t=Ti(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,TD(i)]}return t}function kD(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function Kut(e){var t=Xut(e);return t.length==1&&t[0][2]?kD(t[0][0],t[0][1]):function(r){return r===e||Yut(r,e,t)}}function Qut(e,t){return e!=null&&t in Object(e)}function wD(e,t,r){t=L2(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var a=mg(t[n]);if(!(s=e!=null&&r(e,a)))break;e=e[a]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&hw(i)&&g2(a,i)&&(Br(e)||Mh(e)))}function SD(e,t){return e!=null&&wD(e,t,Qut)}var Zut=1,Jut=2;function tht(e,t){return zw(e)&&TD(t)?kD(mg(e),t):function(r){var n=Qlt(r,e);return n===void 0&&n===t?SD(r,e):Gw(t,n,Zut|Jut)}}function eht(e){return function(t){return t==null?void 0:t[e]}}function rht(e){return function(t){return R2(t,e)}}function nht(e){return zw(e)?eht(mg(e)):rht(e)}function io(e){return typeof e=="function"?e:e==null?xc:typeof e=="object"?Br(e)?tht(e[0],e[1]):Kut(e):nht(e)}function qw(e,t){return e&&lw(e,t,Ti)}function iht(e,t){return function(r,n){if(r==null)return r;if(!qo(r))return e(r,n);for(var i=r.length,s=-1,a=Object(r);++s<i&&n(a[s],s,a)!==!1;);return r}}var N2=iht(qw),CD=Object.prototype,sht=CD.hasOwnProperty,aht=m2(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&Ap(t[0],t[1],i)&&(n=1);++r<n;)for(var s=t[r],a=yc(s),o=-1,l=a.length;++o<l;){var u=a[o],h=e[u];(h===void 0||sd(h,CD[u])&&!sht.call(e,u))&&(e[u]=s[u])}return e});function Nm(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function jw(e){return typeof e=="function"?e:xc}function Et(e,t){var r=Br(e)?cD:N2;return r(e,jw(t))}function oht(e,t){var r=[];return N2(e,function(n,i,s){t(n,i,s)&&r.push(n)}),r}function Xs(e,t){var r=Br(e)?dD:oht;return r(e,io(t))}function lht(e){return function(t,r,n){var i=Object(t);if(!qo(t)){var s=io(r);t=Ti(t),r=function(o){return s(i[o],o,i)}}var a=e(t,r,n);return a>-1?i[s?t[a]:a]:void 0}}var cht=Math.max;function uht(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Blt(r);return i<0&&(i=cht(n+i,0)),uD(e,io(t),i)}var Yw=lht(uht);function ED(e,t){var r=-1,n=qo(e)?Array(e.length):[];return N2(e,function(i,s,a){n[++r]=t(i,s,a)}),n}function Je(e,t){var r=Br(e)?yu:ED;return r(e,io(t))}function hht(e,t){return I2(Je(e,t))}function dht(e,t){return e==null?e:lw(e,jw(t),yc)}function fht(e,t){return e&&qw(e,jw(t))}function pht(e,t){return e>t}var ght=Object.prototype,mht=ght.hasOwnProperty;function yht(e,t){return e!=null&&mht.call(e,t)}function AD(e,t){return e!=null&&wD(e,t,yht)}function xht(e,t){return yu(t,function(r){return e[r]})}function Va(e){return e==null?[]:xht(e,Ti(e))}function Rr(e){return e===void 0}function LD(e,t){return e<t}function $2(e,t){var r={};return t=io(t),qw(e,function(n,i,s){u2(r,i,t(n,i,s))}),r}function Xw(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],a=t(s);if(a!=null&&(o===void 0?a===a&&!Jl(a):r(a,o)))var o=a,l=s}return l}function tc(e){return e&&e.length?Xw(e,xc,pht):void 0}function zh(e){return e&&e.length?Xw(e,xc,LD):void 0}function Kw(e,t){return e&&e.length?Xw(e,io(t),LD):void 0}function bht(e,t,r,n){if(!Ei(e))return e;t=L2(t,e);for(var i=-1,s=t.length,a=s-1,o=e;o!=null&&++i<s;){var l=mg(t[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=a){var h=o[l];u=void 0,u===void 0&&(u=Ei(h)?h:g2(t[i+1])?[]:{})}p2(o,l,u),o=o[l]}return e}function vht(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var a=t[n],o=R2(e,a);r(o,a)&&bht(s,L2(a,e),o)}return s}function _ht(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function Tht(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=Jl(e),a=t!==void 0,o=t===null,l=t===t,u=Jl(t);if(!o&&!u&&!s&&e>t||s&&a&&l&&!o&&!u||n&&a&&l||!r&&l||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||o&&r&&i||!a&&i||!l)return-1}return 0}function kht(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,a=i.length,o=r.length;++n<a;){var l=Tht(i[n],s[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}function wht(e,t,r){t.length?t=yu(t,function(s){return Br(s)?function(a){return R2(a,s.length===1?s[0]:s)}:s}):t=[xc];var n=-1;t=yu(t,d2(io));var i=ED(e,function(s,a,o){var l=yu(t,function(u){return u(s)});return{criteria:l,index:++n,value:s}});return _ht(i,function(s,a){return kht(s,a,r)})}function Sht(e,t){return vht(e,t,function(r,n){return SD(e,n)})}var $m=Jlt(function(e,t){return e==null?{}:Sht(e,t)}),Cht=Math.ceil,Eht=Math.max;function Aht(e,t,r,n){for(var i=-1,s=Eht(Cht((t-e)/(r||1)),0),a=Array(s);s--;)a[++i]=e,e+=r;return a}function Lht(e){return function(t,r,n){return n&&typeof n!="number"&&Ap(t,r,n)&&(r=n=void 0),t=o0(t),r===void 0?(r=t,t=0):r=o0(r),n=n===void 0?t<r?1:-1:o0(n),Aht(t,r,n)}}var Wh=Lht();function Rht(e,t,r,n,i){return i(e,function(s,a,o){r=n?(n=!1,s):t(r,s,a,o)}),r}function ec(e,t,r){var n=Br(e)?tct:Rht,i=arguments.length<3;return n(e,io(t),r,i,N2)}var yg=m2(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ap(e,t[0],t[1])?t=[]:r>2&&Ap(t[0],t[1],t[2])&&(t=[t[0]]),wht(e,I2(t),[])}),Iht=1/0,Nht=mu&&1/Hw(new mu([,-0]))[1]==Iht?function(e){return new mu(e)}:Flt,$ht=200;function RD(e,t,r){var n=-1,i=Ult,s=e.length,a=!0,o=[],l=o;if(s>=$ht){var u=t?null:Nht(e);if(u)return Hw(u);a=!1,i=vD,l=new $p}else l=t?[]:o;t:for(;++n<s;){var h=e[n],d=t?t(h):h;if(h=h!==0?h:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue t;t&&l.push(d),o.push(h)}else i(l,d,r)||(l!==o&&l.push(d),o.push(h))}return o}var Oht=m2(function(e){return RD(I2(e,1,LN,!0))});function Dht(e,t){return e&&e.length?RD(e,io(t)):[]}var Mht=0;function Qw(e){var t=++Mht;return hD(e)+t}function Pht(e,t,r){for(var n=-1,i=e.length,s=t.length,a={};++n<i;){var o=n<s?t[n]:void 0;r(a,e[n],o)}return a}function Bht(e,t){return Pht(e||[],t||[],p2)}var Fht="\0",fl="\0",VE="";class pi{constructor(t={}){this._isDirected=Object.prototype.hasOwnProperty.call(t,"directed")?t.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(t,"multigraph")?t.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=eu(void 0),this._defaultEdgeLabelFn=eu(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[fl]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return Sp(t)||(t=eu(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return Ti(this._nodes)}sources(){var t=this;return Xs(this.nodes(),function(r){return Np(t._in[r])})}sinks(){var t=this;return Xs(this.nodes(),function(r){return Np(t._out[r])})}setNodes(t,r){var n=arguments,i=this;return Et(t,function(s){n.length>1?i.setNode(s,r):i.setNode(s)}),this}setNode(t,r){return Object.prototype.hasOwnProperty.call(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=r),this):(this._nodes[t]=arguments.length>1?r:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=fl,this._children[t]={},this._children[fl][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.prototype.hasOwnProperty.call(this._nodes,t)}removeNode(t){if(Object.prototype.hasOwnProperty.call(this._nodes,t)){var r=n=>this.removeEdge(this._edgeObjs[n]);delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],Et(this.children(t),n=>{this.setParent(n)}),delete this._children[t]),Et(Ti(this._in[t]),r),delete this._in[t],delete this._preds[t],Et(Ti(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Rr(r))r=fl;else{r+="";for(var n=r;!Rr(n);n=this.parent(n))if(n===t)throw new Error("Setting "+r+" as parent of "+t+" would create a cycle");this.setNode(r)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=r,this._children[r][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var r=this._parent[t];if(r!==fl)return r}}children(t){if(Rr(t)&&(t=fl),this._isCompound){var r=this._children[t];if(r)return Ti(r)}else{if(t===fl)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return Ti(r)}successors(t){var r=this._sucs[t];if(r)return Ti(r)}neighbors(t){var r=this.predecessors(t);if(r)return Oht(r,this.successors(t))}isLeaf(t){var r;return this.isDirected()?r=this.successors(t):r=this.neighbors(t),r.length===0}filterNodes(t){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;Et(this._nodes,function(a,o){t(o)&&r.setNode(o,a)}),Et(this._edgeObjs,function(a){r.hasNode(a.v)&&r.hasNode(a.w)&&r.setEdge(a,n.edge(a))});var i={};function s(a){var o=n.parent(a);return o===void 0||r.hasNode(o)?(i[a]=o,o):o in i?i[o]:s(o)}return this._isCompound&&Et(r.nodes(),function(a){r.setParent(a,s(a))}),r}setDefaultEdgeLabel(t){return Sp(t)||(t=eu(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return Va(this._edgeObjs)}setPath(t,r){var n=this,i=arguments;return ec(t,function(s,a){return i.length>1?n.setEdge(s,a,r):n.setEdge(s,a),a}),this}setEdge(){var t,r,n,i,s=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(t=a.v,r=a.w,n=a.name,arguments.length===2&&(i=arguments[1],s=!0)):(t=a,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),t=""+t,r=""+r,Rr(n)||(n=""+n);var o=Qd(this._isDirected,t,r,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return s&&(this._edgeLabels[o]=i),this;if(!Rr(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(r),this._edgeLabels[o]=s?i:this._defaultEdgeLabelFn(t,r,n);var l=Vht(this._isDirected,t,r,n);return t=l.v,r=l.w,Object.freeze(l),this._edgeObjs[o]=l,zE(this._preds[r],t),zE(this._sucs[t],r),this._in[r][o]=l,this._out[t][o]=l,this._edgeCount++,this}edge(t,r,n){var i=arguments.length===1?Cb(this._isDirected,arguments[0]):Qd(this._isDirected,t,r,n);return this._edgeLabels[i]}hasEdge(t,r,n){var i=arguments.length===1?Cb(this._isDirected,arguments[0]):Qd(this._isDirected,t,r,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,i)}removeEdge(t,r,n){var i=arguments.length===1?Cb(this._isDirected,arguments[0]):Qd(this._isDirected,t,r,n),s=this._edgeObjs[i];return s&&(t=s.v,r=s.w,delete this._edgeLabels[i],delete this._edgeObjs[i],WE(this._preds[r],t),WE(this._sucs[t],r),delete this._in[r][i],delete this._out[t][i],this._edgeCount--),this}inEdges(t,r){var n=this._in[t];if(n){var i=Va(n);return r?Xs(i,function(s){return s.v===r}):i}}outEdges(t,r){var n=this._out[t];if(n){var i=Va(n);return r?Xs(i,function(s){return s.w===r}):i}}nodeEdges(t,r){var n=this.inEdges(t,r);if(n)return n.concat(this.outEdges(t,r))}}pi.prototype._nodeCount=0;pi.prototype._edgeCount=0;function zE(e,t){e[t]?e[t]++:e[t]=1}function WE(e,t){--e[t]||delete e[t]}function Qd(e,t,r,n){var i=""+t,s=""+r;if(!e&&i>s){var a=i;i=s,s=a}return i+VE+s+VE+(Rr(n)?Fht:n)}function Vht(e,t,r,n){var i=""+t,s=""+r;if(!e&&i>s){var a=i;i=s,s=a}var o={v:i,w:s};return n&&(o.name=n),o}function Cb(e,t){return Qd(e,t.v,t.w,t.name)}class zht{constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,r=t._prev;if(r!==t)return UE(r),r}enqueue(t){var r=this._sentinel;t._prev&&t._next&&UE(t),t._next=r._next,r._next._prev=t,r._next=t,t._prev=r}toString(){for(var t=[],r=this._sentinel,n=r._prev;n!==r;)t.push(JSON.stringify(n,Wht)),n=n._prev;return"["+t.join(", ")+"]"}}function UE(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Wht(e,t){if(e!=="_next"&&e!=="_prev")return t}var Uht=eu(1);function Hht(e,t){if(e.nodeCount()<=1)return[];var r=qht(e,t||Uht),n=Ght(r.graph,r.buckets,r.zeroIdx);return _c(Je(n,function(i){return e.outEdges(i.v,i.w)}))}function Ght(e,t,r){for(var n=[],i=t[t.length-1],s=t[0],a;e.nodeCount();){for(;a=s.dequeue();)Eb(e,t,r,a);for(;a=i.dequeue();)Eb(e,t,r,a);if(e.nodeCount()){for(var o=t.length-2;o>0;--o)if(a=t[o].dequeue(),a){n=n.concat(Eb(e,t,r,a,!0));break}}}return n}function Eb(e,t,r,n,i){var s=i?[]:void 0;return Et(e.inEdges(n.v),function(a){var o=e.edge(a),l=e.node(a.v);i&&s.push({v:a.v,w:a.w}),l.out-=o,z_(t,r,l)}),Et(e.outEdges(n.v),function(a){var o=e.edge(a),l=a.w,u=e.node(l);u.in-=o,z_(t,r,u)}),e.removeNode(n.v),s}function qht(e,t){var r=new pi,n=0,i=0;Et(e.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),Et(e.edges(),function(o){var l=r.edge(o.v,o.w)||0,u=t(o),h=l+u;r.setEdge(o.v,o.w,h),i=Math.max(i,r.node(o.v).out+=u),n=Math.max(n,r.node(o.w).in+=u)});var s=Wh(i+n+3).map(function(){return new zht}),a=n+1;return Et(r.nodes(),function(o){z_(s,a,r.node(o))}),{graph:r,buckets:s,zeroIdx:a}}function z_(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}function jht(e){var t=e.graph().acyclicer==="greedy"?Hht(e,r(e)):Yht(e);Et(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,Qw("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function Yht(e){var t=[],r={},n={};function i(s){Object.prototype.hasOwnProperty.call(n,s)||(n[s]=!0,r[s]=!0,Et(e.outEdges(s),function(a){Object.prototype.hasOwnProperty.call(r,a.w)?t.push(a):i(a.w)}),delete r[s])}return Et(e.nodes(),i),t}function Xht(e){Et(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}function ud(e,t,r,n){var i;do i=Qw(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function Kht(e){var t=new pi().setGraph(e.graph());return Et(e.nodes(),function(r){t.setNode(r,e.node(r))}),Et(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function ID(e){var t=new pi({multigraph:e.isMultigraph()}).setGraph(e.graph());return Et(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Et(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function HE(e,t){var r=e.x,n=e.y,i=t.x-r,s=t.y-n,a=e.width/2,o=e.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=o*i/s,u=o):(i<0&&(a=-a),l=a,u=a*s/i),{x:r+l,y:n+u}}function O2(e){var t=Je(Wh(ND(e)+1),function(){return[]});return Et(e.nodes(),function(r){var n=e.node(r),i=n.rank;Rr(i)||(t[i][n.order]=r)}),t}function Qht(e){var t=zh(Je(e.nodes(),function(r){return e.node(r).rank}));Et(e.nodes(),function(r){var n=e.node(r);AD(n,"rank")&&(n.rank-=t)})}function Zht(e){var t=zh(Je(e.nodes(),function(s){return e.node(s).rank})),r=[];Et(e.nodes(),function(s){var a=e.node(s).rank-t;r[a]||(r[a]=[]),r[a].push(s)});var n=0,i=e.graph().nodeRankFactor;Et(r,function(s,a){Rr(s)&&a%i!==0?--n:n&&Et(s,function(o){e.node(o).rank+=n})})}function GE(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),ud(e,"border",i,t)}function ND(e){return tc(Je(e.nodes(),function(t){var r=e.node(t).rank;if(!Rr(r))return r}))}function Jht(e,t){var r={lhs:[],rhs:[]};return Et(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function tdt(e,t){return t()}function edt(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&Et(n,t),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,a=i.maxRank+1;s<a;++s)qE(e,"borderLeft","_bl",r,i,s),qE(e,"borderRight","_br",r,i,s)}}Et(e.children(),t)}function qE(e,t,r,n,i,s){var a={width:0,height:0,rank:s,borderType:t},o=i[t][s-1],l=ud(e,"border",a,r);i[t][s]=l,e.setParent(l,n),o&&e.setEdge(o,l,{weight:1})}function rdt(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&$D(e)}function ndt(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&idt(e),(t==="lr"||t==="rl")&&(sdt(e),$D(e))}function $D(e){Et(e.nodes(),function(t){jE(e.node(t))}),Et(e.edges(),function(t){jE(e.edge(t))})}function jE(e){var t=e.width;e.width=e.height,e.height=t}function idt(e){Et(e.nodes(),function(t){Ab(e.node(t))}),Et(e.edges(),function(t){var r=e.edge(t);Et(r.points,Ab),Object.prototype.hasOwnProperty.call(r,"y")&&Ab(r)})}function Ab(e){e.y=-e.y}function sdt(e){Et(e.nodes(),function(t){Lb(e.node(t))}),Et(e.edges(),function(t){var r=e.edge(t);Et(r.points,Lb),Object.prototype.hasOwnProperty.call(r,"x")&&Lb(r)})}function Lb(e){var t=e.x;e.x=e.y,e.y=t}function adt(e){e.graph().dummyChains=[],Et(e.edges(),function(t){odt(e,t)})}function odt(e,t){var r=t.v,n=e.node(r).rank,i=t.w,s=e.node(i).rank,a=t.name,o=e.edge(t),l=o.labelRank;if(s!==n+1){e.removeEdge(t);var u=void 0,h,d;for(d=0,++n;n<s;++d,++n)o.points=[],u={width:0,height:0,edgeLabel:o,edgeObj:t,rank:n},h=ud(e,"edge",u,"_d"),n===l&&(u.width=o.width,u.height=o.height,u.dummy="edge-label",u.labelpos=o.labelpos),e.setEdge(r,h,{weight:o.weight},a),d===0&&e.graph().dummyChains.push(h),r=h;e.setEdge(r,i,{weight:o.weight},a)}}function ldt(e){Et(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}function Zw(e){var t={};function r(n){var i=e.node(n);if(Object.prototype.hasOwnProperty.call(t,n))return i.rank;t[n]=!0;var s=zh(Je(e.outEdges(n),function(a){return r(a.w)-e.edge(a).minlen}));return(s===Number.POSITIVE_INFINITY||s===void 0||s===null)&&(s=0),i.rank=s}Et(e.sources(),r)}function Op(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function OD(e){var t=new pi({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,s;cdt(t,e)<n;)i=udt(t,e),s=t.hasNode(i.v)?Op(e,i):-Op(e,i),hdt(t,e,s);return t}function cdt(e,t){function r(n){Et(t.nodeEdges(n),function(i){var s=i.v,a=n===s?i.w:s;!e.hasNode(a)&&!Op(t,i)&&(e.setNode(a,{}),e.setEdge(n,a,{}),r(a))})}return Et(e.nodes(),r),e.nodeCount()}function udt(e,t){return Kw(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return Op(t,r)})}function hdt(e,t,r){Et(e.nodes(),function(n){t.node(n).rank+=r})}function ddt(){}ddt.prototype=new Error;function DD(e,t,r){Br(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],s={};return Et(t,function(a){if(!e.hasNode(a))throw new Error("Graph does not have node: "+a);MD(e,a,r==="post",s,n,i)}),i}function MD(e,t,r,n,i,s){Object.prototype.hasOwnProperty.call(n,t)||(n[t]=!0,r||s.push(t),Et(i(t),function(a){MD(e,a,r,n,i,s)}),r&&s.push(t))}function fdt(e,t){return DD(e,t,"post")}function pdt(e,t){return DD(e,t,"pre")}Tc.initLowLimValues=tS;Tc.initCutValues=Jw;Tc.calcCutValue=PD;Tc.leaveEdge=FD;Tc.enterEdge=VD;Tc.exchangeEdges=zD;function Tc(e){e=Kht(e),Zw(e);var t=OD(e);tS(t),Jw(t,e);for(var r,n;r=FD(t);)n=VD(t,e,r),zD(t,e,r,n)}function Jw(e,t){var r=fdt(e,e.nodes());r=r.slice(0,r.length-1),Et(r,function(n){gdt(e,t,n)})}function gdt(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=PD(e,t,r)}function PD(e,t,r){var n=e.node(r),i=n.parent,s=!0,a=t.edge(r,i),o=0;return a||(s=!1,a=t.edge(i,r)),o=a.weight,Et(t.nodeEdges(r),function(l){var u=l.v===r,h=u?l.w:l.v;if(h!==i){var d=u===s,f=t.edge(l).weight;if(o+=d?f:-f,ydt(e,r,h)){var p=e.edge(r,h).cutvalue;o+=d?-p:p}}}),o}function tS(e,t){arguments.length<2&&(t=e.nodes()[0]),BD(e,{},1,t)}function BD(e,t,r,n,i){var s=r,a=e.node(n);return t[n]=!0,Et(e.neighbors(n),function(o){Object.prototype.hasOwnProperty.call(t,o)||(r=BD(e,t,r,o,n))}),a.low=s,a.lim=r++,i?a.parent=i:delete a.parent,r}function FD(e){return Yw(e.edges(),function(t){return e.edge(t).cutvalue<0})}function VD(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var s=e.node(n),a=e.node(i),o=s,l=!1;s.lim>a.lim&&(o=a,l=!0);var u=Xs(t.edges(),function(h){return l===YE(e,e.node(h.v),o)&&l!==YE(e,e.node(h.w),o)});return Kw(u,function(h){return Op(t,h)})}function zD(e,t,r,n){var i=r.v,s=r.w;e.removeEdge(i,s),e.setEdge(n.v,n.w,{}),tS(e),Jw(e,t),mdt(e,t)}function mdt(e,t){var r=Yw(e.nodes(),function(i){return!t.node(i).parent}),n=pdt(e,r);n=n.slice(1),Et(n,function(i){var s=e.node(i).parent,a=t.edge(i,s),o=!1;a||(a=t.edge(s,i),o=!0),t.node(i).rank=t.node(s).rank+(o?a.minlen:-a.minlen)})}function ydt(e,t,r){return e.hasEdge(t,r)}function YE(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}function xdt(e){switch(e.graph().ranker){case"network-simplex":XE(e);break;case"tight-tree":vdt(e);break;case"longest-path":bdt(e);break;default:XE(e)}}var bdt=Zw;function vdt(e){Zw(e),OD(e)}function XE(e){Tc(e)}function _dt(e){var t=ud(e,"root",{},"_root"),r=Tdt(e),n=tc(Va(r))-1,i=2*n+1;e.graph().nestingRoot=t,Et(e.edges(),function(a){e.edge(a).minlen*=i});var s=kdt(e)+1;Et(e.children(),function(a){WD(e,t,i,s,n,r,a)}),e.graph().nodeRankFactor=i}function WD(e,t,r,n,i,s,a){var o=e.children(a);if(!o.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:r});return}var l=GE(e,"_bt"),u=GE(e,"_bb"),h=e.node(a);e.setParent(l,a),h.borderTop=l,e.setParent(u,a),h.borderBottom=u,Et(o,function(d){WD(e,t,r,n,i,s,d);var f=e.node(d),p=f.borderTop?f.borderTop:d,m=f.borderBottom?f.borderBottom:d,y=f.borderTop?n:2*n,b=p!==m?1:i-s[a]+1;e.setEdge(l,p,{weight:y,minlen:b,nestingEdge:!0}),e.setEdge(m,u,{weight:y,minlen:b,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,l,{weight:0,minlen:i+s[a]})}function Tdt(e){var t={};function r(n,i){var s=e.children(n);s&&s.length&&Et(s,function(a){r(a,i+1)}),t[n]=i}return Et(e.children(),function(n){r(n,1)}),t}function kdt(e){return ec(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function wdt(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Et(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}function Sdt(e,t,r){var n={},i;Et(r,function(s){for(var a=e.parent(s),o,l;a;){if(o=e.parent(a),o?(l=n[o],n[o]=a):(l=i,i=a),l&&l!==a){t.setEdge(l,a);return}a=o}})}function Cdt(e,t,r){var n=Edt(e),i=new pi({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(s){return e.node(s)});return Et(e.nodes(),function(s){var a=e.node(s),o=e.parent(s);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(s),i.setParent(s,o||n),Et(e[r](s),function(l){var u=l.v===s?l.w:l.v,h=i.edge(u,s),d=Rr(h)?0:h.weight;i.setEdge(u,s,{weight:e.edge(l).weight+d})}),Object.prototype.hasOwnProperty.call(a,"minRank")&&i.setNode(s,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function Edt(e){for(var t;e.hasNode(t=Qw("_root")););return t}function Adt(e,t){for(var r=0,n=1;n<t.length;++n)r+=Ldt(e,t[n-1],t[n]);return r}function Ldt(e,t,r){for(var n=Bht(r,Je(r,function(u,h){return h})),i=_c(Je(t,function(u){return yg(Je(e.outEdges(u),function(h){return{pos:n[h.w],weight:e.edge(h).weight}}),"pos")})),s=1;s<r.length;)s<<=1;var a=2*s-1;s-=1;var o=Je(new Array(a),function(){return 0}),l=0;return Et(i.forEach(function(u){var h=u.pos+s;o[h]+=u.weight;for(var d=0;h>0;)h%2&&(d+=o[h+1]),h=h-1>>1,o[h]+=u.weight;l+=u.weight*d})),l}function Rdt(e){var t={},r=Xs(e.nodes(),function(o){return!e.children(o).length}),n=tc(Je(r,function(o){return e.node(o).rank})),i=Je(Wh(n+1),function(){return[]});function s(o){if(!AD(t,o)){t[o]=!0;var l=e.node(o);i[l.rank].push(o),Et(e.successors(o),s)}}var a=yg(r,function(o){return e.node(o).rank});return Et(a,s),i}function Idt(e,t){return Je(t,function(r){var n=e.inEdges(r);if(n.length){var i=ec(n,function(s,a){var o=e.edge(a),l=e.node(a.v);return{sum:s.sum+o.weight*l.order,weight:s.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}function Ndt(e,t){var r={};Et(e,function(i,s){var a=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};Rr(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),Et(t.edges(),function(i){var s=r[i.v],a=r[i.w];!Rr(s)&&!Rr(a)&&(a.indegree++,s.out.push(r[i.w]))});var n=Xs(r,function(i){return!i.indegree});return $dt(n)}function $dt(e){var t=[];function r(s){return function(a){a.merged||(Rr(a.barycenter)||Rr(s.barycenter)||a.barycenter>=s.barycenter)&&Odt(s,a)}}function n(s){return function(a){a.in.push(s),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),Et(i.in.reverse(),r(i)),Et(i.out,n(i))}return Je(Xs(t,function(s){return!s.merged}),function(s){return $m(s,["vs","i","barycenter","weight"])})}function Odt(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}function Ddt(e,t){var r=Jht(e,function(h){return Object.prototype.hasOwnProperty.call(h,"barycenter")}),n=r.lhs,i=yg(r.rhs,function(h){return-h.i}),s=[],a=0,o=0,l=0;n.sort(Mdt(!!t)),l=KE(s,i,l),Et(n,function(h){l+=h.vs.length,s.push(h.vs),a+=h.barycenter*h.weight,o+=h.weight,l=KE(s,i,l)});var u={vs:_c(s)};return o&&(u.barycenter=a/o,u.weight=o),u}function KE(e,t,r){for(var n;t.length&&(n=Nm(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function Mdt(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}function UD(e,t,r,n){var i=e.children(t),s=e.node(t),a=s?s.borderLeft:void 0,o=s?s.borderRight:void 0,l={};a&&(i=Xs(i,function(m){return m!==a&&m!==o}));var u=Idt(e,i);Et(u,function(m){if(e.children(m.v).length){var y=UD(e,m.v,r,n);l[m.v]=y,Object.prototype.hasOwnProperty.call(y,"barycenter")&&Bdt(m,y)}});var h=Ndt(u,r);Pdt(h,l);var d=Ddt(h,n);if(a&&(d.vs=_c([a,d.vs,o]),e.predecessors(a).length)){var f=e.node(e.predecessors(a)[0]),p=e.node(e.predecessors(o)[0]);Object.prototype.hasOwnProperty.call(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d}function Pdt(e,t){Et(e,function(r){r.vs=_c(r.vs.map(function(n){return t[n]?t[n].vs:n}))})}function Bdt(e,t){Rr(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}function Fdt(e){var t=ND(e),r=QE(e,Wh(1,t+1),"inEdges"),n=QE(e,Wh(t-1,-1,-1),"outEdges"),i=Rdt(e);ZE(e,i);for(var s=Number.POSITIVE_INFINITY,a,o=0,l=0;l<4;++o,++l){Vdt(o%2?r:n,o%4>=2),i=O2(e);var u=Adt(e,i);u<s&&(l=0,a=yut(i),s=u)}ZE(e,a)}function QE(e,t,r){return Je(t,function(n){return Cdt(e,n,r)})}function Vdt(e,t){var r=new pi;Et(e,function(n){var i=n.graph().root,s=UD(n,i,r,t);Et(s.vs,function(a,o){n.node(a).order=o}),Sdt(n,r,s.vs)})}function ZE(e,t){Et(t,function(r){Et(r,function(n,i){e.node(n).order=i})})}function zdt(e){var t=Udt(e);Et(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,s=Wdt(e,t,i.v,i.w),a=s.path,o=s.lca,l=0,u=a[l],h=!0;r!==i.w;){if(n=e.node(r),h){for(;(u=a[l])!==o&&e.node(u).maxRank<n.rank;)l++;u===o&&(h=!1)}if(!h){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=n.rank;)l++;u=a[l]}e.setParent(r,u),r=e.successors(r)[0]}})}function Wdt(e,t,r,n){var i=[],s=[],a=Math.min(t[r].low,t[n].low),o=Math.max(t[r].lim,t[n].lim),l,u;l=r;do l=e.parent(l),i.push(l);while(l&&(t[l].low>a||o>t[l].lim));for(u=l,l=n;(l=e.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function Udt(e){var t={},r=0;function n(i){var s=r;Et(e.children(i),n),t[i]={low:s,lim:r++}}return Et(e.children(),n),t}function Hdt(e,t){var r={};function n(i,s){var a=0,o=0,l=i.length,u=Nm(s);return Et(s,function(h,d){var f=qdt(e,h),p=f?e.node(f).order:l;(f||h===u)&&(Et(s.slice(o,d+1),function(m){Et(e.predecessors(m),function(y){var b=e.node(y),x=b.order;(x<a||p<x)&&!(b.dummy&&e.node(m).dummy)&&HD(r,y,m)})}),o=d+1,a=p)}),s}return ec(t,n),r}function Gdt(e,t){var r={};function n(s,a,o,l,u){var h;Et(Wh(a,o),function(d){h=s[d],e.node(h).dummy&&Et(e.predecessors(h),function(f){var p=e.node(f);p.dummy&&(p.order<l||p.order>u)&&HD(r,f,h)})})}function i(s,a){var o=-1,l,u=0;return Et(a,function(h,d){if(e.node(h).dummy==="border"){var f=e.predecessors(h);f.length&&(l=e.node(f[0]).order,n(a,u,d,o,l),u=d,o=l)}n(a,u,a.length,l,s.length)}),a}return ec(t,i),r}function qdt(e,t){if(e.node(t).dummy)return Yw(e.predecessors(t),function(r){return e.node(r).dummy})}function HD(e,t,r){if(t>r){var n=t;t=r,r=n}Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,configurable:!0,value:{},writable:!0});var i=e[t];Object.defineProperty(i,r,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function jdt(e,t,r){if(t>r){var n=t;t=r,r=n}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],r)}function Ydt(e,t,r,n){var i={},s={},a={};return Et(t,function(o){Et(o,function(l,u){i[l]=l,s[l]=l,a[l]=u})}),Et(t,function(o){var l=-1;Et(o,function(u){var h=n(u);if(h.length){h=yg(h,function(y){return a[y]});for(var d=(h.length-1)/2,f=Math.floor(d),p=Math.ceil(d);f<=p;++f){var m=h[f];s[u]===u&&l<a[m]&&!jdt(r,u,m)&&(s[m]=u,s[u]=i[u]=i[m],l=a[m])}}})}),{root:i,align:s}}function Xdt(e,t,r,n,i){var s={},a=Kdt(e,t,r,i),o=i?"borderLeft":"borderRight";function l(d,f){for(var p=a.nodes(),m=p.pop(),y={};m;)y[m]?d(m):(y[m]=!0,p.push(m),p=p.concat(f(m))),m=p.pop()}function u(d){s[d]=a.inEdges(d).reduce(function(f,p){return Math.max(f,s[p.v]+a.edge(p))},0)}function h(d){var f=a.outEdges(d).reduce(function(m,y){return Math.min(m,s[y.w]-a.edge(y))},Number.POSITIVE_INFINITY),p=e.node(d);f!==Number.POSITIVE_INFINITY&&p.borderType!==o&&(s[d]=Math.max(s[d],f))}return l(u,a.predecessors.bind(a)),l(h,a.successors.bind(a)),Et(n,function(d){s[d]=s[r[d]]}),s}function Kdt(e,t,r,n){var i=new pi,s=e.graph(),a=eft(s.nodesep,s.edgesep,n);return Et(t,function(o){var l;Et(o,function(u){var h=r[u];if(i.setNode(h),l){var d=r[l],f=i.edge(d,h);i.setEdge(d,h,Math.max(a(e,u,l),f||0))}l=u})}),i}function Qdt(e,t){return Kw(Va(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return dht(r,function(s,a){var o=rft(e,a)/2;n=Math.max(s+o,n),i=Math.min(s-o,i)}),n-i})}function Zdt(e,t){var r=Va(t),n=zh(r),i=tc(r);Et(["u","d"],function(s){Et(["l","r"],function(a){var o=s+a,l=e[o],u;if(l!==t){var h=Va(l);u=a==="l"?n-zh(h):i-tc(h),u&&(e[o]=$2(l,function(d){return d+u}))}})})}function Jdt(e,t){return $2(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=yg(Je(e,n));return(i[1]+i[2])/2})}function tft(e){var t=O2(e),r=xm(Hdt(e,t),Gdt(e,t)),n={},i;Et(["u","d"],function(a){i=a==="u"?t:Va(t).reverse(),Et(["l","r"],function(o){o==="r"&&(i=Je(i,function(d){return Va(d).reverse()}));var l=(a==="u"?e.predecessors:e.successors).bind(e),u=Ydt(e,i,r,l),h=Xdt(e,i,u.root,u.align,o==="r");o==="r"&&(h=$2(h,function(d){return-d})),n[a+o]=h})});var s=Qdt(e,n);return Zdt(n,s),Jdt(n,e.graph().align)}function eft(e,t,r){return function(n,i,s){var a=n.node(i),o=n.node(s),l=0,u;if(l+=a.width/2,Object.prototype.hasOwnProperty.call(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=r?u:-u),u=0,l+=(a.dummy?t:e)/2,l+=(o.dummy?t:e)/2,l+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=r?u:-u),u=0,l}}function rft(e,t){return e.node(t).width}function nft(e){e=ID(e),ift(e),fht(tft(e),function(t,r){e.node(r).x=t})}function ift(e){var t=O2(e),r=e.graph().ranksep,n=0;Et(t,function(i){var s=tc(Je(i,function(a){return e.node(a).height}));Et(i,function(a){e.node(a).y=n+s/2}),n+=s+r})}function GD(e,t){var r=tdt;r("layout",()=>{var n=r("  buildLayoutGraph",()=>gft(e));r("  runLayout",()=>sft(n,r)),r("  updateInputGraph",()=>aft(e,n))})}function sft(e,t){t("    makeSpaceForEdgeLabels",()=>mft(e)),t("    removeSelfEdges",()=>Sft(e)),t("    acyclic",()=>jht(e)),t("    nestingGraph.run",()=>_dt(e)),t("    rank",()=>xdt(ID(e))),t("    injectEdgeLabelProxies",()=>yft(e)),t("    removeEmptyRanks",()=>Zht(e)),t("    nestingGraph.cleanup",()=>wdt(e)),t("    normalizeRanks",()=>Qht(e)),t("    assignRankMinMax",()=>xft(e)),t("    removeEdgeLabelProxies",()=>bft(e)),t("    normalize.run",()=>adt(e)),t("    parentDummyChains",()=>zdt(e)),t("    addBorderSegments",()=>edt(e)),t("    order",()=>Fdt(e)),t("    insertSelfEdges",()=>Cft(e)),t("    adjustCoordinateSystem",()=>rdt(e)),t("    position",()=>nft(e)),t("    positionSelfEdges",()=>Eft(e)),t("    removeBorderNodes",()=>wft(e)),t("    normalize.undo",()=>ldt(e)),t("    fixupEdgeLabelCoords",()=>Tft(e)),t("    undoCoordinateSystem",()=>ndt(e)),t("    translateGraph",()=>vft(e)),t("    assignNodeIntersects",()=>_ft(e)),t("    reversePoints",()=>kft(e)),t("    acyclic.undo",()=>Xht(e))}function aft(e,t){Et(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),Et(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var oft=["nodesep","edgesep","ranksep","marginx","marginy"],lft={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},cft=["acyclicer","ranker","rankdir","align"],uft=["width","height"],hft={width:0,height:0},dft=["minlen","weight","width","height","labeloffset"],fft={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},pft=["labelpos"];function gft(e){var t=new pi({multigraph:!0,compound:!0}),r=Ib(e.graph());return t.setGraph(xm({},lft,Rb(r,oft),$m(r,cft))),Et(e.nodes(),function(n){var i=Ib(e.node(n));t.setNode(n,aht(Rb(i,uft),hft)),t.setParent(n,e.parent(n))}),Et(e.edges(),function(n){var i=Ib(e.edge(n));t.setEdge(n,xm({},fft,Rb(i,dft),$m(i,pft)))}),t}function mft(e){var t=e.graph();t.ranksep/=2,Et(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function yft(e){Et(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),s={rank:(i.rank-n.rank)/2+n.rank,e:t};ud(e,"edge-proxy",s,"_ep")}})}function xft(e){var t=0;Et(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=tc(t,n.maxRank))}),e.graph().maxRank=t}function bft(e){Et(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function vft(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,s=e.graph(),a=s.marginx||0,o=s.marginy||0;function l(u){var h=u.x,d=u.y,f=u.width,p=u.height;t=Math.min(t,h-f/2),r=Math.max(r,h+f/2),n=Math.min(n,d-p/2),i=Math.max(i,d+p/2)}Et(e.nodes(),function(u){l(e.node(u))}),Et(e.edges(),function(u){var h=e.edge(u);Object.prototype.hasOwnProperty.call(h,"x")&&l(h)}),t-=a,n-=o,Et(e.nodes(),function(u){var h=e.node(u);h.x-=t,h.y-=n}),Et(e.edges(),function(u){var h=e.edge(u);Et(h.points,function(d){d.x-=t,d.y-=n}),Object.prototype.hasOwnProperty.call(h,"x")&&(h.x-=t),Object.prototype.hasOwnProperty.call(h,"y")&&(h.y-=n)}),s.width=r-t+a,s.height=i-n+o}function _ft(e){Et(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),s,a;r.points?(s=r.points[0],a=r.points[r.points.length-1]):(r.points=[],s=i,a=n),r.points.unshift(HE(n,s)),r.points.push(HE(i,a))})}function Tft(e){Et(e.edges(),function(t){var r=e.edge(t);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function kft(e){Et(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function wft(e){Et(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),s=e.node(Nm(r.borderLeft)),a=e.node(Nm(r.borderRight));r.width=Math.abs(a.x-s.x),r.height=Math.abs(i.y-n.y),r.x=s.x+r.width/2,r.y=n.y+r.height/2}}),Et(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Sft(e){Et(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Cft(e){var t=O2(e);Et(t,function(r){var n=0;Et(r,function(i,s){var a=e.node(i);a.order=s+n,Et(a.selfEdges,function(o){ud(e,"selfedge",{width:o.label.width,height:o.label.height,rank:a.rank,order:s+ ++n,e:o.e,label:o.label},"_se")}),delete a.selfEdges})})}function Eft(e){Et(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,s=n.y,a=r.x-i,o=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*a/3,y:s-o},{x:i+5*a/6,y:s-o},{x:i+a,y:s},{x:i+5*a/6,y:s+o},{x:i+2*a/3,y:s+o}],r.label.x=r.x,r.label.y=r.y}})}function Rb(e,t){return $2($m(e,t),Number)}function Ib(e){var t={};return Et(e,function(r,n){t[n.toLowerCase()]=r}),t}function Ks(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Aft(e),edges:Lft(e)};return Rr(e.graph())||(t.value=bD(e.graph())),t}function Aft(e){return Je(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return Rr(r)||(i.value=r),Rr(n)||(i.parent=n),i})}function Lft(e){return Je(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return Rr(t.name)||(n.name=t.name),Rr(r)||(n.value=r),n})}var we=new Map,Al=new Map,qD=new Map,Rft=g(()=>{Al.clear(),qD.clear(),we.clear()},"clear"),Om=g((e,t)=>{const r=Al.get(t)||[];return U.trace("In isDescendant",t," ",e," = ",r.includes(e)),r.includes(e)},"isDescendant"),Ift=g((e,t)=>{const r=Al.get(t)||[];return U.info("Descendants of ",t," is ",r),U.info("Edge is ",e),e.v===t||e.w===t?!1:r?r.includes(e.v)||Om(e.v,t)||Om(e.w,t)||r.includes(e.w):(U.debug("Tilt, ",t,",not in descendants"),!1)},"edgeInCluster"),jD=g((e,t,r,n)=>{U.warn("Copying children of ",e,"root",n,"data",t.node(e),n);const i=t.children(e)||[];e!==n&&i.push(e),U.warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach(s=>{if(t.children(s).length>0)jD(s,t,r,n);else{const a=t.node(s);U.info("cp ",s," to ",n," with parent ",e),r.setNode(s,a),n!==t.parent(s)&&(U.warn("Setting parent",s,t.parent(s)),r.setParent(s,t.parent(s))),e!==n&&s!==e?(U.debug("Setting parent",s,e),r.setParent(s,e)):(U.info("In copy ",e,"root",n,"data",t.node(e),n),U.debug("Not Setting parent for node=",s,"cluster!==rootId",e!==n,"node!==clusterId",s!==e));const o=t.edges(s);U.debug("Copying Edges",o),o.forEach(l=>{U.info("Edge",l);const u=t.edge(l.v,l.w,l.name);U.info("Edge data",u,n);try{Ift(l,n)?(U.info("Copying as ",l.v,l.w,u,l.name),r.setEdge(l.v,l.w,u,l.name),U.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):U.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",n," clusterId:",e)}catch(h){U.error(h)}})}U.debug("Removing node",s),t.removeNode(s)})},"copy"),YD=g((e,t)=>{const r=t.children(e);let n=[...r];for(const i of r)qD.set(i,e),n=[...n,...YD(i,t)];return n},"extractDescendants"),Nft=g((e,t,r)=>{const n=e.edges().filter(l=>l.v===t||l.w===t),i=e.edges().filter(l=>l.v===r||l.w===r),s=n.map(l=>({v:l.v===t?r:l.v,w:l.w===t?t:l.w})),a=i.map(l=>({v:l.v,w:l.w}));return s.filter(l=>a.some(u=>l.v===u.v&&l.w===u.w))},"findCommonEdges"),Dp=g((e,t,r)=>{const n=t.children(e);if(U.trace("Searching children of id ",e,n),n.length<1)return e;let i;for(const s of n){const a=Dp(s,t,r),o=Nft(t,r,a);if(a)if(o.length>0)i=a;else return a}return i},"findNonClusterChild"),JE=g(e=>!we.has(e)||!we.get(e).externalConnections?e:we.has(e)?we.get(e).id:e,"getAnchorId"),$ft=g((e,t)=>{if(!e||t>10){U.debug("Opting out, no graph ");return}else U.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(U.warn("Cluster identified",r," Replacement id in edges: ",Dp(r,e,r)),Al.set(r,YD(r,e)),we.set(r,{id:Dp(r,e,r),clusterData:e.node(r)}))}),e.nodes().forEach(function(r){const n=e.children(r),i=e.edges();n.length>0?(U.debug("Cluster identified",r,Al),i.forEach(s=>{const a=Om(s.v,r),o=Om(s.w,r);a^o&&(U.warn("Edge: ",s," leaves cluster ",r),U.warn("Descendants of XXX ",r,": ",Al.get(r)),we.get(r).externalConnections=!0)})):U.debug("Not a cluster ",r,Al)});for(let r of we.keys()){const n=we.get(r).id,i=e.parent(n);i!==r&&we.has(i)&&!we.get(i).externalConnections&&(we.get(r).id=i)}e.edges().forEach(function(r){const n=e.edge(r);U.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),U.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let i=r.v,s=r.w;if(U.warn("Fix XXX",we,"ids:",r.v,r.w,"Translating: ",we.get(r.v)," --- ",we.get(r.w)),we.get(r.v)||we.get(r.w)){if(U.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),i=JE(r.v),s=JE(r.w),e.removeEdge(r.v,r.w,r.name),i!==r.v){const a=e.parent(i);we.get(a).externalConnections=!0,n.fromCluster=r.v}if(s!==r.w){const a=e.parent(s);we.get(a).externalConnections=!0,n.toCluster=r.w}U.warn("Fix Replacing with XXX",i,s,r.name),e.setEdge(i,s,n,r.name)}}),U.warn("Adjusted Graph",Ks(e)),XD(e,0),U.trace(we)},"adjustClustersAndEdges"),XD=g((e,t)=>{var i,s;if(U.warn("extractor - ",t,Ks(e),e.children("D")),t>10){U.error("Bailing out");return}let r=e.nodes(),n=!1;for(const a of r){const o=e.children(a);n=n||o.length>0}if(!n){U.debug("Done, no node has children",e.nodes());return}U.debug("Nodes = ",r,t);for(const a of r)if(U.debug("Extracting node",a,we,we.has(a)&&!we.get(a).externalConnections,!e.parent(a),e.node(a),e.children("D")," Depth ",t),!we.has(a))U.debug("Not a cluster",a,t);else if(!we.get(a).externalConnections&&e.children(a)&&e.children(a).length>0){U.warn("Cluster without external connections, without a parent and with children",a,t);let l=e.graph().rankdir==="TB"?"LR":"TB";(s=(i=we.get(a))==null?void 0:i.clusterData)!=null&&s.dir&&(l=we.get(a).clusterData.dir,U.warn("Fixing dir",we.get(a).clusterData.dir,l));const u=new pi({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});U.warn("Old graph before copy",Ks(e)),jD(a,e,u,a),e.setNode(a,{clusterNode:!0,id:a,clusterData:we.get(a).clusterData,label:we.get(a).label,graph:u}),U.warn("New graph after copy node: (",a,")",Ks(u)),U.debug("Old graph after copy",Ks(e))}else U.warn("Cluster ** ",a," **not meeting the criteria !externalConnections:",!we.get(a).externalConnections," no parent: ",!e.parent(a)," children ",e.children(a)&&e.children(a).length>0,e.children("D"),t),U.debug(we);r=e.nodes(),U.warn("New list of nodes",r);for(const a of r){const o=e.node(a);U.warn(" Now next level",a,o),o!=null&&o.clusterNode&&XD(o.graph,t+1)}},"extractor"),KD=g((e,t)=>{if(t.length===0)return[];let r=Object.assign([],t);return t.forEach(n=>{const i=e.children(n),s=KD(e,i);r=[...r,...s]}),r},"sorter"),Oft=g(e=>KD(e,e.children()),"sortNodesByHierarchy"),QD=g(async(e,t,r,n,i,s)=>{U.warn("Graph in recursive render:XAX",Ks(t),i);const a=t.graph().rankdir;U.trace("Dir in recursive render - dir:",a);const o=e.insert("g").attr("class","root");t.nodes()?U.info("Recursive render XXX",t.nodes()):U.info("No nodes found for",t),t.edges().length>0&&U.info("Recursive edges",t.edge(t.edges()[0]));const l=o.insert("g").attr("class","clusters"),u=o.insert("g").attr("class","edgePaths"),h=o.insert("g").attr("class","edgeLabels"),d=o.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(y){const b=t.node(y);if(i!==void 0){const x=JSON.parse(JSON.stringify(i.clusterData));U.trace(`Setting data for parent cluster XXX
 Node.id = `,y,`
 data=`,x.height,`
Parent cluster`,i.height),t.setNode(i.id,x),t.parent(y)||(U.trace("Setting parent",y,i.id),t.setParent(y,i.id,x))}if(U.info("(Insert) Node XXX"+y+": "+JSON.stringify(t.node(y))),b!=null&&b.clusterNode){U.info("Cluster identified XBX",y,b.width,t.node(y));const{ranksep:x,nodesep:v}=t.graph();b.graph.setGraph({...b.graph.graph(),ranksep:x+25,nodesep:v});const _=await QD(d,b.graph,r,n,t.node(y),s),S=_.elem;Zt(b,S),b.diff=_.diff||0,U.info("New compound node after recursive render XAX",y,"width",b.width,"height",b.height),Unt(S,b)}else t.children(y).length>0?(U.trace("Cluster - the non recursive path XBX",y,b.id,b,b.width,"Graph:",t),U.trace(Dp(b.id,t)),we.set(b.id,{id:Dp(b.id,t),node:b})):(U.trace("Node - the non recursive path XAX",y,d,t.node(y),a),await w2(d,t.node(y),{config:s,dir:a}))})),await g(async()=>{const y=t.edges().map(async function(b){const x=t.edge(b.v,b.w,b.name);U.info("Edge "+b.v+" -> "+b.w+": "+JSON.stringify(b)),U.info("Edge "+b.v+" -> "+b.w+": ",b," ",JSON.stringify(t.edge(b))),U.info("Fix",we,"ids:",b.v,b.w,"Translating: ",we.get(b.v),we.get(b.w)),await XO(h,x)});await Promise.all(y)},"processEdges")(),U.info("Graph before layout:",JSON.stringify(Ks(t))),U.info("############################################# XXX"),U.info("###                Layout                 ### XXX"),U.info("############################################# XXX"),GD(t),U.info("Graph after layout:",JSON.stringify(Ks(t)));let p=0,{subGraphTitleTotalMargin:m}=hg(s);return await Promise.all(Oft(t).map(async function(y){var x;const b=t.node(y);if(U.info("Position XBX => "+y+": ("+b.x,","+b.y,") width: ",b.width," height: ",b.height),b!=null&&b.clusterNode)b.y+=m,U.info("A tainted cluster node XBX1",y,b.id,b.width,b.height,b.x,b.y,t.parent(y)),we.get(b.id).node=b,I_(b);else if(t.children(y).length>0){U.info("A pure cluster node XBX1",y,b.id,b.x,b.y,b.width,b.height,t.parent(y)),b.height+=m,t.node(b.parentId);const v=(b==null?void 0:b.padding)/2||0,_=((x=b==null?void 0:b.labelBBox)==null?void 0:x.height)||0,S=_-v||0;U.debug("OffsetY",S,"labelHeight",_,"halfPadding",v),await Iw(l,b),we.get(b.id).node=b}else{const v=t.node(b.parentId);b.y+=m/2,U.info("A regular node XBX1 - using the padding",b.id,"parent",b.parentId,b.width,b.height,b.x,b.y,"offsetY",b.offsetY,"parent",v,v==null?void 0:v.offsetY,b),I_(b)}})),t.edges().forEach(function(y){const b=t.edge(y);U.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(b),b),b.points.forEach(S=>S.y+=m/2);const x=t.node(y.v);var v=t.node(y.w);const _=ZO(u,b,we,r,x,v,n);KO(b,_)}),t.nodes().forEach(function(y){const b=t.node(y);U.info(y,b.type,b.diff),b.isGroup&&(p=b.diff)}),U.warn("Returning from recursive render XAX",o,p),{elem:o,diff:p}},"recursiveRender"),Dft=g(async(e,t)=>{var s,a,o,l,u,h;const r=new pi({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:((s=e.config)==null?void 0:s.nodeSpacing)||((o=(a=e.config)==null?void 0:a.flowchart)==null?void 0:o.nodeSpacing)||e.nodeSpacing,ranksep:((l=e.config)==null?void 0:l.rankSpacing)||((h=(u=e.config)==null?void 0:u.flowchart)==null?void 0:h.rankSpacing)||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=t.select("g");e9(n,e.markers,e.type,e.diagramId),Hnt(),jnt(),Snt(),Rft(),e.nodes.forEach(d=>{r.setNode(d.id,{...d}),d.parentId&&r.setParent(d.id,d.parentId)}),U.debug("Edges:",e.edges),e.edges.forEach(d=>{if(d.start===d.end){const f=d.start,p=f+"---"+f+"---1",m=f+"---"+f+"---2",y=r.node(f);r.setNode(p,{domId:p,id:p,parentId:y.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(p,y.parentId),r.setNode(m,{domId:m,id:m,parentId:y.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(m,y.parentId);const b=structuredClone(d),x=structuredClone(d),v=structuredClone(d);b.label="",b.arrowTypeEnd="none",b.id=f+"-cyclic-special-1",x.arrowTypeStart="none",x.arrowTypeEnd="none",x.id=f+"-cyclic-special-mid",v.label="",y.isGroup&&(b.fromCluster=f,v.toCluster=f),v.id=f+"-cyclic-special-2",v.arrowTypeStart="none",r.setEdge(f,p,b,f+"-cyclic-special-0"),r.setEdge(p,m,x,f+"-cyclic-special-1"),r.setEdge(m,f,v,f+"-cyc<lic-special-2")}else r.setEdge(d.start,d.end,{...d},d.id)}),U.warn("Graph at first:",JSON.stringify(Ks(r))),$ft(r),U.warn("Graph after XAX:",JSON.stringify(Ks(r)));const i=rt();await QD(n,r,e.type,e.diagramId,void 0,i)},"render");const Mft=Object.freeze(Object.defineProperty({__proto__:null,render:Dft},Symbol.toStringTag,{value:"Module"}));wy.use(Rz);function ZD(e,t){e.forEach(r=>{const n={id:r.id,labelText:r.label,height:r.height,width:r.width,padding:r.padding??0};Object.keys(r).forEach(i=>{["id","label","height","width","padding","x","y"].includes(i)||(n[i]=r[i])}),t.add({group:"nodes",data:n,position:{x:r.x??0,y:r.y??0}})})}g(ZD,"addNodes");function JD(e,t){e.forEach(r=>{const n={id:r.id,source:r.start,target:r.end};Object.keys(r).forEach(i=>{["id","start","end"].includes(i)||(n[i]=r[i])}),t.add({group:"edges",data:n})})}g(JD,"addEdges");function tM(e){return new Promise(t=>{const r=Lt("body").append("div").attr("id","cy").attr("style","display:none"),n=wy({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});r.remove(),ZD(e.nodes,n),JD(e.edges,n),n.nodes().forEach(function(s){s.layoutDimensions=()=>{const a=s.data();return{w:a.width,h:a.height}}});const i={name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1};n.layout(i).run(),n.ready(s=>{U.info("Cytoscape ready",s),t(n)})})}g(tM,"createCytoscapeInstance");function eM(e){return e.nodes().map(t=>{const r=t.data(),n=t.position(),i={id:r.id,x:n.x,y:n.y};return Object.keys(r).forEach(s=>{s!=="id"&&(i[s]=r[s])}),i})}g(eM,"extractPositionedNodes");function rM(e){return e.edges().map(t=>{const r=t.data(),n=t._private.rscratch,i={id:r.id,source:r.source,target:r.target,startX:n.startX,startY:n.startY,midX:n.midX,midY:n.midY,endX:n.endX,endY:n.endY};return Object.keys(r).forEach(s=>{["id","source","target"].includes(s)||(i[s]=r[s])}),i})}g(rM,"extractPositionedEdges");async function nM(e,t){U.debug("Starting cose-bilkent layout algorithm");try{iM(e);const r=await tM(e),n=eM(r),i=rM(r);return U.debug(`Layout completed: ${n.length} nodes, ${i.length} edges`),{nodes:n,edges:i}}catch(r){throw U.error("Error in cose-bilkent layout algorithm:",r),r}}g(nM,"executeCoseBilkentLayout");function iM(e){if(!e)throw new Error("Layout data is required");if(!e.config)throw new Error("Configuration is required in layout data");if(!e.rootNode)throw new Error("Root node is required");if(!e.nodes||!Array.isArray(e.nodes))throw new Error("No nodes found in layout data");if(!Array.isArray(e.edges))throw new Error("Edges array is required in layout data");return!0}g(iM,"validateLayoutData");var Pft=g(async(e,t,{insertCluster:r,insertEdge:n,insertEdgeLabel:i,insertMarkers:s,insertNode:a,log:o,positionEdgeLabel:l},{algorithm:u})=>{const h={},d={},f=t.select("g");s(f,e.markers,e.type,e.diagramId);const p=f.insert("g").attr("class","subgraphs"),m=f.insert("g").attr("class","edgePaths"),y=f.insert("g").attr("class","edgeLabels"),b=f.insert("g").attr("class","nodes");o.debug("Inserting nodes into DOM for dimension calculation"),await Promise.all(e.nodes.map(async _=>{if(_.isGroup){const S={..._};d[_.id]=S,h[_.id]=S,await r(p,_)}else{const S={..._};h[_.id]=S;const k=await a(b,_,{config:e.config,dir:e.direction||"TB"}),T=k.node().getBBox();S.width=T.width,S.height=T.height,S.domId=k,o.debug(`Node ${_.id} dimensions: ${T.width}x${T.height}`)}})),o.debug("Running cose-bilkent layout algorithm");const x={...e,nodes:e.nodes.map(_=>{const S=h[_.id];return{..._,width:S.width,height:S.height}})},v=await nM(x,e.config);o.debug("Positioning nodes based on layout results"),v.nodes.forEach(_=>{const S=h[_.id];S!=null&&S.domId&&(S.domId.attr("transform",`translate(${_.x}, ${_.y})`),S.x=_.x,S.y=_.y,o.debug(`Positioned node ${S.id} at center (${_.x}, ${_.y})`))}),v.edges.forEach(_=>{const S=e.edges.find(k=>k.id===_.id);S&&(S.points=[{x:_.startX,y:_.startY},{x:_.midX,y:_.midY},{x:_.endX,y:_.endY}])}),o.debug("Inserting and positioning edges"),await Promise.all(e.edges.map(async _=>{await i(y,_);const S=h[_.start??""],k=h[_.end??""];if(S&&k){const T=v.edges.find(E=>E.id===_.id);if(T){o.debug("APA01 positionedEdge",T);const E={..._},I=n(m,E,d,e.type,S,k,e.diagramId);l(E,I)}else{const E={..._,points:[{x:S.x||0,y:S.y||0},{x:k.x||0,y:k.y||0}]},I=n(m,E,d,e.type,S,k,e.diagramId);l(E,I)}}})),o.debug("Cose-bilkent rendering completed")},"render"),Bft=Pft;const Fft=Object.freeze(Object.defineProperty({__proto__:null,render:Bft},Symbol.toStringTag,{value:"Module"}));var D2=g((e,t)=>{const r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx&&r.attr("rx",t.rx),t.ry&&r.attr("ry",t.ry),t.attrs!==void 0)for(const n in t.attrs)r.attr(n,t.attrs[n]);return t.class&&r.attr("class",t.class),r},"drawRect"),sM=g((e,t)=>{const r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};D2(e,r).lower()},"drawBackgroundRect"),Vft=g((e,t)=>{const r=t.text.replace(nd," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class&&n.attr("class",t.class);const i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),eS=g((e,t,r,n)=>{const i=e.append("image");i.attr("x",t),i.attr("y",r);const s=Go(n);i.attr("xlink:href",s)},"drawImage"),rS=g((e,t,r,n)=>{const i=e.append("use");i.attr("x",t),i.attr("y",r);const s=Go(n);i.attr("xlink:href",`#${s}`)},"drawEmbeddedImage"),Ii=g(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),nS=g(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj"),Dm=function(){var e=g(function(Nt,lt,xt,st){for(xt=xt||{},st=Nt.length;st--;xt[Nt[st]]=lt);return xt},"o"),t=[1,24],r=[1,25],n=[1,26],i=[1,27],s=[1,28],a=[1,63],o=[1,64],l=[1,65],u=[1,66],h=[1,67],d=[1,68],f=[1,69],p=[1,29],m=[1,30],y=[1,31],b=[1,32],x=[1,33],v=[1,34],_=[1,35],S=[1,36],k=[1,37],T=[1,38],E=[1,39],I=[1,40],C=[1,41],R=[1,42],w=[1,43],$=[1,44],A=[1,45],L=[1,46],N=[1,47],D=[1,48],P=[1,50],O=[1,51],M=[1,52],Y=[1,53],F=[1,54],j=[1,55],it=[1,56],ft=[1,57],J=[1,58],dt=[1,59],et=[1,60],St=[14,42],ct=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],bt=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],nt=[1,82],Z=[1,83],z=[1,84],V=[1,85],G=[12,14,42],W=[12,14,33,42],ot=[12,14,33,42,76,77,79,80],B=[12,33],wt=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],K={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:g(function(lt,xt,st,ut,_t,Q,Tt){var H=Q.length-1;switch(_t){case 3:ut.setDirection("TB");break;case 4:ut.setDirection("BT");break;case 5:ut.setDirection("RL");break;case 6:ut.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:ut.setC4Type(Q[H-3]);break;case 19:ut.setTitle(Q[H].substring(6)),this.$=Q[H].substring(6);break;case 20:ut.setAccDescription(Q[H].substring(15)),this.$=Q[H].substring(15);break;case 21:this.$=Q[H].trim(),ut.setTitle(this.$);break;case 22:case 23:this.$=Q[H].trim(),ut.setAccDescription(this.$);break;case 28:Q[H].splice(2,0,"ENTERPRISE"),ut.addPersonOrSystemBoundary(...Q[H]),this.$=Q[H];break;case 29:Q[H].splice(2,0,"SYSTEM"),ut.addPersonOrSystemBoundary(...Q[H]),this.$=Q[H];break;case 30:ut.addPersonOrSystemBoundary(...Q[H]),this.$=Q[H];break;case 31:Q[H].splice(2,0,"CONTAINER"),ut.addContainerBoundary(...Q[H]),this.$=Q[H];break;case 32:ut.addDeploymentNode("node",...Q[H]),this.$=Q[H];break;case 33:ut.addDeploymentNode("nodeL",...Q[H]),this.$=Q[H];break;case 34:ut.addDeploymentNode("nodeR",...Q[H]),this.$=Q[H];break;case 35:ut.popBoundaryParseStack();break;case 39:ut.addPersonOrSystem("person",...Q[H]),this.$=Q[H];break;case 40:ut.addPersonOrSystem("external_person",...Q[H]),this.$=Q[H];break;case 41:ut.addPersonOrSystem("system",...Q[H]),this.$=Q[H];break;case 42:ut.addPersonOrSystem("system_db",...Q[H]),this.$=Q[H];break;case 43:ut.addPersonOrSystem("system_queue",...Q[H]),this.$=Q[H];break;case 44:ut.addPersonOrSystem("external_system",...Q[H]),this.$=Q[H];break;case 45:ut.addPersonOrSystem("external_system_db",...Q[H]),this.$=Q[H];break;case 46:ut.addPersonOrSystem("external_system_queue",...Q[H]),this.$=Q[H];break;case 47:ut.addContainer("container",...Q[H]),this.$=Q[H];break;case 48:ut.addContainer("container_db",...Q[H]),this.$=Q[H];break;case 49:ut.addContainer("container_queue",...Q[H]),this.$=Q[H];break;case 50:ut.addContainer("external_container",...Q[H]),this.$=Q[H];break;case 51:ut.addContainer("external_container_db",...Q[H]),this.$=Q[H];break;case 52:ut.addContainer("external_container_queue",...Q[H]),this.$=Q[H];break;case 53:ut.addComponent("component",...Q[H]),this.$=Q[H];break;case 54:ut.addComponent("component_db",...Q[H]),this.$=Q[H];break;case 55:ut.addComponent("component_queue",...Q[H]),this.$=Q[H];break;case 56:ut.addComponent("external_component",...Q[H]),this.$=Q[H];break;case 57:ut.addComponent("external_component_db",...Q[H]),this.$=Q[H];break;case 58:ut.addComponent("external_component_queue",...Q[H]),this.$=Q[H];break;case 60:ut.addRel("rel",...Q[H]),this.$=Q[H];break;case 61:ut.addRel("birel",...Q[H]),this.$=Q[H];break;case 62:ut.addRel("rel_u",...Q[H]),this.$=Q[H];break;case 63:ut.addRel("rel_d",...Q[H]),this.$=Q[H];break;case 64:ut.addRel("rel_l",...Q[H]),this.$=Q[H];break;case 65:ut.addRel("rel_r",...Q[H]),this.$=Q[H];break;case 66:ut.addRel("rel_b",...Q[H]),this.$=Q[H];break;case 67:Q[H].splice(0,1),ut.addRel("rel",...Q[H]),this.$=Q[H];break;case 68:ut.updateElStyle("update_el_style",...Q[H]),this.$=Q[H];break;case 69:ut.updateRelStyle("update_rel_style",...Q[H]),this.$=Q[H];break;case 70:ut.updateLayoutConfig("update_layout_config",...Q[H]),this.$=Q[H];break;case 71:this.$=[Q[H]];break;case 72:Q[H].unshift(Q[H-1]),this.$=Q[H];break;case 73:case 75:this.$=Q[H].trim();break;case 74:let $t={};$t[Q[H-1].trim()]=Q[H].trim(),this.$=$t;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:a,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:m,46:y,47:b,48:x,49:v,50:_,51:S,52:k,53:T,54:E,55:I,56:C,57:R,58:w,59:$,60:A,61:L,62:N,63:D,64:P,65:O,66:M,67:Y,68:F,69:j,70:it,71:ft,72:J,73:dt,74:et},{13:70,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:a,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:m,46:y,47:b,48:x,49:v,50:_,51:S,52:k,53:T,54:E,55:I,56:C,57:R,58:w,59:$,60:A,61:L,62:N,63:D,64:P,65:O,66:M,67:Y,68:F,69:j,70:it,71:ft,72:J,73:dt,74:et},{13:71,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:a,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:m,46:y,47:b,48:x,49:v,50:_,51:S,52:k,53:T,54:E,55:I,56:C,57:R,58:w,59:$,60:A,61:L,62:N,63:D,64:P,65:O,66:M,67:Y,68:F,69:j,70:it,71:ft,72:J,73:dt,74:et},{13:72,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:a,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:m,46:y,47:b,48:x,49:v,50:_,51:S,52:k,53:T,54:E,55:I,56:C,57:R,58:w,59:$,60:A,61:L,62:N,63:D,64:P,65:O,66:M,67:Y,68:F,69:j,70:it,71:ft,72:J,73:dt,74:et},{13:73,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:s,29:49,30:61,32:62,34:a,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:m,46:y,47:b,48:x,49:v,50:_,51:S,52:k,53:T,54:E,55:I,56:C,57:R,58:w,59:$,60:A,61:L,62:N,63:D,64:P,65:O,66:M,67:Y,68:F,69:j,70:it,71:ft,72:J,73:dt,74:et},{14:[1,74]},e(St,[2,13],{43:23,29:49,30:61,32:62,20:75,34:a,36:o,37:l,38:u,39:h,40:d,41:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_,51:S,52:k,53:T,54:E,55:I,56:C,57:R,58:w,59:$,60:A,61:L,62:N,63:D,64:P,65:O,66:M,67:Y,68:F,69:j,70:it,71:ft,72:J,73:dt,74:et}),e(St,[2,14]),e(ct,[2,16],{12:[1,76]}),e(St,[2,36],{12:[1,77]}),e(bt,[2,19]),e(bt,[2,20]),{25:[1,78]},{27:[1,79]},e(bt,[2,23]),{35:80,75:81,76:nt,77:Z,79:z,80:V},{35:86,75:81,76:nt,77:Z,79:z,80:V},{35:87,75:81,76:nt,77:Z,79:z,80:V},{35:88,75:81,76:nt,77:Z,79:z,80:V},{35:89,75:81,76:nt,77:Z,79:z,80:V},{35:90,75:81,76:nt,77:Z,79:z,80:V},{35:91,75:81,76:nt,77:Z,79:z,80:V},{35:92,75:81,76:nt,77:Z,79:z,80:V},{35:93,75:81,76:nt,77:Z,79:z,80:V},{35:94,75:81,76:nt,77:Z,79:z,80:V},{35:95,75:81,76:nt,77:Z,79:z,80:V},{35:96,75:81,76:nt,77:Z,79:z,80:V},{35:97,75:81,76:nt,77:Z,79:z,80:V},{35:98,75:81,76:nt,77:Z,79:z,80:V},{35:99,75:81,76:nt,77:Z,79:z,80:V},{35:100,75:81,76:nt,77:Z,79:z,80:V},{35:101,75:81,76:nt,77:Z,79:z,80:V},{35:102,75:81,76:nt,77:Z,79:z,80:V},{35:103,75:81,76:nt,77:Z,79:z,80:V},{35:104,75:81,76:nt,77:Z,79:z,80:V},e(G,[2,59]),{35:105,75:81,76:nt,77:Z,79:z,80:V},{35:106,75:81,76:nt,77:Z,79:z,80:V},{35:107,75:81,76:nt,77:Z,79:z,80:V},{35:108,75:81,76:nt,77:Z,79:z,80:V},{35:109,75:81,76:nt,77:Z,79:z,80:V},{35:110,75:81,76:nt,77:Z,79:z,80:V},{35:111,75:81,76:nt,77:Z,79:z,80:V},{35:112,75:81,76:nt,77:Z,79:z,80:V},{35:113,75:81,76:nt,77:Z,79:z,80:V},{35:114,75:81,76:nt,77:Z,79:z,80:V},{35:115,75:81,76:nt,77:Z,79:z,80:V},{20:116,29:49,30:61,32:62,34:a,36:o,37:l,38:u,39:h,40:d,41:f,43:23,44:p,45:m,46:y,47:b,48:x,49:v,50:_,51:S,52:k,53:T,54:E,55:I,56:C,57:R,58:w,59:$,60:A,61:L,62:N,63:D,64:P,65:O,66:M,67:Y,68:F,69:j,70:it,71:ft,72:J,73:dt,74:et},{12:[1,118],33:[1,117]},{35:119,75:81,76:nt,77:Z,79:z,80:V},{35:120,75:81,76:nt,77:Z,79:z,80:V},{35:121,75:81,76:nt,77:Z,79:z,80:V},{35:122,75:81,76:nt,77:Z,79:z,80:V},{35:123,75:81,76:nt,77:Z,79:z,80:V},{35:124,75:81,76:nt,77:Z,79:z,80:V},{35:125,75:81,76:nt,77:Z,79:z,80:V},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(St,[2,15]),e(ct,[2,17],{21:22,19:130,22:t,23:r,24:n,26:i,28:s}),e(St,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:n,26:i,28:s,34:a,36:o,37:l,38:u,39:h,40:d,41:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_,51:S,52:k,53:T,54:E,55:I,56:C,57:R,58:w,59:$,60:A,61:L,62:N,63:D,64:P,65:O,66:M,67:Y,68:F,69:j,70:it,71:ft,72:J,73:dt,74:et}),e(bt,[2,21]),e(bt,[2,22]),e(G,[2,39]),e(W,[2,71],{75:81,35:132,76:nt,77:Z,79:z,80:V}),e(ot,[2,73]),{78:[1,133]},e(ot,[2,75]),e(ot,[2,76]),e(G,[2,40]),e(G,[2,41]),e(G,[2,42]),e(G,[2,43]),e(G,[2,44]),e(G,[2,45]),e(G,[2,46]),e(G,[2,47]),e(G,[2,48]),e(G,[2,49]),e(G,[2,50]),e(G,[2,51]),e(G,[2,52]),e(G,[2,53]),e(G,[2,54]),e(G,[2,55]),e(G,[2,56]),e(G,[2,57]),e(G,[2,58]),e(G,[2,60]),e(G,[2,61]),e(G,[2,62]),e(G,[2,63]),e(G,[2,64]),e(G,[2,65]),e(G,[2,66]),e(G,[2,67]),e(G,[2,68]),e(G,[2,69]),e(G,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(B,[2,28]),e(B,[2,29]),e(B,[2,30]),e(B,[2,31]),e(B,[2,32]),e(B,[2,33]),e(B,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(ct,[2,18]),e(St,[2,38]),e(W,[2,72]),e(ot,[2,74]),e(G,[2,24]),e(G,[2,35]),e(wt,[2,25]),e(wt,[2,26],{12:[1,138]}),e(wt,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:g(function(lt,xt){if(xt.recoverable)this.trace(lt);else{var st=new Error(lt);throw st.hash=xt,st}},"parseError"),parse:g(function(lt){var xt=this,st=[0],ut=[],_t=[null],Q=[],Tt=this.table,H="",$t=0,q=0,At=2,gt=1,Mt=Q.slice.call(arguments,1),kt=Object.create(this.lexer),Ct={yy:{}};for(var ae in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ae)&&(Ct.yy[ae]=this.yy[ae]);kt.setInput(lt,Ct.yy),Ct.yy.lexer=kt,Ct.yy.parser=this,typeof kt.yylloc>"u"&&(kt.yylloc={});var Dt=kt.yylloc;Q.push(Dt);var ke=kt.options&&kt.options.ranges;typeof Ct.yy.parseError=="function"?this.parseError=Ct.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function zr(ee){st.length=st.length-2*ee,_t.length=_t.length-ee,Q.length=Q.length-ee}g(zr,"popStack");function pe(){var ee;return ee=ut.pop()||kt.lex()||gt,typeof ee!="number"&&(ee instanceof Array&&(ut=ee,ee=ut.pop()),ee=xt.symbols_[ee]||ee),ee}g(pe,"lex");for(var Be,Tr,Wt,Fe,He={},kr,te,$e,jt;;){if(Tr=st[st.length-1],this.defaultActions[Tr]?Wt=this.defaultActions[Tr]:((Be===null||typeof Be>"u")&&(Be=pe()),Wt=Tt[Tr]&&Tt[Tr][Be]),typeof Wt>"u"||!Wt.length||!Wt[0]){var _e="";jt=[];for(kr in Tt[Tr])this.terminals_[kr]&&kr>At&&jt.push("'"+this.terminals_[kr]+"'");kt.showPosition?_e="Parse error on line "+($t+1)+`:
`+kt.showPosition()+`
Expecting `+jt.join(", ")+", got '"+(this.terminals_[Be]||Be)+"'":_e="Parse error on line "+($t+1)+": Unexpected "+(Be==gt?"end of input":"'"+(this.terminals_[Be]||Be)+"'"),this.parseError(_e,{text:kt.match,token:this.terminals_[Be]||Be,line:kt.yylineno,loc:Dt,expected:jt})}if(Wt[0]instanceof Array&&Wt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Tr+", token: "+Be);switch(Wt[0]){case 1:st.push(Be),_t.push(kt.yytext),Q.push(kt.yylloc),st.push(Wt[1]),Be=null,q=kt.yyleng,H=kt.yytext,$t=kt.yylineno,Dt=kt.yylloc;break;case 2:if(te=this.productions_[Wt[1]][1],He.$=_t[_t.length-te],He._$={first_line:Q[Q.length-(te||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(te||1)].first_column,last_column:Q[Q.length-1].last_column},ke&&(He._$.range=[Q[Q.length-(te||1)].range[0],Q[Q.length-1].range[1]]),Fe=this.performAction.apply(He,[H,q,$t,Ct.yy,Wt[1],_t,Q].concat(Mt)),typeof Fe<"u")return Fe;te&&(st=st.slice(0,-1*te*2),_t=_t.slice(0,-1*te),Q=Q.slice(0,-1*te)),st.push(this.productions_[Wt[1]][0]),_t.push(He.$),Q.push(He._$),$e=Tt[st[st.length-2]][st[st.length-1]],st.push($e);break;case 3:return!0}}return!0},"parse")},vt=function(){var Nt={EOF:1,parseError:g(function(xt,st){if(this.yy.parser)this.yy.parser.parseError(xt,st);else throw new Error(xt)},"parseError"),setInput:g(function(lt,xt){return this.yy=xt||this.yy||{},this._input=lt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var lt=this._input[0];this.yytext+=lt,this.yyleng++,this.offset++,this.match+=lt,this.matched+=lt;var xt=lt.match(/(?:\r\n?|\n).*/g);return xt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),lt},"input"),unput:g(function(lt){var xt=lt.length,st=lt.split(/(?:\r\n?|\n)/g);this._input=lt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-xt),this.offset-=xt;var ut=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),st.length-1&&(this.yylineno-=st.length-1);var _t=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:st?(st.length===ut.length?this.yylloc.first_column:0)+ut[ut.length-st.length].length-st[0].length:this.yylloc.first_column-xt},this.options.ranges&&(this.yylloc.range=[_t[0],_t[0]+this.yyleng-xt]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(lt){this.unput(this.match.slice(lt))},"less"),pastInput:g(function(){var lt=this.matched.substr(0,this.matched.length-this.match.length);return(lt.length>20?"...":"")+lt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var lt=this.match;return lt.length<20&&(lt+=this._input.substr(0,20-lt.length)),(lt.substr(0,20)+(lt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var lt=this.pastInput(),xt=new Array(lt.length+1).join("-");return lt+this.upcomingInput()+`
`+xt+"^"},"showPosition"),test_match:g(function(lt,xt){var st,ut,_t;if(this.options.backtrack_lexer&&(_t={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_t.yylloc.range=this.yylloc.range.slice(0))),ut=lt[0].match(/(?:\r\n?|\n).*/g),ut&&(this.yylineno+=ut.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ut?ut[ut.length-1].length-ut[ut.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+lt[0].length},this.yytext+=lt[0],this.match+=lt[0],this.matches=lt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(lt[0].length),this.matched+=lt[0],st=this.performAction.call(this,this.yy,this,xt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),st)return st;if(this._backtrack){for(var Q in _t)this[Q]=_t[Q];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var lt,xt,st,ut;this._more||(this.yytext="",this.match="");for(var _t=this._currentRules(),Q=0;Q<_t.length;Q++)if(st=this._input.match(this.rules[_t[Q]]),st&&(!xt||st[0].length>xt[0].length)){if(xt=st,ut=Q,this.options.backtrack_lexer){if(lt=this.test_match(st,_t[Q]),lt!==!1)return lt;if(this._backtrack){xt=!1;continue}else return!1}else if(!this.options.flex)break}return xt?(lt=this.test_match(xt,_t[ut]),lt!==!1?lt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var xt=this.next();return xt||this.lex()},"lex"),begin:g(function(xt){this.conditionStack.push(xt)},"begin"),popState:g(function(){var xt=this.conditionStack.length-1;return xt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(xt){return xt=this.conditionStack.length-1-Math.abs(xt||0),xt>=0?this.conditionStack[xt]:"INITIAL"},"topState"),pushState:g(function(xt){this.begin(xt)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:g(function(xt,st,ut,_t){switch(ut){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return Nt}();K.lexer=vt;function mt(){this.yy={}}return g(mt,"Parser"),mt.prototype=K,K.Parser=mt,new mt}();Dm.parser=Dm;var zft=Dm,Rs=[],Ao=[""],Xn="global",ks="",aa=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Mp=[],iS="",sS=!1,Mm=4,Pm=2,aM,Wft=g(function(){return aM},"getC4Type"),Uft=g(function(e){aM=Ne(e,rt())},"setC4Type"),Hft=g(function(e,t,r,n,i,s,a,o,l){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let u={};const h=Mp.find(d=>d.from===t&&d.to===r);if(h?u=h:Mp.push(u),u.type=e,u.from=t,u.to=r,u.label={text:n},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,f]=Object.entries(i)[0];u[d]={text:f}}else u.techn={text:i};if(s==null)u.descr={text:""};else if(typeof s=="object"){let[d,f]=Object.entries(s)[0];u[d]={text:f}}else u.descr={text:s};if(typeof a=="object"){let[d,f]=Object.entries(a)[0];u[d]=f}else u.sprite=a;if(typeof o=="object"){let[d,f]=Object.entries(o)[0];u[d]=f}else u.tags=o;if(typeof l=="object"){let[d,f]=Object.entries(l)[0];u[d]=f}else u.link=l;u.wrap=Xo()},"addRel"),Gft=g(function(e,t,r,n,i,s,a){if(t===null||r===null)return;let o={};const l=Rs.find(u=>u.alias===t);if(l&&t===l.alias?o=l:(o.alias=t,Rs.push(o)),r==null?o.label={text:""}:o.label={text:r},n==null)o.descr={text:""};else if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]={text:h}}else o.descr={text:n};if(typeof i=="object"){let[u,h]=Object.entries(i)[0];o[u]=h}else o.sprite=i;if(typeof s=="object"){let[u,h]=Object.entries(s)[0];o[u]=h}else o.tags=s;if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=h}else o.link=a;o.typeC4Shape={text:e},o.parentBoundary=Xn,o.wrap=Xo()},"addPersonOrSystem"),qft=g(function(e,t,r,n,i,s,a,o){if(t===null||r===null)return;let l={};const u=Rs.find(h=>h.alias===t);if(u&&t===u.alias?l=u:(l.alias=t,Rs.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.sprite=s;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.tags=a;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.wrap=Xo(),l.typeC4Shape={text:e},l.parentBoundary=Xn},"addContainer"),jft=g(function(e,t,r,n,i,s,a,o){if(t===null||r===null)return;let l={};const u=Rs.find(h=>h.alias===t);if(u&&t===u.alias?l=u:(l.alias=t,Rs.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.techn={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.techn={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.sprite=s;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.tags=a;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.wrap=Xo(),l.typeC4Shape={text:e},l.parentBoundary=Xn},"addComponent"),Yft=g(function(e,t,r,n,i){if(e===null||t===null)return;let s={};const a=aa.find(o=>o.alias===e);if(a&&e===a.alias?s=a:(s.alias=e,aa.push(s)),t==null?s.label={text:""}:s.label={text:t},r==null)s.type={text:"system"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];s[o]={text:l}}else s.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];s[o]=l}else s.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];s[o]=l}else s.link=i;s.parentBoundary=Xn,s.wrap=Xo(),ks=Xn,Xn=e,Ao.push(ks)},"addPersonOrSystemBoundary"),Xft=g(function(e,t,r,n,i){if(e===null||t===null)return;let s={};const a=aa.find(o=>o.alias===e);if(a&&e===a.alias?s=a:(s.alias=e,aa.push(s)),t==null?s.label={text:""}:s.label={text:t},r==null)s.type={text:"container"};else if(typeof r=="object"){let[o,l]=Object.entries(r)[0];s[o]={text:l}}else s.type={text:r};if(typeof n=="object"){let[o,l]=Object.entries(n)[0];s[o]=l}else s.tags=n;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];s[o]=l}else s.link=i;s.parentBoundary=Xn,s.wrap=Xo(),ks=Xn,Xn=e,Ao.push(ks)},"addContainerBoundary"),Kft=g(function(e,t,r,n,i,s,a,o){if(t===null||r===null)return;let l={};const u=aa.find(h=>h.alias===t);if(u&&t===u.alias?l=u:(l.alias=t,aa.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.type={text:"node"};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.type={text:n};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.tags=a;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.nodeType=e,l.parentBoundary=Xn,l.wrap=Xo(),ks=Xn,Xn=t,Ao.push(ks)},"addDeploymentNode"),Qft=g(function(){Xn=ks,Ao.pop(),ks=Ao.pop(),Ao.push(ks)},"popBoundaryParseStack"),Zft=g(function(e,t,r,n,i,s,a,o,l,u,h){let d=Rs.find(f=>f.alias===t);if(!(d===void 0&&(d=aa.find(f=>f.alias===t),d===void 0))){if(r!=null)if(typeof r=="object"){let[f,p]=Object.entries(r)[0];d[f]=p}else d.bgColor=r;if(n!=null)if(typeof n=="object"){let[f,p]=Object.entries(n)[0];d[f]=p}else d.fontColor=n;if(i!=null)if(typeof i=="object"){let[f,p]=Object.entries(i)[0];d[f]=p}else d.borderColor=i;if(s!=null)if(typeof s=="object"){let[f,p]=Object.entries(s)[0];d[f]=p}else d.shadowing=s;if(a!=null)if(typeof a=="object"){let[f,p]=Object.entries(a)[0];d[f]=p}else d.shape=a;if(o!=null)if(typeof o=="object"){let[f,p]=Object.entries(o)[0];d[f]=p}else d.sprite=o;if(l!=null)if(typeof l=="object"){let[f,p]=Object.entries(l)[0];d[f]=p}else d.techn=l;if(u!=null)if(typeof u=="object"){let[f,p]=Object.entries(u)[0];d[f]=p}else d.legendText=u;if(h!=null)if(typeof h=="object"){let[f,p]=Object.entries(h)[0];d[f]=p}else d.legendSprite=h}},"updateElStyle"),Jft=g(function(e,t,r,n,i,s,a){const o=Mp.find(l=>l.from===t&&l.to===r);if(o!==void 0){if(n!=null)if(typeof n=="object"){let[l,u]=Object.entries(n)[0];o[l]=u}else o.textColor=n;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];o[l]=u}else o.lineColor=i;if(s!=null)if(typeof s=="object"){let[l,u]=Object.entries(s)[0];o[l]=parseInt(u)}else o.offsetX=parseInt(s);if(a!=null)if(typeof a=="object"){let[l,u]=Object.entries(a)[0];o[l]=parseInt(u)}else o.offsetY=parseInt(a)}},"updateRelStyle"),tpt=g(function(e,t,r){let n=Mm,i=Pm;if(typeof t=="object"){const s=Object.values(t)[0];n=parseInt(s)}else n=parseInt(t);if(typeof r=="object"){const s=Object.values(r)[0];i=parseInt(s)}else i=parseInt(r);n>=1&&(Mm=n),i>=1&&(Pm=i)},"updateLayoutConfig"),ept=g(function(){return Mm},"getC4ShapeInRow"),rpt=g(function(){return Pm},"getC4BoundaryInRow"),npt=g(function(){return Xn},"getCurrentBoundaryParse"),ipt=g(function(){return ks},"getParentBoundaryParse"),oM=g(function(e){return e==null?Rs:Rs.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),spt=g(function(e){return Rs.find(t=>t.alias===e)},"getC4Shape"),apt=g(function(e){return Object.keys(oM(e))},"getC4ShapeKeys"),lM=g(function(e){return e==null?aa:aa.filter(t=>t.parentBoundary===e)},"getBoundaries"),opt=lM,lpt=g(function(){return Mp},"getRels"),cpt=g(function(){return iS},"getTitle"),upt=g(function(e){sS=e},"setWrap"),Xo=g(function(){return sS},"autoWrap"),hpt=g(function(){Rs=[],aa=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],ks="",Xn="global",Ao=[""],Mp=[],Ao=[""],iS="",sS=!1,Mm=4,Pm=2},"clear"),dpt={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},fpt={FILLED:0,OPEN:1},ppt={LEFTOF:0,RIGHTOF:1,OVER:2},gpt=g(function(e){iS=Ne(e,rt())},"setTitle"),W_={addPersonOrSystem:Gft,addPersonOrSystemBoundary:Yft,addContainer:qft,addContainerBoundary:Xft,addComponent:jft,addDeploymentNode:Kft,popBoundaryParseStack:Qft,addRel:Hft,updateElStyle:Zft,updateRelStyle:Jft,updateLayoutConfig:tpt,autoWrap:Xo,setWrap:upt,getC4ShapeArray:oM,getC4Shape:spt,getC4ShapeKeys:apt,getBoundaries:lM,getBoundarys:opt,getCurrentBoundaryParse:npt,getParentBoundaryParse:ipt,getRels:lpt,getTitle:cpt,getC4Type:Wft,getC4ShapeInRow:ept,getC4BoundaryInRow:rpt,setAccTitle:Pr,getAccTitle:Xr,getAccDescription:Qr,setAccDescription:Kr,getConfig:g(()=>rt().c4,"getConfig"),clear:hpt,LINETYPE:dpt,ARROWTYPE:fpt,PLACEMENT:ppt,setTitle:gpt,setC4Type:Uft},aS=g(function(e,t){return D2(e,t)},"drawRect"),cM=g(function(e,t,r,n,i,s){const a=e.append("image");a.attr("width",t),a.attr("height",r),a.attr("x",n),a.attr("y",i);let o=s.startsWith("data:image/png;base64")?s:Go(s);a.attr("xlink:href",o)},"drawImage"),mpt=g((e,t,r)=>{const n=e.append("g");let i=0;for(let s of t){let a=s.textColor?s.textColor:"#444444",o=s.lineColor?s.lineColor:"#444444",l=s.offsetX?parseInt(s.offsetX):0,u=s.offsetY?parseInt(s.offsetY):0,h="";if(i===0){let f=n.append("line");f.attr("x1",s.startPoint.x),f.attr("y1",s.startPoint.y),f.attr("x2",s.endPoint.x),f.attr("y2",s.endPoint.y),f.attr("stroke-width","1"),f.attr("stroke",o),f.style("fill","none"),s.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let f=n.append("path");f.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",s.startPoint.x).replaceAll("starty",s.startPoint.y).replaceAll("controlx",s.startPoint.x+(s.endPoint.x-s.startPoint.x)/2-(s.endPoint.x-s.startPoint.x)/4).replaceAll("controly",s.startPoint.y+(s.endPoint.y-s.startPoint.y)/2).replaceAll("stopx",s.endPoint.x).replaceAll("stopy",s.endPoint.y)),s.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(s.type==="birel"||s.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)")}let d=r.messageFont();Da(r)(s.label.text,n,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+l,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+u,s.label.width,s.label.height,{fill:a},d),s.techn&&s.techn.text!==""&&(d=r.messageFont(),Da(r)("["+s.techn.text+"]",n,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2+l,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+r.messageFontSize+5+u,Math.max(s.label.width,s.techn.width),s.techn.height,{fill:a,"font-style":"italic"},d))}},"drawRels"),ypt=g(function(e,t,r){const n=e.append("g");let i=t.bgColor?t.bgColor:"none",s=t.borderColor?t.borderColor:"#444444",a=t.fontColor?t.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(o={"stroke-width":1});let l={x:t.x,y:t.y,fill:i,stroke:s,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:o};aS(n,l);let u=r.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=a,Da(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},u),t.type&&t.type.text!==""&&(u=r.boundaryFont(),u.fontColor=a,Da(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},u)),t.descr&&t.descr.text!==""&&(u=r.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=a,Da(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},u))},"drawBoundary"),xpt=g(function(e,t,r){var d;let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],i=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],s=t.fontColor?t.fontColor:"#FFFFFF",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const o=e.append("g");o.attr("class","person-man");const l=Ii();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=t.x,l.y=t.y,l.fill=n,l.width=t.width,l.height=t.height,l.stroke=i,l.rx=2.5,l.ry=2.5,l.attrs={"stroke-width":.5},aS(o,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let u=Ept(r,t.typeC4Shape.text);switch(o.append("text").attr("fill",s).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":cM(o,48,48,t.x+t.width/2-24,t.y+t.image.Y,a);break}let h=r[t.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=s,Da(r)(t.label.text,o,t.x,t.y+t.label.Y,t.width,t.height,{fill:s},h),h=r[t.typeC4Shape.text+"Font"](),h.fontColor=s,t.techn&&((d=t.techn)==null?void 0:d.text)!==""?Da(r)(t.techn.text,o,t.x,t.y+t.techn.Y,t.width,t.height,{fill:s,"font-style":"italic"},h):t.type&&t.type.text!==""&&Da(r)(t.type.text,o,t.x,t.y+t.type.Y,t.width,t.height,{fill:s,"font-style":"italic"},h),t.descr&&t.descr.text!==""&&(h=r.personFont(),h.fontColor=s,Da(r)(t.descr.text,o,t.x,t.y+t.descr.Y,t.width,t.height,{fill:s},h)),t.height},"drawC4Shape"),bpt=g(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),vpt=g(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),_pt=g(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Tpt=g(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),kpt=g(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),wpt=g(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Spt=g(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),Cpt=g(function(e){const r=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);r.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),r.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),Ept=g((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),Da=function(){function e(i,s,a,o,l,u,h){const d=s.append("text").attr("x",a+l/2).attr("y",o+u/2+5).style("text-anchor","middle").text(i);n(d,h)}g(e,"byText");function t(i,s,a,o,l,u,h,d){const{fontSize:f,fontFamily:p,fontWeight:m}=d,y=i.split(Ot.lineBreakRegex);for(let b=0;b<y.length;b++){const x=b*f-f*(y.length-1)/2,v=s.append("text").attr("x",a+l/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",f).style("font-weight",m).style("font-family",p);v.append("tspan").attr("dy",x).text(y[b]).attr("alignment-baseline","mathematical"),n(v,h)}}g(t,"byTspan");function r(i,s,a,o,l,u,h,d){const f=s.append("switch"),m=f.append("foreignObject").attr("x",a).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,a,o,l,u,h,d),n(m,h)}g(r,"byFo");function n(i,s){for(const a in s)s.hasOwnProperty(a)&&i.attr(a,s[a])}return g(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),qs={drawRect:aS,drawBoundary:ypt,drawC4Shape:xpt,drawRels:mpt,drawImage:cM,insertArrowHead:Tpt,insertArrowEnd:kpt,insertArrowFilledHead:wpt,insertDynamicNumber:Spt,insertArrowCrossHead:Cpt,insertDatabaseIcon:bpt,insertComputerIcon:vpt,insertClockIcon:_pt},Bm=0,Fm=0,uM=4,U_=2;Dm.yy=W_;var re={},Iu,hM=(Iu=class{constructor(t){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,H_(t.db.getConfig())}setData(t,r,n,i){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=i}updateVal(t,r,n,i){t[r]===void 0?t[r]=n:t[r]=i(n,t[r])}insert(t){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+t.margin*2,n=r+t.width,i=this.nextData.starty+t.margin*2,s=i+t.height;(r>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>uM)&&(r=this.nextData.startx+t.margin+re.nextLinePaddingX,i=this.nextData.stopy+t.margin*2,this.nextData.stopx=n=r+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=s=i+t.height,this.nextData.cnt=1),t.x=r,t.y=i,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",s,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",s,Math.max)}init(t){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},H_(t.db.getConfig())}bumpLastMargin(t){this.data.stopx+=t,this.data.stopy+=t}},g(Iu,"Bounds"),Iu),H_=g(function(e){Ar(re,e),e.fontFamily&&(re.personFontFamily=re.systemFontFamily=re.messageFontFamily=e.fontFamily),e.fontSize&&(re.personFontSize=re.systemFontSize=re.messageFontSize=e.fontSize),e.fontWeight&&(re.personFontWeight=re.systemFontWeight=re.messageFontWeight=e.fontWeight)},"setConf"),Dd=g((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),l0=g(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),Apt=g(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont");function Xi(e,t,r,n,i){if(!t[e].width)if(r)t[e].text=qN(t[e].text,i,n),t[e].textLines=t[e].text.split(Ot.lineBreakRegex).length,t[e].width=i,t[e].height=bm(t[e].text,n);else{let s=t[e].text.split(Ot.lineBreakRegex);t[e].textLines=s.length;let a=0;t[e].height=0,t[e].width=0;for(const o of s)t[e].width=Math.max(Yn(o,n),t[e].width),a=bm(o,n),t[e].height=t[e].height+a}}g(Xi,"calcC4ShapeTextWH");var dM=g(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=re.c4ShapeMargin-35;let n=t.wrap&&re.wrap,i=l0(re);i.fontSize=i.fontSize+2,i.fontWeight="bold";let s=Yn(t.label.text,i);Xi("label",t,n,i,s),qs.drawBoundary(e,t,re)},"drawBoundary"),fM=g(function(e,t,r,n){let i=0;for(const s of n){i=0;const a=r[s];let o=Dd(re,a.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,a.typeC4Shape.width=Yn(""+a.typeC4Shape.text+"",o),a.typeC4Shape.height=o.fontSize+2,a.typeC4Shape.Y=re.c4ShapePadding,i=a.typeC4Shape.Y+a.typeC4Shape.height-4,a.image={width:0,height:0,Y:0},a.typeC4Shape.text){case"person":case"external_person":a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height;break}a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height);let l=a.wrap&&re.wrap,u=re.width-re.c4ShapePadding*2,h=Dd(re,a.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Xi("label",a,l,h,u),a.label.Y=i+8,i=a.label.Y+a.label.height,a.type&&a.type.text!==""){a.type.text="["+a.type.text+"]";let p=Dd(re,a.typeC4Shape.text);Xi("type",a,l,p,u),a.type.Y=i+5,i=a.type.Y+a.type.height}else if(a.techn&&a.techn.text!==""){a.techn.text="["+a.techn.text+"]";let p=Dd(re,a.techn.text);Xi("techn",a,l,p,u),a.techn.Y=i+5,i=a.techn.Y+a.techn.height}let d=i,f=a.label.width;if(a.descr&&a.descr.text!==""){let p=Dd(re,a.typeC4Shape.text);Xi("descr",a,l,p,u),a.descr.Y=i+20,i=a.descr.Y+a.descr.height,f=Math.max(a.label.width,a.descr.width),d=i-a.descr.textLines*5}f=f+re.c4ShapePadding,a.width=Math.max(a.width||re.width,f,re.width),a.height=Math.max(a.height||re.height,d,re.height),a.margin=a.margin||re.c4ShapeMargin,e.insert(a),qs.drawC4Shape(t,a,re)}e.bumpLastMargin(re.c4ShapeMargin)},"drawC4ShapeArray"),Nu,Vi=(Nu=class{constructor(t,r){this.x=t,this.y=r}},g(Nu,"Point"),Nu),t5=g(function(e,t){let r=e.x,n=e.y,i=t.x,s=t.y,a=r+e.width/2,o=n+e.height/2,l=Math.abs(r-i),u=Math.abs(n-s),h=u/l,d=e.height/e.width,f=null;return n==s&&r<i?f=new Vi(r+e.width,o):n==s&&r>i?f=new Vi(r,o):r==i&&n<s?f=new Vi(a,n+e.height):r==i&&n>s&&(f=new Vi(a,n)),r>i&&n<s?d>=h?f=new Vi(r,o+h*e.width/2):f=new Vi(a-l/u*e.height/2,n+e.height):r<i&&n<s?d>=h?f=new Vi(r+e.width,o+h*e.width/2):f=new Vi(a+l/u*e.height/2,n+e.height):r<i&&n>s?d>=h?f=new Vi(r+e.width,o-h*e.width/2):f=new Vi(a+e.height/2*l/u,n):r>i&&n>s&&(d>=h?f=new Vi(r,o-e.width/2*h):f=new Vi(a-e.height/2*l/u,n)),f},"getIntersectPoint"),Lpt=g(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=t5(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let i=t5(t,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),Rpt=g(function(e,t,r,n){let i=0;for(let s of t){i=i+1;let a=s.wrap&&re.wrap,o=Apt(re);n.db.getC4Type()==="C4Dynamic"&&(s.label.text=i+": "+s.label.text);let u=Yn(s.label.text,o);Xi("label",s,a,o,u),s.techn&&s.techn.text!==""&&(u=Yn(s.techn.text,o),Xi("techn",s,a,o,u)),s.descr&&s.descr.text!==""&&(u=Yn(s.descr.text,o),Xi("descr",s,a,o,u));let h=r(s.from),d=r(s.to),f=Lpt(h,d);s.startPoint=f.startPoint,s.endPoint=f.endPoint}qs.drawRels(e,t,re)},"drawRels");function oS(e,t,r,n,i){let s=new hM(i);s.data.widthLimit=r.data.widthLimit/Math.min(U_,n.length);for(let[a,o]of n.entries()){let l=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=l,l=o.image.Y+o.image.height);let u=o.wrap&&re.wrap,h=l0(re);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",Xi("label",o,u,h,s.data.widthLimit),o.label.Y=l+8,l=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let m=l0(re);Xi("type",o,u,m,s.data.widthLimit),o.type.Y=l+5,l=o.type.Y+o.type.height}if(o.descr&&o.descr.text!==""){let m=l0(re);m.fontSize=m.fontSize-2,Xi("descr",o,u,m,s.data.widthLimit),o.descr.Y=l+20,l=o.descr.Y+o.descr.height}if(a==0||a%U_===0){let m=r.data.startx+re.diagramMarginX,y=r.data.stopy+re.diagramMarginY+l;s.setData(m,m,y,y)}else{let m=s.data.stopx!==s.data.startx?s.data.stopx+re.diagramMarginX:s.data.startx,y=s.data.starty;s.setData(m,m,y,y)}s.name=o.alias;let d=i.db.getC4ShapeArray(o.alias),f=i.db.getC4ShapeKeys(o.alias);f.length>0&&fM(s,e,d,f),t=o.alias;let p=i.db.getBoundaries(t);p.length>0&&oS(e,t,s,p,i),o.alias!=="global"&&dM(e,o,s),r.data.stopy=Math.max(s.data.stopy+re.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(s.data.stopx+re.c4ShapeMargin,r.data.stopx),Bm=Math.max(Bm,r.data.stopx),Fm=Math.max(Fm,r.data.stopy)}}g(oS,"drawInsideBoundary");var Ipt=g(function(e,t,r,n){re=rt().c4;const i=rt().securityLevel;let s;i==="sandbox"&&(s=Lt("#i"+t));const a=Lt(i==="sandbox"?s.nodes()[0].contentDocument.body:"body");let o=n.db;n.db.setWrap(re.wrap),uM=o.getC4ShapeInRow(),U_=o.getC4BoundaryInRow(),U.debug(`C:${JSON.stringify(re,null,2)}`);const l=i==="sandbox"?a.select(`[id="${t}"]`):Lt(`[id="${t}"]`);qs.insertComputerIcon(l),qs.insertDatabaseIcon(l),qs.insertClockIcon(l);let u=new hM(n);u.setData(re.diagramMarginX,re.diagramMarginX,re.diagramMarginY,re.diagramMarginY),u.data.widthLimit=screen.availWidth,Bm=re.diagramMarginX,Fm=re.diagramMarginY;const h=n.db.getTitle();let d=n.db.getBoundaries("");oS(l,"",u,d,n),qs.insertArrowHead(l),qs.insertArrowEnd(l),qs.insertArrowCrossHead(l),qs.insertArrowFilledHead(l),Rpt(l,n.db.getRels(),n.db.getC4Shape,n),u.data.stopx=Bm,u.data.stopy=Fm;const f=u.data;let m=f.stopy-f.starty+2*re.diagramMarginY;const b=f.stopx-f.startx+2*re.diagramMarginX;h&&l.append("text").text(h).attr("x",(f.stopx-f.startx)/2-4*re.diagramMarginX).attr("y",f.starty+re.diagramMarginY),ei(l,m,b,re.useMaxWidth);const x=h?60:0;l.attr("viewBox",f.startx-re.diagramMarginX+" -"+(re.diagramMarginY+x)+" "+b+" "+(m+x)),U.debug("models:",f)},"draw"),e5={drawPersonOrSystemArray:fM,drawBoundary:dM,setConf:H_,draw:Ipt},Npt=g(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),$pt=Npt,Opt={parser:zft,db:W_,renderer:e5,styles:$pt,init:g(({c4:e,wrap:t})=>{e5.setConf(e),W_.setWrap(t)},"init")};const Dpt=Object.freeze(Object.defineProperty({__proto__:null,diagram:Opt},Symbol.toStringTag,{value:"Module"}));var xg=g(()=>`
  /* Font Awesome icon styling - consolidated */
  .label-icon {
    display: inline-block;
    height: 1em;
    overflow: visible;
    vertical-align: -0.125em;
  }
  
  .node .label-icon path {
    fill: currentColor;
    stroke: revert;
    stroke-width: revert;
  }
`,"getIconStyles"),hd=g((e,t)=>{let r;return t==="sandbox"&&(r=Lt("#i"+e)),Lt(t==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement"),kc=g((e,t,r,n)=>{e.attr("class",r);const{width:i,height:s,x:a,y:o}=Mpt(e,t);ei(e,s,i,n);const l=Ppt(a,o,i,s,t);e.attr("viewBox",l),U.debug(`viewBox configured: ${l} with padding: ${t}`)},"setupViewPortForSVG"),Mpt=g((e,t)=>{var n;const r=((n=e.node())==null?void 0:n.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+t*2,height:r.height+t*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),Ppt=g((e,t,r,n,i)=>`${e-i} ${t-i} ${r} ${n}`,"createViewBox"),Bpt="flowchart-",$u,Fpt=($u=class{constructor(){this.vertexCounter=0,this.config=rt(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=Pr,this.setAccDescription=Kr,this.setDiagramTitle=on,this.getAccTitle=Xr,this.getAccDescription=Qr,this.getDiagramTitle=Vr,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}sanitizeText(t){return Ot.sanitizeText(t,this.config)}lookUpDomId(t){for(const r of this.vertices.values())if(r.id===t)return r.domId;return t}addVertex(t,r,n,i,s,a,o={},l){var p,m;if(!t||t.trim().length===0)return;let u;if(l!==void 0){let y;l.includes(`
`)?y=l+`
`:y=`{
`+l+`
}`,u=o2(y,{schema:a2})}const h=this.edges.find(y=>y.id===t);if(h){const y=u;(y==null?void 0:y.animate)!==void 0&&(h.animate=y.animate),(y==null?void 0:y.animation)!==void 0&&(h.animation=y.animation),(y==null?void 0:y.curve)!==void 0&&(h.interpolate=y.curve);return}let d,f=this.vertices.get(t);if(f===void 0&&(f={id:t,labelType:"text",domId:Bpt+t+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(t,f)),this.vertexCounter++,r!==void 0?(this.config=rt(),d=this.sanitizeText(r.text.trim()),f.labelType=r.type,d.startsWith('"')&&d.endsWith('"')&&(d=d.substring(1,d.length-1)),f.text=d):f.text===void 0&&(f.text=t),n!==void 0&&(f.type=n),i!=null&&i.forEach(y=>{f.styles.push(y)}),s!=null&&s.forEach(y=>{f.classes.push(y)}),a!==void 0&&(f.dir=a),f.props===void 0?f.props=o:o!==void 0&&Object.assign(f.props,o),u!==void 0){if(u.shape){if(u.shape!==u.shape.toLowerCase()||u.shape.includes("_"))throw new Error(`No such shape: ${u.shape}. Shape names should be lowercase.`);if(!YO(u.shape))throw new Error(`No such shape: ${u.shape}.`);f.type=u==null?void 0:u.shape}u!=null&&u.label&&(f.text=u==null?void 0:u.label),u!=null&&u.icon&&(f.icon=u==null?void 0:u.icon,!((p=u.label)!=null&&p.trim())&&f.text===t&&(f.text="")),u!=null&&u.form&&(f.form=u==null?void 0:u.form),u!=null&&u.pos&&(f.pos=u==null?void 0:u.pos),u!=null&&u.img&&(f.img=u==null?void 0:u.img,!((m=u.label)!=null&&m.trim())&&f.text===t&&(f.text="")),u!=null&&u.constraint&&(f.constraint=u.constraint),u.w&&(f.assetWidth=Number(u.w)),u.h&&(f.assetHeight=Number(u.h))}}addSingleLink(t,r,n,i){const o={start:t,end:r,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};U.info("abc78 Got edge...",o);const l=n.text;if(l!==void 0&&(o.text=this.sanitizeText(l.text.trim()),o.text.startsWith('"')&&o.text.endsWith('"')&&(o.text=o.text.substring(1,o.text.length-1)),o.labelType=l.type),n!==void 0&&(o.type=n.type,o.stroke=n.stroke,o.length=n.length>10?10:n.length),i&&!this.edges.some(u=>u.id===i))o.id=i,o.isUserDefinedId=!0;else{const u=this.edges.filter(h=>h.start===o.start&&h.end===o.end);u.length===0?o.id=pu(o.start,o.end,{counter:0,prefix:"L"}):o.id=pu(o.start,o.end,{counter:u.length+1,prefix:"L"})}if(this.edges.length<(this.config.maxEdges??500))U.info("Pushing edge..."),this.edges.push(o);else throw new Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)}isLinkData(t){return t!==null&&typeof t=="object"&&"id"in t&&typeof t.id=="string"}addLink(t,r,n){const i=this.isLinkData(n)?n.id.replace("@",""):void 0;U.info("addLink",t,r,i);for(const s of t)for(const a of r){const o=s===t[t.length-1],l=a===r[0];o&&l?this.addSingleLink(s,a,n,i):this.addSingleLink(s,a,n,void 0)}}updateLinkInterpolate(t,r){t.forEach(n=>{n==="default"?this.edges.defaultInterpolate=r:this.edges[n].interpolate=r})}updateLink(t,r){t.forEach(n=>{var i,s,a,o,l,u;if(typeof n=="number"&&n>=this.edges.length)throw new Error(`The index ${n} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);n==="default"?this.edges.defaultStyle=r:(this.edges[n].style=r,(((s=(i=this.edges[n])==null?void 0:i.style)==null?void 0:s.length)??0)>0&&!((o=(a=this.edges[n])==null?void 0:a.style)!=null&&o.some(h=>h==null?void 0:h.startsWith("fill")))&&((u=(l=this.edges[n])==null?void 0:l.style)==null||u.push("fill:none")))})}addClass(t,r){const n=r.join().replace(/\\,/g,"").replace(/,/g,";").replace(//g,",").split(";");t.split(",").forEach(i=>{let s=this.classes.get(i);s===void 0&&(s={id:i,styles:[],textStyles:[]},this.classes.set(i,s)),n!=null&&n.forEach(a=>{if(/color/.exec(a)){const o=a.replace("fill","bgFill");s.textStyles.push(o)}s.styles.push(a)})})}setDirection(t){this.direction=t.trim(),/.*</.exec(this.direction)&&(this.direction="RL"),/.*\^/.exec(this.direction)&&(this.direction="BT"),/.*>/.exec(this.direction)&&(this.direction="LR"),/.*v/.exec(this.direction)&&(this.direction="TB"),this.direction==="TD"&&(this.direction="TB")}setClass(t,r){for(const n of t.split(",")){const i=this.vertices.get(n);i&&i.classes.push(r);const s=this.edges.find(o=>o.id===n);s&&s.classes.push(r);const a=this.subGraphLookup.get(n);a&&a.classes.push(r)}}setTooltip(t,r){if(r!==void 0){r=this.sanitizeText(r);for(const n of t.split(","))this.tooltips.set(this.version==="gen-1"?this.lookUpDomId(n):n,r)}}setClickFun(t,r,n){const i=this.lookUpDomId(t);if(rt().securityLevel!=="loose"||r===void 0)return;let s=[];if(typeof n=="string"){s=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<s.length;o++){let l=s[o].trim();l.startsWith('"')&&l.endsWith('"')&&(l=l.substr(1,l.length-2)),s[o]=l}}s.length===0&&s.push(t);const a=this.vertices.get(t);a&&(a.haveCallback=!0,this.funs.push(()=>{const o=document.querySelector(`[id="${i}"]`);o!==null&&o.addEventListener("click",()=>{be.runFunc(r,...s)},!1)}))}setLink(t,r,n){t.split(",").forEach(i=>{const s=this.vertices.get(i);s!==void 0&&(s.link=be.formatUrl(r,this.config),s.linkTarget=n)}),this.setClass(t,"clickable")}getTooltip(t){return this.tooltips.get(t)}setClickEvent(t,r,n){t.split(",").forEach(i=>{this.setClickFun(i,r,n)}),this.setClass(t,"clickable")}bindFunctions(t){this.funs.forEach(r=>{r(t)})}getDirection(){var t;return(t=this.direction)==null?void 0:t.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(t){let r=Lt(".mermaidTooltip");(r._groups||r)[0][0]===null&&(r=Lt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Lt(t).select("svg").selectAll("g.node").on("mouseover",s=>{var u;const a=Lt(s.currentTarget);if(a.attr("title")===null)return;const l=(u=s.currentTarget)==null?void 0:u.getBoundingClientRect();r.transition().duration(200).style("opacity",".9"),r.text(a.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.bottom+"px"),r.html(r.html().replace(/&lt;br\/&gt;/g,"<br/>")),a.classed("hover",!0)}).on("mouseout",s=>{r.transition().duration(500).style("opacity",0),Lt(s.currentTarget).classed("hover",!1)})}clear(t="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=t,this.config=rt(),Fr()}setGen(t){this.version=t||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(t,r,n){let i=t.text.trim(),s=n.text;t===n&&/\s/.exec(n.text)&&(i=void 0);const o=g(f=>{const p={boolean:{},number:{},string:{}},m=[];let y;return{nodeList:f.filter(function(x){const v=typeof x;return x.stmt&&x.stmt==="dir"?(y=x.value,!1):x.trim()===""?!1:v in p?p[v].hasOwnProperty(x)?!1:p[v][x]=!0:m.includes(x)?!1:m.push(x)}),dir:y}},"uniq")(r.flat()),l=o.nodeList;let u=o.dir;const h=rt().flowchart??{};if(u=u??(h.inheritDir?this.getDirection()??rt().direction??void 0:void 0),this.version==="gen-1")for(let f=0;f<l.length;f++)l[f]=this.lookUpDomId(l[f]);i=i??"subGraph"+this.subCount,s=s||"",s=this.sanitizeText(s),this.subCount=this.subCount+1;const d={id:i,nodes:l,title:s.trim(),classes:[],dir:u,labelType:n.type};return U.info("Adding",d.id,d.nodes,d.dir),d.nodes=this.makeUniq(d,this.subGraphs).nodes,this.subGraphs.push(d),this.subGraphLookup.set(i,d),i}getPosForId(t){for(const[r,n]of this.subGraphs.entries())if(n.id===t)return r;return-1}indexNodes2(t,r){const n=this.subGraphs[r].nodes;if(this.secCount=this.secCount+1,this.secCount>2e3)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=r,this.subGraphs[r].id===t)return{result:!0,count:0};let i=0,s=1;for(;i<n.length;){const a=this.getPosForId(n[i]);if(a>=0){const o=this.indexNodes2(t,a);if(o.result)return{result:!0,count:s+o.count};s=s+o.count}i=i+1}return{result:!1,count:s}}getDepthFirstPos(t){return this.posCrossRef[t]}indexNodes(){this.secCount=-1,this.subGraphs.length>0&&this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){return this.firstGraphFlag?(this.firstGraphFlag=!1,!0):!1}destructStartLink(t){let r=t.trim(),n="arrow_open";switch(r[0]){case"<":n="arrow_point",r=r.slice(1);break;case"x":n="arrow_cross",r=r.slice(1);break;case"o":n="arrow_circle",r=r.slice(1);break}let i="normal";return r.includes("=")&&(i="thick"),r.includes(".")&&(i="dotted"),{type:n,stroke:i}}countChar(t,r){const n=r.length;let i=0;for(let s=0;s<n;++s)r[s]===t&&++i;return i}destructEndLink(t){const r=t.trim();let n=r.slice(0,-1),i="arrow_open";switch(r.slice(-1)){case"x":i="arrow_cross",r.startsWith("x")&&(i="double_"+i,n=n.slice(1));break;case">":i="arrow_point",r.startsWith("<")&&(i="double_"+i,n=n.slice(1));break;case"o":i="arrow_circle",r.startsWith("o")&&(i="double_"+i,n=n.slice(1));break}let s="normal",a=n.length-1;n.startsWith("=")&&(s="thick"),n.startsWith("~")&&(s="invisible");const o=this.countChar(".",n);return o&&(s="dotted",a=o),{type:i,stroke:s,length:a}}destructLink(t,r){const n=this.destructEndLink(t);let i;if(r){if(i=this.destructStartLink(r),i.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if(i.type==="arrow_open")i.type=n.type;else{if(i.type!==n.type)return{type:"INVALID",stroke:"INVALID"};i.type="double_"+i.type}return i.type==="double_arrow"&&(i.type="double_arrow_point"),i.length=n.length,i}return n}exists(t,r){for(const n of t)if(n.nodes.includes(r))return!0;return!1}makeUniq(t,r){const n=[];return t.nodes.forEach((i,s)=>{this.exists(r,i)||n.push(t.nodes[s])}),{nodes:n}}getTypeFromVertex(t){if(t.img)return"imageSquare";if(t.icon)return t.form==="circle"?"iconCircle":t.form==="square"?"iconSquare":t.form==="rounded"?"iconRounded":"icon";switch(t.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return t.type}}findNode(t,r){return t.find(n=>n.id===r)}destructEdgeType(t){let r="none",n="arrow_point";switch(t){case"arrow_point":case"arrow_circle":case"arrow_cross":n=t;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":r=t.replace("double_",""),n=r;break}return{arrowTypeStart:r,arrowTypeEnd:n}}addNodeFromVertex(t,r,n,i,s,a){var h;const o=n.get(t.id),l=i.get(t.id)??!1,u=this.findNode(r,t.id);if(u)u.cssStyles=t.styles,u.cssCompiledStyles=this.getCompiledStyles(t.classes),u.cssClasses=t.classes.join(" ");else{const d={id:t.id,label:t.text,labelStyle:"",parentId:o,padding:((h=s.flowchart)==null?void 0:h.padding)||8,cssStyles:t.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...t.classes]),cssClasses:"default "+t.classes.join(" "),dir:t.dir,domId:t.domId,look:a,link:t.link,linkTarget:t.linkTarget,tooltip:this.getTooltip(t.id),icon:t.icon,pos:t.pos,img:t.img,assetWidth:t.assetWidth,assetHeight:t.assetHeight,constraint:t.constraint};l?r.push({...d,isGroup:!0,shape:"rect"}):r.push({...d,isGroup:!1,shape:this.getTypeFromVertex(t)})}}getCompiledStyles(t){let r=[];for(const n of t){const i=this.classes.get(n);i!=null&&i.styles&&(r=[...r,...i.styles??[]].map(s=>s.trim())),i!=null&&i.textStyles&&(r=[...r,...i.textStyles??[]].map(s=>s.trim()))}return r}getData(){const t=rt(),r=[],n=[],i=this.getSubGraphs(),s=new Map,a=new Map;for(let u=i.length-1;u>=0;u--){const h=i[u];h.nodes.length>0&&a.set(h.id,!0);for(const d of h.nodes)s.set(d,h.id)}for(let u=i.length-1;u>=0;u--){const h=i[u];r.push({id:h.id,label:h.title,labelStyle:"",parentId:s.get(h.id),padding:8,cssCompiledStyles:this.getCompiledStyles(h.classes),cssClasses:h.classes.join(" "),shape:"rect",dir:h.dir,isGroup:!0,look:t.look})}this.getVertices().forEach(u=>{this.addNodeFromVertex(u,r,s,a,t,t.look||"classic")});const l=this.getEdges();return l.forEach((u,h)=>{var y;const{arrowTypeStart:d,arrowTypeEnd:f}=this.destructEdgeType(u.type),p=[...l.defaultStyle??[]];u.style&&p.push(...u.style);const m={id:pu(u.start,u.end,{counter:h,prefix:"L"},u.id),isUserDefinedId:u.isUserDefinedId,start:u.start,end:u.end,type:u.type??"normal",label:u.text,labelpos:"c",thickness:u.stroke,minlen:u.length,classes:(u==null?void 0:u.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(u==null?void 0:u.stroke)==="invisible"||(u==null?void 0:u.type)==="arrow_open"?"none":d,arrowTypeEnd:(u==null?void 0:u.stroke)==="invisible"||(u==null?void 0:u.type)==="arrow_open"?"none":f,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(u.classes),labelStyle:p,style:p,pattern:u.stroke,look:t.look,animate:u.animate,animation:u.animation,curve:u.interpolate||this.edges.defaultInterpolate||((y=t.flowchart)==null?void 0:y.curve)};n.push(m)}),{nodes:r,edges:n,other:{},config:t}}defaultConfig(){return y8.flowchart}},g($u,"FlowDB"),$u),Vpt=g(function(e,t){return t.db.getClasses()},"getClasses"),zpt=g(async function(e,t,r,n){var p;U.info("REF0:"),U.info("Drawing state diagram (v2)",t);const{securityLevel:i,flowchart:s,layout:a}=rt();let o;i==="sandbox"&&(o=Lt("#i"+t));const l=i==="sandbox"?o.nodes()[0].contentDocument:document;U.debug("Before getData: ");const u=n.db.getData();U.debug("Data: ",u);const h=hd(t,i),d=n.db.getDirection();u.type=n.type,u.layoutAlgorithm=gg(a),u.layoutAlgorithm==="dagre"&&a==="elk"&&U.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),u.direction=d,u.nodeSpacing=(s==null?void 0:s.nodeSpacing)||50,u.rankSpacing=(s==null?void 0:s.rankSpacing)||50,u.markers=["point","circle","cross"],u.diagramId=t,U.debug("REF1:",u),await ld(u,h);const f=((p=u.config.flowchart)==null?void 0:p.diagramPadding)??8;be.insertTitle(h,"flowchartTitleText",(s==null?void 0:s.titleTopMargin)||0,n.db.getDiagramTitle()),kc(h,f,"flowchart",(s==null?void 0:s.useMaxWidth)||!1);for(const m of u.nodes){const y=Lt(`#${t} [id="${m.id}"]`);if(!y||!m.link)continue;const b=l.createElementNS("http://www.w3.org/2000/svg","a");b.setAttributeNS("http://www.w3.org/2000/svg","class",m.cssClasses),b.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?b.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):m.linkTarget&&b.setAttributeNS("http://www.w3.org/2000/svg","target",m.linkTarget);const x=y.insert(function(){return b},":first-child"),v=y.select(".label-container");v&&x.append(function(){return v.node()});const _=y.select(".label");_&&x.append(function(){return _.node()})}},"draw"),Wpt={getClasses:Vpt,draw:zpt},G_=function(){var e=g(function(Mi,zt,oe,ge){for(oe=oe||{},ge=Mi.length;ge--;oe[Mi[ge]]=zt);return oe},"o"),t=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],s=[2,2],a=[1,13],o=[1,14],l=[1,15],u=[1,16],h=[1,23],d=[1,25],f=[1,26],p=[1,27],m=[1,49],y=[1,48],b=[1,29],x=[1,30],v=[1,31],_=[1,32],S=[1,33],k=[1,44],T=[1,46],E=[1,42],I=[1,47],C=[1,43],R=[1,50],w=[1,45],$=[1,51],A=[1,52],L=[1,34],N=[1,35],D=[1,36],P=[1,37],O=[1,57],M=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],Y=[1,61],F=[1,60],j=[1,62],it=[8,9,11,75,77,78],ft=[1,78],J=[1,91],dt=[1,96],et=[1,95],St=[1,92],ct=[1,88],bt=[1,94],nt=[1,90],Z=[1,97],z=[1,93],V=[1,98],G=[1,89],W=[8,9,10,11,40,75,77,78],ot=[8,9,10,11,40,46,75,77,78],B=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],wt=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],K=[44,60,89,102,105,106,109,111,114,115,116],vt=[1,121],mt=[1,122],Nt=[1,124],lt=[1,123],xt=[44,60,62,74,89,102,105,106,109,111,114,115,116],st=[1,133],ut=[1,147],_t=[1,148],Q=[1,149],Tt=[1,150],H=[1,135],$t=[1,137],q=[1,141],At=[1,142],gt=[1,143],Mt=[1,144],kt=[1,145],Ct=[1,146],ae=[1,151],Dt=[1,152],ke=[1,131],zr=[1,132],pe=[1,139],Be=[1,134],Tr=[1,138],Wt=[1,136],Fe=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],He=[1,154],kr=[1,156],te=[8,9,11],$e=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],jt=[1,176],_e=[1,172],ee=[1,173],Jt=[1,177],Kt=[1,174],ve=[1,175],Ir=[77,116,119],Te=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],Ke=[10,106],vn=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],_n=[1,247],rr=[1,245],Di=[1,249],os=[1,243],Yt=[1,244],at=[1,246],It=[1,248],Ut=[1,250],We=[1,268],Wr=[8,9,11,106],Ue=[8,9,10,11,60,84,105,106,109,110,111,112],Jr={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:g(function(zt,oe,ge,Pt,or,X,md){var tt=X.length-1;switch(or){case 2:this.$=[];break;case 3:(!Array.isArray(X[tt])||X[tt].length>0)&&X[tt-1].push(X[tt]),this.$=X[tt-1];break;case 4:case 183:this.$=X[tt];break;case 11:Pt.setDirection("TB"),this.$="TB";break;case 12:Pt.setDirection(X[tt-1]),this.$=X[tt-1];break;case 27:this.$=X[tt-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=Pt.addSubGraph(X[tt-6],X[tt-1],X[tt-4]);break;case 34:this.$=Pt.addSubGraph(X[tt-3],X[tt-1],X[tt-3]);break;case 35:this.$=Pt.addSubGraph(void 0,X[tt-1],void 0);break;case 37:this.$=X[tt].trim(),Pt.setAccTitle(this.$);break;case 38:case 39:this.$=X[tt].trim(),Pt.setAccDescription(this.$);break;case 43:this.$=X[tt-1]+X[tt];break;case 44:this.$=X[tt];break;case 45:Pt.addVertex(X[tt-1][X[tt-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,X[tt]),Pt.addLink(X[tt-3].stmt,X[tt-1],X[tt-2]),this.$={stmt:X[tt-1],nodes:X[tt-1].concat(X[tt-3].nodes)};break;case 46:Pt.addLink(X[tt-2].stmt,X[tt],X[tt-1]),this.$={stmt:X[tt],nodes:X[tt].concat(X[tt-2].nodes)};break;case 47:Pt.addLink(X[tt-3].stmt,X[tt-1],X[tt-2]),this.$={stmt:X[tt-1],nodes:X[tt-1].concat(X[tt-3].nodes)};break;case 48:this.$={stmt:X[tt-1],nodes:X[tt-1]};break;case 49:Pt.addVertex(X[tt-1][X[tt-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,X[tt]),this.$={stmt:X[tt-1],nodes:X[tt-1],shapeData:X[tt]};break;case 50:this.$={stmt:X[tt],nodes:X[tt]};break;case 51:this.$=[X[tt]];break;case 52:Pt.addVertex(X[tt-5][X[tt-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,X[tt-4]),this.$=X[tt-5].concat(X[tt]);break;case 53:this.$=X[tt-4].concat(X[tt]);break;case 54:this.$=X[tt];break;case 55:this.$=X[tt-2],Pt.setClass(X[tt-2],X[tt]);break;case 56:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"square");break;case 57:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"doublecircle");break;case 58:this.$=X[tt-5],Pt.addVertex(X[tt-5],X[tt-2],"circle");break;case 59:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"ellipse");break;case 60:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"stadium");break;case 61:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"subroutine");break;case 62:this.$=X[tt-7],Pt.addVertex(X[tt-7],X[tt-1],"rect",void 0,void 0,void 0,Object.fromEntries([[X[tt-5],X[tt-3]]]));break;case 63:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"cylinder");break;case 64:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"round");break;case 65:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"diamond");break;case 66:this.$=X[tt-5],Pt.addVertex(X[tt-5],X[tt-2],"hexagon");break;case 67:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"odd");break;case 68:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"trapezoid");break;case 69:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"inv_trapezoid");break;case 70:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"lean_right");break;case 71:this.$=X[tt-3],Pt.addVertex(X[tt-3],X[tt-1],"lean_left");break;case 72:this.$=X[tt],Pt.addVertex(X[tt]);break;case 73:X[tt-1].text=X[tt],this.$=X[tt-1];break;case 74:case 75:X[tt-2].text=X[tt-1],this.$=X[tt-2];break;case 76:this.$=X[tt];break;case 77:var Nr=Pt.destructLink(X[tt],X[tt-2]);this.$={type:Nr.type,stroke:Nr.stroke,length:Nr.length,text:X[tt-1]};break;case 78:var Nr=Pt.destructLink(X[tt],X[tt-2]);this.$={type:Nr.type,stroke:Nr.stroke,length:Nr.length,text:X[tt-1],id:X[tt-3]};break;case 79:this.$={text:X[tt],type:"text"};break;case 80:this.$={text:X[tt-1].text+""+X[tt],type:X[tt-1].type};break;case 81:this.$={text:X[tt],type:"string"};break;case 82:this.$={text:X[tt],type:"markdown"};break;case 83:var Nr=Pt.destructLink(X[tt]);this.$={type:Nr.type,stroke:Nr.stroke,length:Nr.length};break;case 84:var Nr=Pt.destructLink(X[tt]);this.$={type:Nr.type,stroke:Nr.stroke,length:Nr.length,id:X[tt-1]};break;case 85:this.$=X[tt-1];break;case 86:this.$={text:X[tt],type:"text"};break;case 87:this.$={text:X[tt-1].text+""+X[tt],type:X[tt-1].type};break;case 88:this.$={text:X[tt],type:"string"};break;case 89:case 104:this.$={text:X[tt],type:"markdown"};break;case 101:this.$={text:X[tt],type:"text"};break;case 102:this.$={text:X[tt-1].text+""+X[tt],type:X[tt-1].type};break;case 103:this.$={text:X[tt],type:"text"};break;case 105:this.$=X[tt-4],Pt.addClass(X[tt-2],X[tt]);break;case 106:this.$=X[tt-4],Pt.setClass(X[tt-2],X[tt]);break;case 107:case 115:this.$=X[tt-1],Pt.setClickEvent(X[tt-1],X[tt]);break;case 108:case 116:this.$=X[tt-3],Pt.setClickEvent(X[tt-3],X[tt-2]),Pt.setTooltip(X[tt-3],X[tt]);break;case 109:this.$=X[tt-2],Pt.setClickEvent(X[tt-2],X[tt-1],X[tt]);break;case 110:this.$=X[tt-4],Pt.setClickEvent(X[tt-4],X[tt-3],X[tt-2]),Pt.setTooltip(X[tt-4],X[tt]);break;case 111:this.$=X[tt-2],Pt.setLink(X[tt-2],X[tt]);break;case 112:this.$=X[tt-4],Pt.setLink(X[tt-4],X[tt-2]),Pt.setTooltip(X[tt-4],X[tt]);break;case 113:this.$=X[tt-4],Pt.setLink(X[tt-4],X[tt-2],X[tt]);break;case 114:this.$=X[tt-6],Pt.setLink(X[tt-6],X[tt-4],X[tt]),Pt.setTooltip(X[tt-6],X[tt-2]);break;case 117:this.$=X[tt-1],Pt.setLink(X[tt-1],X[tt]);break;case 118:this.$=X[tt-3],Pt.setLink(X[tt-3],X[tt-2]),Pt.setTooltip(X[tt-3],X[tt]);break;case 119:this.$=X[tt-3],Pt.setLink(X[tt-3],X[tt-2],X[tt]);break;case 120:this.$=X[tt-5],Pt.setLink(X[tt-5],X[tt-4],X[tt]),Pt.setTooltip(X[tt-5],X[tt-2]);break;case 121:this.$=X[tt-4],Pt.addVertex(X[tt-2],void 0,void 0,X[tt]);break;case 122:this.$=X[tt-4],Pt.updateLink([X[tt-2]],X[tt]);break;case 123:this.$=X[tt-4],Pt.updateLink(X[tt-2],X[tt]);break;case 124:this.$=X[tt-8],Pt.updateLinkInterpolate([X[tt-6]],X[tt-2]),Pt.updateLink([X[tt-6]],X[tt]);break;case 125:this.$=X[tt-8],Pt.updateLinkInterpolate(X[tt-6],X[tt-2]),Pt.updateLink(X[tt-6],X[tt]);break;case 126:this.$=X[tt-6],Pt.updateLinkInterpolate([X[tt-4]],X[tt]);break;case 127:this.$=X[tt-6],Pt.updateLinkInterpolate(X[tt-4],X[tt]);break;case 128:case 130:this.$=[X[tt]];break;case 129:case 131:X[tt-2].push(X[tt]),this.$=X[tt-2];break;case 133:this.$=X[tt-1]+X[tt];break;case 181:this.$=X[tt];break;case 182:this.$=X[tt-1]+""+X[tt];break;case 184:this.$=X[tt-1]+""+X[tt];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:n},{1:[3]},e(i,s,{5:6}),{4:7,9:t,10:r,12:n},{4:8,9:t,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:a,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,33:24,34:d,36:f,38:p,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:x,86:v,87:_,88:S,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A,121:L,122:N,123:D,124:P},e(i,[2,9]),e(i,[2,10]),e(i,[2,11]),{8:[1,54],9:[1,55],10:O,15:53,18:56},e(M,[2,3]),e(M,[2,4]),e(M,[2,5]),e(M,[2,6]),e(M,[2,7]),e(M,[2,8]),{8:Y,9:F,11:j,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:Y,9:F,11:j,21:67},{8:Y,9:F,11:j,21:68},{8:Y,9:F,11:j,21:69},{8:Y,9:F,11:j,21:70},{8:Y,9:F,11:j,21:71},{8:Y,9:F,10:[1,72],11:j,21:73},e(M,[2,36]),{35:[1,74]},{37:[1,75]},e(M,[2,39]),e(it,[2,50],{18:76,39:77,10:O,40:ft}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:J,44:dt,60:et,80:[1,86],89:St,95:[1,83],97:[1,84],101:85,105:ct,106:bt,109:nt,111:Z,114:z,115:V,116:G,120:87},e(M,[2,185]),e(M,[2,186]),e(M,[2,187]),e(M,[2,188]),e(W,[2,51]),e(W,[2,54],{46:[1,99]}),e(ot,[2,72],{113:112,29:[1,100],44:m,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:y,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:k,102:T,105:E,106:I,109:C,111:R,114:w,115:$,116:A}),e(B,[2,181]),e(B,[2,142]),e(B,[2,143]),e(B,[2,144]),e(B,[2,145]),e(B,[2,146]),e(B,[2,147]),e(B,[2,148]),e(B,[2,149]),e(B,[2,150]),e(B,[2,151]),e(B,[2,152]),e(i,[2,12]),e(i,[2,18]),e(i,[2,19]),{9:[1,113]},e(wt,[2,26],{18:114,10:O}),e(M,[2,27]),{42:115,43:38,44:m,45:39,47:40,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A},e(M,[2,40]),e(M,[2,41]),e(M,[2,42]),e(K,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:vt,81:mt,116:Nt,119:lt},{75:[1,125],77:[1,126]},e(xt,[2,83]),e(M,[2,28]),e(M,[2,29]),e(M,[2,30]),e(M,[2,31]),e(M,[2,32]),{10:st,12:ut,14:_t,27:Q,28:127,32:Tt,44:H,60:$t,75:q,80:[1,129],81:[1,130],83:140,84:At,85:gt,86:Mt,87:kt,88:Ct,89:ae,90:Dt,91:128,105:ke,109:zr,111:pe,114:Be,115:Tr,116:Wt},e(Fe,s,{5:153}),e(M,[2,37]),e(M,[2,38]),e(it,[2,48],{44:He}),e(it,[2,49],{18:155,10:O,40:kr}),e(W,[2,44]),{44:m,47:157,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A},{102:[1,158],103:159,105:[1,160]},{44:m,47:161,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A},{44:m,47:162,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A},e(te,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},e(te,[2,115],{120:167,10:[1,166],14:J,44:dt,60:et,89:St,105:ct,106:bt,109:nt,111:Z,114:z,115:V,116:G}),e(te,[2,117],{10:[1,168]}),e($e,[2,183]),e($e,[2,170]),e($e,[2,171]),e($e,[2,172]),e($e,[2,173]),e($e,[2,174]),e($e,[2,175]),e($e,[2,176]),e($e,[2,177]),e($e,[2,178]),e($e,[2,179]),e($e,[2,180]),{44:m,47:169,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A},{30:170,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{30:178,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{30:180,50:[1,179],67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{30:181,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{30:182,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{30:183,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{109:[1,184]},{30:185,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{30:186,65:[1,187],67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{30:188,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{30:189,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{30:190,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},e(B,[2,182]),e(i,[2,20]),e(wt,[2,25]),e(it,[2,46],{39:191,18:192,10:O,40:ft}),e(K,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{77:[1,196],79:197,116:Nt,119:lt},e(Ir,[2,79]),e(Ir,[2,81]),e(Ir,[2,82]),e(Ir,[2,168]),e(Ir,[2,169]),{76:198,79:120,80:vt,81:mt,116:Nt,119:lt},e(xt,[2,84]),{8:Y,9:F,10:st,11:j,12:ut,14:_t,21:200,27:Q,29:[1,199],32:Tt,44:H,60:$t,75:q,83:140,84:At,85:gt,86:Mt,87:kt,88:Ct,89:ae,90:Dt,91:201,105:ke,109:zr,111:pe,114:Be,115:Tr,116:Wt},e(Te,[2,101]),e(Te,[2,103]),e(Te,[2,104]),e(Te,[2,157]),e(Te,[2,158]),e(Te,[2,159]),e(Te,[2,160]),e(Te,[2,161]),e(Te,[2,162]),e(Te,[2,163]),e(Te,[2,164]),e(Te,[2,165]),e(Te,[2,166]),e(Te,[2,167]),e(Te,[2,90]),e(Te,[2,91]),e(Te,[2,92]),e(Te,[2,93]),e(Te,[2,94]),e(Te,[2,95]),e(Te,[2,96]),e(Te,[2,97]),e(Te,[2,98]),e(Te,[2,99]),e(Te,[2,100]),{6:11,7:12,8:a,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,202],33:24,34:d,36:f,38:p,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:x,86:v,87:_,88:S,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A,121:L,122:N,123:D,124:P},{10:O,18:203},{44:[1,204]},e(W,[2,43]),{10:[1,205],44:m,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:112,114:w,115:$,116:A},{10:[1,206]},{10:[1,207],106:[1,208]},e(Ke,[2,128]),{10:[1,209],44:m,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:112,114:w,115:$,116:A},{10:[1,210],44:m,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:112,114:w,115:$,116:A},{80:[1,211]},e(te,[2,109],{10:[1,212]}),e(te,[2,111],{10:[1,213]}),{80:[1,214]},e($e,[2,184]),{80:[1,215],98:[1,216]},e(W,[2,55],{113:112,44:m,60:y,89:k,102:T,105:E,106:I,109:C,111:R,114:w,115:$,116:A}),{31:[1,217],67:jt,82:218,116:Jt,117:Kt,118:ve},e(vn,[2,86]),e(vn,[2,88]),e(vn,[2,89]),e(vn,[2,153]),e(vn,[2,154]),e(vn,[2,155]),e(vn,[2,156]),{49:[1,219],67:jt,82:218,116:Jt,117:Kt,118:ve},{30:220,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{51:[1,221],67:jt,82:218,116:Jt,117:Kt,118:ve},{53:[1,222],67:jt,82:218,116:Jt,117:Kt,118:ve},{55:[1,223],67:jt,82:218,116:Jt,117:Kt,118:ve},{57:[1,224],67:jt,82:218,116:Jt,117:Kt,118:ve},{60:[1,225]},{64:[1,226],67:jt,82:218,116:Jt,117:Kt,118:ve},{66:[1,227],67:jt,82:218,116:Jt,117:Kt,118:ve},{30:228,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},{31:[1,229],67:jt,82:218,116:Jt,117:Kt,118:ve},{67:jt,69:[1,230],71:[1,231],82:218,116:Jt,117:Kt,118:ve},{67:jt,69:[1,233],71:[1,232],82:218,116:Jt,117:Kt,118:ve},e(it,[2,45],{18:155,10:O,40:kr}),e(it,[2,47],{44:He}),e(K,[2,75]),e(K,[2,74]),{62:[1,234],67:jt,82:218,116:Jt,117:Kt,118:ve},e(K,[2,77]),e(Ir,[2,80]),{77:[1,235],79:197,116:Nt,119:lt},{30:236,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},e(Fe,s,{5:237}),e(Te,[2,102]),e(M,[2,35]),{43:238,44:m,45:39,47:40,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A},{10:O,18:239},{10:_n,60:rr,84:Di,92:240,105:os,107:241,108:242,109:Yt,110:at,111:It,112:Ut},{10:_n,60:rr,84:Di,92:251,104:[1,252],105:os,107:241,108:242,109:Yt,110:at,111:It,112:Ut},{10:_n,60:rr,84:Di,92:253,104:[1,254],105:os,107:241,108:242,109:Yt,110:at,111:It,112:Ut},{105:[1,255]},{10:_n,60:rr,84:Di,92:256,105:os,107:241,108:242,109:Yt,110:at,111:It,112:Ut},{44:m,47:257,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A},e(te,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},e(te,[2,116]),e(te,[2,118],{10:[1,261]}),e(te,[2,119]),e(ot,[2,56]),e(vn,[2,87]),e(ot,[2,57]),{51:[1,262],67:jt,82:218,116:Jt,117:Kt,118:ve},e(ot,[2,64]),e(ot,[2,59]),e(ot,[2,60]),e(ot,[2,61]),{109:[1,263]},e(ot,[2,63]),e(ot,[2,65]),{66:[1,264],67:jt,82:218,116:Jt,117:Kt,118:ve},e(ot,[2,67]),e(ot,[2,68]),e(ot,[2,70]),e(ot,[2,69]),e(ot,[2,71]),e([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),e(K,[2,78]),{31:[1,265],67:jt,82:218,116:Jt,117:Kt,118:ve},{6:11,7:12,8:a,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,266],33:24,34:d,36:f,38:p,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:x,86:v,87:_,88:S,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A,121:L,122:N,123:D,124:P},e(W,[2,53]),{43:267,44:m,45:39,47:40,60:y,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A},e(te,[2,121],{106:We}),e(Wr,[2,130],{108:269,10:_n,60:rr,84:Di,105:os,109:Yt,110:at,111:It,112:Ut}),e(Ue,[2,132]),e(Ue,[2,134]),e(Ue,[2,135]),e(Ue,[2,136]),e(Ue,[2,137]),e(Ue,[2,138]),e(Ue,[2,139]),e(Ue,[2,140]),e(Ue,[2,141]),e(te,[2,122],{106:We}),{10:[1,270]},e(te,[2,123],{106:We}),{10:[1,271]},e(Ke,[2,129]),e(te,[2,105],{106:We}),e(te,[2,106],{113:112,44:m,60:y,89:k,102:T,105:E,106:I,109:C,111:R,114:w,115:$,116:A}),e(te,[2,110]),e(te,[2,112],{10:[1,272]}),e(te,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:Y,9:F,11:j,21:277},e(M,[2,34]),e(W,[2,52]),{10:_n,60:rr,84:Di,105:os,107:278,108:242,109:Yt,110:at,111:It,112:Ut},e(Ue,[2,133]),{14:J,44:dt,60:et,89:St,101:279,105:ct,106:bt,109:nt,111:Z,114:z,115:V,116:G,120:87},{14:J,44:dt,60:et,89:St,101:280,105:ct,106:bt,109:nt,111:Z,114:z,115:V,116:G,120:87},{98:[1,281]},e(te,[2,120]),e(ot,[2,58]),{30:282,67:jt,80:_e,81:ee,82:171,116:Jt,117:Kt,118:ve},e(ot,[2,66]),e(Fe,s,{5:283}),e(Wr,[2,131],{108:269,10:_n,60:rr,84:Di,105:os,109:Yt,110:at,111:It,112:Ut}),e(te,[2,126],{120:167,10:[1,284],14:J,44:dt,60:et,89:St,105:ct,106:bt,109:nt,111:Z,114:z,115:V,116:G}),e(te,[2,127],{120:167,10:[1,285],14:J,44:dt,60:et,89:St,105:ct,106:bt,109:nt,111:Z,114:z,115:V,116:G}),e(te,[2,114]),{31:[1,286],67:jt,82:218,116:Jt,117:Kt,118:ve},{6:11,7:12,8:a,9:o,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,287],33:24,34:d,36:f,38:p,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:x,86:v,87:_,88:S,89:k,102:T,105:E,106:I,109:C,111:R,113:41,114:w,115:$,116:A,121:L,122:N,123:D,124:P},{10:_n,60:rr,84:Di,92:288,105:os,107:241,108:242,109:Yt,110:at,111:It,112:Ut},{10:_n,60:rr,84:Di,92:289,105:os,107:241,108:242,109:Yt,110:at,111:It,112:Ut},e(ot,[2,62]),e(M,[2,33]),e(te,[2,124],{106:We}),e(te,[2,125],{106:We})],defaultActions:{},parseError:g(function(zt,oe){if(oe.recoverable)this.trace(zt);else{var ge=new Error(zt);throw ge.hash=oe,ge}},"parseError"),parse:g(function(zt){var oe=this,ge=[0],Pt=[],or=[null],X=[],md=this.table,tt="",Nr=0,N3=0,wz=2,$3=1,Sz=X.slice.call(arguments,1),tn=Object.create(this.lexer),al={yy:{}};for(var Tx in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Tx)&&(al.yy[Tx]=this.yy[Tx]);tn.setInput(zt,al.yy),al.yy.lexer=tn,al.yy.parser=this,typeof tn.yylloc>"u"&&(tn.yylloc={});var kx=tn.yylloc;X.push(kx);var Cz=tn.options&&tn.options.ranges;typeof al.yy.parseError=="function"?this.parseError=al.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ez(yi){ge.length=ge.length-2*yi,or.length=or.length-yi,X.length=X.length-yi}g(Ez,"popStack");function O3(){var yi;return yi=Pt.pop()||tn.lex()||$3,typeof yi!="number"&&(yi instanceof Array&&(Pt=yi,yi=Pt.pop()),yi=oe.symbols_[yi]||yi),yi}g(O3,"lex");for(var ni,ol,Pi,wx,Dc={},Dg,pa,D3,Mg;;){if(ol=ge[ge.length-1],this.defaultActions[ol]?Pi=this.defaultActions[ol]:((ni===null||typeof ni>"u")&&(ni=O3()),Pi=md[ol]&&md[ol][ni]),typeof Pi>"u"||!Pi.length||!Pi[0]){var Sx="";Mg=[];for(Dg in md[ol])this.terminals_[Dg]&&Dg>wz&&Mg.push("'"+this.terminals_[Dg]+"'");tn.showPosition?Sx="Parse error on line "+(Nr+1)+`:
`+tn.showPosition()+`
Expecting `+Mg.join(", ")+", got '"+(this.terminals_[ni]||ni)+"'":Sx="Parse error on line "+(Nr+1)+": Unexpected "+(ni==$3?"end of input":"'"+(this.terminals_[ni]||ni)+"'"),this.parseError(Sx,{text:tn.match,token:this.terminals_[ni]||ni,line:tn.yylineno,loc:kx,expected:Mg})}if(Pi[0]instanceof Array&&Pi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ol+", token: "+ni);switch(Pi[0]){case 1:ge.push(ni),or.push(tn.yytext),X.push(tn.yylloc),ge.push(Pi[1]),ni=null,N3=tn.yyleng,tt=tn.yytext,Nr=tn.yylineno,kx=tn.yylloc;break;case 2:if(pa=this.productions_[Pi[1]][1],Dc.$=or[or.length-pa],Dc._$={first_line:X[X.length-(pa||1)].first_line,last_line:X[X.length-1].last_line,first_column:X[X.length-(pa||1)].first_column,last_column:X[X.length-1].last_column},Cz&&(Dc._$.range=[X[X.length-(pa||1)].range[0],X[X.length-1].range[1]]),wx=this.performAction.apply(Dc,[tt,N3,Nr,al.yy,Pi[1],or,X].concat(Sz)),typeof wx<"u")return wx;pa&&(ge=ge.slice(0,-1*pa*2),or=or.slice(0,-1*pa),X=X.slice(0,-1*pa)),ge.push(this.productions_[Pi[1]][0]),or.push(Dc.$),X.push(Dc._$),D3=md[ge[ge.length-2]][ge[ge.length-1]],ge.push(D3);break;case 3:return!0}}return!0},"parse")},ls=function(){var Mi={EOF:1,parseError:g(function(oe,ge){if(this.yy.parser)this.yy.parser.parseError(oe,ge);else throw new Error(oe)},"parseError"),setInput:g(function(zt,oe){return this.yy=oe||this.yy||{},this._input=zt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var zt=this._input[0];this.yytext+=zt,this.yyleng++,this.offset++,this.match+=zt,this.matched+=zt;var oe=zt.match(/(?:\r\n?|\n).*/g);return oe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),zt},"input"),unput:g(function(zt){var oe=zt.length,ge=zt.split(/(?:\r\n?|\n)/g);this._input=zt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-oe),this.offset-=oe;var Pt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ge.length-1&&(this.yylineno-=ge.length-1);var or=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ge?(ge.length===Pt.length?this.yylloc.first_column:0)+Pt[Pt.length-ge.length].length-ge[0].length:this.yylloc.first_column-oe},this.options.ranges&&(this.yylloc.range=[or[0],or[0]+this.yyleng-oe]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(zt){this.unput(this.match.slice(zt))},"less"),pastInput:g(function(){var zt=this.matched.substr(0,this.matched.length-this.match.length);return(zt.length>20?"...":"")+zt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var zt=this.match;return zt.length<20&&(zt+=this._input.substr(0,20-zt.length)),(zt.substr(0,20)+(zt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var zt=this.pastInput(),oe=new Array(zt.length+1).join("-");return zt+this.upcomingInput()+`
`+oe+"^"},"showPosition"),test_match:g(function(zt,oe){var ge,Pt,or;if(this.options.backtrack_lexer&&(or={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(or.yylloc.range=this.yylloc.range.slice(0))),Pt=zt[0].match(/(?:\r\n?|\n).*/g),Pt&&(this.yylineno+=Pt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Pt?Pt[Pt.length-1].length-Pt[Pt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+zt[0].length},this.yytext+=zt[0],this.match+=zt[0],this.matches=zt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(zt[0].length),this.matched+=zt[0],ge=this.performAction.call(this,this.yy,this,oe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ge)return ge;if(this._backtrack){for(var X in or)this[X]=or[X];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var zt,oe,ge,Pt;this._more||(this.yytext="",this.match="");for(var or=this._currentRules(),X=0;X<or.length;X++)if(ge=this._input.match(this.rules[or[X]]),ge&&(!oe||ge[0].length>oe[0].length)){if(oe=ge,Pt=X,this.options.backtrack_lexer){if(zt=this.test_match(ge,or[X]),zt!==!1)return zt;if(this._backtrack){oe=!1;continue}else return!1}else if(!this.options.flex)break}return oe?(zt=this.test_match(oe,or[Pt]),zt!==!1?zt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var oe=this.next();return oe||this.lex()},"lex"),begin:g(function(oe){this.conditionStack.push(oe)},"begin"),popState:g(function(){var oe=this.conditionStack.length-1;return oe>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(oe){return oe=this.conditionStack.length-1-Math.abs(oe||0),oe>=0?this.conditionStack[oe]:"INITIAL"},"topState"),pushState:g(function(oe){this.begin(oe)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:g(function(oe,ge,Pt,or){switch(Pt){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),ge.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const X=/\n\s*/g;return ge.yytext=ge.yytext.replace(X,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:return oe.lex.firstGraph()&&this.begin("dir"),12;case 36:return oe.lex.firstGraph()&&this.begin("dir"),12;case 37:return oe.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;case 69:return this.pushState("edgeText"),75;case 70:return 119;case 71:return this.popState(),77;case 72:return this.pushState("thickEdgeText"),75;case 73:return 119;case 74:return this.popState(),77;case 75:return this.pushState("dottedEdgeText"),75;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;case 81:return this.popState(),55;case 82:return this.pushState("text"),54;case 83:return this.popState(),57;case 84:return this.pushState("text"),56;case 85:return 58;case 86:return this.pushState("text"),67;case 87:return this.popState(),64;case 88:return this.pushState("text"),63;case 89:return this.popState(),49;case 90:return this.pushState("text"),48;case 91:return this.popState(),69;case 92:return this.popState(),71;case 93:return 117;case 94:return this.pushState("trapText"),68;case 95:return this.pushState("trapText"),70;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;case 108:return this.pushState("text"),62;case 109:return this.popState(),51;case 110:return this.pushState("text"),50;case 111:return this.popState(),31;case 112:return this.pushState("text"),29;case 113:return this.popState(),66;case 114:return this.pushState("text"),65;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return Mi}();Jr.lexer=ls;function cs(){this.yy={}}return g(cs,"Parser"),cs.prototype=Jr,Jr.Parser=cs,new cs}();G_.parser=G_;var pM=G_,gM=Object.assign({},pM);gM.parse=e=>{const t=e.replace(/}\s*\n/g,`}
`);return pM.parse(t)};var Upt=gM,Hpt=g((e,t)=>{const r=Rk,n=r(e,"r"),i=r(e,"g"),s=r(e,"b");return Co(n,i,s,t)},"fade"),Gpt=g(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Hpt(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
  ${xg()}
`,"getStyles"),qpt=Gpt,jpt={parser:Upt,get db(){return new Fpt},renderer:Wpt,styles:qpt,init:g(e=>{e.flowchart||(e.flowchart={}),e.layout&&zv({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,zv({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}})},"init")};const lS=Object.freeze(Object.defineProperty({__proto__:null,diagram:jpt},Symbol.toStringTag,{value:"Module"}));var q_=function(){var e=g(function(Z,z,V,G){for(V=V||{},G=Z.length;G--;V[Z[G]]=z);return V},"o"),t=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],r=[1,10],n=[1,11],i=[1,12],s=[1,13],a=[1,20],o=[1,21],l=[1,22],u=[1,23],h=[1,24],d=[1,19],f=[1,25],p=[1,26],m=[1,18],y=[1,33],b=[1,34],x=[1,35],v=[1,36],_=[1,37],S=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],k=[1,42],T=[1,43],E=[1,52],I=[40,50,68,69],C=[1,63],R=[1,61],w=[1,58],$=[1,62],A=[1,64],L=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],N=[63,64,65,66,67],D=[1,81],P=[1,80],O=[1,78],M=[1,79],Y=[6,10,42,47],F=[6,10,13,41,42,47,48,49],j=[1,89],it=[1,88],ft=[1,87],J=[19,56],dt=[1,98],et=[1,97],St=[19,56,58,60],ct={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:g(function(z,V,G,W,ot,B,wt){var K=B.length-1;switch(ot){case 1:break;case 2:this.$=[];break;case 3:B[K-1].push(B[K]),this.$=B[K-1];break;case 4:case 5:this.$=B[K];break;case 6:case 7:this.$=[];break;case 8:W.addEntity(B[K-4]),W.addEntity(B[K-2]),W.addRelationship(B[K-4],B[K],B[K-2],B[K-3]);break;case 9:W.addEntity(B[K-8]),W.addEntity(B[K-4]),W.addRelationship(B[K-8],B[K],B[K-4],B[K-5]),W.setClass([B[K-8]],B[K-6]),W.setClass([B[K-4]],B[K-2]);break;case 10:W.addEntity(B[K-6]),W.addEntity(B[K-2]),W.addRelationship(B[K-6],B[K],B[K-2],B[K-3]),W.setClass([B[K-6]],B[K-4]);break;case 11:W.addEntity(B[K-6]),W.addEntity(B[K-4]),W.addRelationship(B[K-6],B[K],B[K-4],B[K-5]),W.setClass([B[K-4]],B[K-2]);break;case 12:W.addEntity(B[K-3]),W.addAttributes(B[K-3],B[K-1]);break;case 13:W.addEntity(B[K-5]),W.addAttributes(B[K-5],B[K-1]),W.setClass([B[K-5]],B[K-3]);break;case 14:W.addEntity(B[K-2]);break;case 15:W.addEntity(B[K-4]),W.setClass([B[K-4]],B[K-2]);break;case 16:W.addEntity(B[K]);break;case 17:W.addEntity(B[K-2]),W.setClass([B[K-2]],B[K]);break;case 18:W.addEntity(B[K-6],B[K-4]),W.addAttributes(B[K-6],B[K-1]);break;case 19:W.addEntity(B[K-8],B[K-6]),W.addAttributes(B[K-8],B[K-1]),W.setClass([B[K-8]],B[K-3]);break;case 20:W.addEntity(B[K-5],B[K-3]);break;case 21:W.addEntity(B[K-7],B[K-5]),W.setClass([B[K-7]],B[K-2]);break;case 22:W.addEntity(B[K-3],B[K-1]);break;case 23:W.addEntity(B[K-5],B[K-3]),W.setClass([B[K-5]],B[K]);break;case 24:case 25:this.$=B[K].trim(),W.setAccTitle(this.$);break;case 26:case 27:this.$=B[K].trim(),W.setAccDescription(this.$);break;case 32:W.setDirection("TB");break;case 33:W.setDirection("BT");break;case 34:W.setDirection("RL");break;case 35:W.setDirection("LR");break;case 36:this.$=B[K-3],W.addClass(B[K-2],B[K-1]);break;case 37:case 38:case 56:case 64:this.$=[B[K]];break;case 39:case 40:this.$=B[K-2].concat([B[K]]);break;case 41:this.$=B[K-2],W.setClass(B[K-1],B[K]);break;case 42:this.$=B[K-3],W.addCssStyles(B[K-2],B[K-1]);break;case 43:this.$=[B[K]];break;case 44:B[K-2].push(B[K]),this.$=B[K-2];break;case 46:this.$=B[K-1]+B[K];break;case 54:case 76:case 77:this.$=B[K].replace(/"/g,"");break;case 55:case 78:this.$=B[K];break;case 57:B[K].push(B[K-1]),this.$=B[K];break;case 58:this.$={type:B[K-1],name:B[K]};break;case 59:this.$={type:B[K-2],name:B[K-1],keys:B[K]};break;case 60:this.$={type:B[K-2],name:B[K-1],comment:B[K]};break;case 61:this.$={type:B[K-3],name:B[K-2],keys:B[K-1],comment:B[K]};break;case 62:case 63:case 66:this.$=B[K];break;case 65:B[K-2].push(B[K]),this.$=B[K-2];break;case 67:this.$=B[K].replace(/"/g,"");break;case 68:this.$={cardA:B[K],relType:B[K-1],cardB:B[K-2]};break;case 69:this.$=W.Cardinality.ZERO_OR_ONE;break;case 70:this.$=W.Cardinality.ZERO_OR_MORE;break;case 71:this.$=W.Cardinality.ONE_OR_MORE;break;case 72:this.$=W.Cardinality.ONLY_ONE;break;case 73:this.$=W.Cardinality.MD_PARENT;break;case 74:this.$=W.Identification.NON_IDENTIFYING;break;case 75:this.$=W.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:r,24:n,26:i,28:s,29:14,30:15,31:16,32:17,33:a,34:o,35:l,36:u,37:h,40:d,43:f,44:p,50:m},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:27,11:9,22:r,24:n,26:i,28:s,29:14,30:15,31:16,32:17,33:a,34:o,35:l,36:u,37:h,40:d,43:f,44:p,50:m},e(t,[2,5]),e(t,[2,6]),e(t,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:y,64:b,65:x,66:v,67:_}),{23:[1,38]},{25:[1,39]},{27:[1,40]},e(t,[2,27]),e(t,[2,28]),e(t,[2,29]),e(t,[2,30]),e(t,[2,31]),e(S,[2,54]),e(S,[2,55]),e(t,[2,32]),e(t,[2,33]),e(t,[2,34]),e(t,[2,35]),{16:41,40:k,41:T},{16:44,40:k,41:T},{16:45,40:k,41:T},e(t,[2,4]),{11:46,40:d,50:m},{16:47,40:k,41:T},{18:48,19:[1,49],51:50,52:51,56:E},{11:53,40:d,50:m},{62:54,68:[1,55],69:[1,56]},e(I,[2,69]),e(I,[2,70]),e(I,[2,71]),e(I,[2,72]),e(I,[2,73]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),{13:C,38:57,41:R,42:w,45:59,46:60,48:$,49:A},e(L,[2,37]),e(L,[2,38]),{16:65,40:k,41:T,42:w},{13:C,38:66,41:R,42:w,45:59,46:60,48:$,49:A},{13:[1,67],15:[1,68]},e(t,[2,17],{61:32,12:69,17:[1,70],42:w,63:y,64:b,65:x,66:v,67:_}),{19:[1,71]},e(t,[2,14]),{18:72,19:[2,56],51:50,52:51,56:E},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:y,64:b,65:x,66:v,67:_},e(N,[2,74]),e(N,[2,75]),{6:D,10:P,39:77,42:O,47:M},{40:[1,82],41:[1,83]},e(Y,[2,43],{46:84,13:C,41:R,48:$,49:A}),e(F,[2,45]),e(F,[2,50]),e(F,[2,51]),e(F,[2,52]),e(F,[2,53]),e(t,[2,41],{42:w}),{6:D,10:P,39:85,42:O,47:M},{14:86,40:j,50:it,70:ft},{16:90,40:k,41:T},{11:91,40:d,50:m},{18:92,19:[1,93],51:50,52:51,56:E},e(t,[2,12]),{19:[2,57]},e(J,[2,58],{54:94,55:95,57:96,59:dt,60:et}),e([19,56,59,60],[2,63]),e(t,[2,22],{15:[1,100],17:[1,99]}),e([40,50],[2,68]),e(t,[2,36]),{13:C,41:R,45:101,46:60,48:$,49:A},e(t,[2,47]),e(t,[2,48]),e(t,[2,49]),e(L,[2,39]),e(L,[2,40]),e(F,[2,46]),e(t,[2,42]),e(t,[2,8]),e(t,[2,76]),e(t,[2,77]),e(t,[2,78]),{13:[1,102],42:w},{13:[1,104],15:[1,103]},{19:[1,105]},e(t,[2,15]),e(J,[2,59],{55:106,58:[1,107],60:et}),e(J,[2,60]),e(St,[2,64]),e(J,[2,67]),e(St,[2,66]),{18:108,19:[1,109],51:50,52:51,56:E},{16:110,40:k,41:T},e(Y,[2,44],{46:84,13:C,41:R,48:$,49:A}),{14:111,40:j,50:it,70:ft},{16:112,40:k,41:T},{14:113,40:j,50:it,70:ft},e(t,[2,13]),e(J,[2,61]),{57:114,59:dt},{19:[1,115]},e(t,[2,20]),e(t,[2,23],{17:[1,116],42:w}),e(t,[2,11]),{13:[1,117],42:w},e(t,[2,10]),e(St,[2,65]),e(t,[2,18]),{18:118,19:[1,119],51:50,52:51,56:E},{14:120,40:j,50:it,70:ft},{19:[1,121]},e(t,[2,21]),e(t,[2,9]),e(t,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:g(function(z,V){if(V.recoverable)this.trace(z);else{var G=new Error(z);throw G.hash=V,G}},"parseError"),parse:g(function(z){var V=this,G=[0],W=[],ot=[null],B=[],wt=this.table,K="",vt=0,mt=0,Nt=2,lt=1,xt=B.slice.call(arguments,1),st=Object.create(this.lexer),ut={yy:{}};for(var _t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_t)&&(ut.yy[_t]=this.yy[_t]);st.setInput(z,ut.yy),ut.yy.lexer=st,ut.yy.parser=this,typeof st.yylloc>"u"&&(st.yylloc={});var Q=st.yylloc;B.push(Q);var Tt=st.options&&st.options.ranges;typeof ut.yy.parseError=="function"?this.parseError=ut.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function H(pe){G.length=G.length-2*pe,ot.length=ot.length-pe,B.length=B.length-pe}g(H,"popStack");function $t(){var pe;return pe=W.pop()||st.lex()||lt,typeof pe!="number"&&(pe instanceof Array&&(W=pe,pe=W.pop()),pe=V.symbols_[pe]||pe),pe}g($t,"lex");for(var q,At,gt,Mt,kt={},Ct,ae,Dt,ke;;){if(At=G[G.length-1],this.defaultActions[At]?gt=this.defaultActions[At]:((q===null||typeof q>"u")&&(q=$t()),gt=wt[At]&&wt[At][q]),typeof gt>"u"||!gt.length||!gt[0]){var zr="";ke=[];for(Ct in wt[At])this.terminals_[Ct]&&Ct>Nt&&ke.push("'"+this.terminals_[Ct]+"'");st.showPosition?zr="Parse error on line "+(vt+1)+`:
`+st.showPosition()+`
Expecting `+ke.join(", ")+", got '"+(this.terminals_[q]||q)+"'":zr="Parse error on line "+(vt+1)+": Unexpected "+(q==lt?"end of input":"'"+(this.terminals_[q]||q)+"'"),this.parseError(zr,{text:st.match,token:this.terminals_[q]||q,line:st.yylineno,loc:Q,expected:ke})}if(gt[0]instanceof Array&&gt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+At+", token: "+q);switch(gt[0]){case 1:G.push(q),ot.push(st.yytext),B.push(st.yylloc),G.push(gt[1]),q=null,mt=st.yyleng,K=st.yytext,vt=st.yylineno,Q=st.yylloc;break;case 2:if(ae=this.productions_[gt[1]][1],kt.$=ot[ot.length-ae],kt._$={first_line:B[B.length-(ae||1)].first_line,last_line:B[B.length-1].last_line,first_column:B[B.length-(ae||1)].first_column,last_column:B[B.length-1].last_column},Tt&&(kt._$.range=[B[B.length-(ae||1)].range[0],B[B.length-1].range[1]]),Mt=this.performAction.apply(kt,[K,mt,vt,ut.yy,gt[1],ot,B].concat(xt)),typeof Mt<"u")return Mt;ae&&(G=G.slice(0,-1*ae*2),ot=ot.slice(0,-1*ae),B=B.slice(0,-1*ae)),G.push(this.productions_[gt[1]][0]),ot.push(kt.$),B.push(kt._$),Dt=wt[G[G.length-2]][G[G.length-1]],G.push(Dt);break;case 3:return!0}}return!0},"parse")},bt=function(){var Z={EOF:1,parseError:g(function(V,G){if(this.yy.parser)this.yy.parser.parseError(V,G);else throw new Error(V)},"parseError"),setInput:g(function(z,V){return this.yy=V||this.yy||{},this._input=z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var z=this._input[0];this.yytext+=z,this.yyleng++,this.offset++,this.match+=z,this.matched+=z;var V=z.match(/(?:\r\n?|\n).*/g);return V?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),z},"input"),unput:g(function(z){var V=z.length,G=z.split(/(?:\r\n?|\n)/g);this._input=z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-V),this.offset-=V;var W=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),G.length-1&&(this.yylineno-=G.length-1);var ot=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:G?(G.length===W.length?this.yylloc.first_column:0)+W[W.length-G.length].length-G[0].length:this.yylloc.first_column-V},this.options.ranges&&(this.yylloc.range=[ot[0],ot[0]+this.yyleng-V]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(z){this.unput(this.match.slice(z))},"less"),pastInput:g(function(){var z=this.matched.substr(0,this.matched.length-this.match.length);return(z.length>20?"...":"")+z.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var z=this.match;return z.length<20&&(z+=this._input.substr(0,20-z.length)),(z.substr(0,20)+(z.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var z=this.pastInput(),V=new Array(z.length+1).join("-");return z+this.upcomingInput()+`
`+V+"^"},"showPosition"),test_match:g(function(z,V){var G,W,ot;if(this.options.backtrack_lexer&&(ot={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ot.yylloc.range=this.yylloc.range.slice(0))),W=z[0].match(/(?:\r\n?|\n).*/g),W&&(this.yylineno+=W.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:W?W[W.length-1].length-W[W.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length},this.yytext+=z[0],this.match+=z[0],this.matches=z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(z[0].length),this.matched+=z[0],G=this.performAction.call(this,this.yy,this,V,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),G)return G;if(this._backtrack){for(var B in ot)this[B]=ot[B];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var z,V,G,W;this._more||(this.yytext="",this.match="");for(var ot=this._currentRules(),B=0;B<ot.length;B++)if(G=this._input.match(this.rules[ot[B]]),G&&(!V||G[0].length>V[0].length)){if(V=G,W=B,this.options.backtrack_lexer){if(z=this.test_match(G,ot[B]),z!==!1)return z;if(this._backtrack){V=!1;continue}else return!1}else if(!this.options.flex)break}return V?(z=this.test_match(V,ot[W]),z!==!1?z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var V=this.next();return V||this.lex()},"lex"),begin:g(function(V){this.conditionStack.push(V)},"begin"),popState:g(function(){var V=this.conditionStack.length-1;return V>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(V){return V=this.conditionStack.length-1-Math.abs(V||0),V>=0?this.conditionStack[V]:"INITIAL"},"topState"),pushState:g(function(V){this.begin(V)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(V,G,W,ot){switch(W){case 0:return this.begin("acc_title"),24;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),26;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;case 30:return G.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;case 34:return this.popState(),10;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return G.yytext[0];case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return Z}();ct.lexer=bt;function nt(){this.yy={}}return g(nt,"Parser"),nt.prototype=ct,ct.Parser=nt,new nt}();q_.parser=q_;var Ypt=q_,Ou,Xpt=(Ou=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=Pr,this.getAccTitle=Xr,this.setAccDescription=Kr,this.getAccDescription=Qr,this.setDiagramTitle=on,this.getDiagramTitle=Vr,this.getConfig=g(()=>rt().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}addEntity(t,r=""){var n;return this.entities.has(t)?!((n=this.entities.get(t))!=null&&n.alias)&&r&&(this.entities.get(t).alias=r,U.info(`Add alias '${r}' to entity '${t}'`)):(this.entities.set(t,{id:`entity-${t}-${this.entities.size}`,label:t,attributes:[],alias:r,shape:"erBox",look:rt().look??"default",cssClasses:"default",cssStyles:[]}),U.info("Added new entity :",t)),this.entities.get(t)}getEntity(t){return this.entities.get(t)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(t,r){const n=this.addEntity(t);let i;for(i=r.length-1;i>=0;i--)r[i].keys||(r[i].keys=[]),r[i].comment||(r[i].comment=""),n.attributes.push(r[i]),U.debug("Added attribute ",r[i].name)}addRelationship(t,r,n,i){const s=this.entities.get(t),a=this.entities.get(n);if(!s||!a)return;const o={entityA:s.id,roleA:r,entityB:a.id,relSpec:i};this.relationships.push(o),U.debug("Added new relationship :",o)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(t){this.direction=t}getCompiledStyles(t){let r=[];for(const n of t){const i=this.classes.get(n);i!=null&&i.styles&&(r=[...r,...i.styles??[]].map(s=>s.trim())),i!=null&&i.textStyles&&(r=[...r,...i.textStyles??[]].map(s=>s.trim()))}return r}addCssStyles(t,r){for(const n of t){const i=this.entities.get(n);if(!r||!i)return;for(const s of r)i.cssStyles.push(s)}}addClass(t,r){t.forEach(n=>{let i=this.classes.get(n);i===void 0&&(i={id:n,styles:[],textStyles:[]},this.classes.set(n,i)),r&&r.forEach(function(s){if(/color/.exec(s)){const a=s.replace("fill","bgFill");i.textStyles.push(a)}i.styles.push(s)})})}setClass(t,r){for(const n of t){const i=this.entities.get(n);if(i)for(const s of r)i.cssClasses+=" "+s}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],Fr()}getData(){const t=[],r=[],n=rt();for(const s of this.entities.keys()){const a=this.entities.get(s);a&&(a.cssCompiledStyles=this.getCompiledStyles(a.cssClasses.split(" ")),t.push(a))}let i=0;for(const s of this.relationships){const a={id:pu(s.entityA,s.entityB,{prefix:"id",counter:i++}),type:"normal",curve:"basis",start:s.entityA,end:s.entityB,label:s.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:s.relSpec.cardB.toLowerCase(),arrowTypeEnd:s.relSpec.cardA.toLowerCase(),pattern:s.relSpec.relType=="IDENTIFYING"?"solid":"dashed",look:n.look};r.push(a)}return{nodes:t,edges:r,other:{},config:n,direction:"TB"}}},g(Ou,"ErDB"),Ou),mM={};Uy(mM,{draw:()=>Kpt});var Kpt=g(async function(e,t,r,n){U.info("REF0:"),U.info("Drawing er diagram (unified)",t);const{securityLevel:i,er:s,layout:a}=rt(),o=n.db.getData(),l=hd(t,i);o.type=n.type,o.layoutAlgorithm=gg(a),o.config.flowchart.nodeSpacing=(s==null?void 0:s.nodeSpacing)||140,o.config.flowchart.rankSpacing=(s==null?void 0:s.rankSpacing)||80,o.direction=n.db.getDirection(),o.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],o.diagramId=t,await ld(o,l),o.layoutAlgorithm==="elk"&&l.select(".edges").lower();const u=l.selectAll('[id*="-background"]');Array.from(u).length>0&&u.each(function(){const d=Lt(this),p=d.attr("id").replace("-background",""),m=l.select(`#${CSS.escape(p)}`);if(!m.empty()){const y=m.attr("transform");d.attr("transform",y)}});const h=8;be.insertTitle(l,"erDiagramTitleText",(s==null?void 0:s.titleTopMargin)??25,n.db.getDiagramTitle()),kc(l,h,"erDiagram",(s==null?void 0:s.useMaxWidth)??!0)},"draw"),Qpt=g((e,t)=>{const r=Rk,n=r(e,"r"),i=r(e,"g"),s=r(e,"b");return Co(n,i,s,t)},"fade"),Zpt=g(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

  .labelBkg {
    background-color: ${Qpt(e.tertiaryColor,.5)};
  }

  .edgeLabel .label {
    fill: ${e.nodeBorder};
    font-size: 14px;
  }

  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }

  .edge-pattern-dashed {
    stroke-dasharray: 8,8;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon
  {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .relationshipLine {
    stroke: ${e.lineColor};
    stroke-width: 1;
    fill: none;
  }

  .marker {
    fill: none !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
`,"getStyles"),Jpt=Zpt,tgt={parser:Ypt,get db(){return new Xpt},renderer:mM,styles:Jpt};const egt=Object.freeze(Object.defineProperty({__proto__:null,diagram:tgt},Symbol.toStringTag,{value:"Module"}));function wc(e,t){var r,n,i;e.accDescr&&((r=t.setAccDescription)==null||r.call(t,e.accDescr)),e.accTitle&&((n=t.setAccTitle)==null||n.call(t,e.accTitle)),e.title&&((i=t.setDiagramTitle)==null||i.call(t,e.title))}g(wc,"populateCommonDb");var Du,yM=(Du=class{constructor(t){this.init=t,this.records=this.init()}reset(){this.records=this.init()}},g(Du,"ImperativeState"),Du);function On(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function Qs(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function rgt(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function c0(e){return typeof e=="object"&&e!==null&&On(e.container)&&Qs(e.reference)&&typeof e.message=="string"}class xM{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(t,r){return On(t)&&this.isSubtype(t.$type,r)}isSubtype(t,r){if(t===r)return!0;let n=this.subtypes[t];n||(n=this.subtypes[t]={});const i=n[r];if(i!==void 0)return i;{const s=this.computeIsSubtype(t,r);return n[r]=s,s}}getAllSubTypes(t){const r=this.allSubtypes[t];if(r)return r;{const n=this.getAllTypes(),i=[];for(const s of n)this.isSubtype(s,t)&&i.push(s);return this.allSubtypes[t]=i,i}}}function Pp(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function bM(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function vM(e){return Pp(e)&&typeof e.fullText=="string"}class pn{constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){const t={state:this.startFn(),next:()=>this.nextFn(t.state),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const t=this.iterator();let r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){const t=[],r=this.iterator();let n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){const n=this.map(i=>[t?t(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(t){return new pn(()=>({first:this.startFn(),firstDone:!1,iterator:t[Symbol.iterator]()}),r=>{let n;if(!r.firstDone){do if(n=this.nextFn(r.first),!n.done)return n;while(!n.done);r.firstDone=!0}do if(n=r.iterator.next(),!n.done)return n;while(!n.done);return bi})}join(t=","){const r=this.iterator();let n="",i,s=!1;do i=r.next(),i.done||(s&&(n+=t),n+=ngt(i.value)),s=!0;while(!i.done);return n}indexOf(t,r=0){const n=this.iterator();let i=0,s=n.next();for(;!s.done;){if(i>=r&&s.value===t)return i;s=n.next(),i++}return-1}every(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){const r=this.iterator();let n=0,i=r.next();for(;!i.done;)t(i.value,n),i=r.next(),n++}map(t){return new pn(this.startFn,r=>{const{done:n,value:i}=this.nextFn(r);return n?bi:{done:!1,value:t(i)}})}filter(t){return new pn(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return bi})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){const n=this.iterator();let i=r,s=n.next();for(;!s.done;)i===void 0?i=s.value:i=t(i,s.value),s=n.next();return i}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){const i=t.next();if(i.done)return n;const s=this.recursiveReduce(t,r,n);return s===void 0?i.value:r(s,i.value)}find(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){const r=this.iterator();let n=0,i=r.next();for(;!i.done;){if(t(i.value))return n;i=r.next(),n++}return-1}includes(t){const r=this.iterator();let n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new pn(()=>({this:this.startFn()}),r=>{do{if(r.iterator){const s=r.iterator.next();if(s.done)r.iterator=void 0;else return s}const{done:n,value:i}=this.nextFn(r.this);if(!n){const s=t(i);if(Vm(s))r.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}}while(r.iterator);return bi})}flat(t){if(t===void 0&&(t=1),t<=0)return this;const r=t>1?this.flat(t-1):this;return new pn(()=>({this:r.startFn()}),n=>{do{if(n.iterator){const a=n.iterator.next();if(a.done)n.iterator=void 0;else return a}const{done:i,value:s}=r.nextFn(n.this);if(!i)if(Vm(s))n.iterator=s[Symbol.iterator]();else return{done:!1,value:s}}while(n.iterator);return bi})}head(){const r=this.iterator().next();if(!r.done)return r.value}tail(t=1){return new pn(()=>{const r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new pn(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?bi:this.nextFn(r.state)))}distinct(t){return new pn(()=>({set:new Set,internalState:this.startFn()}),r=>{let n;do if(n=this.nextFn(r.internalState),!n.done){const i=t?t(n.value):n.value;if(!r.set.has(i))return r.set.add(i),n}while(!n.done);return bi})}exclude(t,r){const n=new Set;for(const i of t){const s=r?r(i):i;n.add(s)}return this.filter(i=>{const s=r?r(i):i;return!n.has(s)})}}function ngt(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function Vm(e){return!!e&&typeof e[Symbol.iterator]=="function"}const igt=new pn(()=>{},()=>bi),bi=Object.freeze({done:!0,value:void 0});function gn(...e){if(e.length===1){const t=e[0];if(t instanceof pn)return t;if(Vm(t))return new pn(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new pn(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:bi)}return e.length>1?new pn(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){const r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){const r=e[t.collIndex++];Vm(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return bi}):igt}class cS extends pn{constructor(t,r,n){super(()=>({iterators:n!=null&&n.includeRoot?[[t][Symbol.iterator]()]:[r(t)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const a=i.iterators[i.iterators.length-1].next();if(a.done)i.iterators.pop();else return i.iterators.push(r(a.value)[Symbol.iterator]()),a}return bi})}iterator(){const t={state:this.startFn(),next:()=>this.nextFn(t.state),prune:()=>{t.state.pruned=!0},[Symbol.iterator]:()=>t};return t}}var j_;(function(e){function t(s){return s.reduce((a,o)=>a+o,0)}e.sum=t;function r(s){return s.reduce((a,o)=>a*o,0)}e.product=r;function n(s){return s.reduce((a,o)=>Math.min(a,o))}e.min=n;function i(s){return s.reduce((a,o)=>Math.max(a,o))}e.max=i})(j_||(j_={}));function Y_(e){return new cS(e,t=>Pp(t)?t.content:[],{includeRoot:!0})}function sgt(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function X_(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function zm(e){if(!e)return;const{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}var Ea;(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"})(Ea||(Ea={}));function agt(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return Ea.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return Ea.After;const r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?Ea.Inside:r?Ea.OverlapBack:n?Ea.OverlapFront:Ea.Outside}function ogt(e,t){return agt(e,t)>Ea.After}const lgt=/^[\w\p{L}]$/u;function cgt(e,t){if(e){const r=ugt(e,!0);if(r&&r5(r,t))return r;if(vM(e)){const n=e.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){const s=e.content[i];if(r5(s,t))return s}}}}function r5(e,t){return bM(e)&&t.includes(e.tokenType.name)}function ugt(e,t=!0){for(;e.container;){const r=e.container;let n=r.content.indexOf(e);for(;n>0;){n--;const i=r.content[n];if(t||!i.hidden)return i}e=r}}class _M extends Error{constructor(t,r){super(t?`${r} at ${t.range.start.line}:${t.range.start.character}`:r)}}function bg(e){throw new Error("Error! The input value was not handled.")}const c1="AbstractRule",u1="AbstractType",Nb="Condition",n5="TypeDefinition",$b="ValueLiteral",Zd="AbstractElement";function hgt(e){return Xe.isInstance(e,Zd)}const h1="ArrayLiteral",d1="ArrayType",Jd="BooleanLiteral";function dgt(e){return Xe.isInstance(e,Jd)}const tf="Conjunction";function fgt(e){return Xe.isInstance(e,tf)}const ef="Disjunction";function pgt(e){return Xe.isInstance(e,ef)}const f1="Grammar",Ob="GrammarImport",rf="InferredType";function TM(e){return Xe.isInstance(e,rf)}const nf="Interface";function kM(e){return Xe.isInstance(e,nf)}const Db="NamedArgument",sf="Negation";function ggt(e){return Xe.isInstance(e,sf)}const p1="NumberLiteral",g1="Parameter",af="ParameterReference";function mgt(e){return Xe.isInstance(e,af)}const of="ParserRule";function rs(e){return Xe.isInstance(e,of)}const m1="ReferenceType",u0="ReturnType";function ygt(e){return Xe.isInstance(e,u0)}const lf="SimpleType";function xgt(e){return Xe.isInstance(e,lf)}const y1="StringLiteral",Yc="TerminalRule";function Sc(e){return Xe.isInstance(e,Yc)}const cf="Type";function wM(e){return Xe.isInstance(e,cf)}const Mb="TypeAttribute",x1="UnionType",uf="Action";function M2(e){return Xe.isInstance(e,uf)}const hf="Alternatives";function SM(e){return Xe.isInstance(e,hf)}const df="Assignment";function rc(e){return Xe.isInstance(e,df)}const ff="CharacterRange";function bgt(e){return Xe.isInstance(e,ff)}const pf="CrossReference";function uS(e){return Xe.isInstance(e,pf)}const gf="EndOfFile";function vgt(e){return Xe.isInstance(e,gf)}const mf="Group";function hS(e){return Xe.isInstance(e,mf)}const yf="Keyword";function nc(e){return Xe.isInstance(e,yf)}const xf="NegatedToken";function _gt(e){return Xe.isInstance(e,xf)}const bf="RegexToken";function Tgt(e){return Xe.isInstance(e,bf)}const vf="RuleCall";function ic(e){return Xe.isInstance(e,vf)}const _f="TerminalAlternatives";function kgt(e){return Xe.isInstance(e,_f)}const Tf="TerminalGroup";function wgt(e){return Xe.isInstance(e,Tf)}const kf="TerminalRuleCall";function Sgt(e){return Xe.isInstance(e,kf)}const wf="UnorderedGroup";function CM(e){return Xe.isInstance(e,wf)}const Sf="UntilToken";function Cgt(e){return Xe.isInstance(e,Sf)}const Cf="Wildcard";function Egt(e){return Xe.isInstance(e,Cf)}class EM extends xM{getAllTypes(){return[Zd,c1,u1,uf,hf,h1,d1,df,Jd,ff,Nb,tf,pf,ef,gf,f1,Ob,mf,rf,nf,yf,Db,xf,sf,p1,g1,af,of,m1,bf,u0,vf,lf,y1,_f,Tf,Yc,kf,cf,Mb,n5,x1,wf,Sf,$b,Cf]}computeIsSubtype(t,r){switch(t){case uf:case hf:case df:case ff:case pf:case gf:case mf:case yf:case xf:case bf:case vf:case _f:case Tf:case kf:case wf:case Sf:case Cf:return this.isSubtype(Zd,r);case h1:case p1:case y1:return this.isSubtype($b,r);case d1:case m1:case lf:case x1:return this.isSubtype(n5,r);case Jd:return this.isSubtype(Nb,r)||this.isSubtype($b,r);case tf:case ef:case sf:case af:return this.isSubtype(Nb,r);case rf:case nf:case cf:return this.isSubtype(u1,r);case of:return this.isSubtype(c1,r)||this.isSubtype(u1,r);case Yc:return this.isSubtype(c1,r);default:return!1}}getReferenceType(t){const r=`${t.container.$type}:${t.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return u1;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return c1;case"Grammar:usedGrammars":return f1;case"NamedArgument:parameter":case"ParameterReference:parameter":return g1;case"TerminalRuleCall:rule":return Yc;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case Zd:return{name:Zd,properties:[{name:"cardinality"},{name:"lookahead"}]};case h1:return{name:h1,properties:[{name:"elements",defaultValue:[]}]};case d1:return{name:d1,properties:[{name:"elementType"}]};case Jd:return{name:Jd,properties:[{name:"true",defaultValue:!1}]};case tf:return{name:tf,properties:[{name:"left"},{name:"right"}]};case ef:return{name:ef,properties:[{name:"left"},{name:"right"}]};case f1:return{name:f1,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case Ob:return{name:Ob,properties:[{name:"path"}]};case rf:return{name:rf,properties:[{name:"name"}]};case nf:return{name:nf,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case Db:return{name:Db,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case sf:return{name:sf,properties:[{name:"value"}]};case p1:return{name:p1,properties:[{name:"value"}]};case g1:return{name:g1,properties:[{name:"name"}]};case af:return{name:af,properties:[{name:"parameter"}]};case of:return{name:of,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case m1:return{name:m1,properties:[{name:"referenceType"}]};case u0:return{name:u0,properties:[{name:"name"}]};case lf:return{name:lf,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case y1:return{name:y1,properties:[{name:"value"}]};case Yc:return{name:Yc,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case cf:return{name:cf,properties:[{name:"name"},{name:"type"}]};case Mb:return{name:Mb,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case x1:return{name:x1,properties:[{name:"types",defaultValue:[]}]};case uf:return{name:uf,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case hf:return{name:hf,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case df:return{name:df,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case ff:return{name:ff,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case pf:return{name:pf,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case gf:return{name:gf,properties:[{name:"cardinality"},{name:"lookahead"}]};case mf:return{name:mf,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case yf:return{name:yf,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case xf:return{name:xf,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case bf:return{name:bf,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case vf:return{name:vf,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case _f:return{name:_f,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Tf:return{name:Tf,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case kf:return{name:kf,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case wf:return{name:wf,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Sf:return{name:Sf,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Cf:return{name:Cf,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:t,properties:[]}}}}const Xe=new EM;function Agt(e){for(const[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{On(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=i)}):On(r)&&(r.$container=e,r.$containerProperty=t))}function P2(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function Do(e){const r=K_(e).$document;if(!r)throw new Error("AST node has no document.");return r}function K_(e){for(;e.$container;)e=e.$container;return e}function dS(e,t){if(!e)throw new Error("Node must be an AstNode.");const r=t==null?void 0:t.range;return new pn(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){const i=n.keys[n.keyIndex];if(!i.startsWith("$")){const s=e[i];if(On(s)){if(n.keyIndex++,i5(s,r))return{done:!1,value:s}}else if(Array.isArray(s)){for(;n.arrayIndex<s.length;){const a=n.arrayIndex++,o=s[a];if(On(o)&&i5(o,r))return{done:!1,value:o}}n.arrayIndex=0}}n.keyIndex++}return bi})}function vg(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new cS(e,r=>dS(r,t))}function xu(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new cS(e,r=>dS(r,t),{includeRoot:!0})}function i5(e,t){var r;if(!t)return!0;const n=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return n?ogt(n,t):!1}function AM(e){return new pn(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){const r=t.keys[t.keyIndex];if(!r.startsWith("$")){const n=e[r];if(Qs(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){const i=t.arrayIndex++,s=n[i];if(Qs(s))return{done:!1,value:{reference:s,container:e,property:r,index:i}}}t.arrayIndex=0}}t.keyIndex++}return bi})}function Lgt(e,t){const r=e.getTypeMetaData(t.$type),n=t;for(const i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=LM(i.defaultValue))}function LM(e){return Array.isArray(e)?[...e.map(LM)]:e}function me(e){return e.charCodeAt(0)}function Pb(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function Md(e,t){if(e[t]===!0)throw"duplicate flag "+t;e[t],e[t]=!0}function Vc(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function Rgt(){throw Error("Internal Error - Should never get here!")}function s5(e){return e.type==="Character"}const Wm=[];for(let e=me("0");e<=me("9");e++)Wm.push(e);const Um=[me("_")].concat(Wm);for(let e=me("a");e<=me("z");e++)Um.push(e);for(let e=me("A");e<=me("Z");e++)Um.push(e);const a5=[me(" "),me("\f"),me(`
`),me("\r"),me("	"),me("\v"),me("	"),me(""),me(""),me(""),me(""),me(""),me(""),me(""),me(""),me(""),me(""),me(""),me(""),me(""),me("\u2028"),me("\u2029"),me(""),me(""),me(""),me("\uFEFF")],Igt=/[0-9a-fA-F]/,b1=/[0-9]/,Ngt=/[1-9]/;class RM{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");const r=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Md(n,"global");break;case"i":Md(n,"ignoreCase");break;case"m":Md(n,"multiLine");break;case"u":Md(n,"unicode");break;case"y":Md(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){const t=[],r=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(r)}}alternative(){const t=[],r=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}Vc(r);const n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(t)}}return Rgt()}quantifier(t=!1){let r;const n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),r={atLeast:i,atMost:s}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(t===!0&&r===void 0)return;Vc(r);break}if(!(t===!0&&r===void 0)&&Vc(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let t;const r=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}if(t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),Vc(t))return t.loc=this.loc(r),this.isQuantifier()&&(t.quantifier=this.quantifier()),t}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[me(`
`),me("\r"),me("\u2028"),me("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,r=!1;switch(this.popChar()){case"d":t=Wm;break;case"D":t=Wm,r=!0;break;case"s":t=a5;break;case"S":t=a5,r=!0;break;case"w":t=Um;break;case"W":t=Um,r=!0;break}if(Vc(t))return{type:"Set",value:t,complement:r}}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=me("\f");break;case"n":t=me(`
`);break;case"r":t=me("\r");break;case"t":t=me("	");break;case"v":t=me("\v");break}if(Vc(t))return{type:"Character",value:t}}controlLetterEscapeAtom(){this.consumeChar("c");const t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:me("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const t=this.popChar();return{type:"Character",value:me(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const t=this.popChar();return{type:"Character",value:me(t)}}}characterClass(){const t=[];let r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,s5(n)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,s5(i)){if(i.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:i.value})}else Pb(n.value,t),t.push(me("-")),Pb(i.value,t)}else Pb(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:r,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:me("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}const r=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:t,value:r};return t&&(n.idx=this.groupIdx),n}positiveInteger(){let t=this.popChar();if(Ngt.test(t)===!1)throw Error("Expecting a positive integer");for(;b1.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(b1.test(t)===!1)throw Error("Expecting an integer");for(;b1.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){const t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:me(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return b1.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let r="";for(let i=0;i<t;i++){const s=this.popChar();if(Igt.test(s)===!1)throw Error("Expecting a HexDecimal digits");r+=s}return{type:"Character",value:parseInt(r,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){const t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}}class B2{visitChildren(t){for(const r in t){const n=t[r];t.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}}const $gt=/\r?\n/gm,Ogt=new RM;class Dgt extends B2{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(t){const r=String.fromCharCode(t.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=F2(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(t){if(!this.multiline){const r=this.regex.substring(t.loc.begin,t.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const r=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}}const Bb=new Dgt;function Mgt(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),Bb.reset(e),Bb.visit(Ogt.pattern(e)),Bb.multiline}catch{return!1}}const Pgt=`\f
\r	\v \u2028\u2029\uFEFF`.split("");function Q_(e){const t=typeof e=="string"?new RegExp(e):e;return Pgt.some(r=>t.test(r))}function F2(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Bgt(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:F2(t)).join("")}function Fgt(e,t){const r=Vgt(e),n=t.match(r);return!!n&&n[0].length>0}function Vgt(e){typeof e=="string"&&(e=new RegExp(e));const t=e,r=e.source;let n=0;function i(){let s="",a;function o(u){s+=r.substr(n,u),n+=u}function l(u){s+="(?:"+r.substr(n,u)+"|$)",n+=u}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":t.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":t.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2);break}break;case"[":a=/\[(?:\\.|.)*?\]/g,a.lastIndex=n,a=a.exec(r)||[],l(a[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":a=/\{\d+,?\d*\}/g,a.lastIndex=n,a=a.exec(r),a?o(a[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":s+="(?:",n+=3,s+=i()+"|$)";break;case"=":s+="(?=",n+=3,s+=i()+")";break;case"!":a=n,n+=3,i(),s+=r.substr(a,n-a);break;case"<":switch(r[n+3]){case"=":case"!":a=n,n+=4,i(),s+=r.substr(a,n-a);break;default:o(r.indexOf(">",n)-n+1),s+=i()+"|$)";break}break}else o(1),s+=i()+"|$)";break;case")":return++n,s;default:l(1);break}return s}return new RegExp(i(),e.flags)}function zgt(e){return e.rules.find(t=>rs(t)&&t.entry)}function Wgt(e){return e.rules.filter(t=>Sc(t)&&t.hidden)}function IM(e,t){const r=new Set,n=zgt(e);if(!n)return new Set(e.rules);const i=[n].concat(Wgt(e));for(const a of i)NM(a,r,t);const s=new Set;for(const a of e.rules)(r.has(a.name)||Sc(a)&&a.hidden)&&s.add(a);return s}function NM(e,t,r){t.add(e.name),vg(e).forEach(n=>{if(ic(n)||r){const i=n.rule.ref;i&&!t.has(i.name)&&NM(i,t,r)}})}function Ugt(e){if(e.terminal)return e.terminal;if(e.type.ref){const t=OM(e.type.ref);return t==null?void 0:t.terminal}}function Hgt(e){return e.hidden&&!Q_(mS(e))}function Ggt(e,t){return!e||!t?[]:fS(e,t,e.astNode,!0)}function $M(e,t,r){if(!e||!t)return;const n=fS(e,t,e.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function fS(e,t,r,n){if(!n){const i=P2(e.grammarSource,rc);if(i&&i.feature===t)return[e]}return Pp(e)&&e.astNode===r?e.content.flatMap(i=>fS(i,t,r,!1)):[]}function qgt(e,t,r){if(!e)return;const n=jgt(e,t,e==null?void 0:e.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function jgt(e,t,r){if(e.astNode!==r)return[];if(nc(e.grammarSource)&&e.grammarSource.value===t)return[e];const n=Y_(e).iterator();let i;const s=[];do if(i=n.next(),!i.done){const a=i.value;a.astNode===r?nc(a.grammarSource)&&a.grammarSource.value===t&&s.push(a):n.prune()}while(!i.done);return s}function Ygt(e){var t;const r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){const n=P2(e.grammarSource,rc);if(n)return n;e=e.container}}function OM(e){let t=e;return TM(t)&&(M2(t.$container)?t=t.$container.$container:rs(t.$container)?t=t.$container:bg(t.$container)),DM(e,t,new Map)}function DM(e,t,r){var n;function i(s,a){let o;return P2(s,rc)||(o=DM(a,a,r)),r.set(e,o),o}if(r.has(e))return r.get(e);r.set(e,void 0);for(const s of vg(t)){if(rc(s)&&s.feature.toLowerCase()==="name")return r.set(e,s),s;if(ic(s)&&rs(s.rule.ref))return i(s,s.rule.ref);if(xgt(s)&&(!((n=s.typeRef)===null||n===void 0)&&n.ref))return i(s,s.typeRef.ref)}}function MM(e){return PM(e,new Set)}function PM(e,t){if(t.has(e))return!0;t.add(e);for(const r of vg(e))if(ic(r)){if(!r.rule.ref||rs(r.rule.ref)&&!PM(r.rule.ref,t))return!1}else{if(rc(r))return!1;if(M2(r))return!1}return!!e.definition}function pS(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){const t=e.returnType.ref;if(t){if(rs(t))return t.name;if(kM(t)||wM(t))return t.name}}}function gS(e){var t;if(rs(e))return MM(e)?e.name:(t=pS(e))!==null&&t!==void 0?t:e.name;if(kM(e)||wM(e)||ygt(e))return e.name;if(M2(e)){const r=Xgt(e);if(r)return r}else if(TM(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function Xgt(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return gS(e.type.ref)}function Kgt(e){var t,r,n;return Sc(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":(n=pS(e))!==null&&n!==void 0?n:e.name}function mS(e){const t={s:!1,i:!1,u:!1},r=dd(e.definition,t),n=Object.entries(t).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}const yS=/[\s\S]/.source;function dd(e,t){if(kgt(e))return Qgt(e);if(wgt(e))return Zgt(e);if(bgt(e))return e1t(e);if(Sgt(e)){const r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return za(dd(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(_gt(e))return t1t(e);if(Cgt(e))return Jgt(e);if(Tgt(e)){const r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),i=e.regex.substring(r+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),za(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(Egt(e))return za(yS,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e==null?void 0:e.$type}`)}}}function Qgt(e){return za(e.elements.map(t=>dd(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function Zgt(e){return za(e.elements.map(t=>dd(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function Jgt(e){return za(`${yS}*?${dd(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function t1t(e){return za(`(?!${dd(e.terminal)})${yS}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function e1t(e){return e.right?za(`[${Fb(e.left)}-${Fb(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):za(Fb(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function Fb(e){return F2(e.value)}function za(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}function r1t(e){const t=[],r=e.Grammar;for(const n of r.rules)Sc(n)&&Hgt(n)&&Mgt(mS(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:lgt}}var BM=typeof global=="object"&&global&&global.Object===Object&&global,n1t=typeof self=="object"&&self&&self.Object===Object&&self,ca=BM||n1t||Function("return this")(),ns=ca.Symbol,FM=Object.prototype,i1t=FM.hasOwnProperty,s1t=FM.toString,Pd=ns?ns.toStringTag:void 0;function a1t(e){var t=i1t.call(e,Pd),r=e[Pd];try{e[Pd]=void 0;var n=!0}catch{}var i=s1t.call(e);return n&&(t?e[Pd]=r:delete e[Pd]),i}var o1t=Object.prototype,l1t=o1t.toString;function c1t(e){return l1t.call(e)}var u1t="[object Null]",h1t="[object Undefined]",o5=ns?ns.toStringTag:void 0;function Ko(e){return e==null?e===void 0?h1t:u1t:o5&&o5 in Object(e)?a1t(e):c1t(e)}function Is(e){return e!=null&&typeof e=="object"}var d1t="[object Symbol]";function V2(e){return typeof e=="symbol"||Is(e)&&Ko(e)==d1t}function z2(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Pe=Array.isArray,l5=ns?ns.prototype:void 0,c5=l5?l5.toString:void 0;function VM(e){if(typeof e=="string")return e;if(Pe(e))return z2(e,VM)+"";if(V2(e))return c5?c5.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var f1t=/\s/;function p1t(e){for(var t=e.length;t--&&f1t.test(e.charAt(t)););return t}var g1t=/^\s+/;function m1t(e){return e&&e.slice(0,p1t(e)+1).replace(g1t,"")}function is(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var u5=NaN,y1t=/^[-+]0x[0-9a-f]+$/i,x1t=/^0b[01]+$/i,b1t=/^0o[0-7]+$/i,v1t=parseInt;function _1t(e){if(typeof e=="number")return e;if(V2(e))return u5;if(is(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=is(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=m1t(e);var r=x1t.test(e);return r||b1t.test(e)?v1t(e.slice(2),r?2:8):y1t.test(e)?u5:+e}var h5=1/0,T1t=17976931348623157e292;function k1t(e){if(!e)return e===0?e:0;if(e=_1t(e),e===h5||e===-h5){var t=e<0?-1:1;return t*T1t}return e===e?e:0}function W2(e){var t=k1t(e),r=t%1;return t===t?r?t-r:t:0}function Uh(e){return e}var w1t="[object AsyncFunction]",S1t="[object Function]",C1t="[object GeneratorFunction]",E1t="[object Proxy]";function so(e){if(!is(e))return!1;var t=Ko(e);return t==S1t||t==C1t||t==w1t||t==E1t}var Vb=ca["__core-js_shared__"],d5=function(){var e=/[^.]+$/.exec(Vb&&Vb.keys&&Vb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function A1t(e){return!!d5&&d5 in e}var L1t=Function.prototype,R1t=L1t.toString;function Cc(e){if(e!=null){try{return R1t.call(e)}catch{}try{return e+""}catch{}}return""}var I1t=/[\\^$.*+?()[\]{}|]/g,N1t=/^\[object .+?Constructor\]$/,$1t=Function.prototype,O1t=Object.prototype,D1t=$1t.toString,M1t=O1t.hasOwnProperty,P1t=RegExp("^"+D1t.call(M1t).replace(I1t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function B1t(e){if(!is(e)||A1t(e))return!1;var t=so(e)?P1t:N1t;return t.test(Cc(e))}function F1t(e,t){return e==null?void 0:e[t]}function Ec(e,t){var r=F1t(e,t);return B1t(r)?r:void 0}var Z_=Ec(ca,"WeakMap"),f5=Object.create,V1t=function(){function e(){}return function(t){if(!is(t))return{};if(f5)return f5(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function z1t(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ur(){}function W1t(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var U1t=800,H1t=16,G1t=Date.now;function q1t(e){var t=0,r=0;return function(){var n=G1t(),i=H1t-(n-r);if(r=n,i>0){if(++t>=U1t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function j1t(e){return function(){return e}}var Hm=function(){try{var e=Ec(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Y1t=Hm?function(e,t){return Hm(e,"toString",{configurable:!0,enumerable:!1,value:j1t(t),writable:!0})}:Uh,X1t=q1t(Y1t);function zM(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function WM(e,t,r,n){for(var i=e.length,s=r+-1;++s<i;)if(t(e[s],s,e))return s;return-1}function K1t(e){return e!==e}function Q1t(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function xS(e,t,r){return t===t?Q1t(e,t,r):WM(e,K1t,r)}function UM(e,t){var r=e==null?0:e.length;return!!r&&xS(e,t,0)>-1}var Z1t=9007199254740991,J1t=/^(?:0|[1-9]\d*)$/;function U2(e,t){var r=typeof e;return t=t??Z1t,!!t&&(r=="number"||r!="symbol"&&J1t.test(e))&&e>-1&&e%1==0&&e<t}function bS(e,t,r){t=="__proto__"&&Hm?Hm(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function _g(e,t){return e===t||e!==e&&t!==t}var t0t=Object.prototype,e0t=t0t.hasOwnProperty;function H2(e,t,r){var n=e[t];(!(e0t.call(e,t)&&_g(n,r))||r===void 0&&!(t in e))&&bS(e,t,r)}function Tg(e,t,r,n){var i=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=void 0;l===void 0&&(l=e[o]),i?bS(r,o,l):H2(r,o,l)}return r}var p5=Math.max;function r0t(e,t,r){return t=p5(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=p5(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(a),z1t(e,this,o)}}function vS(e,t){return X1t(r0t(e,t,Uh),e+"")}var n0t=9007199254740991;function _S(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n0t}function ua(e){return e!=null&&_S(e.length)&&!so(e)}function HM(e,t,r){if(!is(r))return!1;var n=typeof t;return(n=="number"?ua(r)&&U2(t,r.length):n=="string"&&t in r)?_g(r[t],e):!1}function i0t(e){return vS(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,a&&HM(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var o=r[n];o&&e(t,o,n,s)}return t})}var s0t=Object.prototype;function kg(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||s0t;return e===r}function a0t(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var o0t="[object Arguments]";function g5(e){return Is(e)&&Ko(e)==o0t}var GM=Object.prototype,l0t=GM.hasOwnProperty,c0t=GM.propertyIsEnumerable,G2=g5(function(){return arguments}())?g5:function(e){return Is(e)&&l0t.call(e,"callee")&&!c0t.call(e,"callee")};function u0t(){return!1}var qM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,m5=qM&&typeof module=="object"&&module&&!module.nodeType&&module,h0t=m5&&m5.exports===qM,y5=h0t?ca.Buffer:void 0,d0t=y5?y5.isBuffer:void 0,Bp=d0t||u0t,f0t="[object Arguments]",p0t="[object Array]",g0t="[object Boolean]",m0t="[object Date]",y0t="[object Error]",x0t="[object Function]",b0t="[object Map]",v0t="[object Number]",_0t="[object Object]",T0t="[object RegExp]",k0t="[object Set]",w0t="[object String]",S0t="[object WeakMap]",C0t="[object ArrayBuffer]",E0t="[object DataView]",A0t="[object Float32Array]",L0t="[object Float64Array]",R0t="[object Int8Array]",I0t="[object Int16Array]",N0t="[object Int32Array]",$0t="[object Uint8Array]",O0t="[object Uint8ClampedArray]",D0t="[object Uint16Array]",M0t="[object Uint32Array]",cr={};cr[A0t]=cr[L0t]=cr[R0t]=cr[I0t]=cr[N0t]=cr[$0t]=cr[O0t]=cr[D0t]=cr[M0t]=!0;cr[f0t]=cr[p0t]=cr[C0t]=cr[g0t]=cr[E0t]=cr[m0t]=cr[y0t]=cr[x0t]=cr[b0t]=cr[v0t]=cr[_0t]=cr[T0t]=cr[k0t]=cr[w0t]=cr[S0t]=!1;function P0t(e){return Is(e)&&_S(e.length)&&!!cr[Ko(e)]}function q2(e){return function(t){return e(t)}}var jM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Jf=jM&&typeof module=="object"&&module&&!module.nodeType&&module,B0t=Jf&&Jf.exports===jM,zb=B0t&&BM.process,Mo=function(){try{var e=Jf&&Jf.require&&Jf.require("util").types;return e||zb&&zb.binding&&zb.binding("util")}catch{}}(),x5=Mo&&Mo.isTypedArray,TS=x5?q2(x5):P0t,F0t=Object.prototype,V0t=F0t.hasOwnProperty;function YM(e,t){var r=Pe(e),n=!r&&G2(e),i=!r&&!n&&Bp(e),s=!r&&!n&&!i&&TS(e),a=r||n||i||s,o=a?a0t(e.length,String):[],l=o.length;for(var u in e)(t||V0t.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||U2(u,l)))&&o.push(u);return o}function XM(e,t){return function(r){return e(t(r))}}var z0t=XM(Object.keys,Object),W0t=Object.prototype,U0t=W0t.hasOwnProperty;function KM(e){if(!kg(e))return z0t(e);var t=[];for(var r in Object(e))U0t.call(e,r)&&r!="constructor"&&t.push(r);return t}function ss(e){return ua(e)?YM(e):KM(e)}var H0t=Object.prototype,G0t=H0t.hasOwnProperty,Ai=i0t(function(e,t){if(kg(t)||ua(t)){Tg(t,ss(t),e);return}for(var r in t)G0t.call(t,r)&&H2(e,r,t[r])});function q0t(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var j0t=Object.prototype,Y0t=j0t.hasOwnProperty;function X0t(e){if(!is(e))return q0t(e);var t=kg(e),r=[];for(var n in e)n=="constructor"&&(t||!Y0t.call(e,n))||r.push(n);return r}function kS(e){return ua(e)?YM(e,!0):X0t(e)}var K0t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q0t=/^\w*$/;function wS(e,t){if(Pe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||V2(e)?!0:Q0t.test(e)||!K0t.test(e)||t!=null&&e in Object(t)}var Fp=Ec(Object,"create");function Z0t(){this.__data__=Fp?Fp(null):{},this.size=0}function J0t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tmt="__lodash_hash_undefined__",emt=Object.prototype,rmt=emt.hasOwnProperty;function nmt(e){var t=this.__data__;if(Fp){var r=t[e];return r===tmt?void 0:r}return rmt.call(t,e)?t[e]:void 0}var imt=Object.prototype,smt=imt.hasOwnProperty;function amt(e){var t=this.__data__;return Fp?t[e]!==void 0:smt.call(t,e)}var omt="__lodash_hash_undefined__";function lmt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Fp&&t===void 0?omt:t,this}function sc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sc.prototype.clear=Z0t;sc.prototype.delete=J0t;sc.prototype.get=nmt;sc.prototype.has=amt;sc.prototype.set=lmt;function cmt(){this.__data__=[],this.size=0}function j2(e,t){for(var r=e.length;r--;)if(_g(e[r][0],t))return r;return-1}var umt=Array.prototype,hmt=umt.splice;function dmt(e){var t=this.__data__,r=j2(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():hmt.call(t,r,1),--this.size,!0}function fmt(e){var t=this.__data__,r=j2(t,e);return r<0?void 0:t[r][1]}function pmt(e){return j2(this.__data__,e)>-1}function gmt(e,t){var r=this.__data__,n=j2(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ao(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ao.prototype.clear=cmt;ao.prototype.delete=dmt;ao.prototype.get=fmt;ao.prototype.has=pmt;ao.prototype.set=gmt;var Vp=Ec(ca,"Map");function mmt(){this.size=0,this.__data__={hash:new sc,map:new(Vp||ao),string:new sc}}function ymt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Y2(e,t){var r=e.__data__;return ymt(t)?r[typeof t=="string"?"string":"hash"]:r.map}function xmt(e){var t=Y2(this,e).delete(e);return this.size-=t?1:0,t}function bmt(e){return Y2(this,e).get(e)}function vmt(e){return Y2(this,e).has(e)}function _mt(e,t){var r=Y2(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function oo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}oo.prototype.clear=mmt;oo.prototype.delete=xmt;oo.prototype.get=bmt;oo.prototype.has=vmt;oo.prototype.set=_mt;var Tmt="Expected a function";function SS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Tmt);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(SS.Cache||oo),r}SS.Cache=oo;var kmt=500;function wmt(e){var t=SS(e,function(n){return r.size===kmt&&r.clear(),n}),r=t.cache;return t}var Smt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cmt=/\\(\\)?/g,Emt=wmt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Smt,function(r,n,i,s){t.push(i?s.replace(Cmt,"$1"):n||r)}),t});function Amt(e){return e==null?"":VM(e)}function X2(e,t){return Pe(e)?e:wS(e,t)?[e]:Emt(Amt(e))}function wg(e){if(typeof e=="string"||V2(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function CS(e,t){t=X2(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[wg(t[r++])];return r&&r==n?e:void 0}function Lmt(e,t,r){var n=e==null?void 0:CS(e,t);return n===void 0?r:n}function ES(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var b5=ns?ns.isConcatSpreadable:void 0;function Rmt(e){return Pe(e)||G2(e)||!!(b5&&e&&e[b5])}function AS(e,t,r,n,i){var s=-1,a=e.length;for(r||(r=Rmt),i||(i=[]);++s<a;){var o=e[s];r(o)?ES(i,o):n||(i[i.length]=o)}return i}function ws(e){var t=e==null?0:e.length;return t?AS(e):[]}var QM=XM(Object.getPrototypeOf,Object);function ZM(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}function Imt(e,t,r,n){var i=-1,s=e==null?0:e.length;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function Nmt(){this.__data__=new ao,this.size=0}function $mt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Omt(e){return this.__data__.get(e)}function Dmt(e){return this.__data__.has(e)}var Mmt=200;function Pmt(e,t){var r=this.__data__;if(r instanceof ao){var n=r.__data__;if(!Vp||n.length<Mmt-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new oo(n)}return r.set(e,t),this.size=r.size,this}function ra(e){var t=this.__data__=new ao(e);this.size=t.size}ra.prototype.clear=Nmt;ra.prototype.delete=$mt;ra.prototype.get=Omt;ra.prototype.has=Dmt;ra.prototype.set=Pmt;function Bmt(e,t){return e&&Tg(t,ss(t),e)}function Fmt(e,t){return e&&Tg(t,kS(t),e)}var JM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,v5=JM&&typeof module=="object"&&module&&!module.nodeType&&module,Vmt=v5&&v5.exports===JM,_5=Vmt?ca.Buffer:void 0,T5=_5?_5.allocUnsafe:void 0;function zmt(e,t){var r=e.length,n=T5?T5(r):new e.constructor(r);return e.copy(n),n}function LS(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var a=e[r];t(a,r,e)&&(s[i++]=a)}return s}function tP(){return[]}var Wmt=Object.prototype,Umt=Wmt.propertyIsEnumerable,k5=Object.getOwnPropertySymbols,RS=k5?function(e){return e==null?[]:(e=Object(e),LS(k5(e),function(t){return Umt.call(e,t)}))}:tP;function Hmt(e,t){return Tg(e,RS(e),t)}var Gmt=Object.getOwnPropertySymbols,eP=Gmt?function(e){for(var t=[];e;)ES(t,RS(e)),e=QM(e);return t}:tP;function qmt(e,t){return Tg(e,eP(e),t)}function rP(e,t,r){var n=t(e);return Pe(e)?n:ES(n,r(e))}function J_(e){return rP(e,ss,RS)}function jmt(e){return rP(e,kS,eP)}var tT=Ec(ca,"DataView"),eT=Ec(ca,"Promise"),bu=Ec(ca,"Set"),w5="[object Map]",Ymt="[object Object]",S5="[object Promise]",C5="[object Set]",E5="[object WeakMap]",A5="[object DataView]",Xmt=Cc(tT),Kmt=Cc(Vp),Qmt=Cc(eT),Zmt=Cc(bu),Jmt=Cc(Z_),qi=Ko;(tT&&qi(new tT(new ArrayBuffer(1)))!=A5||Vp&&qi(new Vp)!=w5||eT&&qi(eT.resolve())!=S5||bu&&qi(new bu)!=C5||Z_&&qi(new Z_)!=E5)&&(qi=function(e){var t=Ko(e),r=t==Ymt?e.constructor:void 0,n=r?Cc(r):"";if(n)switch(n){case Xmt:return A5;case Kmt:return w5;case Qmt:return S5;case Zmt:return C5;case Jmt:return E5}return t});var tyt=Object.prototype,eyt=tyt.hasOwnProperty;function ryt(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&eyt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Gm=ca.Uint8Array;function nyt(e){var t=new e.constructor(e.byteLength);return new Gm(t).set(new Gm(e)),t}function iyt(e,t){var r=e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var syt=/\w*$/;function ayt(e){var t=new e.constructor(e.source,syt.exec(e));return t.lastIndex=e.lastIndex,t}var L5=ns?ns.prototype:void 0,R5=L5?L5.valueOf:void 0;function oyt(e){return R5?Object(R5.call(e)):{}}function lyt(e,t){var r=e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var cyt="[object Boolean]",uyt="[object Date]",hyt="[object Map]",dyt="[object Number]",fyt="[object RegExp]",pyt="[object Set]",gyt="[object String]",myt="[object Symbol]",yyt="[object ArrayBuffer]",xyt="[object DataView]",byt="[object Float32Array]",vyt="[object Float64Array]",_yt="[object Int8Array]",Tyt="[object Int16Array]",kyt="[object Int32Array]",wyt="[object Uint8Array]",Syt="[object Uint8ClampedArray]",Cyt="[object Uint16Array]",Eyt="[object Uint32Array]";function Ayt(e,t,r){var n=e.constructor;switch(t){case yyt:return nyt(e);case cyt:case uyt:return new n(+e);case xyt:return iyt(e);case byt:case vyt:case _yt:case Tyt:case kyt:case wyt:case Syt:case Cyt:case Eyt:return lyt(e);case hyt:return new n;case dyt:case gyt:return new n(e);case fyt:return ayt(e);case pyt:return new n;case myt:return oyt(e)}}function Lyt(e){return typeof e.constructor=="function"&&!kg(e)?V1t(QM(e)):{}}var Ryt="[object Map]";function Iyt(e){return Is(e)&&qi(e)==Ryt}var I5=Mo&&Mo.isMap,Nyt=I5?q2(I5):Iyt,$yt="[object Set]";function Oyt(e){return Is(e)&&qi(e)==$yt}var N5=Mo&&Mo.isSet,Dyt=N5?q2(N5):Oyt,Myt=2,nP="[object Arguments]",Pyt="[object Array]",Byt="[object Boolean]",Fyt="[object Date]",Vyt="[object Error]",iP="[object Function]",zyt="[object GeneratorFunction]",Wyt="[object Map]",Uyt="[object Number]",sP="[object Object]",Hyt="[object RegExp]",Gyt="[object Set]",qyt="[object String]",jyt="[object Symbol]",Yyt="[object WeakMap]",Xyt="[object ArrayBuffer]",Kyt="[object DataView]",Qyt="[object Float32Array]",Zyt="[object Float64Array]",Jyt="[object Int8Array]",t2t="[object Int16Array]",e2t="[object Int32Array]",r2t="[object Uint8Array]",n2t="[object Uint8ClampedArray]",i2t="[object Uint16Array]",s2t="[object Uint32Array]",ir={};ir[nP]=ir[Pyt]=ir[Xyt]=ir[Kyt]=ir[Byt]=ir[Fyt]=ir[Qyt]=ir[Zyt]=ir[Jyt]=ir[t2t]=ir[e2t]=ir[Wyt]=ir[Uyt]=ir[sP]=ir[Hyt]=ir[Gyt]=ir[qyt]=ir[jyt]=ir[r2t]=ir[n2t]=ir[i2t]=ir[s2t]=!0;ir[Vyt]=ir[iP]=ir[Yyt]=!1;function h0(e,t,r,n,i,s){var a,o=t&Myt;if(a!==void 0)return a;if(!is(e))return e;var l=Pe(e);if(l)return a=ryt(e),W1t(e,a);var u=qi(e),h=u==iP||u==zyt;if(Bp(e))return zmt(e);if(u==sP||u==nP||h&&!i)return a=h?{}:Lyt(e),o?qmt(e,Fmt(a,e)):Hmt(e,Bmt(a,e));if(!ir[u])return i?e:{};a=Ayt(e,u),s||(s=new ra);var d=s.get(e);if(d)return d;s.set(e,a),Dyt(e)?e.forEach(function(m){a.add(h0(m,t,r,m,e,s))}):Nyt(e)&&e.forEach(function(m,y){a.set(y,h0(m,t,r,y,e,s))});var f=J_,p=l?void 0:f(e);return zM(p||e,function(m,y){p&&(y=m,m=e[y]),H2(a,y,h0(m,t,r,y,e,s))}),a}var a2t=4;function bn(e){return h0(e,a2t)}function Sg(e){for(var t=-1,r=e==null?0:e.length,n=0,i=[];++t<r;){var s=e[t];s&&(i[n++]=s)}return i}var o2t="__lodash_hash_undefined__";function l2t(e){return this.__data__.set(e,o2t),this}function c2t(e){return this.__data__.has(e)}function Hh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new oo;++t<r;)this.add(e[t])}Hh.prototype.add=Hh.prototype.push=l2t;Hh.prototype.has=c2t;function aP(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function IS(e,t){return e.has(t)}var u2t=1,h2t=2;function oP(e,t,r,n,i,s){var a=r&u2t,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(e),h=s.get(t);if(u&&h)return u==t&&h==e;var d=-1,f=!0,p=r&h2t?new Hh:void 0;for(s.set(e,t),s.set(t,e);++d<o;){var m=e[d],y=t[d];if(n)var b=a?n(y,m,d,t,e,s):n(m,y,d,e,t,s);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!aP(t,function(x,v){if(!IS(p,v)&&(m===x||i(m,x,r,n,s)))return p.push(v)})){f=!1;break}}else if(!(m===y||i(m,y,r,n,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function d2t(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function NS(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var f2t=1,p2t=2,g2t="[object Boolean]",m2t="[object Date]",y2t="[object Error]",x2t="[object Map]",b2t="[object Number]",v2t="[object RegExp]",_2t="[object Set]",T2t="[object String]",k2t="[object Symbol]",w2t="[object ArrayBuffer]",S2t="[object DataView]",$5=ns?ns.prototype:void 0,Wb=$5?$5.valueOf:void 0;function C2t(e,t,r,n,i,s,a){switch(r){case S2t:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w2t:return!(e.byteLength!=t.byteLength||!s(new Gm(e),new Gm(t)));case g2t:case m2t:case b2t:return _g(+e,+t);case y2t:return e.name==t.name&&e.message==t.message;case v2t:case T2t:return e==t+"";case x2t:var o=d2t;case _2t:var l=n&f2t;if(o||(o=NS),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;n|=p2t,a.set(e,t);var h=oP(o(e),o(t),n,i,s,a);return a.delete(e),h;case k2t:if(Wb)return Wb.call(e)==Wb.call(t)}return!1}var E2t=1,A2t=Object.prototype,L2t=A2t.hasOwnProperty;function R2t(e,t,r,n,i,s){var a=r&E2t,o=J_(e),l=o.length,u=J_(t),h=u.length;if(l!=h&&!a)return!1;for(var d=l;d--;){var f=o[d];if(!(a?f in t:L2t.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var y=!0;s.set(e,t),s.set(t,e);for(var b=a;++d<l;){f=o[d];var x=e[f],v=t[f];if(n)var _=a?n(v,x,f,t,e,s):n(x,v,f,e,t,s);if(!(_===void 0?x===v||i(x,v,r,n,s):_)){y=!1;break}b||(b=f=="constructor")}if(y&&!b){var S=e.constructor,k=t.constructor;S!=k&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof k=="function"&&k instanceof k)&&(y=!1)}return s.delete(e),s.delete(t),y}var I2t=1,O5="[object Arguments]",D5="[object Array]",v1="[object Object]",N2t=Object.prototype,M5=N2t.hasOwnProperty;function $2t(e,t,r,n,i,s){var a=Pe(e),o=Pe(t),l=a?D5:qi(e),u=o?D5:qi(t);l=l==O5?v1:l,u=u==O5?v1:u;var h=l==v1,d=u==v1,f=l==u;if(f&&Bp(e)){if(!Bp(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new ra),a||TS(e)?oP(e,t,r,n,i,s):C2t(e,t,l,r,n,i,s);if(!(r&I2t)){var p=h&&M5.call(e,"__wrapped__"),m=d&&M5.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,b=m?t.value():t;return s||(s=new ra),i(y,b,r,n,s)}}return f?(s||(s=new ra),R2t(e,t,r,n,i,s)):!1}function $S(e,t,r,n,i){return e===t?!0:e==null||t==null||!Is(e)&&!Is(t)?e!==e&&t!==t:$2t(e,t,r,n,$S,i)}var O2t=1,D2t=2;function M2t(e,t,r,n){var i=r.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var a=r[i];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=r[i];var o=a[0],l=e[o],u=a[1];if(a[2]){if(l===void 0&&!(o in e))return!1}else{var h=new ra,d;if(!(d===void 0?$S(u,l,O2t|D2t,n,h):d))return!1}}return!0}function lP(e){return e===e&&!is(e)}function P2t(e){for(var t=ss(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,lP(i)]}return t}function cP(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function B2t(e){var t=P2t(e);return t.length==1&&t[0][2]?cP(t[0][0],t[0][1]):function(r){return r===e||M2t(r,e,t)}}function F2t(e,t){return e!=null&&t in Object(e)}function uP(e,t,r){t=X2(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var a=wg(t[n]);if(!(s=e!=null&&r(e,a)))break;e=e[a]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&_S(i)&&U2(a,i)&&(Pe(e)||G2(e)))}function V2t(e,t){return e!=null&&uP(e,t,F2t)}var z2t=1,W2t=2;function U2t(e,t){return wS(e)&&lP(t)?cP(wg(e),t):function(r){var n=Lmt(r,e);return n===void 0&&n===t?V2t(r,e):$S(t,n,z2t|W2t)}}function H2t(e){return function(t){return t==null?void 0:t[e]}}function G2t(e){return function(t){return CS(t,e)}}function q2t(e){return wS(e)?H2t(wg(e)):G2t(e)}function ha(e){return typeof e=="function"?e:e==null?Uh:typeof e=="object"?Pe(e)?U2t(e[0],e[1]):B2t(e):q2t(e)}function j2t(e,t,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;){var a=e[i];t(n,a,r(a),e)}return n}function Y2t(e){return function(t,r,n){for(var i=-1,s=Object(t),a=n(t),o=a.length;o--;){var l=a[++i];if(r(s[l],l,s)===!1)break}return t}}var X2t=Y2t();function K2t(e,t){return e&&X2t(e,t,ss)}function Q2t(e,t){return function(r,n){if(r==null)return r;if(!ua(r))return e(r,n);for(var i=r.length,s=-1,a=Object(r);++s<i&&n(a[s],s,a)!==!1;);return r}}var Ac=Q2t(K2t);function Z2t(e,t,r,n){return Ac(e,function(i,s,a){t(n,i,r(i),a)}),n}function J2t(e,t){return function(r,n){var i=Pe(r)?j2t:Z2t,s=t?t():{};return i(r,e,ha(n),s)}}var hP=Object.prototype,txt=hP.hasOwnProperty,OS=vS(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&HM(t[0],t[1],i)&&(n=1);++r<n;)for(var s=t[r],a=kS(s),o=-1,l=a.length;++o<l;){var u=a[o],h=e[u];(h===void 0||_g(h,hP[u])&&!txt.call(e,u))&&(e[u]=s[u])}return e});function P5(e){return Is(e)&&ua(e)}var ext=200;function rxt(e,t,r,n){var i=-1,s=UM,a=!0,o=e.length,l=[],u=t.length;if(!o)return l;t.length>=ext&&(s=IS,a=!1,t=new Hh(t));t:for(;++i<o;){var h=e[i],d=h;if(h=h!==0?h:0,a&&d===d){for(var f=u;f--;)if(t[f]===d)continue t;l.push(h)}else s(t,d,n)||l.push(h)}return l}var K2=vS(function(e,t){return P5(e)?rxt(e,AS(t,1,P5,!0)):[]});function Gh(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function dn(e,t,r){var n=e==null?0:e.length;return n?(t=t===void 0?1:W2(t),ZM(e,t<0?0:t,n)):[]}function zp(e,t,r){var n=e==null?0:e.length;return n?(t=t===void 0?1:W2(t),t=n-t,ZM(e,0,t<0?0:t)):[]}function nxt(e){return typeof e=="function"?e:Uh}function de(e,t){var r=Pe(e)?zM:Ac;return r(e,nxt(t))}function ixt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function sxt(e,t){var r=!0;return Ac(e,function(n,i,s){return r=!!t(n,i,s),r}),r}function Ss(e,t,r){var n=Pe(e)?ixt:sxt;return n(e,ha(t))}function dP(e,t){var r=[];return Ac(e,function(n,i,s){t(n,i,s)&&r.push(n)}),r}function as(e,t){var r=Pe(e)?LS:dP;return r(e,ha(t))}function axt(e){return function(t,r,n){var i=Object(t);if(!ua(t)){var s=ha(r);t=ss(t),r=function(o){return s(i[o],o,i)}}var a=e(t,r,n);return a>-1?i[s?t[a]:a]:void 0}}var oxt=Math.max;function lxt(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:W2(r);return i<0&&(i=oxt(n+i,0)),WM(e,ha(t),i)}var qh=axt(lxt);function Ns(e){return e&&e.length?e[0]:void 0}function cxt(e,t){var r=-1,n=ua(e)?Array(e.length):[];return Ac(e,function(i,s,a){n[++r]=t(i,s,a)}),n}function ie(e,t){var r=Pe(e)?z2:cxt;return r(e,ha(t))}function Qi(e,t){return AS(ie(e,t))}var uxt=Object.prototype,hxt=uxt.hasOwnProperty,dxt=J2t(function(e,t,r){hxt.call(e,r)?e[r].push(t):bS(e,r,[t])}),fxt=Object.prototype,pxt=fxt.hasOwnProperty;function gxt(e,t){return e!=null&&pxt.call(e,t)}function ce(e,t){return e!=null&&uP(e,t,gxt)}var mxt="[object String]";function di(e){return typeof e=="string"||!Pe(e)&&Is(e)&&Ko(e)==mxt}function yxt(e,t){return z2(t,function(r){return e[r]})}function Gr(e){return e==null?[]:yxt(e,ss(e))}var xxt=Math.max;function ri(e,t,r,n){e=ua(e)?e:Gr(e),r=r?W2(r):0;var i=e.length;return r<0&&(r=xxt(i+r,0)),di(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&xS(e,t,r)>-1}function B5(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=0;return xS(e,t,i)}var bxt="[object Map]",vxt="[object Set]",_xt=Object.prototype,Txt=_xt.hasOwnProperty;function ar(e){if(e==null)return!0;if(ua(e)&&(Pe(e)||typeof e=="string"||typeof e.splice=="function"||Bp(e)||TS(e)||G2(e)))return!e.length;var t=qi(e);if(t==bxt||t==vxt)return!e.size;if(kg(e))return!KM(e).length;for(var r in e)if(Txt.call(e,r))return!1;return!0}var kxt="[object RegExp]";function wxt(e){return Is(e)&&Ko(e)==kxt}var F5=Mo&&Mo.isRegExp,Ka=F5?q2(F5):wxt;function Qa(e){return e===void 0}var Sxt="Expected a function";function Cxt(e){if(typeof e!="function")throw new TypeError(Sxt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Ext(e,t,r,n){if(!is(e))return e;t=X2(t,e);for(var i=-1,s=t.length,a=s-1,o=e;o!=null&&++i<s;){var l=wg(t[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=a){var h=o[l];u=void 0,u===void 0&&(u=is(h)?h:U2(t[i+1])?[]:{})}H2(o,l,u),o=o[l]}return e}function Axt(e,t,r){for(var n=-1,i=t.length,s={};++n<i;){var a=t[n],o=CS(e,a);r(o,a)&&Ext(s,X2(a,e),o)}return s}function Os(e,t){if(e==null)return{};var r=z2(jmt(e),function(n){return[n]});return t=ha(t),Axt(e,r,function(n,i){return t(n,i[0])})}function Lxt(e,t,r,n,i){return i(e,function(s,a,o){r=n?(n=!1,s):t(r,s,a,o)}),r}function Li(e,t,r){var n=Pe(e)?Imt:Lxt,i=arguments.length<3;return n(e,ha(t),r,i,Ac)}function Q2(e,t){var r=Pe(e)?LS:dP;return r(e,Cxt(ha(t)))}function Rxt(e,t){var r;return Ac(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}function fP(e,t,r){var n=Pe(e)?aP:Rxt;return n(e,ha(t))}var Ixt=1/0,Nxt=bu&&1/NS(new bu([,-0]))[1]==Ixt?function(e){return new bu(e)}:Ur,$xt=200;function Oxt(e,t,r){var n=-1,i=UM,s=e.length,a=!0,o=[],l=o;if(s>=$xt){var u=Nxt(e);if(u)return NS(u);a=!1,i=IS,l=new Hh}else l=o;t:for(;++n<s;){var h=e[n],d=h;if(h=h!==0?h:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue t;o.push(h)}else i(l,d,r)||(l!==o&&l.push(d),o.push(h))}return o}function DS(e){return e&&e.length?Oxt(e):[]}function rT(e){console&&console.error&&console.error(`Error: ${e}`)}function pP(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function gP(e){const t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}function mP(e){function t(){}t.prototype=e;const r=new t;function n(){return typeof r.bar}return n(),n(),e}function Dxt(e){return Mxt(e)?e.LABEL:e.name}function Mxt(e){return di(e.LABEL)&&e.LABEL!==""}class da{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),de(this.definition,r=>{r.accept(t)})}}class Jn extends da{constructor(t){super([]),this.idx=1,Ai(this,Os(t,r=>r!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class fd extends da{constructor(t){super(t.definition),this.orgText="",Ai(this,Os(t,r=>r!==void 0))}}class fi extends da{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Ai(this,Os(t,r=>r!==void 0))}}let xn=class extends da{constructor(t){super(t.definition),this.idx=1,Ai(this,Os(t,r=>r!==void 0))}};class Ni extends da{constructor(t){super(t.definition),this.idx=1,Ai(this,Os(t,r=>r!==void 0))}}class $i extends da{constructor(t){super(t.definition),this.idx=1,Ai(this,Os(t,r=>r!==void 0))}}class yr extends da{constructor(t){super(t.definition),this.idx=1,Ai(this,Os(t,r=>r!==void 0))}}class gi extends da{constructor(t){super(t.definition),this.idx=1,Ai(this,Os(t,r=>r!==void 0))}}class mi extends da{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Ai(this,Os(t,r=>r!==void 0))}}class ur{constructor(t){this.idx=1,Ai(this,Os(t,r=>r!==void 0))}accept(t){t.visit(this)}}function Pxt(e){return ie(e,d0)}function d0(e){function t(r){return ie(r,d0)}if(e instanceof Jn){const r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return di(e.label)&&(r.label=e.label),r}else{if(e instanceof fi)return{type:"Alternative",definition:t(e.definition)};if(e instanceof xn)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Ni)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof $i)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:d0(new ur({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof gi)return{type:"RepetitionWithSeparator",idx:e.idx,separator:d0(new ur({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof yr)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof mi)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof ur){const r={type:"Terminal",name:e.terminalType.name,label:Dxt(e.terminalType),idx:e.idx};di(e.label)&&(r.terminalLabel=e.label);const n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=Ka(n)?n.source:n),r}else{if(e instanceof fd)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}class pd{visit(t){const r=t;switch(r.constructor){case Jn:return this.visitNonTerminal(r);case fi:return this.visitAlternative(r);case xn:return this.visitOption(r);case Ni:return this.visitRepetitionMandatory(r);case $i:return this.visitRepetitionMandatoryWithSeparator(r);case gi:return this.visitRepetitionWithSeparator(r);case yr:return this.visitRepetition(r);case mi:return this.visitAlternation(r);case ur:return this.visitTerminal(r);case fd:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}function Bxt(e){return e instanceof fi||e instanceof xn||e instanceof yr||e instanceof Ni||e instanceof $i||e instanceof gi||e instanceof ur||e instanceof fd}function qm(e,t=[]){return e instanceof xn||e instanceof yr||e instanceof gi?!0:e instanceof mi?fP(e.definition,n=>qm(n,t)):e instanceof Jn&&ri(t,e)?!1:e instanceof da?(e instanceof Jn&&t.push(e),Ss(e.definition,n=>qm(n,t))):!1}function Fxt(e){return e instanceof mi}function js(e){if(e instanceof Jn)return"SUBRULE";if(e instanceof xn)return"OPTION";if(e instanceof mi)return"OR";if(e instanceof Ni)return"AT_LEAST_ONE";if(e instanceof $i)return"AT_LEAST_ONE_SEP";if(e instanceof gi)return"MANY_SEP";if(e instanceof yr)return"MANY";if(e instanceof ur)return"CONSUME";throw Error("non exhaustive match")}class Z2{walk(t,r=[]){de(t.definition,(n,i)=>{const s=dn(t.definition,i+1);if(n instanceof Jn)this.walkProdRef(n,s,r);else if(n instanceof ur)this.walkTerminal(n,s,r);else if(n instanceof fi)this.walkFlat(n,s,r);else if(n instanceof xn)this.walkOption(n,s,r);else if(n instanceof Ni)this.walkAtLeastOne(n,s,r);else if(n instanceof $i)this.walkAtLeastOneSep(n,s,r);else if(n instanceof gi)this.walkManySep(n,s,r);else if(n instanceof yr)this.walkMany(n,s,r);else if(n instanceof mi)this.walkOr(n,s,r);else throw Error("non exhaustive match")})}walkTerminal(t,r,n){}walkProdRef(t,r,n){}walkFlat(t,r,n){const i=r.concat(n);this.walk(t,i)}walkOption(t,r,n){const i=r.concat(n);this.walk(t,i)}walkAtLeastOne(t,r,n){const i=[new xn({definition:t.definition})].concat(r,n);this.walk(t,i)}walkAtLeastOneSep(t,r,n){const i=V5(t,r,n);this.walk(t,i)}walkMany(t,r,n){const i=[new xn({definition:t.definition})].concat(r,n);this.walk(t,i)}walkManySep(t,r,n){const i=V5(t,r,n);this.walk(t,i)}walkOr(t,r,n){const i=r.concat(n);de(t.definition,s=>{const a=new fi({definition:[s]});this.walk(a,i)})}}function V5(e,t,r){return[new xn({definition:[new ur({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function Cg(e){if(e instanceof Jn)return Cg(e.referencedRule);if(e instanceof ur)return Wxt(e);if(Bxt(e))return Vxt(e);if(Fxt(e))return zxt(e);throw Error("non exhaustive match")}function Vxt(e){let t=[];const r=e.definition;let n=0,i=r.length>n,s,a=!0;for(;i&&a;)s=r[n],a=qm(s),t=t.concat(Cg(s)),n=n+1,i=r.length>n;return DS(t)}function zxt(e){const t=ie(e.definition,r=>Cg(r));return DS(ws(t))}function Wxt(e){return[e.terminalType]}const yP="_~IN~_";class Uxt extends Z2{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,n){}walkProdRef(t,r,n){const i=Gxt(t.referencedRule,t.idx)+this.topProd.name,s=r.concat(n),a=new fi({definition:s}),o=Cg(a);this.follows[i]=o}}function Hxt(e){const t={};return de(e,r=>{const n=new Uxt(r).startWalking();Ai(t,n)}),t}function Gxt(e,t){return e.name+t+yP}let f0={};const qxt=new RM;function J2(e){const t=e.toString();if(f0.hasOwnProperty(t))return f0[t];{const r=qxt.pattern(t);return f0[t]=r,r}}function jxt(){f0={}}const xP="Complement Sets are not supported for first char optimization",jm=`Unable to use "first char" lexer optimizations:
`;function Yxt(e,t=!1){try{const r=J2(e);return nT(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===xP)t&&pP(`${jm}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),rT(`${jm}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function nT(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)nT(e.value[i],t,r);break;case"Alternative":const n=e.value;for(let i=0;i<n.length;i++){const s=n[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const a=s;switch(a.type){case"Character":_1(a.value,t,r);break;case"Set":if(a.complement===!0)throw Error(xP);de(a.value,l=>{if(typeof l=="number")_1(l,t,r);else{const u=l;if(r===!0)for(let h=u.from;h<=u.to;h++)_1(h,t,r);else{for(let h=u.from;h<=u.to&&h<Af;h++)_1(h,t,r);if(u.to>=Af){const h=u.from>=Af?u.from:Af,d=u.to,f=Po(h),p=Po(d);for(let m=f;m<=p;m++)t[m]=m}}}});break;case"Group":nT(a.value,t,r);break;default:throw Error("Non Exhaustive Match")}const o=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&iT(a)===!1||a.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Gr(t)}function _1(e,t,r){const n=Po(e);t[n]=n,r===!0&&Xxt(e,t)}function Xxt(e,t){const r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){const i=Po(n.charCodeAt(0));t[i]=i}else{const i=r.toLowerCase();if(i!==r){const s=Po(i.charCodeAt(0));t[s]=s}}}function z5(e,t){return qh(e.value,r=>{if(typeof r=="number")return ri(t,r);{const n=r;return qh(t,i=>n.from<=i&&i<=n.to)!==void 0}})}function iT(e){const t=e.quantifier;return t&&t.atLeast===0?!0:e.value?Pe(e.value)?Ss(e.value,iT):iT(e.value):!1}class Kxt extends B2{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){ri(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?z5(t,this.targetCharCodes)===void 0&&(this.found=!0):z5(t,this.targetCharCodes)!==void 0&&(this.found=!0)}}function MS(e,t){if(t instanceof RegExp){const r=J2(t),n=new Kxt(e);return n.visit(r),n.found}else return qh(t,r=>ri(e,r.charCodeAt(0)))!==void 0}const ac="PATTERN",Ef="defaultMode",T1="modes";let bP=typeof new RegExp("(?:)").sticky=="boolean";function Qxt(e,t){t=OS(t,{useSticky:bP,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(v,_)=>_()});const r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{vbt()});let n;r("Reject Lexer.NA",()=>{n=Q2(e,v=>v[ac]===ui.NA)});let i=!1,s;r("Transform Patterns",()=>{i=!1,s=ie(n,v=>{const _=v[ac];if(Ka(_)){const S=_.source;return S.length===1&&S!=="^"&&S!=="$"&&S!=="."&&!_.ignoreCase?S:S.length===2&&S[0]==="\\"&&!ri(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],S[1])?S[1]:t.useSticky?U5(_):W5(_)}else{if(so(_))return i=!0,{exec:_};if(typeof _=="object")return i=!0,_;if(typeof _=="string"){if(_.length===1)return _;{const S=_.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),k=new RegExp(S);return t.useSticky?U5(k):W5(k)}}else throw Error("non exhaustive match")}})});let a,o,l,u,h;r("misc mapping",()=>{a=ie(n,v=>v.tokenTypeIdx),o=ie(n,v=>{const _=v.GROUP;if(_!==ui.SKIPPED){if(di(_))return _;if(Qa(_))return!1;throw Error("non exhaustive match")}}),l=ie(n,v=>{const _=v.LONGER_ALT;if(_)return Pe(_)?ie(_,k=>B5(n,k)):[B5(n,_)]}),u=ie(n,v=>v.PUSH_MODE),h=ie(n,v=>ce(v,"POP_MODE"))});let d;r("Line Terminator Handling",()=>{const v=TP(t.lineTerminatorCharacters);d=ie(n,_=>!1),t.positionTracking!=="onlyOffset"&&(d=ie(n,_=>ce(_,"LINE_BREAKS")?!!_.LINE_BREAKS:_P(_,v)===!1&&MS(v,_.PATTERN)))});let f,p,m,y;r("Misc Mapping #2",()=>{f=ie(n,vP),p=ie(s,ybt),m=Li(n,(v,_)=>{const S=_.GROUP;return di(S)&&S!==ui.SKIPPED&&(v[S]=[]),v},{}),y=ie(s,(v,_)=>({pattern:s[_],longerAlt:l[_],canLineTerminator:d[_],isCustom:f[_],short:p[_],group:o[_],push:u[_],pop:h[_],tokenTypeIdx:a[_],tokenType:n[_]}))});let b=!0,x=[];return t.safeMode||r("First Char Optimization",()=>{x=Li(n,(v,_,S)=>{if(typeof _.PATTERN=="string"){const k=_.PATTERN.charCodeAt(0),T=Po(k);Ub(v,T,y[S])}else if(Pe(_.START_CHARS_HINT)){let k;de(_.START_CHARS_HINT,T=>{const E=typeof T=="string"?T.charCodeAt(0):T,I=Po(E);k!==I&&(k=I,Ub(v,I,y[S]))})}else if(Ka(_.PATTERN))if(_.PATTERN.unicode)b=!1,t.ensureOptimizations&&rT(`${jm}	Unable to analyze < ${_.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const k=Yxt(_.PATTERN,t.ensureOptimizations);ar(k)&&(b=!1),de(k,T=>{Ub(v,T,y[S])})}else t.ensureOptimizations&&rT(`${jm}	TokenType: <${_.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),b=!1;return v},[])}),{emptyGroups:m,patternIdxToConfig:y,charCodeToPatternIdxToConfig:x,hasCustom:i,canBeOptimized:b}}function Zxt(e,t){let r=[];const n=tbt(e);r=r.concat(n.errors);const i=ebt(n.valid),s=i.valid;return r=r.concat(i.errors),r=r.concat(Jxt(s)),r=r.concat(cbt(s)),r=r.concat(ubt(s,t)),r=r.concat(hbt(s)),r}function Jxt(e){let t=[];const r=as(e,n=>Ka(n[ac]));return t=t.concat(nbt(r)),t=t.concat(abt(r)),t=t.concat(obt(r)),t=t.concat(lbt(r)),t=t.concat(ibt(r)),t}function tbt(e){const t=as(e,i=>!ce(i,ac)),r=ie(t,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:xr.MISSING_PATTERN,tokenTypes:[i]})),n=K2(e,t);return{errors:r,valid:n}}function ebt(e){const t=as(e,i=>{const s=i[ac];return!Ka(s)&&!so(s)&&!ce(s,"exec")&&!di(s)}),r=ie(t,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:xr.INVALID_PATTERN,tokenTypes:[i]})),n=K2(e,t);return{errors:r,valid:n}}const rbt=/[^\\][$]/;function nbt(e){class t extends B2{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const r=as(e,i=>{const s=i.PATTERN;try{const a=J2(s),o=new t;return o.visit(a),o.found}catch{return rbt.test(s.source)}});return ie(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:xr.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function ibt(e){const t=as(e,n=>n.PATTERN.test(""));return ie(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:xr.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const sbt=/[^\\[][\^]|^\^/;function abt(e){class t extends B2{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const r=as(e,i=>{const s=i.PATTERN;try{const a=J2(s),o=new t;return o.visit(a),o.found}catch{return sbt.test(s.source)}});return ie(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:xr.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function obt(e){const t=as(e,n=>{const i=n[ac];return i instanceof RegExp&&(i.multiline||i.global)});return ie(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:xr.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function lbt(e){const t=[];let r=ie(e,s=>Li(e,(a,o)=>(s.PATTERN.source===o.PATTERN.source&&!ri(t,o)&&o.PATTERN!==ui.NA&&(t.push(o),a.push(o)),a),[]));r=Sg(r);const n=as(r,s=>s.length>1);return ie(n,s=>{const a=ie(s,l=>l.name);return{message:`The same RegExp pattern ->${Ns(s).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:xr.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function cbt(e){const t=as(e,n=>{if(!ce(n,"GROUP"))return!1;const i=n.GROUP;return i!==ui.SKIPPED&&i!==ui.NA&&!di(i)});return ie(t,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:xr.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function ubt(e,t){const r=as(e,i=>i.PUSH_MODE!==void 0&&!ri(t,i.PUSH_MODE));return ie(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:xr.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function hbt(e){const t=[],r=Li(e,(n,i,s)=>{const a=i.PATTERN;return a===ui.NA||(di(a)?n.push({str:a,idx:s,tokenType:i}):Ka(a)&&fbt(a)&&n.push({str:a.source,idx:s,tokenType:i})),n},[]);return de(e,(n,i)=>{de(r,({str:s,idx:a,tokenType:o})=>{if(i<a&&dbt(s,n.PATTERN)){const l=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:l,type:xr.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),t}function dbt(e,t){if(Ka(t)){const r=t.exec(e);return r!==null&&r.index===0}else{if(so(t))return t(e,0,[],{});if(ce(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function fbt(e){return qh([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>e.source.indexOf(r)!==-1)===void 0}function W5(e){const t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function U5(e){const t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function pbt(e,t,r){const n=[];return ce(e,Ef)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Ef+`> property in its definition
`,type:xr.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),ce(e,T1)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+T1+`> property in its definition
`,type:xr.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),ce(e,T1)&&ce(e,Ef)&&!ce(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${Ef}: <${e.defaultMode}>which does not exist
`,type:xr.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),ce(e,T1)&&de(e.modes,(i,s)=>{de(i,(a,o)=>{if(Qa(a))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${o}>
`,type:xr.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(ce(a,"LONGER_ALT")){const l=Pe(a.LONGER_ALT)?a.LONGER_ALT:[a.LONGER_ALT];de(l,u=>{!Qa(u)&&!ri(i,u)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${a.name}> outside of mode <${s}>
`,type:xr.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function gbt(e,t,r){const n=[];let i=!1;const s=Sg(ws(Gr(e.modes))),a=Q2(s,l=>l[ac]===ui.NA),o=TP(r);return t&&de(a,l=>{const u=_P(l,o);if(u!==!1){const d={message:bbt(l,u),type:u.issue,tokenType:l};n.push(d)}else ce(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):MS(o,l.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:xr.NO_LINE_BREAKS_FLAGS}),n}function mbt(e){const t={},r=ss(e);return de(r,n=>{const i=e[n];if(Pe(i))t[n]=[];else throw Error("non exhaustive match")}),t}function vP(e){const t=e.PATTERN;if(Ka(t))return!1;if(so(t))return!0;if(ce(t,"exec"))return!0;if(di(t))return!1;throw Error("non exhaustive match")}function ybt(e){return di(e)&&e.length===1?e.charCodeAt(0):!1}const xbt={test:function(e){const t=e.length;for(let r=this.lastIndex;r<t;r++){const n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function _P(e,t){if(ce(e,"LINE_BREAKS"))return!1;if(Ka(e.PATTERN)){try{MS(t,e.PATTERN)}catch(r){return{issue:xr.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(di(e.PATTERN))return!1;if(vP(e))return{issue:xr.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function bbt(e,t){if(t.issue===xr.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===xr.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function TP(e){return ie(e,r=>di(r)?r.charCodeAt(0):r)}function Ub(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}const Af=256;let p0=[];function Po(e){return e<Af?e:p0[e]}function vbt(){if(ar(p0)){p0=new Array(65536);for(let e=0;e<65536;e++)p0[e]=e>255?255+~~(e/255):e}}function Eg(e,t){const r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function Ym(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let H5=1;const kP={};function Ag(e){const t=_bt(e);Tbt(t),wbt(t),kbt(t),de(t,r=>{r.isParent=r.categoryMatches.length>0})}function _bt(e){let t=bn(e),r=e,n=!0;for(;n;){r=Sg(ws(ie(r,s=>s.CATEGORIES)));const i=K2(r,t);t=t.concat(i),ar(i)?n=!1:r=i}return t}function Tbt(e){de(e,t=>{SP(t)||(kP[H5]=t,t.tokenTypeIdx=H5++),G5(t)&&!Pe(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),G5(t)||(t.CATEGORIES=[]),Sbt(t)||(t.categoryMatches=[]),Cbt(t)||(t.categoryMatchesMap={})})}function kbt(e){de(e,t=>{t.categoryMatches=[],de(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(kP[n].tokenTypeIdx)})})}function wbt(e){de(e,t=>{wP([],t)})}function wP(e,t){de(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),de(t.CATEGORIES,r=>{const n=e.concat(t);ri(n,r)||wP(n,r)})}function SP(e){return ce(e,"tokenTypeIdx")}function G5(e){return ce(e,"CATEGORIES")}function Sbt(e){return ce(e,"categoryMatches")}function Cbt(e){return ce(e,"categoryMatchesMap")}function Ebt(e){return ce(e,"tokenTypeIdx")}const sT={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}};var xr;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(xr||(xr={}));const Lf={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:sT,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Lf);class ui{constructor(t,r=Lf){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${i}>`);const{time:o,value:l}=gP(s),u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${a}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,l}else return s()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Ai({},Lf,r);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Lf.lineTerminatorsPattern)this.config.lineTerminatorsPattern=xbt;else if(this.config.lineTerminatorCharacters===Lf.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Pe(t)?i={modes:{defaultMode:bn(t)},defaultMode:Ef}:(s=!1,i=bn(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(pbt(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(gbt(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},de(i.modes,(o,l)=>{i.modes[l]=Q2(o,u=>Qa(u))});const a=ss(i.modes);if(de(i.modes,(o,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Zxt(o,a))}),ar(this.lexerDefinitionErrors)){Ag(o);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=Qxt(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Ai({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!ar(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=ie(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}de(this.lexerDefinitionWarning,o=>{pP(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(bP?(this.chopInput=Uh,this.match=this.matchWithTest):(this.updateLastIndex=Ur,this.match=this.matchWithExec),s&&(this.handleModes=Ur),this.trackStartLines===!1&&(this.computeNewColumn=Uh),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ur),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=Li(this.canModeBeOptimized,(l,u,h)=>(u===!1&&l.push(h),l),[]);if(r.ensureOptimizations&&!ar(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{jxt()}),this.TRACE_INIT("toFastProperties",()=>{mP(this)})})}tokenize(t,r=this.defaultMode){if(!ar(this.lexerDefinitionErrors)){const i=ie(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(t,r)}tokenizeInternal(t,r){let n,i,s,a,o,l,u,h,d,f,p,m,y,b,x;const v=t,_=v.length;let S=0,k=0;const T=this.hasCustom?0:Math.floor(t.length/10),E=new Array(T),I=[];let C=this.trackStartLines?1:void 0,R=this.trackStartLines?1:void 0;const w=mbt(this.emptyGroups),$=this.trackStartLines,A=this.config.lineTerminatorsPattern;let L=0,N=[],D=[];const P=[],O=[];Object.freeze(O);let M;function Y(){return N}function F(dt){const et=Po(dt),St=D[et];return St===void 0?O:St}const j=dt=>{if(P.length===1&&dt.tokenType.PUSH_MODE===void 0){const et=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(dt);I.push({offset:dt.startOffset,line:dt.startLine,column:dt.startColumn,length:dt.image.length,message:et})}else{P.pop();const et=Gh(P);N=this.patternIdxToConfig[et],D=this.charCodeToPatternIdxToConfig[et],L=N.length;const St=this.canModeBeOptimized[et]&&this.config.safeMode===!1;D&&St?M=F:M=Y}};function it(dt){P.push(dt),D=this.charCodeToPatternIdxToConfig[dt],N=this.patternIdxToConfig[dt],L=N.length,L=N.length;const et=this.canModeBeOptimized[dt]&&this.config.safeMode===!1;D&&et?M=F:M=Y}it.call(this,r);let ft;const J=this.config.recoveryEnabled;for(;S<_;){l=null;const dt=v.charCodeAt(S),et=M(dt),St=et.length;for(n=0;n<St;n++){ft=et[n];const ct=ft.pattern;u=null;const bt=ft.short;if(bt!==!1?dt===bt&&(l=ct):ft.isCustom===!0?(x=ct.exec(v,S,E,w),x!==null?(l=x[0],x.payload!==void 0&&(u=x.payload)):l=null):(this.updateLastIndex(ct,S),l=this.match(ct,t,S)),l!==null){if(o=ft.longerAlt,o!==void 0){const nt=o.length;for(s=0;s<nt;s++){const Z=N[o[s]],z=Z.pattern;if(h=null,Z.isCustom===!0?(x=z.exec(v,S,E,w),x!==null?(a=x[0],x.payload!==void 0&&(h=x.payload)):a=null):(this.updateLastIndex(z,S),a=this.match(z,t,S)),a&&a.length>l.length){l=a,u=h,ft=Z;break}}}break}}if(l!==null){if(d=l.length,f=ft.group,f!==void 0&&(p=ft.tokenTypeIdx,m=this.createTokenInstance(l,S,p,ft.tokenType,C,R,d),this.handlePayload(m,u),f===!1?k=this.addToken(E,k,m):w[f].push(m)),t=this.chopInput(t,d),S=S+d,R=this.computeNewColumn(R,d),$===!0&&ft.canLineTerminator===!0){let ct=0,bt,nt;A.lastIndex=0;do bt=A.test(l),bt===!0&&(nt=A.lastIndex-1,ct++);while(bt===!0);ct!==0&&(C=C+ct,R=d-nt,this.updateTokenEndLineColumnLocation(m,f,nt,ct,C,R,d))}this.handleModes(ft,j,it,m)}else{const ct=S,bt=C,nt=R;let Z=J===!1;for(;Z===!1&&S<_;)for(t=this.chopInput(t,1),S++,i=0;i<L;i++){const z=N[i],V=z.pattern,G=z.short;if(G!==!1?v.charCodeAt(S)===G&&(Z=!0):z.isCustom===!0?Z=V.exec(v,S,E,w)!==null:(this.updateLastIndex(V,S),Z=V.exec(t)!==null),Z===!0)break}if(y=S-ct,R=this.computeNewColumn(R,y),b=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(v,ct,y,bt,nt),I.push({offset:ct,line:bt,column:nt,length:y,message:b}),J===!1)break}}return this.hasCustom||(E.length=k),{tokens:E,groups:w,errors:I}}handleModes(t,r,n,i){if(t.pop===!0){const s=t.push;r(i),s!==void 0&&n.call(this,s)}else t.push!==void 0&&n.call(this,t.push)}chopInput(t,r){return t.substring(r)}updateLastIndex(t,r){t.lastIndex=r}updateTokenEndLineColumnLocation(t,r,n,i,s,a,o){let l,u;r!==void 0&&(l=n===o-1,u=l?-1:0,i===1&&l===!0||(t.endLine=s+u,t.endColumn=a-1+-u))}computeNewColumn(t,r){return t+r}createOffsetOnlyToken(t,r,n,i){return{image:t,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(t,r,n,i,s,a){return{image:t,startOffset:r,startLine:s,startColumn:a,tokenTypeIdx:n,tokenType:i}}createFullToken(t,r,n,i,s,a,o){return{image:t,startOffset:r,endOffset:r+o-1,startLine:s,endLine:s,startColumn:a,endColumn:a+o-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(t,r,n){return t.push(n),r}addTokenUsingMemberAccess(t,r,n){return t[r]=n,r++,r}handlePayloadNoCustom(t,r){}handlePayloadWithCustom(t,r){r!==null&&(t.payload=r)}matchWithTest(t,r,n){return t.test(r)===!0?r.substring(n,t.lastIndex):null}matchWithExec(t,r){const n=t.exec(r);return n!==null?n[0]:null}}ui.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";ui.NA=/NOT_APPLICABLE/;function vu(e){return CP(e)?e.LABEL:e.name}function CP(e){return di(e.LABEL)&&e.LABEL!==""}const Abt="parent",q5="categories",j5="label",Y5="group",X5="push_mode",K5="pop_mode",Q5="longer_alt",Z5="line_breaks",J5="start_chars_hint";function EP(e){return Lbt(e)}function Lbt(e){const t=e.pattern,r={};if(r.name=e.name,Qa(t)||(r.PATTERN=t),ce(e,Abt))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return ce(e,q5)&&(r.CATEGORIES=e[q5]),Ag([r]),ce(e,j5)&&(r.LABEL=e[j5]),ce(e,Y5)&&(r.GROUP=e[Y5]),ce(e,K5)&&(r.POP_MODE=e[K5]),ce(e,X5)&&(r.PUSH_MODE=e[X5]),ce(e,Q5)&&(r.LONGER_ALT=e[Q5]),ce(e,Z5)&&(r.LINE_BREAKS=e[Z5]),ce(e,J5)&&(r.START_CHARS_HINT=e[J5]),r}const Bo=EP({name:"EOF",pattern:ui.NA});Ag([Bo]);function PS(e,t,r,n,i,s,a,o){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:s,startColumn:a,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function AP(e,t){return Eg(e,t)}const ru={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${CP(e)?`--> ${vu(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){const s="Expecting: ",o=`
but found: '`+Ns(t).image+"'";if(n)return s+n+o;{const l=Li(e,(f,p)=>f.concat(p),[]),u=ie(l,f=>`[${ie(f,p=>vu(p)).join(", ")}]`),d=`one of these possible Token sequences:
${ie(u,(f,p)=>`  ${p+1}. ${f}`).join(`
`)}`;return s+d+o}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){const i="Expecting: ",a=`
but found: '`+Ns(t).image+"'";if(r)return i+r+a;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${ie(e,u=>`[${ie(u,h=>vu(h)).join(",")}]`).join(" ,")}>`;return i+l+a}}};Object.freeze(ru);const Rbt={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},Ll={buildDuplicateFoundError(e,t){function r(h){return h instanceof ur?h.terminalType.name:h instanceof Jn?h.nonTerminalName:""}const n=e.name,i=Ns(t),s=i.idx,a=js(i),o=r(i),l=s>0;let u=`->${a}${l?s:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){const t=ie(e.prefixPath,i=>vu(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){const t=ie(e.prefixPath,i=>vu(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=js(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){const t=e.topLevelRule.name,r=ie(e.leftRecursionPath,s=>s.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof fd?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function Ibt(e,t){const r=new Nbt(e,t);return r.resolveRefs(),r.errors}class Nbt extends pd{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){de(Gr(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:ti.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}class $bt extends Z2{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=bn(this.path.ruleStack).reverse(),this.occurrenceStack=bn(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const i=r.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}}updateExpectedNext(){ar(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Obt extends $bt{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const i=r.concat(n),s=new fi({definition:i});this.possibleTokTypes=Cg(s),this.found=!0}}}class tx extends Z2{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Dbt extends tx{walkMany(t,r,n){if(t.idx===this.occurrence){const i=Ns(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof ur&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(t,r,n)}}class tA extends tx{walkManySep(t,r,n){if(t.idx===this.occurrence){const i=Ns(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof ur&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(t,r,n)}}class Mbt extends tx{walkAtLeastOne(t,r,n){if(t.idx===this.occurrence){const i=Ns(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof ur&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(t,r,n)}}class eA extends tx{walkAtLeastOneSep(t,r,n){if(t.idx===this.occurrence){const i=Ns(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof ur&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(t,r,n)}}function aT(e,t,r=[]){r=bn(r);let n=[],i=0;function s(o){return o.concat(dn(e,i+1))}function a(o){const l=aT(s(o),t,r);return n.concat(l)}for(;r.length<t&&i<e.length;){const o=e[i];if(o instanceof fi)return a(o.definition);if(o instanceof Jn)return a(o.definition);if(o instanceof xn)n=a(o.definition);else if(o instanceof Ni){const l=o.definition.concat([new yr({definition:o.definition})]);return a(l)}else if(o instanceof $i){const l=[new fi({definition:o.definition}),new yr({definition:[new ur({terminalType:o.separator})].concat(o.definition)})];return a(l)}else if(o instanceof gi){const l=o.definition.concat([new yr({definition:[new ur({terminalType:o.separator})].concat(o.definition)})]);n=a(l)}else if(o instanceof yr){const l=o.definition.concat([new yr({definition:o.definition})]);n=a(l)}else{if(o instanceof mi)return de(o.definition,l=>{ar(l.definition)===!1&&(n=a(l.definition))}),n;if(o instanceof ur)r.push(o.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:dn(e,i)}),n}function LP(e,t,r,n){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let o=!1;const l=t.length,u=l-n-1,h=[],d=[];for(d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!ar(d);){const f=d.pop();if(f===a){o&&Gh(d).idx<=u&&d.pop();continue}const p=f.def,m=f.idx,y=f.ruleStack,b=f.occurrenceStack;if(ar(p))continue;const x=p[0];if(x===i){const v={idx:m,def:dn(p),ruleStack:zp(y),occurrenceStack:zp(b)};d.push(v)}else if(x instanceof ur)if(m<l-1){const v=m+1,_=t[v];if(r(_,x.terminalType)){const S={idx:v,def:dn(p),ruleStack:y,occurrenceStack:b};d.push(S)}}else if(m===l-1)h.push({nextTokenType:x.terminalType,nextTokenOccurrence:x.idx,ruleStack:y,occurrenceStack:b}),o=!0;else throw Error("non exhaustive match");else if(x instanceof Jn){const v=bn(y);v.push(x.nonTerminalName);const _=bn(b);_.push(x.idx);const S={idx:m,def:x.definition.concat(s,dn(p)),ruleStack:v,occurrenceStack:_};d.push(S)}else if(x instanceof xn){const v={idx:m,def:dn(p),ruleStack:y,occurrenceStack:b};d.push(v),d.push(a);const _={idx:m,def:x.definition.concat(dn(p)),ruleStack:y,occurrenceStack:b};d.push(_)}else if(x instanceof Ni){const v=new yr({definition:x.definition,idx:x.idx}),_=x.definition.concat([v],dn(p)),S={idx:m,def:_,ruleStack:y,occurrenceStack:b};d.push(S)}else if(x instanceof $i){const v=new ur({terminalType:x.separator}),_=new yr({definition:[v].concat(x.definition),idx:x.idx}),S=x.definition.concat([_],dn(p)),k={idx:m,def:S,ruleStack:y,occurrenceStack:b};d.push(k)}else if(x instanceof gi){const v={idx:m,def:dn(p),ruleStack:y,occurrenceStack:b};d.push(v),d.push(a);const _=new ur({terminalType:x.separator}),S=new yr({definition:[_].concat(x.definition),idx:x.idx}),k=x.definition.concat([S],dn(p)),T={idx:m,def:k,ruleStack:y,occurrenceStack:b};d.push(T)}else if(x instanceof yr){const v={idx:m,def:dn(p),ruleStack:y,occurrenceStack:b};d.push(v),d.push(a);const _=new yr({definition:x.definition,idx:x.idx}),S=x.definition.concat([_],dn(p)),k={idx:m,def:S,ruleStack:y,occurrenceStack:b};d.push(k)}else if(x instanceof mi)for(let v=x.definition.length-1;v>=0;v--){const _=x.definition[v],S={idx:m,def:_.definition.concat(dn(p)),ruleStack:y,occurrenceStack:b};d.push(S),d.push(a)}else if(x instanceof fi)d.push({idx:m,def:x.definition.concat(dn(p)),ruleStack:y,occurrenceStack:b});else if(x instanceof fd)d.push(Pbt(x,m,y,b));else throw Error("non exhaustive match")}return h}function Pbt(e,t,r,n){const i=bn(r);i.push(e.name);const s=bn(n);return s.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:s}}var gr;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(gr||(gr={}));function BS(e){if(e instanceof xn||e==="Option")return gr.OPTION;if(e instanceof yr||e==="Repetition")return gr.REPETITION;if(e instanceof Ni||e==="RepetitionMandatory")return gr.REPETITION_MANDATORY;if(e instanceof $i||e==="RepetitionMandatoryWithSeparator")return gr.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof gi||e==="RepetitionWithSeparator")return gr.REPETITION_WITH_SEPARATOR;if(e instanceof mi||e==="Alternation")return gr.ALTERNATION;throw Error("non exhaustive match")}function rA(e){const{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,s=BS(n);return s===gr.ALTERNATION?ex(t,r,i):rx(t,r,s,i)}function Bbt(e,t,r,n,i,s){const a=ex(e,t,r),o=NP(a)?Ym:Eg;return s(a,n,o,i)}function Fbt(e,t,r,n,i,s){const a=rx(e,t,i,r),o=NP(a)?Ym:Eg;return s(a[0],o,n)}function Vbt(e,t,r,n){const i=e.length,s=Ss(e,a=>Ss(a,o=>o.length===1));if(t)return function(a){const o=ie(a,l=>l.GATE);for(let l=0;l<i;l++){const u=e[l],h=u.length,d=o[l];if(!(d!==void 0&&d.call(this)===!1))t:for(let f=0;f<h;f++){const p=u[f],m=p.length;for(let y=0;y<m;y++){const b=this.LA(y+1);if(r(b,p[y])===!1)continue t}return l}}};if(s&&!n){const a=ie(e,l=>ws(l)),o=Li(a,(l,u,h)=>(de(u,d=>{ce(l,d.tokenTypeIdx)||(l[d.tokenTypeIdx]=h),de(d.categoryMatches,f=>{ce(l,f)||(l[f]=h)})}),l),{});return function(){const l=this.LA(1);return o[l.tokenTypeIdx]}}else return function(){for(let a=0;a<i;a++){const o=e[a],l=o.length;t:for(let u=0;u<l;u++){const h=o[u],d=h.length;for(let f=0;f<d;f++){const p=this.LA(f+1);if(r(p,h[f])===!1)continue t}return a}}}}function zbt(e,t,r){const n=Ss(e,s=>s.length===1),i=e.length;if(n&&!r){const s=ws(e);if(s.length===1&&ar(s[0].categoryMatches)){const o=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const a=Li(s,(o,l,u)=>(o[l.tokenTypeIdx]=!0,de(l.categoryMatches,h=>{o[h]=!0}),o),[]);return function(){const o=this.LA(1);return a[o.tokenTypeIdx]===!0}}}else return function(){t:for(let s=0;s<i;s++){const a=e[s],o=a.length;for(let l=0;l<o;l++){const u=this.LA(l+1);if(t(u,a[l])===!1)continue t}return!0}return!1}}class Wbt extends Z2{constructor(t,r,n){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(t,r,n){this.checkIsTarget(t,gr.OPTION,r,n)||super.walkOption(t,r,n)}walkAtLeastOne(t,r,n){this.checkIsTarget(t,gr.REPETITION_MANDATORY,r,n)||super.walkOption(t,r,n)}walkAtLeastOneSep(t,r,n){this.checkIsTarget(t,gr.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}walkMany(t,r,n){this.checkIsTarget(t,gr.REPETITION,r,n)||super.walkOption(t,r,n)}walkManySep(t,r,n){this.checkIsTarget(t,gr.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}}class RP extends pd{constructor(t,r,n){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,gr.OPTION)}visitRepetition(t){this.checkIsTarget(t,gr.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,gr.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,gr.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,gr.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,gr.ALTERNATION)}}function nA(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function Hb(e){let t=[""];for(let r=0;r<e.length;r++){const n=e[r],i=[];for(let s=0;s<t.length;s++){const a=t[s];i.push(a+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const l="_"+n.categoryMatches[o];i.push(a+l)}}t=i}return t}function Ubt(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;const i=e[n];for(let s=0;s<t.length;s++){const a=t[s];if(i[a]===!0)return!1}}return!0}function IP(e,t){const r=ie(e,a=>aT([a],1)),n=nA(r.length),i=ie(r,a=>{const o={};return de(a,l=>{const u=Hb(l.partialPath);de(u,h=>{o[h]=!0})}),o});let s=r;for(let a=1;a<=t;a++){const o=s;s=nA(o.length);for(let l=0;l<o.length;l++){const u=o[l];for(let h=0;h<u.length;h++){const d=u[h].partialPath,f=u[h].suffixDef,p=Hb(d);if(Ubt(i,p,l)||ar(f)||d.length===t){const y=n[l];if(oT(y,d)===!1){y.push(d);for(let b=0;b<p.length;b++){const x=p[b];i[l][x]=!0}}}else{const y=aT(f,a+1,d);s[l]=s[l].concat(y),de(y,b=>{const x=Hb(b.partialPath);de(x,v=>{i[l][v]=!0})})}}}}return n}function ex(e,t,r,n){const i=new RP(e,gr.ALTERNATION,n);return t.accept(i),IP(i.result,r)}function rx(e,t,r,n){const i=new RP(e,r);t.accept(i);const s=i.result,o=new Wbt(t,e,r).startWalking(),l=new fi({definition:s}),u=new fi({definition:o});return IP([l,u],n)}function oT(e,t){t:for(let r=0;r<e.length;r++){const n=e[r];if(n.length===t.length){for(let i=0;i<n.length;i++){const s=t[i],a=n[i];if((s===a||a.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue t}return!0}}return!1}function Hbt(e,t){return e.length<t.length&&Ss(e,(r,n)=>{const i=t[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function NP(e){return Ss(e,t=>Ss(t,r=>Ss(r,n=>ar(n.categoryMatches))))}function Gbt(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return ie(t,r=>Object.assign({type:ti.CUSTOM_LOOKAHEAD_VALIDATION},r))}function qbt(e,t,r,n){const i=Qi(e,l=>jbt(l,r)),s=svt(e,t,r),a=Qi(e,l=>evt(l,r)),o=Qi(e,l=>Kbt(l,e,n,r));return i.concat(s,a,o)}function jbt(e,t){const r=new Xbt;e.accept(r);const n=r.allProductions,i=dxt(n,Ybt),s=Os(i,o=>o.length>1);return ie(Gr(s),o=>{const l=Ns(o),u=t.buildDuplicateFoundError(e,o),h=js(l),d={message:u,type:ti.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:h,occurrence:l.idx},f=$P(l);return f&&(d.parameter=f),d})}function Ybt(e){return`${js(e)}_#_${e.idx}_#_${$P(e)}`}function $P(e){return e instanceof ur?e.terminalType.name:e instanceof Jn?e.nonTerminalName:""}class Xbt extends pd{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function Kbt(e,t,r,n){const i=[];if(Li(t,(a,o)=>o.name===e.name?a+1:a,0)>1){const a=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:a,type:ti.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function Qbt(e,t,r){const n=[];let i;return ri(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:ti.INVALID_RULE_OVERRIDE,ruleName:e})),n}function OP(e,t,r,n=[]){const i=[],s=g0(t.definition);if(ar(s))return[];{const a=e.name;ri(s,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:ti.LEFT_RECURSION,ruleName:a});const l=K2(s,n.concat([e])),u=Qi(l,h=>{const d=bn(n);return d.push(h),OP(e,h,r,d)});return i.concat(u)}}function g0(e){let t=[];if(ar(e))return t;const r=Ns(e);if(r instanceof Jn)t.push(r.referencedRule);else if(r instanceof fi||r instanceof xn||r instanceof Ni||r instanceof $i||r instanceof gi||r instanceof yr)t=t.concat(g0(r.definition));else if(r instanceof mi)t=ws(ie(r.definition,s=>g0(s.definition)));else if(!(r instanceof ur))throw Error("non exhaustive match");const n=qm(r),i=e.length>1;if(n&&i){const s=dn(e);return t.concat(g0(s))}else return t}class FS extends pd{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}function Zbt(e,t){const r=new FS;e.accept(r);const n=r.alternations;return Qi(n,s=>{const a=zp(s.definition);return Qi(a,(o,l)=>{const u=LP([o],[],Eg,1);return ar(u)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:s,emptyChoiceIdx:l}),type:ti.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:s.idx,alternative:l+1}]:[]})})}function Jbt(e,t,r){const n=new FS;e.accept(n);let i=n.alternations;return i=Q2(i,a=>a.ignoreAmbiguities===!0),Qi(i,a=>{const o=a.idx,l=a.maxLookahead||t,u=ex(o,e,l,a),h=nvt(u,a,e,r),d=ivt(u,a,e,r);return h.concat(d)})}class tvt extends pd{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}function evt(e,t){const r=new FS;e.accept(r);const n=r.alternations;return Qi(n,s=>s.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:s}),type:ti.TOO_MANY_ALTS,ruleName:e.name,occurrence:s.idx}]:[])}function rvt(e,t,r){const n=[];return de(e,i=>{const s=new tvt;i.accept(s);const a=s.allProductions;de(a,o=>{const l=BS(o),u=o.maxLookahead||t,h=o.idx,f=rx(h,i,l,u)[0];if(ar(ws(f))){const p=r.buildEmptyRepetitionError({topLevelRule:i,repetition:o});n.push({message:p,type:ti.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function nvt(e,t,r,n){const i=[],s=Li(e,(o,l,u)=>(t.definition[u].ignoreAmbiguities===!0||de(l,h=>{const d=[u];de(e,(f,p)=>{u!==p&&oT(f,h)&&t.definition[p].ignoreAmbiguities!==!0&&d.push(p)}),d.length>1&&!oT(i,h)&&(i.push(h),o.push({alts:d,path:h}))}),o),[]);return ie(s,o=>{const l=ie(o.alts,h=>h+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:l,prefixPath:o.path}),type:ti.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:o.alts}})}function ivt(e,t,r,n){const i=Li(e,(a,o,l)=>{const u=ie(o,h=>({idx:l,path:h}));return a.concat(u)},[]);return Sg(Qi(i,a=>{if(t.definition[a.idx].ignoreAmbiguities===!0)return[];const l=a.idx,u=a.path,h=as(i,f=>t.definition[f.idx].ignoreAmbiguities!==!0&&f.idx<l&&Hbt(f.path,u));return ie(h,f=>{const p=[f.idx+1,l+1],m=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:p,prefixPath:f.path}),type:ti.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:m,alternatives:p}})}))}function svt(e,t,r){const n=[],i=ie(t,s=>s.name);return de(e,s=>{const a=s.name;if(ri(i,a)){const o=r.buildNamespaceConflictError(s);n.push({message:o,type:ti.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:a})}}),n}function avt(e){const t=OS(e,{errMsgProvider:Rbt}),r={};return de(e.rules,n=>{r[n.name]=n}),Ibt(r,t.errMsgProvider)}function ovt(e){return e=OS(e,{errMsgProvider:Ll}),qbt(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}const DP="MismatchedTokenException",MP="NoViableAltException",PP="EarlyExitException",BP="NotAllInputParsedException",FP=[DP,MP,PP,BP];Object.freeze(FP);function Xm(e){return ri(FP,e.name)}class nx extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class VP extends nx{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=DP}}class lvt extends nx{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=MP}}class cvt extends nx{constructor(t,r){super(t,r),this.name=BP}}class uvt extends nx{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=PP}}const Gb={},zP="InRuleRecoveryException";class hvt extends Error{constructor(t){super(t),this.name=zP}}class dvt{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=ce(t,"recoveryEnabled")?t.recoveryEnabled:Za.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=fvt)}getTokenToInsert(t){const r=PS(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,n,i){const s=this.findReSyncTokenType(),a=this.exportLexerState(),o=[];let l=!1;const u=this.LA(1);let h=this.LA(1);const d=()=>{const f=this.LA(0),p=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:f,ruleName:this.getCurrRuleFullName()}),m=new VP(p,u,this.LA(0));m.resyncedTokens=zp(o),this.SAVE_ERROR(m)};for(;!l;)if(this.tokenMatcher(h,i)){d();return}else if(n.call(this)){d(),t.apply(this,r);return}else this.tokenMatcher(h,s)?l=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,o));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(t,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){const n=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new hvt("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||ar(r))return!1;const n=this.LA(1);return qh(r,s=>this.tokenMatcher(n,s))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){const r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return ri(n,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let r=this.LA(1),n=2;for(;;){const i=qh(t,s=>AP(r,s));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Gb;const t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return ie(t,(n,i)=>i===0?Gb:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(t[i-1])})}flattenFollowSet(){const t=ie(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return ws(t)}getFollowSetFromFollowKey(t){if(t===Gb)return[Bo];const r=t.ruleName+t.idxInCallingRule+yP+t.inRule;return this.resyncFollows[r]}addToResyncTokens(t,r){return this.tokenMatcher(t,Bo)||r.push(t),r}reSyncTo(t){const r=[];let n=this.LA(1);for(;this.tokenMatcher(n,t)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return zp(r)}attemptInRepetitionRecovery(t,r,n,i,s,a,o){}getCurrentGrammarPath(t,r){const n=this.getHumanReadableRuleStack(),i=bn(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return ie(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}}function fvt(e,t,r,n,i,s,a){const o=this.getKeyForAutomaticLookahead(n,i);let l=this.firstAfterRepMap[o];if(l===void 0){const f=this.getCurrRuleFullName(),p=this.getGAstProductions()[f];l=new s(p,i).startWalking(),this.firstAfterRepMap[o]=l}let u=l.token,h=l.occurrence;const d=l.isEndOfRule;this.RULE_STACK.length===1&&d&&u===void 0&&(u=Bo,h=1),!(u===void 0||h===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,h,a)&&this.tryInRepetitionRecovery(e,t,r,u)}const pvt=4,Qo=8,WP=1<<Qo,UP=2<<Qo,lT=3<<Qo,cT=4<<Qo,uT=5<<Qo,m0=6<<Qo;function qb(e,t,r){return r|t|e}class VS{constructor(t){var r;this.maxLookahead=(r=t==null?void 0:t.maxLookahead)!==null&&r!==void 0?r:Za.maxLookahead}validate(t){const r=this.validateNoLeftRecursion(t.rules);if(ar(r)){const n=this.validateEmptyOrAlternatives(t.rules),i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...n,...i,...s]}return r}validateNoLeftRecursion(t){return Qi(t,r=>OP(r,r,Ll))}validateEmptyOrAlternatives(t){return Qi(t,r=>Zbt(r,Ll))}validateAmbiguousAlternationAlternatives(t,r){return Qi(t,n=>Jbt(n,r,Ll))}validateSomeNonEmptyLookaheadPath(t,r){return rvt(t,r,Ll)}buildLookaheadForAlternation(t){return Bbt(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,Vbt)}buildLookaheadForOptional(t){return Fbt(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,BS(t.prodType),zbt)}}class gvt{initLooksAhead(t){this.dynamicTokensEnabled=ce(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Za.dynamicTokensEnabled,this.maxLookahead=ce(t,"maxLookahead")?t.maxLookahead:Za.maxLookahead,this.lookaheadStrategy=ce(t,"lookaheadStrategy")?t.lookaheadStrategy:new VS({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){de(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:n,repetition:i,option:s,repetitionMandatory:a,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:l}=yvt(r);de(n,u=>{const h=u.idx===0?"":u.idx;this.TRACE_INIT(`${js(u)}${h}`,()=>{const d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),f=qb(this.fullRuleNameToShort[r.name],WP,u.idx);this.setLaFuncCache(f,d)})}),de(i,u=>{this.computeLookaheadFunc(r,u.idx,lT,"Repetition",u.maxLookahead,js(u))}),de(s,u=>{this.computeLookaheadFunc(r,u.idx,UP,"Option",u.maxLookahead,js(u))}),de(a,u=>{this.computeLookaheadFunc(r,u.idx,cT,"RepetitionMandatory",u.maxLookahead,js(u))}),de(o,u=>{this.computeLookaheadFunc(r,u.idx,m0,"RepetitionMandatoryWithSeparator",u.maxLookahead,js(u))}),de(l,u=>{this.computeLookaheadFunc(r,u.idx,uT,"RepetitionWithSeparator",u.maxLookahead,js(u))})})})}computeLookaheadFunc(t,r,n,i,s,a){this.TRACE_INIT(`${a}${r===0?"":r}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=qb(this.fullRuleNameToShort[t.name],n,r);this.setLaFuncCache(l,o)})}getKeyForAutomaticLookahead(t,r){const n=this.getLastExplicitRuleShortName();return qb(n,t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}}class mvt extends pd{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}}const k1=new mvt;function yvt(e){k1.reset(),e.accept(k1);const t=k1.dslMethods;return k1.reset(),t}function iA(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function sA(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function xvt(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function bvt(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}const vvt="name";function HP(e,t){Object.defineProperty(e,vvt,{enumerable:!1,configurable:!0,writable:!1,value:t})}function _vt(e,t){const r=ss(e),n=r.length;for(let i=0;i<n;i++){const s=r[i],a=e[s],o=a.length;for(let l=0;l<o;l++){const u=a[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,t)}}}function Tvt(e,t){const r=function(){};HP(r,e+"BaseSemantics");const n={visit:function(i,s){if(Pe(i)&&(i=i[0]),!Qa(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=wvt(this,t);if(!ar(i)){const s=ie(i,a=>a.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function kvt(e,t,r){const n=function(){};HP(n,e+"BaseSemanticsWithDefaults");const i=Object.create(r.prototype);return de(t,s=>{i[s]=_vt}),n.prototype=i,n.prototype.constructor=n,n}var hT;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(hT||(hT={}));function wvt(e,t){return Svt(e,t)}function Svt(e,t){const r=as(t,i=>so(e[i])===!1),n=ie(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:hT.MISSING_METHOD,methodName:i}));return Sg(n)}class Cvt{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=ce(t,"nodeLocationTracking")?t.nodeLocationTracking:Za.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ur,this.cstFinallyStateUpdate=Ur,this.cstPostTerminal=Ur,this.cstPostNonTerminal=Ur,this.cstPostRule=Ur;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=sA,this.setNodeLocationFromNode=sA,this.cstPostRule=Ur,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ur,this.setNodeLocationFromNode=Ur,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=iA,this.setNodeLocationFromNode=iA,this.cstPostRule=Ur,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ur,this.setNodeLocationFromNode=Ur,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ur,this.setNodeLocationFromNode=Ur,this.cstPostRule=Ur,this.setInitialNodeLocation=Ur;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){const r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(t,r){const n=this.CST_STACK[this.CST_STACK.length-1];xvt(n,r,t),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(t,r){const n=this.CST_STACK[this.CST_STACK.length-1];bvt(n,r,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if(Qa(this.baseCstVisitorConstructor)){const t=Tvt(this.className,ss(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Qa(this.baseCstVisitorWithDefaultsConstructor)){const t=kvt(this.className,ss(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}class Evt{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Qm}LA(t){const r=this.currIdx+t;return r<0||this.tokVectorLength<=r?Qm:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class Avt{ACTION(t){return t.call(this)}consume(t,r,n){return this.consumeInternal(r,t,n)}subrule(t,r,n){return this.subruleInternal(r,t,n)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,n=Zm){if(ri(this.definedRulesNames,t)){const a={message:Ll.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:ti.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(a)}this.definedRulesNames.push(t);const i=this.defineRule(t,r,n);return this[t]=i,i}OVERRIDE_RULE(t,r,n=Zm){const i=Qbt(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(t,r,n);return this[t]=s,s}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return t.apply(this,r),!0}catch(i){if(Xm(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Pxt(Gr(this.gastProductionsCache))}}class Lvt{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Ym,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},ce(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Pe(t)){if(ar(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Pe(t))this.tokensMap=Li(t,(s,a)=>(s[a.name]=a,s),{});else if(ce(t,"modes")&&Ss(ws(Gr(t.modes)),Ebt)){const s=ws(Gr(t.modes)),a=DS(s);this.tokensMap=Li(a,(o,l)=>(o[l.name]=l,o),{})}else if(is(t))this.tokensMap=bn(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Bo;const n=ce(t,"modes")?ws(Gr(t.modes)):Gr(t),i=Ss(n,s=>ar(s.categoryMatches));this.tokenMatcher=i?Ym:Eg,Ag(Gr(this.tokensMap))}defineRule(t,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=ce(n,"resyncEnabled")?n.resyncEnabled:Zm.resyncEnabled,s=ce(n,"recoveryValueFunc")?n.recoveryValueFunc:Zm.recoveryValueFunc,a=this.ruleShortNameIdx<<pvt+Qo;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=t,this.fullRuleNameToShort[t]=a;let o;return this.outputCst===!0?o=function(...h){try{this.ruleInvocationStateUpdate(a,t,this.subruleIdx),r.apply(this,h);const d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}catch(d){return this.invokeRuleCatch(d,i,s)}finally{this.ruleFinallyStateUpdate()}}:o=function(...h){try{return this.ruleInvocationStateUpdate(a,t,this.subruleIdx),r.apply(this,h)}catch(d){return this.invokeRuleCatch(d,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,n){const i=this.RULE_STACK.length===1,s=r&&!this.isBackTracking()&&this.recoveryEnabled;if(Xm(t)){const a=t;if(s){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(a.resyncedTokens=this.reSyncTo(o),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(t);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,a.partialCstResult=l}throw a}}else{if(i)return this.moveToTerminatedState(),n(t);throw a}}else throw t}optionInternal(t,r){const n=this.getKeyForAutomaticLookahead(UP,r);return this.optionInternalLogic(t,r,n)}optionInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof t!="function"){s=t.DEF;const a=t.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=t;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(t,r){const n=this.getKeyForAutomaticLookahead(cT,t);return this.atLeastOneInternalLogic(t,r,n)}atLeastOneInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof r!="function"){s=r.DEF;const a=r.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else s=r;if(i.call(this)===!0){let a=this.doSingleRepetition(s);for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(t,gr.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],i,cT,t,Mbt)}atLeastOneSepFirstInternal(t,r){const n=this.getKeyForAutomaticLookahead(m0,t);this.atLeastOneSepFirstInternalLogic(t,r,n)}atLeastOneSepFirstInternalLogic(t,r,n){const i=r.DEF,s=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,s,o,i,eA],o,m0,t,eA)}else throw this.raiseEarlyExitException(t,gr.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(t,r){const n=this.getKeyForAutomaticLookahead(lT,t);return this.manyInternalLogic(t,r,n)}manyInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),s;if(typeof r!="function"){s=r.DEF;const o=r.GATE;if(o!==void 0){const l=i;i=()=>o.call(this)&&l.call(this)}}else s=r;let a=!0;for(;i.call(this)===!0&&a===!0;)a=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],i,lT,t,Dbt,a)}manySepFirstInternal(t,r){const n=this.getKeyForAutomaticLookahead(uT,t);this.manySepFirstInternalLogic(t,r,n)}manySepFirstInternalLogic(t,r,n){const i=r.DEF,s=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,s,o,i,tA],o,uT,t,tA)}}repetitionSepSecondInternal(t,r,n,i,s){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,n,i,s],n,m0,t,s)}doSingleRepetition(t){const r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){const n=this.getKeyForAutomaticLookahead(WP,r),i=Pe(t)?t:t.DEF,a=this.getLaFuncFromCache(n).call(this,i);if(a!==void 0)return i[a].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new cvt(r,t))}}subruleInternal(t,r,n){let i;try{const s=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=t.apply(this,s),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:t.ruleName),i}catch(s){throw this.subruleInternalError(s,n,t.ruleName)}}subruleInternalError(t,r,n){throw Xm(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,r,n){let i;try{const s=this.LA(1);this.tokenMatcher(s,t)===!0?(this.consumeToken(),i=s):this.consumeInternalError(t,s,n)}catch(s){i=this.consumeInternalRecovery(t,r,s)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:t.name,i),i}consumeInternalError(t,r,n){let i;const s=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new VP(i,r,s))}consumeInternalRecovery(t,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,i)}catch(s){throw s.name===zP?n:s}}else throw n}saveRecogState(){const t=this.errors,r=bn(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Bo)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class Rvt{initErrorHandler(t){this._errors=[],this.errorMessageProvider=ce(t,"errorMessageProvider")?t.errorMessageProvider:Za.errorMessageProvider}SAVE_ERROR(t){if(Xm(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:bn(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return bn(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,n){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],o=rx(t,s,r,this.maxLookahead)[0],l=[];for(let h=1;h<=this.maxLookahead;h++)l.push(this.LA(h));const u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new uvt(u,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){const n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],s=ex(t,i,this.maxLookahead),a=[];for(let u=1;u<=this.maxLookahead;u++)a.push(this.LA(u));const o=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:a,previous:o,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new lvt(l,this.LA(1),o))}}class Ivt{initContentAssist(){}computeContentAssist(t,r){const n=this.gastProductionsCache[t];if(Qa(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return LP([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const r=Ns(t.ruleStack),i=this.getGAstProductions()[r];return new Obt(i,t).startWalking()}}const ix={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ix);const aA=!0,oA=Math.pow(2,Qo)-1,GP=EP({name:"RECORDING_PHASE_TOKEN",pattern:ui.NA});Ag([GP]);const qP=PS(GP,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(qP);const Nvt={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class $vt{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const r=t>0?t:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,t,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,t,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,t)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,t)},this[`MANY${r}`]=function(n){this.manyInternalRecord(t,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(t,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(t,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(t,n)}}this.consume=function(t,r,n){return this.consumeInternalRecord(r,t,n)},this.subrule=function(t,r,n){return this.subruleInternalRecord(r,t,n)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let r=0;r<10;r++){const n=r>0?r:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return Qm}topLevelRuleRecord(t,r){try{const n=new fd({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(t,r){return Bd.call(this,xn,t,r)}atLeastOneInternalRecord(t,r){Bd.call(this,Ni,r,t)}atLeastOneSepFirstInternalRecord(t,r){Bd.call(this,$i,r,t,aA)}manyInternalRecord(t,r){Bd.call(this,yr,r,t)}manySepFirstInternalRecord(t,r){Bd.call(this,gi,r,t,aA)}orInternalRecord(t,r){return Ovt.call(this,t,r)}subruleInternalRecord(t,r,n){if(Km(r),!t||ce(t,"ruleName")===!1){const o=new Error(`<SUBRULE${lA(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=Gh(this.recordingProdStack),s=t.ruleName,a=new Jn({idx:r,nonTerminalName:s,label:n==null?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?Nvt:ix}consumeInternalRecord(t,r,n){if(Km(r),!SP(t)){const a=new Error(`<CONSUME${lA(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=Gh(this.recordingProdStack),s=new ur({idx:r,terminalType:t,label:n==null?void 0:n.LABEL});return i.definition.push(s),qP}}function Bd(e,t,r,n=!1){Km(r);const i=Gh(this.recordingProdStack),s=so(t)?t:t.DEF,a=new e({definition:[],idx:r});return n&&(a.separator=t.SEP),ce(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),ix}function Ovt(e,t){Km(t);const r=Gh(this.recordingProdStack),n=Pe(e)===!1,i=n===!1?e:e.DEF,s=new mi({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});ce(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);const a=fP(i,o=>so(o.GATE));return s.hasPredicates=a,r.definition.push(s),de(i,o=>{const l=new fi({definition:[]});s.definition.push(l),ce(o,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:ce(o,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),o.ALT.call(this),this.recordingProdStack.pop()}),ix}function lA(e){return e===0?"":`${e}`}function Km(e){if(e<0||e>oA){const t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${oA+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}class Dvt{initPerformanceTracer(t){if(ce(t,"traceInitPerf")){const r=t.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=Za.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${t}>`);const{time:i,value:s}=gP(r),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${n}<-- <${t}> time: ${i}ms`),this.traceInitIndent--,s}else return r()}}function Mvt(e,t){t.forEach(r=>{const n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(n,i);s&&(s.get||s.set)?Object.defineProperty(e.prototype,i,s):e.prototype[i]=r.prototype[i]})})}const Qm=PS(Bo,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Qm);const Za=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:ru,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Zm=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var ti;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(ti||(ti={}));function cA(e=void 0){return function(){return e}}class Lg{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;const r=this.className;this.TRACE_INIT("toFastProps",()=>{mP(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),de(this.definedRulesNames,i=>{const a=this[i].originalGrammarAction;let o;this.TRACE_INIT(`${i} Rule`,()=>{o=this.topLevelRuleRecord(i,a)}),this.gastProductionsCache[i]=o})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=avt({rules:Gr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(ar(n)&&this.skipValidations===!1){const i=ovt({rules:Gr(this.gastProductionsCache),tokenTypes:Gr(this.tokensMap),errMsgProvider:Ll,grammarName:r}),s=Gbt({lookaheadStrategy:this.lookaheadStrategy,rules:Gr(this.gastProductionsCache),tokenTypes:Gr(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,s)}}),ar(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=Hxt(Gr(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:Gr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Gr(this.gastProductionsCache))})),!Lg.DEFER_DEFINITION_ERRORS_HANDLING&&!ar(this.definitionErrors))throw t=ie(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),ce(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=ce(r,"skipValidations")?r.skipValidations:Za.skipValidations}}Lg.DEFER_DEFINITION_ERRORS_HANDLING=!1;Mvt(Lg,[dvt,gvt,Cvt,Evt,Lvt,Avt,Rvt,Ivt,$vt,Dvt]);class Pvt extends Lg{constructor(t,r=Za){const n=bn(r);n.outputCst=!1,super(t,n)}}function jh(e,t,r){return`${e.name}_${t}_${r}`}const Fo=1,Bvt=2,jP=4,YP=5,Rg=7,Fvt=8,Vvt=9,zvt=10,Wvt=11,XP=12;class zS{constructor(t){this.target=t}isEpsilon(){return!1}}class WS extends zS{constructor(t,r){super(t),this.tokenType=r}}class KP extends zS{constructor(t){super(t)}isEpsilon(){return!0}}class US extends zS{constructor(t,r,n){super(t),this.rule=r,this.followState=n}isEpsilon(){return!0}}function Uvt(e){const t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};Hvt(t,e);const r=e.length;for(let n=0;n<r;n++){const i=e[n],s=Lc(t,i,i);s!==void 0&&e_t(t,i,s)}return t}function Hvt(e,t){const r=t.length;for(let n=0;n<r;n++){const i=t[n],s=sn(e,i,void 0,{type:Bvt}),a=sn(e,i,void 0,{type:Rg});s.stop=a,e.ruleToStartState.set(i,s),e.ruleToStopState.set(i,a)}}function QP(e,t,r){return r instanceof ur?HS(e,t,r.terminalType,r):r instanceof Jn?t_t(e,t,r):r instanceof mi?Xvt(e,t,r):r instanceof xn?Kvt(e,t,r):r instanceof yr?Gvt(e,t,r):r instanceof gi?qvt(e,t,r):r instanceof Ni?jvt(e,t,r):r instanceof $i?Yvt(e,t,r):Lc(e,t,r)}function Gvt(e,t,r){const n=sn(e,t,r,{type:YP});Zo(e,n);const i=gd(e,t,n,r,Lc(e,t,r));return JP(e,t,r,i)}function qvt(e,t,r){const n=sn(e,t,r,{type:YP});Zo(e,n);const i=gd(e,t,n,r,Lc(e,t,r)),s=HS(e,t,r.separator,r);return JP(e,t,r,i,s)}function jvt(e,t,r){const n=sn(e,t,r,{type:jP});Zo(e,n);const i=gd(e,t,n,r,Lc(e,t,r));return ZP(e,t,r,i)}function Yvt(e,t,r){const n=sn(e,t,r,{type:jP});Zo(e,n);const i=gd(e,t,n,r,Lc(e,t,r)),s=HS(e,t,r.separator,r);return ZP(e,t,r,i,s)}function Xvt(e,t,r){const n=sn(e,t,r,{type:Fo});Zo(e,n);const i=Je(r.definition,a=>QP(e,t,a));return gd(e,t,n,r,...i)}function Kvt(e,t,r){const n=sn(e,t,r,{type:Fo});Zo(e,n);const i=gd(e,t,n,r,Lc(e,t,r));return Qvt(e,t,r,i)}function Lc(e,t,r){const n=Xs(Je(r.definition,i=>QP(e,t,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:Jvt(e,n)}function ZP(e,t,r,n,i){const s=n.left,a=n.right,o=sn(e,t,r,{type:Wvt});Zo(e,o);const l=sn(e,t,r,{type:XP});return s.loopback=o,l.loopback=o,e.decisionMap[jh(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,$r(a,o),i===void 0?($r(o,s),$r(o,l)):($r(o,l),$r(o,i.left),$r(i.right,s)),{left:s,right:l}}function JP(e,t,r,n,i){const s=n.left,a=n.right,o=sn(e,t,r,{type:zvt});Zo(e,o);const l=sn(e,t,r,{type:XP}),u=sn(e,t,r,{type:Vvt});return o.loopback=u,l.loopback=u,$r(o,s),$r(o,l),$r(a,u),i!==void 0?($r(u,l),$r(u,i.left),$r(i.right,s)):$r(u,o),e.decisionMap[jh(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:l}}function Qvt(e,t,r,n){const i=n.left,s=n.right;return $r(i,s),e.decisionMap[jh(t,"Option",r.idx)]=i,n}function Zo(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function gd(e,t,r,n,...i){const s=sn(e,t,n,{type:Fvt,start:r});r.end=s;for(const o of i)o!==void 0?($r(r,o.left),$r(o.right,s)):$r(r,s);const a={left:r,right:s};return e.decisionMap[jh(t,Zvt(n),n.idx)]=r,a}function Zvt(e){if(e instanceof mi)return"Alternation";if(e instanceof xn)return"Option";if(e instanceof yr)return"Repetition";if(e instanceof gi)return"RepetitionWithSeparator";if(e instanceof Ni)return"RepetitionMandatory";if(e instanceof $i)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function Jvt(e,t){const r=t.length;for(let s=0;s<r-1;s++){const a=t[s];let o;a.left.transitions.length===1&&(o=a.left.transitions[0]);const l=o instanceof US,u=o,h=t[s+1].left;a.left.type===Fo&&a.right.type===Fo&&o!==void 0&&(l&&u.followState===a.right||o.target===a.right)?(l?u.followState=h:o.target=h,r_t(e,a.right)):$r(a.right,h)}const n=t[0],i=t[r-1];return{left:n.left,right:i.right}}function HS(e,t,r,n){const i=sn(e,t,n,{type:Fo}),s=sn(e,t,n,{type:Fo});return GS(i,new WS(s,r)),{left:i,right:s}}function t_t(e,t,r){const n=r.referencedRule,i=e.ruleToStartState.get(n),s=sn(e,t,r,{type:Fo}),a=sn(e,t,r,{type:Fo}),o=new US(i,n,a);return GS(s,o),{left:s,right:a}}function e_t(e,t,r){const n=e.ruleToStartState.get(t);$r(n,r.left);const i=e.ruleToStopState.get(t);return $r(r.right,i),{left:n,right:i}}function $r(e,t){const r=new KP(t);GS(e,r)}function sn(e,t,r,n){const i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function GS(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function r_t(e,t){e.states.splice(e.states.indexOf(t),1)}const Jm={};class dT{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(t){const r=tB(t);r in this.map||(this.map[r]=this.configs.length,this.configs.push(t))}get elements(){return this.configs}get alts(){return Je(this.configs,t=>t.alt)}get key(){let t="";for(const r in this.map)t+=r+":";return t}}function tB(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}function n_t(e,t){const r={};return n=>{const i=n.toString();let s=r[i];return s!==void 0||(s={atnStartState:e,decision:t,states:{}},r[i]=s),s}}class eB{constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,r){this.predicates[t]=r}toString(){let t="";const r=this.predicates.length;for(let n=0;n<r;n++)t+=this.predicates[n]===!0?"1":"0";return t}}const uA=new eB;class i_t extends VS{constructor(t){var r;super(),this.logging=(r=t==null?void 0:t.logging)!==null&&r!==void 0?r:n=>console.log(n)}initialize(t){this.atn=Uvt(t.rules),this.dfas=s_t(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(t){const{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:s}=t,a=this.dfas,o=this.logging,l=jh(n,"Alternation",r),h=this.atn.decisionMap[l].decision,d=Je(rA({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),f=>Je(f,p=>p[0]));if(hA(d,!1)&&!s){const f=ec(d,(p,m,y)=>(Et(m,b=>{b&&(p[b.tokenTypeIdx]=y,Et(b.categoryMatches,x=>{p[x]=y}))}),p),{});return i?function(p){var m;const y=this.LA(1),b=f[y.tokenTypeIdx];if(p!==void 0&&b!==void 0){const x=(m=p[b])===null||m===void 0?void 0:m.GATE;if(x!==void 0&&x.call(this)===!1)return}return b}:function(){const p=this.LA(1);return f[p.tokenTypeIdx]}}else return i?function(f){const p=new eB,m=f===void 0?0:f.length;for(let b=0;b<m;b++){const x=f==null?void 0:f[b].GATE;p.set(b,x===void 0||x.call(this))}const y=jb.call(this,a,h,p,o);return typeof y=="number"?y:void 0}:function(){const f=jb.call(this,a,h,uA,o);return typeof f=="number"?f:void 0}}buildLookaheadForOptional(t){const{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:s}=t,a=this.dfas,o=this.logging,l=jh(n,i,r),h=this.atn.decisionMap[l].decision,d=Je(rA({maxLookahead:1,occurrence:r,prodType:i,rule:n}),f=>Je(f,p=>p[0]));if(hA(d)&&d[0][0]&&!s){const f=d[0],p=_c(f);if(p.length===1&&Np(p[0].categoryMatches)){const y=p[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===y}}else{const m=ec(p,(y,b)=>(b!==void 0&&(y[b.tokenTypeIdx]=!0,Et(b.categoryMatches,x=>{y[x]=!0})),y),{});return function(){const y=this.LA(1);return m[y.tokenTypeIdx]===!0}}}return function(){const f=jb.call(this,a,h,uA,o);return typeof f=="object"?!1:f===0}}}function hA(e,t=!0){const r=new Set;for(const n of e){const i=new Set;for(const s of n){if(s===void 0){if(t)break;return!1}const a=[s.tokenTypeIdx].concat(s.categoryMatches);for(const o of a)if(r.has(o)){if(!i.has(o))return!1}else r.add(o),i.add(o)}}return!0}function s_t(e){const t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=n_t(e.decisionStates[n],n);return r}function jb(e,t,r,n){const i=e[t](r);let s=i.start;if(s===void 0){const o=m_t(i.atnStartState);s=nB(i,rB(o)),i.start=s}return a_t.apply(this,[i,s,r,n])}function a_t(e,t,r,n){let i=t,s=1;const a=[];let o=this.LA(s++);for(;;){let l=d_t(i,o);if(l===void 0&&(l=o_t.apply(this,[e,i,o,s,r,n])),l===Jm)return h_t(a,i,o);if(l.isAcceptState===!0)return l.prediction;i=l,a.push(o),o=this.LA(s++)}}function o_t(e,t,r,n,i,s){const a=f_t(t.configs,r,i);if(a.size===0)return dA(e,t,r,Jm),Jm;let o=rB(a);const l=g_t(a,i);if(l!==void 0)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if(v_t(a)){const u=zh(a.alts);o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u,l_t.apply(this,[e,n,a.alts,s])}return o=dA(e,t,r,o),o}function l_t(e,t,r,n){const i=[];for(let u=1;u<=t;u++)i.push(this.LA(u).tokenType);const s=e.atnStartState,a=s.rule,o=s.production,l=c_t({topLevelRule:a,ambiguityIndices:r,production:o,prefixPath:i});n(l)}function c_t(e){const t=Je(e.prefixPath,i=>vu(i)).join(", "),r=e.production.idx===0?"":e.production.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${u_t(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function u_t(e){if(e instanceof Jn)return"SUBRULE";if(e instanceof xn)return"OPTION";if(e instanceof mi)return"OR";if(e instanceof Ni)return"AT_LEAST_ONE";if(e instanceof $i)return"AT_LEAST_ONE_SEP";if(e instanceof gi)return"MANY_SEP";if(e instanceof yr)return"MANY";if(e instanceof ur)return"CONSUME";throw Error("non exhaustive match")}function h_t(e,t,r){const n=hht(t.configs.elements,s=>s.state.transitions),i=Dht(n.filter(s=>s instanceof WS).map(s=>s.tokenType),s=>s.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:e}}function d_t(e,t){return e.edges[t.tokenTypeIdx]}function f_t(e,t,r){const n=new dT,i=[];for(const a of e.elements){if(r.is(a.alt)===!1)continue;if(a.state.type===Rg){i.push(a);continue}const o=a.state.transitions.length;for(let l=0;l<o;l++){const u=a.state.transitions[l],h=p_t(u,t);h!==void 0&&n.add({state:h,alt:a.alt,stack:a.stack})}}let s;if(i.length===0&&n.size===1&&(s=n),s===void 0){s=new dT;for(const a of n.elements)ty(a,s)}if(i.length>0&&!x_t(s))for(const a of i)s.add(a);return s}function p_t(e,t){if(e instanceof WS&&AP(t,e.tokenType))return e.target}function g_t(e,t){let r;for(const n of e.elements)if(t.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function rB(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function dA(e,t,r,n){return n=nB(e,n),t.edges[r.tokenTypeIdx]=n,n}function nB(e,t){if(t===Jm)return t;const r=t.configs.key,n=e.states[r];return n!==void 0?n:(t.configs.finalize(),e.states[r]=t,t)}function m_t(e){const t=new dT,r=e.transitions.length;for(let n=0;n<r;n++){const s={state:e.transitions[n].target,alt:n,stack:[]};ty(s,t)}return t}function ty(e,t){const r=e.state;if(r.type===Rg){if(e.stack.length>0){const i=[...e.stack],a={state:i.pop(),alt:e.alt,stack:i};ty(a,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);const n=r.transitions.length;for(let i=0;i<n;i++){const s=r.transitions[i],a=y_t(e,s);a!==void 0&&ty(a,t)}}function y_t(e,t){if(t instanceof KP)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof US){const r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function x_t(e){for(const t of e.elements)if(t.state.type===Rg)return!0;return!1}function b_t(e){for(const t of e.elements)if(t.state.type!==Rg)return!1;return!0}function v_t(e){if(b_t(e))return!0;const t=__t(e.elements);return T_t(t)&&!k_t(t)}function __t(e){const t=new Map;for(const r of e){const n=tB(r,!1);let i=t.get(n);i===void 0&&(i={},t.set(n,i)),i[r.alt]=!0}return t}function T_t(e){for(const t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function k_t(e){for(const t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var fA;(function(e){function t(r){return typeof r=="string"}e.is=t})(fA||(fA={}));var fT;(function(e){function t(r){return typeof r=="string"}e.is=t})(fT||(fT={}));var pA;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(pA||(pA={}));var ey;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(ey||(ey={}));var qe;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=ey.MAX_VALUE),i===Number.MAX_VALUE&&(i=ey.MAX_VALUE),{line:n,character:i}}e.create=t;function r(n){let i=n;return yt.objectLiteral(i)&&yt.uinteger(i.line)&&yt.uinteger(i.character)}e.is=r})(qe||(qe={}));var Oe;(function(e){function t(n,i,s,a){if(yt.uinteger(n)&&yt.uinteger(i)&&yt.uinteger(s)&&yt.uinteger(a))return{start:qe.create(n,i),end:qe.create(s,a)};if(qe.is(n)&&qe.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}e.create=t;function r(n){let i=n;return yt.objectLiteral(i)&&qe.is(i.start)&&qe.is(i.end)}e.is=r})(Oe||(Oe={}));var ry;(function(e){function t(n,i){return{uri:n,range:i}}e.create=t;function r(n){let i=n;return yt.objectLiteral(i)&&Oe.is(i.range)&&(yt.string(i.uri)||yt.undefined(i.uri))}e.is=r})(ry||(ry={}));var gA;(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}e.create=t;function r(n){let i=n;return yt.objectLiteral(i)&&Oe.is(i.targetRange)&&yt.string(i.targetUri)&&Oe.is(i.targetSelectionRange)&&(Oe.is(i.originSelectionRange)||yt.undefined(i.originSelectionRange))}e.is=r})(gA||(gA={}));var pT;(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}e.create=t;function r(n){const i=n;return yt.objectLiteral(i)&&yt.numberRange(i.red,0,1)&&yt.numberRange(i.green,0,1)&&yt.numberRange(i.blue,0,1)&&yt.numberRange(i.alpha,0,1)}e.is=r})(pT||(pT={}));var mA;(function(e){function t(n,i){return{range:n,color:i}}e.create=t;function r(n){const i=n;return yt.objectLiteral(i)&&Oe.is(i.range)&&pT.is(i.color)}e.is=r})(mA||(mA={}));var yA;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}e.create=t;function r(n){const i=n;return yt.objectLiteral(i)&&yt.string(i.label)&&(yt.undefined(i.textEdit)||Xh.is(i))&&(yt.undefined(i.additionalTextEdits)||yt.typedArray(i.additionalTextEdits,Xh.is))}e.is=r})(yA||(yA={}));var xA;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(xA||(xA={}));var bA;(function(e){function t(n,i,s,a,o,l){const u={startLine:n,endLine:i};return yt.defined(s)&&(u.startCharacter=s),yt.defined(a)&&(u.endCharacter=a),yt.defined(o)&&(u.kind=o),yt.defined(l)&&(u.collapsedText=l),u}e.create=t;function r(n){const i=n;return yt.objectLiteral(i)&&yt.uinteger(i.startLine)&&yt.uinteger(i.startLine)&&(yt.undefined(i.startCharacter)||yt.uinteger(i.startCharacter))&&(yt.undefined(i.endCharacter)||yt.uinteger(i.endCharacter))&&(yt.undefined(i.kind)||yt.string(i.kind))}e.is=r})(bA||(bA={}));var gT;(function(e){function t(n,i){return{location:n,message:i}}e.create=t;function r(n){let i=n;return yt.defined(i)&&ry.is(i.location)&&yt.string(i.message)}e.is=r})(gT||(gT={}));var vA;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(vA||(vA={}));var _A;(function(e){e.Unnecessary=1,e.Deprecated=2})(_A||(_A={}));var TA;(function(e){function t(r){const n=r;return yt.objectLiteral(n)&&yt.string(n.href)}e.is=t})(TA||(TA={}));var ny;(function(e){function t(n,i,s,a,o,l){let u={range:n,message:i};return yt.defined(s)&&(u.severity=s),yt.defined(a)&&(u.code=a),yt.defined(o)&&(u.source=o),yt.defined(l)&&(u.relatedInformation=l),u}e.create=t;function r(n){var i;let s=n;return yt.defined(s)&&Oe.is(s.range)&&yt.string(s.message)&&(yt.number(s.severity)||yt.undefined(s.severity))&&(yt.integer(s.code)||yt.string(s.code)||yt.undefined(s.code))&&(yt.undefined(s.codeDescription)||yt.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(yt.string(s.source)||yt.undefined(s.source))&&(yt.undefined(s.relatedInformation)||yt.typedArray(s.relatedInformation,gT.is))}e.is=r})(ny||(ny={}));var Yh;(function(e){function t(n,i,...s){let a={title:n,command:i};return yt.defined(s)&&s.length>0&&(a.arguments=s),a}e.create=t;function r(n){let i=n;return yt.defined(i)&&yt.string(i.title)&&yt.string(i.command)}e.is=r})(Yh||(Yh={}));var Xh;(function(e){function t(s,a){return{range:s,newText:a}}e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}e.insert=r;function n(s){return{range:s,newText:""}}e.del=n;function i(s){const a=s;return yt.objectLiteral(a)&&yt.string(a.newText)&&Oe.is(a.range)}e.is=i})(Xh||(Xh={}));var mT;(function(e){function t(n,i,s){const a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}e.create=t;function r(n){const i=n;return yt.objectLiteral(i)&&yt.string(i.label)&&(yt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(yt.string(i.description)||i.description===void 0)}e.is=r})(mT||(mT={}));var Kh;(function(e){function t(r){const n=r;return yt.string(n)}e.is=t})(Kh||(Kh={}));var kA;(function(e){function t(s,a,o){return{range:s,newText:a,annotationId:o}}e.replace=t;function r(s,a,o){return{range:{start:s,end:s},newText:a,annotationId:o}}e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}e.del=n;function i(s){const a=s;return Xh.is(a)&&(mT.is(a.annotationId)||Kh.is(a.annotationId))}e.is=i})(kA||(kA={}));var yT;(function(e){function t(n,i){return{textDocument:n,edits:i}}e.create=t;function r(n){let i=n;return yt.defined(i)&&TT.is(i.textDocument)&&Array.isArray(i.edits)}e.is=r})(yT||(yT={}));var xT;(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&yt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||yt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||yt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Kh.is(i.annotationId))}e.is=r})(xT||(xT={}));var bT;(function(e){function t(n,i,s,a){let o={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(o.options=s),a!==void 0&&(o.annotationId=a),o}e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&yt.string(i.oldUri)&&yt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||yt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||yt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Kh.is(i.annotationId))}e.is=r})(bT||(bT={}));var vT;(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&yt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||yt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||yt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Kh.is(i.annotationId))}e.is=r})(vT||(vT={}));var _T;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>yt.string(i.kind)?xT.is(i)||bT.is(i)||vT.is(i):yT.is(i)))}e.is=t})(_T||(_T={}));var wA;(function(e){function t(n){return{uri:n}}e.create=t;function r(n){let i=n;return yt.defined(i)&&yt.string(i.uri)}e.is=r})(wA||(wA={}));var SA;(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){let i=n;return yt.defined(i)&&yt.string(i.uri)&&yt.integer(i.version)}e.is=r})(SA||(SA={}));var TT;(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){let i=n;return yt.defined(i)&&yt.string(i.uri)&&(i.version===null||yt.integer(i.version))}e.is=r})(TT||(TT={}));var CA;(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}e.create=t;function r(n){let i=n;return yt.defined(i)&&yt.string(i.uri)&&yt.string(i.languageId)&&yt.integer(i.version)&&yt.string(i.text)}e.is=r})(CA||(CA={}));var kT;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){const n=r;return n===e.PlainText||n===e.Markdown}e.is=t})(kT||(kT={}));var Wp;(function(e){function t(r){const n=r;return yt.objectLiteral(r)&&kT.is(n.kind)&&yt.string(n.value)}e.is=t})(Wp||(Wp={}));var EA;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(EA||(EA={}));var AA;(function(e){e.PlainText=1,e.Snippet=2})(AA||(AA={}));var LA;(function(e){e.Deprecated=1})(LA||(LA={}));var RA;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}e.create=t;function r(n){const i=n;return i&&yt.string(i.newText)&&Oe.is(i.insert)&&Oe.is(i.replace)}e.is=r})(RA||(RA={}));var IA;(function(e){e.asIs=1,e.adjustIndentation=2})(IA||(IA={}));var NA;(function(e){function t(r){const n=r;return n&&(yt.string(n.detail)||n.detail===void 0)&&(yt.string(n.description)||n.description===void 0)}e.is=t})(NA||(NA={}));var $A;(function(e){function t(r){return{label:r}}e.create=t})($A||($A={}));var OA;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}e.create=t})(OA||(OA={}));var iy;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(n){const i=n;return yt.string(i)||yt.objectLiteral(i)&&yt.string(i.language)&&yt.string(i.value)}e.is=r})(iy||(iy={}));var DA;(function(e){function t(r){let n=r;return!!n&&yt.objectLiteral(n)&&(Wp.is(n.contents)||iy.is(n.contents)||yt.typedArray(n.contents,iy.is))&&(r.range===void 0||Oe.is(r.range))}e.is=t})(DA||(DA={}));var MA;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}e.create=t})(MA||(MA={}));var PA;(function(e){function t(r,n,...i){let s={label:r};return yt.defined(n)&&(s.documentation=n),yt.defined(i)?s.parameters=i:s.parameters=[],s}e.create=t})(PA||(PA={}));var BA;(function(e){e.Text=1,e.Read=2,e.Write=3})(BA||(BA={}));var FA;(function(e){function t(r,n){let i={range:r};return yt.number(n)&&(i.kind=n),i}e.create=t})(FA||(FA={}));var VA;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(VA||(VA={}));var zA;(function(e){e.Deprecated=1})(zA||(zA={}));var WA;(function(e){function t(r,n,i,s,a){let o={name:r,kind:n,location:{uri:s,range:i}};return a&&(o.containerName=a),o}e.create=t})(WA||(WA={}));var UA;(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}e.create=t})(UA||(UA={}));var HA;(function(e){function t(n,i,s,a,o,l){let u={name:n,detail:i,kind:s,range:a,selectionRange:o};return l!==void 0&&(u.children=l),u}e.create=t;function r(n){let i=n;return i&&yt.string(i.name)&&yt.number(i.kind)&&Oe.is(i.range)&&Oe.is(i.selectionRange)&&(i.detail===void 0||yt.string(i.detail))&&(i.deprecated===void 0||yt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=r})(HA||(HA={}));var GA;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(GA||(GA={}));var sy;(function(e){e.Invoked=1,e.Automatic=2})(sy||(sy={}));var qA;(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}e.create=t;function r(n){let i=n;return yt.defined(i)&&yt.typedArray(i.diagnostics,ny.is)&&(i.only===void 0||yt.typedArray(i.only,yt.string))&&(i.triggerKind===void 0||i.triggerKind===sy.Invoked||i.triggerKind===sy.Automatic)}e.is=r})(qA||(qA={}));var jA;(function(e){function t(n,i,s){let a={title:n},o=!0;return typeof i=="string"?(o=!1,a.kind=i):Yh.is(i)?a.command=i:a.edit=i,o&&s!==void 0&&(a.kind=s),a}e.create=t;function r(n){let i=n;return i&&yt.string(i.title)&&(i.diagnostics===void 0||yt.typedArray(i.diagnostics,ny.is))&&(i.kind===void 0||yt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Yh.is(i.command))&&(i.isPreferred===void 0||yt.boolean(i.isPreferred))&&(i.edit===void 0||_T.is(i.edit))}e.is=r})(jA||(jA={}));var YA;(function(e){function t(n,i){let s={range:n};return yt.defined(i)&&(s.data=i),s}e.create=t;function r(n){let i=n;return yt.defined(i)&&Oe.is(i.range)&&(yt.undefined(i.command)||Yh.is(i.command))}e.is=r})(YA||(YA={}));var XA;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}e.create=t;function r(n){let i=n;return yt.defined(i)&&yt.uinteger(i.tabSize)&&yt.boolean(i.insertSpaces)}e.is=r})(XA||(XA={}));var KA;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}e.create=t;function r(n){let i=n;return yt.defined(i)&&Oe.is(i.range)&&(yt.undefined(i.target)||yt.string(i.target))}e.is=r})(KA||(KA={}));var QA;(function(e){function t(n,i){return{range:n,parent:i}}e.create=t;function r(n){let i=n;return yt.objectLiteral(i)&&Oe.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=r})(QA||(QA={}));var ZA;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(ZA||(ZA={}));var JA;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(JA||(JA={}));var t6;(function(e){function t(r){const n=r;return yt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(t6||(t6={}));var e6;(function(e){function t(n,i){return{range:n,text:i}}e.create=t;function r(n){const i=n;return i!=null&&Oe.is(i.range)&&yt.string(i.text)}e.is=r})(e6||(e6={}));var r6;(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}e.create=t;function r(n){const i=n;return i!=null&&Oe.is(i.range)&&yt.boolean(i.caseSensitiveLookup)&&(yt.string(i.variableName)||i.variableName===void 0)}e.is=r})(r6||(r6={}));var n6;(function(e){function t(n,i){return{range:n,expression:i}}e.create=t;function r(n){const i=n;return i!=null&&Oe.is(i.range)&&(yt.string(i.expression)||i.expression===void 0)}e.is=r})(n6||(n6={}));var i6;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}e.create=t;function r(n){const i=n;return yt.defined(i)&&Oe.is(n.stoppedLocation)}e.is=r})(i6||(i6={}));var wT;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}e.is=t})(wT||(wT={}));var ST;(function(e){function t(n){return{value:n}}e.create=t;function r(n){const i=n;return yt.objectLiteral(i)&&(i.tooltip===void 0||yt.string(i.tooltip)||Wp.is(i.tooltip))&&(i.location===void 0||ry.is(i.location))&&(i.command===void 0||Yh.is(i.command))}e.is=r})(ST||(ST={}));var s6;(function(e){function t(n,i,s){const a={position:n,label:i};return s!==void 0&&(a.kind=s),a}e.create=t;function r(n){const i=n;return yt.objectLiteral(i)&&qe.is(i.position)&&(yt.string(i.label)||yt.typedArray(i.label,ST.is))&&(i.kind===void 0||wT.is(i.kind))&&i.textEdits===void 0||yt.typedArray(i.textEdits,Xh.is)&&(i.tooltip===void 0||yt.string(i.tooltip)||Wp.is(i.tooltip))&&(i.paddingLeft===void 0||yt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||yt.boolean(i.paddingRight))}e.is=r})(s6||(s6={}));var a6;(function(e){function t(r){return{kind:"snippet",value:r}}e.createSnippet=t})(a6||(a6={}));var o6;(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}e.create=t})(o6||(o6={}));var l6;(function(e){function t(r){return{items:r}}e.create=t})(l6||(l6={}));var c6;(function(e){e.Invoked=0,e.Automatic=1})(c6||(c6={}));var u6;(function(e){function t(r,n){return{range:r,text:n}}e.create=t})(u6||(u6={}));var h6;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}e.create=t})(h6||(h6={}));var d6;(function(e){function t(r){const n=r;return yt.objectLiteral(n)&&fT.is(n.uri)&&yt.string(n.name)}e.is=t})(d6||(d6={}));var f6;(function(e){function t(s,a,o,l){return new w_t(s,a,o,l)}e.create=t;function r(s){let a=s;return!!(yt.defined(a)&&yt.string(a.uri)&&(yt.undefined(a.languageId)||yt.string(a.languageId))&&yt.uinteger(a.lineCount)&&yt.func(a.getText)&&yt.func(a.positionAt)&&yt.func(a.offsetAt))}e.is=r;function n(s,a){let o=s.getText(),l=i(a,(h,d)=>{let f=h.range.start.line-d.range.start.line;return f===0?h.range.start.character-d.range.start.character:f}),u=o.length;for(let h=l.length-1;h>=0;h--){let d=l[h],f=s.offsetAt(d.range.start),p=s.offsetAt(d.range.end);if(p<=u)o=o.substring(0,f)+d.newText+o.substring(p,o.length);else throw new Error("Overlapping edit");u=f}return o}e.applyEdits=n;function i(s,a){if(s.length<=1)return s;const o=s.length/2|0,l=s.slice(0,o),u=s.slice(o);i(l,a),i(u,a);let h=0,d=0,f=0;for(;h<l.length&&d<u.length;)a(l[h],u[d])<=0?s[f++]=l[h++]:s[f++]=u[d++];for(;h<l.length;)s[f++]=l[h++];for(;d<u.length;)s[f++]=u[d++];return s}})(f6||(f6={}));let w_t=class{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return qe.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return qe.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};var yt;(function(e){const t=Object.prototype.toString;function r(p){return typeof p<"u"}e.defined=r;function n(p){return typeof p>"u"}e.undefined=n;function i(p){return p===!0||p===!1}e.boolean=i;function s(p){return t.call(p)==="[object String]"}e.string=s;function a(p){return t.call(p)==="[object Number]"}e.number=a;function o(p,m,y){return t.call(p)==="[object Number]"&&m<=p&&p<=y}e.numberRange=o;function l(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}e.integer=l;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}e.uinteger=u;function h(p){return t.call(p)==="[object Function]"}e.func=h;function d(p){return p!==null&&typeof p=="object"}e.objectLiteral=d;function f(p,m){return Array.isArray(p)&&p.every(m)}e.typedArray=f})(yt||(yt={}));class S_t{constructor(){this.nodeStack=[]}get current(){var t;return(t=this.nodeStack[this.nodeStack.length-1])!==null&&t!==void 0?t:this.rootNode}buildRootNode(t){return this.rootNode=new sB(t),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(t){const r=new qS;return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(t,r){const n=new CT(t.startOffset,t.image.length,X_(t),t.tokenType,!r);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(t){const r=t.container;if(r){const n=r.content.indexOf(t);n>=0&&r.content.splice(n,1)}}addHiddenNodes(t){const r=[];for(const s of t){const a=new CT(s.startOffset,s.image.length,X_(s),s.tokenType,!0);a.root=this.rootNode,r.push(a)}let n=this.current,i=!1;if(n.content.length>0){n.content.push(...r);return}for(;n.container;){const s=n.container.content.indexOf(n);if(s>0){n.container.content.splice(s,0,...r),i=!0;break}n=n.container}i||this.rootNode.content.unshift(...r)}construct(t){const r=this.current;typeof t.$type=="string"&&(this.current.astNode=t),t.$cstNode=r;const n=this.nodeStack.pop();(n==null?void 0:n.content.length)===0&&this.removeNode(n)}}class iB{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var t,r;const n=typeof((t=this._astNode)===null||t===void 0?void 0:t.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!n)throw new Error("This node has no associated AST element");return n}set astNode(t){this._astNode=t}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class CT extends iB{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(t,r,n,i,s=!1){super(),this._hidden=s,this._offset=t,this._tokenType=i,this._length=r,this._range=n}}class qS extends iB{constructor(){super(...arguments),this.content=new jS(this)}get children(){return this.content}get offset(){var t,r;return(r=(t=this.firstNonHiddenNode)===null||t===void 0?void 0:t.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var t,r;return(r=(t=this.lastNonHiddenNode)===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:0}get range(){const t=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(t&&r){if(this._rangeCache===void 0){const{range:n}=t,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}else return{start:qe.create(0,0),end:qe.create(0,0)}}get firstNonHiddenNode(){for(const t of this.content)if(!t.hidden)return t;return this.content[0]}get lastNonHiddenNode(){for(let t=this.content.length-1;t>=0;t--){const r=this.content[t];if(!r.hidden)return r}return this.content[this.content.length-1]}}class jS extends Array{constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,jS.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...n){return this.addParents(n),super.splice(t,r,...n)}addParents(t){for(const r of t)r.container=this.parent}}class sB extends qS{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(t){super(),this._text="",this._text=t??""}}const ET=Symbol("Datatype");function Yb(e){return e.$type===ET}const p6="",aB=e=>e.endsWith(p6)?e:e+p6;class oB{constructor(t){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=t.parser.Lexer;const r=this.lexer.definition,n=t.LanguageMetaData.mode==="production";this.wrapper=new R_t(r,Object.assign(Object.assign({},t.parser.ParserConfig),{skipValidations:n,errorMessageProvider:t.parser.ParserErrorMessageProvider}))}alternatives(t,r){this.wrapper.wrapOr(t,r)}optional(t,r){this.wrapper.wrapOption(t,r)}many(t,r){this.wrapper.wrapMany(t,r)}atLeastOne(t,r){this.wrapper.wrapAtLeastOne(t,r)}getRule(t){return this.allRules.get(t)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class C_t extends oB{get current(){return this.stack[this.stack.length-1]}constructor(t){super(t),this.nodeBuilder=new S_t,this.stack=[],this.assignmentMap=new Map,this.linker=t.references.Linker,this.converter=t.parser.ValueConverter,this.astReflection=t.shared.AstReflection}rule(t,r){const n=this.computeRuleType(t),i=this.wrapper.DEFINE_RULE(aB(t.name),this.startImplementation(n,r).bind(this));return this.allRules.set(t.name,i),t.entry&&(this.mainRule=i),i}computeRuleType(t){if(!t.fragment){if(MM(t))return ET;{const r=pS(t);return r??t.name}}}parse(t,r={}){this.nodeBuilder.buildRootNode(t);const n=this.lexerResult=this.lexer.tokenize(t);this.wrapper.input=n.tokens;const i=r.rule?this.allRules.get(r.rule):this.mainRule;if(!i)throw new Error(r.rule?`No rule found with name '${r.rule}'`:"No main rule available.");const s=i.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(n.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:s,lexerErrors:n.errors,lexerReport:n.report,parserErrors:this.wrapper.errors}}startImplementation(t,r){return n=>{const i=!this.isRecording()&&t!==void 0;if(i){const a={$type:t};this.stack.push(a),t===ET&&(a.value="")}let s;try{s=r(n)}catch{s=void 0}return s===void 0&&i&&(s=this.construct()),s}}extractHiddenTokens(t){const r=this.lexerResult.hidden;if(!r.length)return[];const n=t.startOffset;for(let i=0;i<r.length;i++)if(r[i].startOffset>n)return r.splice(0,i);return r.splice(0,r.length)}consume(t,r,n){const i=this.wrapper.wrapConsume(t,r);if(!this.isRecording()&&this.isValidToken(i)){const s=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(s);const a=this.nodeBuilder.buildLeafNode(i,n),{assignment:o,isCrossRef:l}=this.getAssignment(n),u=this.current;if(o){const h=nc(n)?i.image:this.converter.convert(i.image,a);this.assign(o.operator,o.feature,h,a,l)}else if(Yb(u)){let h=i.image;nc(n)||(h=this.converter.convert(h,a).toString()),u.value+=h}}}isValidToken(t){return!t.isInsertedInRecovery&&!isNaN(t.startOffset)&&typeof t.endOffset=="number"&&!isNaN(t.endOffset)}subrule(t,r,n,i,s){let a;!this.isRecording()&&!n&&(a=this.nodeBuilder.buildCompositeNode(i));const o=this.wrapper.wrapSubrule(t,r,s);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(o,i,a)}performSubruleAssignment(t,r,n){const{assignment:i,isCrossRef:s}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,t,n,s);else if(!i){const a=this.current;if(Yb(a))a.value+=t.toString();else if(typeof t=="object"&&t){const l=this.assignWithoutOverride(t,a);this.stack.pop(),this.stack.push(l)}}}action(t,r){if(!this.isRecording()){let n=this.current;if(r.feature&&r.operator){n=this.construct(),this.nodeBuilder.removeNode(n.$cstNode),this.nodeBuilder.buildCompositeNode(r).content.push(n.$cstNode);const s={$type:t};this.stack.push(s),this.assign(r.operator,r.feature,n,n.$cstNode,!1)}else n.$type=t}}construct(){if(this.isRecording())return;const t=this.current;return Agt(t),this.nodeBuilder.construct(t),this.stack.pop(),Yb(t)?this.converter.convert(t.value,t.$cstNode):(Lgt(this.astReflection,t),t)}getAssignment(t){if(!this.assignmentMap.has(t)){const r=P2(t,rc);this.assignmentMap.set(t,{assignment:r,isCrossRef:r?uS(r.terminal):!1})}return this.assignmentMap.get(t)}assign(t,r,n,i,s){const a=this.current;let o;switch(s&&typeof n=="string"?o=this.linker.buildReference(a,r,i,n):o=n,t){case"=":{a[r]=o;break}case"?=":{a[r]=!0;break}case"+=":Array.isArray(a[r])||(a[r]=[]),a[r].push(o)}}assignWithoutOverride(t,r){for(const[i,s]of Object.entries(r)){const a=t[i];a===void 0?t[i]=s:Array.isArray(a)&&Array.isArray(s)&&(s.push(...a),t[i]=s)}const n=t.$cstNode;return n&&(n.astNode=void 0,t.$cstNode=void 0),t}get definitionErrors(){return this.wrapper.definitionErrors}}class E_t{buildMismatchTokenMessage(t){return ru.buildMismatchTokenMessage(t)}buildNotAllInputParsedMessage(t){return ru.buildNotAllInputParsedMessage(t)}buildNoViableAltMessage(t){return ru.buildNoViableAltMessage(t)}buildEarlyExitMessage(t){return ru.buildEarlyExitMessage(t)}}class lB extends E_t{buildMismatchTokenMessage({expected:t,actual:r}){return`Expecting ${t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?`keyword '${t.name.substring(0,t.name.length-3)}'`:`token of type '${t.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:t}){return`Expecting end of file but found \`${t.image}\`.`}}class A_t extends oB{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(t){this.resetState();const r=this.lexer.tokenize(t,{mode:"partial"});return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(t,r){const n=this.wrapper.DEFINE_RULE(aB(t.name),this.startImplementation(r).bind(this));return this.allRules.set(t.name,n),t.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(t){return r=>{const n=this.keepStackSize();try{t(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const t=this.elementStack.length;return this.stackSize=t,t}resetStackSize(t){this.removeUnexpectedElements(),this.stackSize=t}consume(t,r,n){this.wrapper.wrapConsume(t,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(t,r,n,i,s){this.before(i),this.wrapper.wrapSubrule(t,r,s),this.after(i)}before(t){this.isRecording()||this.elementStack.push(t)}after(t){if(!this.isRecording()){const r=this.elementStack.lastIndexOf(t);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}}const L_t={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new lB};class R_t extends Pvt{constructor(t,r){const n=r&&"maxLookahead"in r;super(t,Object.assign(Object.assign(Object.assign({},L_t),{lookaheadStrategy:n?new VS({maxLookahead:r.maxLookahead}):new i_t({logging:r.skipValidations?()=>{}:void 0})}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(t,r){return this.RULE(t,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(t,r){return this.consume(t,r)}wrapSubrule(t,r,n){return this.subrule(t,r,{ARGS:[n]})}wrapOr(t,r){this.or(t,r)}wrapOption(t,r){this.option(t,r)}wrapMany(t,r){this.many(t,r)}wrapAtLeastOne(t,r){this.atLeastOne(t,r)}}function cB(e,t,r){return I_t({parser:t,tokens:r,ruleNames:new Map},e),t}function I_t(e,t){const r=IM(t,!1),n=gn(t.rules).filter(rs).filter(i=>r.has(i));for(const i of n){const s=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(i,oc(s,i.definition))}}function oc(e,t,r=!1){let n;if(nc(t))n=B_t(e,t);else if(M2(t))n=N_t(e,t);else if(rc(t))n=oc(e,t.terminal);else if(uS(t))n=uB(e,t);else if(ic(t))n=$_t(e,t);else if(SM(t))n=D_t(e,t);else if(CM(t))n=M_t(e,t);else if(hS(t))n=P_t(e,t);else if(vgt(t)){const i=e.consume++;n=()=>e.parser.consume(i,Bo,t)}else throw new _M(t.$cstNode,`Unexpected element type: ${t.$type}`);return hB(e,r?void 0:ay(t),n,t.cardinality)}function N_t(e,t){const r=gS(t);return()=>e.parser.action(r,t)}function $_t(e,t){const r=t.rule.ref;if(rs(r)){const n=e.subrule++,i=r.fragment,s=t.arguments.length>0?O_t(r,t.arguments):()=>({});return a=>e.parser.subrule(n,dB(e,r),i,t,s(a))}else if(Sc(r)){const n=e.consume++,i=AT(e,r.name);return()=>e.parser.consume(n,i,t)}else if(r)bg();else throw new _M(t.$cstNode,`Undefined rule: ${t.rule.$refText}`)}function O_t(e,t){const r=t.map(n=>Ia(n.value));return n=>{const i={};for(let s=0;s<r.length;s++){const a=e.parameters[s],o=r[s];i[a.name]=o(n)}return i}}function Ia(e){if(pgt(e)){const t=Ia(e.left),r=Ia(e.right);return n=>t(n)||r(n)}else if(fgt(e)){const t=Ia(e.left),r=Ia(e.right);return n=>t(n)&&r(n)}else if(ggt(e)){const t=Ia(e.value);return r=>!t(r)}else if(mgt(e)){const t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(dgt(e)){const t=!!e.true;return()=>t}bg()}function D_t(e,t){if(t.elements.length===1)return oc(e,t.elements[0]);{const r=[];for(const i of t.elements){const s={ALT:oc(e,i,!0)},a=ay(i);a&&(s.GATE=Ia(a)),r.push(s)}const n=e.or++;return i=>e.parser.alternatives(n,r.map(s=>{const a={ALT:()=>s.ALT(i)},o=s.GATE;return o&&(a.GATE=()=>o(i)),a}))}}function M_t(e,t){if(t.elements.length===1)return oc(e,t.elements[0]);const r=[];for(const o of t.elements){const l={ALT:oc(e,o,!0)},u=ay(o);u&&(l.GATE=Ia(u)),r.push(l)}const n=e.or++,i=(o,l)=>{const u=l.getRuleStack().join("-");return`uGroup_${o}_${u}`},s=o=>e.parser.alternatives(n,r.map((l,u)=>{const h={ALT:()=>!0},d=e.parser;h.ALT=()=>{if(l.ALT(o),!d.isRecording()){const p=i(n,d);d.unorderedGroups.get(p)||d.unorderedGroups.set(p,[]);const m=d.unorderedGroups.get(p);typeof(m==null?void 0:m[u])>"u"&&(m[u]=!0)}};const f=l.GATE;return f?h.GATE=()=>f(o):h.GATE=()=>{const p=d.unorderedGroups.get(i(n,d));return!(p!=null&&p[u])},h})),a=hB(e,ay(t),s,"*");return o=>{a(o),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(n,e.parser))}}function P_t(e,t){const r=t.elements.map(n=>oc(e,n));return n=>r.forEach(i=>i(n))}function ay(e){if(hS(e))return e.guardCondition}function uB(e,t,r=t.terminal){if(r)if(ic(r)&&rs(r.rule.ref)){const n=r.rule.ref,i=e.subrule++;return s=>e.parser.subrule(i,dB(e,n),!1,t,s)}else if(ic(r)&&Sc(r.rule.ref)){const n=e.consume++,i=AT(e,r.rule.ref.name);return()=>e.parser.consume(n,i,t)}else if(nc(r)){const n=e.consume++,i=AT(e,r.value);return()=>e.parser.consume(n,i,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);const n=OM(t.type.ref),i=n==null?void 0:n.terminal;if(!i)throw new Error("Could not find name assignment for type: "+gS(t.type.ref));return uB(e,t,i)}}function B_t(e,t){const r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function hB(e,t,r,n){const i=t&&Ia(t);if(!n)if(i){const s=e.or++;return a=>e.parser.alternatives(s,[{ALT:()=>r(a),GATE:()=>i(a)},{ALT:cA(),GATE:()=>!i(a)}])}else return r;if(n==="*"){const s=e.many++;return a=>e.parser.many(s,{DEF:()=>r(a),GATE:i?()=>i(a):void 0})}else if(n==="+"){const s=e.many++;if(i){const a=e.or++;return o=>e.parser.alternatives(a,[{ALT:()=>e.parser.atLeastOne(s,{DEF:()=>r(o)}),GATE:()=>i(o)},{ALT:cA(),GATE:()=>!i(o)}])}else return a=>e.parser.atLeastOne(s,{DEF:()=>r(a)})}else if(n==="?"){const s=e.optional++;return a=>e.parser.optional(s,{DEF:()=>r(a),GATE:i?()=>i(a):void 0})}else bg()}function dB(e,t){const r=F_t(e,t),n=e.parser.getRule(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function F_t(e,t){if(rs(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!rs(n);)(hS(n)||SM(n)||CM(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}}function AT(e,t){const r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}function V_t(e){const t=e.Grammar,r=e.parser.Lexer,n=new A_t(e);return cB(t,n,r.definition),n.finalize(),n}function z_t(e){const t=W_t(e);return t.finalize(),t}function W_t(e){const t=e.Grammar,r=e.parser.Lexer,n=new C_t(e);return cB(t,n,r.definition)}class fB{constructor(){this.diagnostics=[]}buildTokens(t,r){const n=gn(IM(t,!1)),i=this.buildTerminalTokens(n),s=this.buildKeywordTokens(n,i,r);return i.forEach(a=>{const o=a.PATTERN;typeof o=="object"&&o&&"test"in o&&Q_(o)?s.unshift(a):s.push(a)}),s}flushLexingReport(t){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const t=[...this.diagnostics];return this.diagnostics=[],t}buildTerminalTokens(t){return t.filter(Sc).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(t){const r=mS(t),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:t.name,PATTERN:n};return typeof n=="function"&&(i.LINE_BREAKS=!0),t.hidden&&(i.GROUP=Q_(r)?ui.SKIPPED:"hidden"),i}requiresCustomPattern(t){return t.flags.includes("u")||t.flags.includes("s")?!0:!!(t.source.includes("?<=")||t.source.includes("?<!"))}regexPatternFunction(t){const r=new RegExp(t,t.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(t,r,n){return t.filter(rs).flatMap(i=>vg(i).filter(nc)).distinct(i=>i.value).toArray().sort((i,s)=>s.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(t,r,n){const i=this.buildKeywordPattern(t,n),s={name:t.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(t,r)};return typeof i=="function"&&(s.LINE_BREAKS=!0),s}buildKeywordPattern(t,r){return r?new RegExp(Bgt(t.value)):t.value}findLongerAlt(t,r){return r.reduce((n,i)=>{const s=i==null?void 0:i.PATTERN;return s!=null&&s.source&&Fgt("^"+s.source+"$",t.value)&&n.push(i),n},[])}}class pB{convert(t,r){let n=r.grammarSource;if(uS(n)&&(n=Ugt(n)),ic(n)){const i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,t,r)}return t}runConverter(t,r,n){var i;switch(t.name.toUpperCase()){case"INT":return wa.convertInt(r);case"STRING":return wa.convertString(r);case"ID":return wa.convertID(r)}switch((i=Kgt(t))===null||i===void 0?void 0:i.toLowerCase()){case"number":return wa.convertNumber(r);case"boolean":return wa.convertBoolean(r);case"bigint":return wa.convertBigint(r);case"date":return wa.convertDate(r);default:return r}}}var wa;(function(e){function t(u){let h="";for(let d=1;d<u.length-1;d++){const f=u.charAt(d);if(f==="\\"){const p=u.charAt(++d);h+=r(p)}else h+=f}return h}e.convertString=t;function r(u){switch(u){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return u}}function n(u){return u.charAt(0)==="^"?u.substring(1):u}e.convertID=n;function i(u){return parseInt(u)}e.convertInt=i;function s(u){return BigInt(u)}e.convertBigint=s;function a(u){return new Date(u)}e.convertDate=a;function o(u){return Number(u)}e.convertNumber=o;function l(u){return u.toLowerCase()==="true"}e.convertBoolean=l})(wa||(wa={}));var Up={},sx={};Object.defineProperty(sx,"__esModule",{value:!0});let LT;function RT(){if(LT===void 0)throw new Error("No runtime abstraction layer installed");return LT}(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");LT=r}e.install=t})(RT||(RT={}));sx.default=RT;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.stringArray=Ln.array=Ln.func=Ln.error=Ln.number=Ln.string=Ln.boolean=void 0;function U_t(e){return e===!0||e===!1}Ln.boolean=U_t;function gB(e){return typeof e=="string"||e instanceof String}Ln.string=gB;function H_t(e){return typeof e=="number"||e instanceof Number}Ln.number=H_t;function G_t(e){return e instanceof Error}Ln.error=G_t;function q_t(e){return typeof e=="function"}Ln.func=q_t;function mB(e){return Array.isArray(e)}Ln.array=mB;function j_t(e){return mB(e)&&e.every(t=>gB(t))}Ln.stringArray=j_t;var Qh={};Object.defineProperty(Qh,"__esModule",{value:!0});var yB=Qh.Emitter=Qh.Event=void 0;const Y_t=sx;var g6;(function(e){const t={dispose(){}};e.None=function(){return t}})(g6||(Qh.Event=g6={}));class X_t{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];const r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(o){(0,Y_t.default)().console.error(o)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class ax{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new X_t),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=ax._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}yB=Qh.Emitter=ax;ax._noop=function(){};var mr;Object.defineProperty(Up,"__esModule",{value:!0});var YS=Up.CancellationTokenSource=mr=Up.CancellationToken=void 0;const K_t=sx,Q_t=Ln,IT=Qh;var oy;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:IT.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:IT.Event.None});function t(r){const n=r;return n&&(n===e.None||n===e.Cancelled||Q_t.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(oy||(mr=Up.CancellationToken=oy={}));const Z_t=Object.freeze(function(e,t){const r=(0,K_t.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}});class m6{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Z_t:(this._emitter||(this._emitter=new IT.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class J_t{get token(){return this._token||(this._token=new m6),this._token}cancel(){this._token?this._token.cancel():this._token=oy.Cancelled}dispose(){this._token?this._token instanceof m6&&this._token.dispose():this._token=oy.None}}YS=Up.CancellationTokenSource=J_t;function tTt(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}let y0=0,eTt=10;function rTt(){return y0=performance.now(),new YS}const ly=Symbol("OperationCancelled");function ox(e){return e===ly}async function ki(e){if(e===mr.None)return;const t=performance.now();if(t-y0>=eTt&&(y0=t,await tTt(),y0=performance.now()),e.isCancellationRequested)throw ly}class XS{constructor(){this.promise=new Promise((t,r)=>{this.resolve=n=>(t(n),this),this.reject=n=>(r(n),this)})}}class Hp{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(const n of t)if(Hp.isIncremental(n)){const i=bB(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);const o=Math.max(i.start.line,0),l=Math.max(i.end.line,0);let u=this._lineOffsets;const h=y6(n.text,!1,s);if(l-o===h.length)for(let f=0,p=h.length;f<p;f++)u[f+o+1]=h[f];else h.length<1e4?u.splice(o+1,l-o,...h):this._lineOffsets=u=u.slice(0,o+1).concat(h,u.slice(l+1));const d=n.text.length-(a-s);if(d!==0)for(let f=o+1+h.length,p=u.length;f<p;f++)u[f]=u[f]+d}else if(Hp.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=y6(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);const r=this.getLineOffsets();let n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){const a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}const s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){const r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;const n=r[t.line];if(t.character<=0)return n;const i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&xB(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){const r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){const r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}}var NT;(function(e){function t(i,s,a,o){return new Hp(i,s,a,o)}e.create=t;function r(i,s,a){if(i instanceof Hp)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=r;function n(i,s){const a=i.getText(),o=$T(s.map(nTt),(h,d)=>{const f=h.range.start.line-d.range.start.line;return f===0?h.range.start.character-d.range.start.character:f});let l=0;const u=[];for(const h of o){const d=i.offsetAt(h.range.start);if(d<l)throw new Error("Overlapping edit");d>l&&u.push(a.substring(l,d)),h.newText.length&&u.push(h.newText),l=i.offsetAt(h.range.end)}return u.push(a.substr(l)),u.join("")}e.applyEdits=n})(NT||(NT={}));function $T(e,t){if(e.length<=1)return e;const r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);$T(n,t),$T(i,t);let s=0,a=0,o=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[o++]=n[s++]:e[o++]=i[a++];for(;s<n.length;)e[o++]=n[s++];for(;a<i.length;)e[o++]=i[a++];return e}function y6(e,t,r=0){const n=t?[r]:[];for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);xB(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function xB(e){return e===13||e===10}function bB(e){const t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function nTt(e){const t=bB(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var vB;(()=>{var e={470:i=>{function s(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function a(l,u){for(var h,d="",f=0,p=-1,m=0,y=0;y<=l.length;++y){if(y<l.length)h=l.charCodeAt(y);else{if(h===47)break;h=47}if(h===47){if(!(p===y-1||m===1))if(p!==y-1&&m===2){if(d.length<2||f!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var b=d.lastIndexOf("/");if(b!==d.length-1){b===-1?(d="",f=0):f=(d=d.slice(0,b)).length-1-d.lastIndexOf("/"),p=y,m=0;continue}}else if(d.length===2||d.length===1){d="",f=0,p=y,m=0;continue}}u&&(d.length>0?d+="/..":d="..",f=2)}else d.length>0?d+="/"+l.slice(p+1,y):d=l.slice(p+1,y),f=y-p-1;p=y,m=0}else h===46&&m!==-1?++m:m=-1}return d}var o={resolve:function(){for(var l,u="",h=!1,d=arguments.length-1;d>=-1&&!h;d--){var f;d>=0?f=arguments[d]:(l===void 0&&(l=process.cwd()),f=l),s(f),f.length!==0&&(u=f+"/"+u,h=f.charCodeAt(0)===47)}return u=a(u,!h),h?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(l){if(s(l),l.length===0)return".";var u=l.charCodeAt(0)===47,h=l.charCodeAt(l.length-1)===47;return(l=a(l,!u)).length!==0||u||(l="."),l.length>0&&h&&(l+="/"),u?"/"+l:l},isAbsolute:function(l){return s(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,u=0;u<arguments.length;++u){var h=arguments[u];s(h),h.length>0&&(l===void 0?l=h:l+="/"+h)}return l===void 0?".":o.normalize(l)},relative:function(l,u){if(s(l),s(u),l===u||(l=o.resolve(l))===(u=o.resolve(u)))return"";for(var h=1;h<l.length&&l.charCodeAt(h)===47;++h);for(var d=l.length,f=d-h,p=1;p<u.length&&u.charCodeAt(p)===47;++p);for(var m=u.length-p,y=f<m?f:m,b=-1,x=0;x<=y;++x){if(x===y){if(m>y){if(u.charCodeAt(p+x)===47)return u.slice(p+x+1);if(x===0)return u.slice(p+x)}else f>y&&(l.charCodeAt(h+x)===47?b=x:x===0&&(b=0));break}var v=l.charCodeAt(h+x);if(v!==u.charCodeAt(p+x))break;v===47&&(b=x)}var _="";for(x=h+b+1;x<=d;++x)x!==d&&l.charCodeAt(x)!==47||(_.length===0?_+="..":_+="/..");return _.length>0?_+u.slice(p+b):(p+=b,u.charCodeAt(p)===47&&++p,u.slice(p))},_makeLong:function(l){return l},dirname:function(l){if(s(l),l.length===0)return".";for(var u=l.charCodeAt(0),h=u===47,d=-1,f=!0,p=l.length-1;p>=1;--p)if((u=l.charCodeAt(p))===47){if(!f){d=p;break}}else f=!1;return d===-1?h?"/":".":h&&d===1?"//":l.slice(0,d)},basename:function(l,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');s(l);var h,d=0,f=-1,p=!0;if(u!==void 0&&u.length>0&&u.length<=l.length){if(u.length===l.length&&u===l)return"";var m=u.length-1,y=-1;for(h=l.length-1;h>=0;--h){var b=l.charCodeAt(h);if(b===47){if(!p){d=h+1;break}}else y===-1&&(p=!1,y=h+1),m>=0&&(b===u.charCodeAt(m)?--m==-1&&(f=h):(m=-1,f=y))}return d===f?f=y:f===-1&&(f=l.length),l.slice(d,f)}for(h=l.length-1;h>=0;--h)if(l.charCodeAt(h)===47){if(!p){d=h+1;break}}else f===-1&&(p=!1,f=h+1);return f===-1?"":l.slice(d,f)},extname:function(l){s(l);for(var u=-1,h=0,d=-1,f=!0,p=0,m=l.length-1;m>=0;--m){var y=l.charCodeAt(m);if(y!==47)d===-1&&(f=!1,d=m+1),y===46?u===-1?u=m:p!==1&&(p=1):u!==-1&&(p=-1);else if(!f){h=m+1;break}}return u===-1||d===-1||p===0||p===1&&u===d-1&&u===h+1?"":l.slice(u,d)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return function(u,h){var d=h.dir||h.root,f=h.base||(h.name||"")+(h.ext||"");return d?d===h.root?d+f:d+"/"+f:f}(0,l)},parse:function(l){s(l);var u={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return u;var h,d=l.charCodeAt(0),f=d===47;f?(u.root="/",h=1):h=0;for(var p=-1,m=0,y=-1,b=!0,x=l.length-1,v=0;x>=h;--x)if((d=l.charCodeAt(x))!==47)y===-1&&(b=!1,y=x+1),d===46?p===-1?p=x:v!==1&&(v=1):p!==-1&&(v=-1);else if(!b){m=x+1;break}return p===-1||y===-1||v===0||v===1&&p===y-1&&p===m+1?y!==-1&&(u.base=u.name=m===0&&f?l.slice(1,y):l.slice(m,y)):(m===0&&f?(u.name=l.slice(1,p),u.base=l.slice(1,y)):(u.name=l.slice(m,p),u.base=l.slice(m,y)),u.ext=l.slice(p,y)),m>0?u.dir=l.slice(0,m-1):f&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},t={};function r(i){var s=t[i];if(s!==void 0)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,r),a.exports}r.d=(i,s)=>{for(var a in s)r.o(s,a)&&!r.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})},r.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>f,Utils:()=>R}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const s=/^\w[\w\d+.-]*$/,a=/^\//,o=/^\/\//;function l(w,$){if(!w.scheme&&$)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${w.authority}", path: "${w.path}", query: "${w.query}", fragment: "${w.fragment}"}`);if(w.scheme&&!s.test(w.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(w.path){if(w.authority){if(!a.test(w.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(w.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const u="",h="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{constructor($,A,L,N,D,P=!1){Le(this,"scheme");Le(this,"authority");Le(this,"path");Le(this,"query");Le(this,"fragment");typeof $=="object"?(this.scheme=$.scheme||u,this.authority=$.authority||u,this.path=$.path||u,this.query=$.query||u,this.fragment=$.fragment||u):(this.scheme=function(O,M){return O||M?O:"file"}($,P),this.authority=A||u,this.path=function(O,M){switch(O){case"https":case"http":case"file":M?M[0]!==h&&(M=h+M):M=h}return M}(this.scheme,L||u),this.query=N||u,this.fragment=D||u,l(this,P))}static isUri($){return $ instanceof f||!!$&&typeof $.authority=="string"&&typeof $.fragment=="string"&&typeof $.path=="string"&&typeof $.query=="string"&&typeof $.scheme=="string"&&typeof $.fsPath=="string"&&typeof $.with=="function"&&typeof $.toString=="function"}get fsPath(){return v(this)}with($){if(!$)return this;let{scheme:A,authority:L,path:N,query:D,fragment:P}=$;return A===void 0?A=this.scheme:A===null&&(A=u),L===void 0?L=this.authority:L===null&&(L=u),N===void 0?N=this.path:N===null&&(N=u),D===void 0?D=this.query:D===null&&(D=u),P===void 0?P=this.fragment:P===null&&(P=u),A===this.scheme&&L===this.authority&&N===this.path&&D===this.query&&P===this.fragment?this:new m(A,L,N,D,P)}static parse($,A=!1){const L=d.exec($);return L?new m(L[2]||u,T(L[4]||u),T(L[5]||u),T(L[7]||u),T(L[9]||u),A):new m(u,u,u,u,u)}static file($){let A=u;if(i&&($=$.replace(/\\/g,h)),$[0]===h&&$[1]===h){const L=$.indexOf(h,2);L===-1?(A=$.substring(2),$=h):(A=$.substring(2,L),$=$.substring(L)||h)}return new m("file",A,$,u,u)}static from($){const A=new m($.scheme,$.authority,$.path,$.query,$.fragment);return l(A,!0),A}toString($=!1){return _(this,$)}toJSON(){return this}static revive($){if($){if($ instanceof f)return $;{const A=new m($);return A._formatted=$.external,A._fsPath=$._sep===p?$.fsPath:null,A}}return $}}const p=i?1:void 0;class m extends f{constructor(){super(...arguments);Le(this,"_formatted",null);Le(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=v(this)),this._fsPath}toString(A=!1){return A?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){const A={$mid:1};return this._fsPath&&(A.fsPath=this._fsPath,A._sep=p),this._formatted&&(A.external=this._formatted),this.path&&(A.path=this.path),this.scheme&&(A.scheme=this.scheme),this.authority&&(A.authority=this.authority),this.query&&(A.query=this.query),this.fragment&&(A.fragment=this.fragment),A}}const y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b(w,$,A){let L,N=-1;for(let D=0;D<w.length;D++){const P=w.charCodeAt(D);if(P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===45||P===46||P===95||P===126||$&&P===47||A&&P===91||A&&P===93||A&&P===58)N!==-1&&(L+=encodeURIComponent(w.substring(N,D)),N=-1),L!==void 0&&(L+=w.charAt(D));else{L===void 0&&(L=w.substr(0,D));const O=y[P];O!==void 0?(N!==-1&&(L+=encodeURIComponent(w.substring(N,D)),N=-1),L+=O):N===-1&&(N=D)}}return N!==-1&&(L+=encodeURIComponent(w.substring(N))),L!==void 0?L:w}function x(w){let $;for(let A=0;A<w.length;A++){const L=w.charCodeAt(A);L===35||L===63?($===void 0&&($=w.substr(0,A)),$+=y[L]):$!==void 0&&($+=w[A])}return $!==void 0?$:w}function v(w,$){let A;return A=w.authority&&w.path.length>1&&w.scheme==="file"?`//${w.authority}${w.path}`:w.path.charCodeAt(0)===47&&(w.path.charCodeAt(1)>=65&&w.path.charCodeAt(1)<=90||w.path.charCodeAt(1)>=97&&w.path.charCodeAt(1)<=122)&&w.path.charCodeAt(2)===58?w.path[1].toLowerCase()+w.path.substr(2):w.path,i&&(A=A.replace(/\//g,"\\")),A}function _(w,$){const A=$?x:b;let L="",{scheme:N,authority:D,path:P,query:O,fragment:M}=w;if(N&&(L+=N,L+=":"),(D||N==="file")&&(L+=h,L+=h),D){let Y=D.indexOf("@");if(Y!==-1){const F=D.substr(0,Y);D=D.substr(Y+1),Y=F.lastIndexOf(":"),Y===-1?L+=A(F,!1,!1):(L+=A(F.substr(0,Y),!1,!1),L+=":",L+=A(F.substr(Y+1),!1,!0)),L+="@"}D=D.toLowerCase(),Y=D.lastIndexOf(":"),Y===-1?L+=A(D,!1,!0):(L+=A(D.substr(0,Y),!1,!0),L+=D.substr(Y))}if(P){if(P.length>=3&&P.charCodeAt(0)===47&&P.charCodeAt(2)===58){const Y=P.charCodeAt(1);Y>=65&&Y<=90&&(P=`/${String.fromCharCode(Y+32)}:${P.substr(3)}`)}else if(P.length>=2&&P.charCodeAt(1)===58){const Y=P.charCodeAt(0);Y>=65&&Y<=90&&(P=`${String.fromCharCode(Y+32)}:${P.substr(2)}`)}L+=A(P,!0,!1)}return O&&(L+="?",L+=A(O,!1,!1)),M&&(L+="#",L+=$?M:b(M,!1,!1)),L}function S(w){try{return decodeURIComponent(w)}catch{return w.length>3?w.substr(0,3)+S(w.substr(3)):w}}const k=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function T(w){return w.match(k)?w.replace(k,$=>S($)):w}var E=r(470);const I=E.posix||E,C="/";var R;(function(w){w.joinPath=function($,...A){return $.with({path:I.join($.path,...A)})},w.resolvePath=function($,...A){let L=$.path,N=!1;L[0]!==C&&(L=C+L,N=!0);let D=I.resolve(L,...A);return N&&D[0]===C&&!$.authority&&(D=D.substring(1)),$.with({path:D})},w.dirname=function($){if($.path.length===0||$.path===C)return $;let A=I.dirname($.path);return A.length===1&&A.charCodeAt(0)===46&&(A=""),$.with({path:A})},w.basename=function($){return I.basename($.path)},w.extname=function($){return I.extname($.path)}})(R||(R={}))})(),vB=n})();const{URI:lc,Utils:Fd}=vB;var Vo;(function(e){e.basename=Fd.basename,e.dirname=Fd.dirname,e.extname=Fd.extname,e.joinPath=Fd.joinPath,e.resolvePath=Fd.resolvePath;function t(i,s){return(i==null?void 0:i.toString())===(s==null?void 0:s.toString())}e.equals=t;function r(i,s){const a=typeof i=="string"?i:i.path,o=typeof s=="string"?s:s.path,l=a.split("/").filter(p=>p.length>0),u=o.split("/").filter(p=>p.length>0);let h=0;for(;h<l.length&&l[h]===u[h];h++);const d="../".repeat(l.length-h),f=u.slice(h).join("/");return d+f}e.relative=r;function n(i){return lc.parse(i.toString()).toString()}e.normalize=n})(Vo||(Vo={}));var dr;(function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"})(dr||(dr={}));class iTt{constructor(t){this.serviceRegistry=t.ServiceRegistry,this.textDocuments=t.workspace.TextDocuments,this.fileSystemProvider=t.workspace.FileSystemProvider}async fromUri(t,r=mr.None){const n=await this.fileSystemProvider.readFile(t);return this.createAsync(t,n,r)}fromTextDocument(t,r,n){return r=r??lc.parse(t.uri),mr.is(n)?this.createAsync(r,t,n):this.create(r,t,n)}fromString(t,r,n){return mr.is(n)?this.createAsync(r,t,n):this.create(r,t,n)}fromModel(t,r){return this.create(r,{$model:t})}create(t,r,n){if(typeof r=="string"){const i=this.parse(t,r,n);return this.createLangiumDocument(i,t,void 0,r)}else if("$model"in r){const i={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(i,t)}else{const i=this.parse(t,r.getText(),n);return this.createLangiumDocument(i,t,r)}}async createAsync(t,r,n){if(typeof r=="string"){const i=await this.parseAsync(t,r,n);return this.createLangiumDocument(i,t,void 0,r)}else{const i=await this.parseAsync(t,r.getText(),n);return this.createLangiumDocument(i,t,r)}}createLangiumDocument(t,r,n,i){let s;if(n)s={parseResult:t,uri:r,state:dr.Parsed,references:[],textDocument:n};else{const a=this.createTextDocumentGetter(r,i);s={parseResult:t,uri:r,state:dr.Parsed,references:[],get textDocument(){return a()}}}return t.value.$document=s,s}async update(t,r){var n,i;const s=(n=t.parseResult.value.$cstNode)===null||n===void 0?void 0:n.root.fullText,a=(i=this.textDocuments)===null||i===void 0?void 0:i.get(t.uri.toString()),o=a?a.getText():await this.fileSystemProvider.readFile(t.uri);if(a)Object.defineProperty(t,"textDocument",{value:a});else{const l=this.createTextDocumentGetter(t.uri,o);Object.defineProperty(t,"textDocument",{get:l})}return s!==o&&(t.parseResult=await this.parseAsync(t.uri,o,r),t.parseResult.value.$document=t),t.state=dr.Parsed,t}parse(t,r,n){return this.serviceRegistry.getServices(t).parser.LangiumParser.parse(r,n)}parseAsync(t,r,n){return this.serviceRegistry.getServices(t).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(t,r){const n=this.serviceRegistry;let i;return()=>i??(i=NT.create(t.toString(),n.getServices(t).LanguageMetaData.languageId,0,r??""))}}class sTt{constructor(t){this.documentMap=new Map,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.serviceRegistry=t.ServiceRegistry}get all(){return gn(this.documentMap.values())}addDocument(t){const r=t.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,t)}getDocument(t){const r=t.toString();return this.documentMap.get(r)}async getOrCreateDocument(t,r){let n=this.getDocument(t);return n||(n=await this.langiumDocumentFactory.fromUri(t,r),this.addDocument(n),n)}createDocument(t,r,n){if(n)return this.langiumDocumentFactory.fromString(r,t,n).then(i=>(this.addDocument(i),i));{const i=this.langiumDocumentFactory.fromString(r,t);return this.addDocument(i),i}}hasDocument(t){return this.documentMap.has(t.toString())}invalidateDocument(t){const r=t.toString(),n=this.documentMap.get(r);return n&&(this.serviceRegistry.getServices(t).references.Linker.unlink(n),n.state=dr.Changed,n.precomputedScopes=void 0,n.diagnostics=void 0),n}deleteDocument(t){const r=t.toString(),n=this.documentMap.get(r);return n&&(n.state=dr.Changed,this.documentMap.delete(r)),n}}const Xb=Symbol("ref_resolving");class aTt{constructor(t){this.reflection=t.shared.AstReflection,this.langiumDocuments=()=>t.shared.workspace.LangiumDocuments,this.scopeProvider=t.references.ScopeProvider,this.astNodeLocator=t.workspace.AstNodeLocator}async link(t,r=mr.None){for(const n of xu(t.parseResult.value))await ki(r),AM(n).forEach(i=>this.doLink(i,t))}doLink(t,r){var n;const i=t.reference;if(i._ref===void 0){i._ref=Xb;try{const s=this.getCandidate(t);if(c0(s))i._ref=s;else if(i._nodeDescription=s,this.langiumDocuments().hasDocument(s.documentUri)){const a=this.loadAstNode(s);i._ref=a??this.createLinkingError(t,s)}else i._ref=void 0}catch(s){console.error(`An error occurred while resolving reference to '${i.$refText}':`,s);const a=(n=s.message)!==null&&n!==void 0?n:String(s);i._ref=Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${i.$refText}': ${a}`})}r.references.push(i)}}unlink(t){for(const r of t.references)delete r._ref,delete r._nodeDescription;t.references=[]}getCandidate(t){const n=this.scopeProvider.getScope(t).getElement(t.reference.$refText);return n??this.createLinkingError(t)}buildReference(t,r,n,i){const s=this,a={$refNode:n,$refText:i,get ref(){var o;if(On(this._ref))return this._ref;if(rgt(this._nodeDescription)){const l=s.loadAstNode(this._nodeDescription);this._ref=l??s.createLinkingError({reference:a,container:t,property:r},this._nodeDescription)}else if(this._ref===void 0){this._ref=Xb;const l=K_(t).$document,u=s.getLinkedNode({reference:a,container:t,property:r});if(u.error&&l&&l.state<dr.ComputedScopes)return this._ref=void 0;this._ref=(o=u.node)!==null&&o!==void 0?o:u.error,this._nodeDescription=u.descr,l==null||l.references.push(this)}else if(this._ref===Xb)throw new Error(`Cyclic reference resolution detected: ${s.astNodeLocator.getAstNodePath(t)}/${r} (symbol '${i}')`);return On(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return c0(this._ref)?this._ref:void 0}};return a}getLinkedNode(t){var r;try{const n=this.getCandidate(t);if(c0(n))return{error:n};const i=this.loadAstNode(n);return i?{node:i,descr:n}:{descr:n,error:this.createLinkingError(t,n)}}catch(n){console.error(`An error occurred while resolving reference to '${t.reference.$refText}':`,n);const i=(r=n.message)!==null&&r!==void 0?r:String(n);return{error:Object.assign(Object.assign({},t),{message:`An error occurred while resolving reference to '${t.reference.$refText}': ${i}`})}}}loadAstNode(t){if(t.node)return t.node;const r=this.langiumDocuments().getDocument(t.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,t.path)}createLinkingError(t,r){const n=K_(t.container).$document;n&&n.state<dr.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);const i=this.reflection.getReferenceType(t);return Object.assign(Object.assign({},t),{message:`Could not resolve reference to ${i} named '${t.reference.$refText}'.`,targetDescription:r})}}function oTt(e){return typeof e.name=="string"}class lTt{getName(t){if(oTt(t))return t.name}getNameNode(t){return $M(t.$cstNode,"name")}}class cTt{constructor(t){this.nameProvider=t.references.NameProvider,this.index=t.shared.workspace.IndexManager,this.nodeLocator=t.workspace.AstNodeLocator}findDeclaration(t){if(t){const r=Ygt(t),n=t.astNode;if(r&&n){const i=n[r.feature];if(Qs(i))return i.ref;if(Array.isArray(i)){for(const s of i)if(Qs(s)&&s.$refNode&&s.$refNode.offset<=t.offset&&s.$refNode.end>=t.end)return s.ref}}if(n){const i=this.nameProvider.getNameNode(n);if(i&&(i===t||sgt(t,i)))return n}}}findDeclarationNode(t){const r=this.findDeclaration(t);if(r!=null&&r.$cstNode){const n=this.nameProvider.getNameNode(r);return n??r.$cstNode}}findReferences(t,r){const n=[];if(r.includeDeclaration){const s=this.getReferenceToSelf(t);s&&n.push(s)}let i=this.index.findAllReferences(t,this.nodeLocator.getAstNodePath(t));return r.documentUri&&(i=i.filter(s=>Vo.equals(s.sourceUri,r.documentUri))),n.push(...i),gn(n)}getReferenceToSelf(t){const r=this.nameProvider.getNameNode(t);if(r){const n=Do(t),i=this.nodeLocator.getAstNodePath(t);return{sourceUri:n.uri,sourcePath:i,targetUri:n.uri,targetPath:i,segment:zm(r),local:!0}}}}class cy{constructor(t){if(this.map=new Map,t)for(const[r,n]of t)this.add(r,n)}get size(){return j_.sum(gn(this.map.values()).map(t=>t.length))}clear(){this.map.clear()}delete(t,r){if(r===void 0)return this.map.delete(t);{const n=this.map.get(t);if(n){const i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(t):n.splice(i,1),!0}return!1}}get(t){var r;return(r=this.map.get(t))!==null&&r!==void 0?r:[]}has(t,r){if(r===void 0)return this.map.has(t);{const n=this.map.get(t);return n?n.indexOf(r)>=0:!1}}add(t,r){return this.map.has(t)?this.map.get(t).push(r):this.map.set(t,[r]),this}addAll(t,r){return this.map.has(t)?this.map.get(t).push(...r):this.map.set(t,Array.from(r)),this}forEach(t){this.map.forEach((r,n)=>r.forEach(i=>t(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return gn(this.map.entries()).flatMap(([t,r])=>r.map(n=>[t,n]))}keys(){return gn(this.map.keys())}values(){return gn(this.map.values()).flat()}entriesGroupedByKey(){return gn(this.map.entries())}}class x6{get size(){return this.map.size}constructor(t){if(this.map=new Map,this.inverse=new Map,t)for(const[r,n]of t)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(t,r){return this.map.set(t,r),this.inverse.set(r,t),this}get(t){return this.map.get(t)}getKey(t){return this.inverse.get(t)}delete(t){const r=this.map.get(t);return r!==void 0?(this.map.delete(t),this.inverse.delete(r),!0):!1}}class uTt{constructor(t){this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider}async computeExports(t,r=mr.None){return this.computeExportsForNode(t.parseResult.value,t,void 0,r)}async computeExportsForNode(t,r,n=dS,i=mr.None){const s=[];this.exportNode(t,s,r);for(const a of n(t))await ki(i),this.exportNode(a,s,r);return s}exportNode(t,r,n){const i=this.nameProvider.getName(t);i&&r.push(this.descriptions.createDescription(t,i,n))}async computeLocalScopes(t,r=mr.None){const n=t.parseResult.value,i=new cy;for(const s of vg(n))await ki(r),this.processNode(s,t,i);return i}processNode(t,r,n){const i=t.$container;if(i){const s=this.nameProvider.getName(t);s&&n.add(i,this.descriptions.createDescription(t,s,r))}}}class b6{constructor(t,r,n){var i;this.elements=t,this.outerScope=r,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(t){const r=this.caseInsensitive?this.elements.find(n=>n.name.toLowerCase()===t.toLowerCase()):this.elements.find(n=>n.name===t);if(r)return r;if(this.outerScope)return this.outerScope.getElement(t)}}class hTt{constructor(t,r,n){var i;this.elements=new Map,this.caseInsensitive=(i=n==null?void 0:n.caseInsensitive)!==null&&i!==void 0?i:!1;for(const s of t){const a=this.caseInsensitive?s.name.toLowerCase():s.name;this.elements.set(a,s)}this.outerScope=r}getElement(t){const r=this.caseInsensitive?t.toLowerCase():t,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(t)}getAllElements(){let t=gn(this.elements.values());return this.outerScope&&(t=t.concat(this.outerScope.getAllElements())),t}}class _B{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(t){this.toDispose.push(t)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(t=>t.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class dTt extends _B{constructor(){super(...arguments),this.cache=new Map}has(t){return this.throwIfDisposed(),this.cache.has(t)}set(t,r){this.throwIfDisposed(),this.cache.set(t,r)}get(t,r){if(this.throwIfDisposed(),this.cache.has(t))return this.cache.get(t);if(r){const n=r();return this.cache.set(t,n),n}else return}delete(t){return this.throwIfDisposed(),this.cache.delete(t)}clear(){this.throwIfDisposed(),this.cache.clear()}}class fTt extends _B{constructor(t){super(),this.cache=new Map,this.converter=t??(r=>r)}has(t,r){return this.throwIfDisposed(),this.cacheForContext(t).has(r)}set(t,r,n){this.throwIfDisposed(),this.cacheForContext(t).set(r,n)}get(t,r,n){this.throwIfDisposed();const i=this.cacheForContext(t);if(i.has(r))return i.get(r);if(n){const s=n();return i.set(r,s),s}else return}delete(t,r){return this.throwIfDisposed(),this.cacheForContext(t).delete(r)}clear(t){if(this.throwIfDisposed(),t){const r=this.converter(t);this.cache.delete(r)}else this.cache.clear()}cacheForContext(t){const r=this.converter(t);let n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}}class pTt extends dTt{constructor(t,r){super(),r?(this.toDispose.push(t.workspace.DocumentBuilder.onBuildPhase(r,()=>{this.clear()})),this.toDispose.push(t.workspace.DocumentBuilder.onUpdate((n,i)=>{i.length>0&&this.clear()}))):this.toDispose.push(t.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class gTt{constructor(t){this.reflection=t.shared.AstReflection,this.nameProvider=t.references.NameProvider,this.descriptions=t.workspace.AstNodeDescriptionProvider,this.indexManager=t.shared.workspace.IndexManager,this.globalScopeCache=new pTt(t.shared)}getScope(t){const r=[],n=this.reflection.getReferenceType(t),i=Do(t.container).precomputedScopes;if(i){let a=t.container;do{const o=i.get(a);o.length>0&&r.push(gn(o).filter(l=>this.reflection.isSubtype(l.type,n))),a=a.$container}while(a)}let s=this.getGlobalScope(n,t);for(let a=r.length-1;a>=0;a--)s=this.createScope(r[a],s);return s}createScope(t,r,n){return new b6(gn(t),r,n)}createScopeForNodes(t,r,n){const i=gn(t).map(s=>{const a=this.nameProvider.getName(s);if(a)return this.descriptions.createDescription(s,a)}).nonNullable();return new b6(i,r,n)}getGlobalScope(t,r){return this.globalScopeCache.get(t,()=>new hTt(this.indexManager.allElements(t)))}}function mTt(e){return typeof e.$comment=="string"}function v6(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}class yTt{constructor(t){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=t.shared.workspace.LangiumDocuments,this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider,this.commentProvider=t.documentation.CommentProvider}serialize(t,r){const n=r??{},i=r==null?void 0:r.replacer,s=(o,l)=>this.replacer(o,l,n),a=i?(o,l)=>i(o,l,s):s;try{return this.currentDocument=Do(t),JSON.stringify(t,a,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(t,r){const n=r??{},i=JSON.parse(t);return this.linkNode(i,i,n),i}replacer(t,r,{refText:n,sourceText:i,textRegions:s,comments:a,uriConverter:o}){var l,u,h,d;if(!this.ignoreProperties.has(t))if(Qs(r)){const f=r.ref,p=n?r.$refText:void 0;if(f){const m=Do(f);let y="";this.currentDocument&&this.currentDocument!==m&&(o?y=o(m.uri,r):y=m.uri.toString());const b=this.astNodeLocator.getAstNodePath(f);return{$ref:`${y}#${b}`,$refText:p}}else return{$error:(u=(l=r.error)===null||l===void 0?void 0:l.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:p}}else if(On(r)){let f;if(s&&(f=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!t||r.$document)&&(f!=null&&f.$textRegion)&&(f.$textRegion.documentURI=(h=this.currentDocument)===null||h===void 0?void 0:h.uri.toString())),i&&!t&&(f??(f=Object.assign({},r)),f.$sourceText=(d=r.$cstNode)===null||d===void 0?void 0:d.text),a){f??(f=Object.assign({},r));const p=this.commentProvider.getComment(r);p&&(f.$comment=p.replace(/\r/g,""))}return f??r}else return r}addAstNodeRegionWithAssignmentsTo(t){const r=n=>({offset:n.offset,end:n.end,length:n.length,range:n.range});if(t.$cstNode){const n=t.$textRegion=r(t.$cstNode),i=n.assignments={};return Object.keys(t).filter(s=>!s.startsWith("$")).forEach(s=>{const a=Ggt(t.$cstNode,s).map(r);a.length!==0&&(i[s]=a)}),t}}linkNode(t,r,n,i,s,a){for(const[l,u]of Object.entries(t))if(Array.isArray(u))for(let h=0;h<u.length;h++){const d=u[h];v6(d)?u[h]=this.reviveReference(t,l,r,d,n):On(d)&&this.linkNode(d,r,n,t,l,h)}else v6(u)?t[l]=this.reviveReference(t,l,r,u,n):On(u)&&this.linkNode(u,r,n,t,l);const o=t;o.$container=i,o.$containerProperty=s,o.$containerIndex=a}reviveReference(t,r,n,i,s){let a=i.$refText,o=i.$error;if(i.$ref){const l=this.getRefNode(n,i.$ref,s.uriConverter);if(On(l))return a||(a=this.nameProvider.getName(l)),{$refText:a??"",ref:l};o=l}if(o){const l={$refText:a??""};return l.error={container:t,property:r,message:o,reference:l},l}else return}getRefNode(t,r,n){try{const i=r.indexOf("#");if(i===0){const l=this.astNodeLocator.getAstNode(t,r.substring(1));return l||"Could not resolve path: "+r}if(i<0){const l=n?n(r):lc.parse(r),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+r}const s=n?n(r.substring(0,i)):lc.parse(r.substring(0,i)),a=this.langiumDocuments.getDocument(s);if(!a)return"Could not find document for URI: "+r;if(i===r.length-1)return a.parseResult.value;const o=this.astNodeLocator.getAstNode(a.parseResult.value,r.substring(i+1));return o||"Could not resolve URI: "+r}catch(i){return String(i)}}}class xTt{get map(){return this.fileExtensionMap}constructor(t){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=t==null?void 0:t.workspace.TextDocuments}register(t){const r=t.LanguageMetaData;for(const n of r.fileExtensions)this.fileExtensionMap.has(n)&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${r.languageId}'.`),this.fileExtensionMap.set(n,t);this.languageIdMap.set(r.languageId,t),this.languageIdMap.size===1?this.singleton=t:this.singleton=void 0}getServices(t){var r,n;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const i=(n=(r=this.textDocuments)===null||r===void 0?void 0:r.get(t))===null||n===void 0?void 0:n.languageId;if(i!==void 0){const o=this.languageIdMap.get(i);if(o)return o}const s=Vo.extname(t),a=this.fileExtensionMap.get(s);if(!a)throw i?new Error(`The service registry contains no services for the extension '${s}' for language '${i}'.`):new Error(`The service registry contains no services for the extension '${s}'.`);return a}hasServices(t){try{return this.getServices(t),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function Rf(e){return{code:e}}var uy;(function(e){e.all=["fast","slow","built-in"]})(uy||(uy={}));class bTt{constructor(t){this.entries=new cy,this.entriesBefore=[],this.entriesAfter=[],this.reflection=t.shared.AstReflection}register(t,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,s]of Object.entries(t)){const a=s;if(Array.isArray(a))for(const o of a){const l={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,l)}else if(typeof a=="function"){const o={check:this.wrapValidationException(a,r),category:n};this.addEntry(i,o)}else bg()}}wrapValidationException(t,r){return async(n,i,s)=>{await this.handleException(()=>t.call(r,n,i,s),"An error occurred during validation",i,n)}}async handleException(t,r,n,i){try{await t()}catch(s){if(ox(s))throw s;console.error(`${r}:`,s),s instanceof Error&&s.stack&&console.error(s.stack);const a=s instanceof Error?s.message:String(s);n("error",`${r}: ${a}`,{node:i})}}addEntry(t,r){if(t==="AstNode"){this.entries.add("AstNode",r);return}for(const n of this.reflection.getAllSubTypes(t))this.entries.add(n,r)}getChecks(t,r){let n=gn(this.entries.get(t)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}registerBeforeDocument(t,r=this){this.entriesBefore.push(this.wrapPreparationException(t,"An error occurred during set-up of the validation",r))}registerAfterDocument(t,r=this){this.entriesAfter.push(this.wrapPreparationException(t,"An error occurred during tear-down of the validation",r))}wrapPreparationException(t,r,n){return async(i,s,a,o)=>{await this.handleException(()=>t.call(n,i,s,a,o),r,s,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class vTt{constructor(t){this.validationRegistry=t.validation.ValidationRegistry,this.metadata=t.LanguageMetaData}async validateDocument(t,r={},n=mr.None){const i=t.parseResult,s=[];if(await ki(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,s,r),r.stopAfterLexingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===ys.LexingError})||(this.processParsingErrors(i,s,r),r.stopAfterParsingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===ys.ParsingError}))||(this.processLinkingErrors(t,s,r),r.stopAfterLinkingErrors&&s.some(a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===ys.LinkingError}))))return s;try{s.push(...await this.validateAst(i.value,r,n))}catch(a){if(ox(a))throw a;console.error("An error occurred during validation:",a)}return await ki(n),s}processLexingErrors(t,r,n){var i,s,a;const o=[...t.lexerErrors,...(s=(i=t.lexerReport)===null||i===void 0?void 0:i.diagnostics)!==null&&s!==void 0?s:[]];for(const l of o){const u=(a=l.severity)!==null&&a!==void 0?a:"error",h={severity:Kb(u),range:{start:{line:l.line-1,character:l.column-1},end:{line:l.line-1,character:l.column+l.length-1}},message:l.message,data:TTt(u),source:this.getSource()};r.push(h)}}processParsingErrors(t,r,n){for(const i of t.parserErrors){let s;if(isNaN(i.token.startOffset)){if("previousToken"in i){const a=i.previousToken;if(isNaN(a.startOffset)){const o={line:0,character:0};s={start:o,end:o}}else{const o={line:a.endLine-1,character:a.endColumn};s={start:o,end:o}}}}else s=X_(i.token);if(s){const a={severity:Kb("error"),range:s,message:i.message,data:Rf(ys.ParsingError),source:this.getSource()};r.push(a)}}}processLinkingErrors(t,r,n){for(const i of t.references){const s=i.error;if(s){const a={node:s.container,property:s.property,index:s.index,data:{code:ys.LinkingError,containerType:s.container.$type,property:s.property,refText:s.reference.$refText}};r.push(this.toDiagnostic("error",s.message,a))}}}async validateAst(t,r,n=mr.None){const i=[],s=(a,o,l)=>{i.push(this.toDiagnostic(a,o,l))};return await this.validateAstBefore(t,r,s,n),await this.validateAstNodes(t,r,s,n),await this.validateAstAfter(t,r,s,n),i}async validateAstBefore(t,r,n,i=mr.None){var s;const a=this.validationRegistry.checksBefore;for(const o of a)await ki(i),await o(t,n,(s=r.categories)!==null&&s!==void 0?s:[],i)}async validateAstNodes(t,r,n,i=mr.None){await Promise.all(xu(t).map(async s=>{await ki(i);const a=this.validationRegistry.getChecks(s.$type,r.categories);for(const o of a)await o(s,n,i)}))}async validateAstAfter(t,r,n,i=mr.None){var s;const a=this.validationRegistry.checksAfter;for(const o of a)await ki(i),await o(t,n,(s=r.categories)!==null&&s!==void 0?s:[],i)}toDiagnostic(t,r,n){return{message:r,range:_Tt(n),severity:Kb(t),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function _Tt(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=$M(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=qgt(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Kb(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function TTt(e){switch(e){case"error":return Rf(ys.LexingError);case"warning":return Rf(ys.LexingWarning);case"info":return Rf(ys.LexingInfo);case"hint":return Rf(ys.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}var ys;(function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"})(ys||(ys={}));class kTt{constructor(t){this.astNodeLocator=t.workspace.AstNodeLocator,this.nameProvider=t.references.NameProvider}createDescription(t,r,n){const i=n??Do(t);r??(r=this.nameProvider.getName(t));const s=this.astNodeLocator.getAstNodePath(t);if(!r)throw new Error(`Node at path ${s} has no name.`);let a;const o=()=>{var l;return a??(a=zm((l=this.nameProvider.getNameNode(t))!==null&&l!==void 0?l:t.$cstNode))};return{node:t,name:r,get nameSegment(){return o()},selectionSegment:zm(t.$cstNode),type:t.$type,documentUri:i.uri,path:s}}}class wTt{constructor(t){this.nodeLocator=t.workspace.AstNodeLocator}async createDescriptions(t,r=mr.None){const n=[],i=t.parseResult.value;for(const s of xu(i))await ki(r),AM(s).filter(a=>!c0(a)).forEach(a=>{const o=this.createDescription(a);o&&n.push(o)});return n}createDescription(t){const r=t.reference.$nodeDescription,n=t.reference.$refNode;if(!r||!n)return;const i=Do(t.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(t.container),targetUri:r.documentUri,targetPath:r.path,segment:zm(n),local:Vo.equals(r.documentUri,i)}}}class STt{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(t){if(t.$container){const r=this.getAstNodePath(t.$container),n=this.getPathSegment(t);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:t,$containerIndex:r}){if(!t)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?t+this.indexSeparator+r:t}getAstNode(t,r){return r.split(this.segmentSeparator).reduce((i,s)=>{if(!i||s.length===0)return i;const a=s.indexOf(this.indexSeparator);if(a>0){const o=s.substring(0,a),l=parseInt(s.substring(a+1)),u=i[o];return u==null?void 0:u[l]}return i[s]},t)}}class CTt{constructor(t){this._ready=new XS,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new yB,this.serviceRegistry=t.ServiceRegistry}get ready(){return this._ready.promise}initialize(t){var r,n;this.workspaceConfig=(n=(r=t.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&n!==void 0?n:!1}async initialized(t){if(this.workspaceConfig){if(t.register){const r=this.serviceRegistry.all;t.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(t.fetchConfiguration){const r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await t.fetchConfiguration(r);r.forEach((i,s)=>{this.updateSectionConfiguration(i.section,n[s])})}}this._ready.resolve()}updateConfiguration(t){t.settings&&Object.keys(t.settings).forEach(r=>{const n=t.settings[r];this.updateSectionConfiguration(r,n),this.onConfigurationSectionUpdateEmitter.fire({section:r,configuration:n})})}updateSectionConfiguration(t,r){this.settings[t]=r}async getConfiguration(t,r){await this.ready;const n=this.toSectionName(t);if(this.settings[n])return this.settings[n][r]}toSectionName(t){return`${t}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var tp;(function(e){function t(r){return{dispose:async()=>await r()}}e.create=t})(tp||(tp={}));class ETt{constructor(t){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new cy,this.documentPhaseListeners=new cy,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=dr.Changed,this.langiumDocuments=t.workspace.LangiumDocuments,this.langiumDocumentFactory=t.workspace.LangiumDocumentFactory,this.textDocuments=t.workspace.TextDocuments,this.indexManager=t.workspace.IndexManager,this.serviceRegistry=t.ServiceRegistry}async build(t,r={},n=mr.None){var i,s;for(const a of t){const o=a.uri.toString();if(a.state===dr.Validated){if(typeof r.validation=="boolean"&&r.validation)a.state=dr.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(o);else if(typeof r.validation=="object"){const l=this.buildState.get(o),u=(i=l==null?void 0:l.result)===null||i===void 0?void 0:i.validationChecks;if(u){const d=((s=r.validation.categories)!==null&&s!==void 0?s:uy.all).filter(f=>!u.includes(f));d.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:d})},result:l.result}),a.state=dr.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=dr.Changed,await this.emitUpdate(t.map(a=>a.uri),[]),await this.buildDocuments(t,r,n)}async update(t,r,n=mr.None){this.currentState=dr.Changed;for(const a of r)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(const a of t){if(!this.langiumDocuments.invalidateDocument(a)){const l=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);l.state=dr.Changed,this.langiumDocuments.addDocument(l)}this.buildState.delete(a.toString())}const i=gn(t).concat(r).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!i.has(a.uri.toString())&&this.shouldRelink(a,i)).forEach(a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,dr.ComputedScopes),a.diagnostics=void 0}),await this.emitUpdate(t,r),await ki(n);const s=this.sortDocuments(this.langiumDocuments.all.filter(a=>{var o;return a.state<dr.Linked||!(!((o=this.buildState.get(a.uri.toString()))===null||o===void 0)&&o.completed)}).toArray());await this.buildDocuments(s,this.updateBuildOptions,n)}async emitUpdate(t,r){await Promise.all(this.updateListeners.map(n=>n(t,r)))}sortDocuments(t){let r=0,n=t.length-1;for(;r<n;){for(;r<t.length&&this.hasTextDocument(t[r]);)r++;for(;n>=0&&!this.hasTextDocument(t[n]);)n--;r<n&&([t[r],t[n]]=[t[n],t[r]])}return t}hasTextDocument(t){var r;return!!(!((r=this.textDocuments)===null||r===void 0)&&r.get(t.uri))}shouldRelink(t,r){return t.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(t,r)}onUpdate(t){return this.updateListeners.push(t),tp.create(()=>{const r=this.updateListeners.indexOf(t);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(t,r,n){this.prepareBuild(t,r),await this.runCancelable(t,dr.Parsed,n,s=>this.langiumDocumentFactory.update(s,n)),await this.runCancelable(t,dr.IndexedContent,n,s=>this.indexManager.updateContent(s,n)),await this.runCancelable(t,dr.ComputedScopes,n,async s=>{const a=this.serviceRegistry.getServices(s.uri).references.ScopeComputation;s.precomputedScopes=await a.computeLocalScopes(s,n)}),await this.runCancelable(t,dr.Linked,n,s=>this.serviceRegistry.getServices(s.uri).references.Linker.link(s,n)),await this.runCancelable(t,dr.IndexedReferences,n,s=>this.indexManager.updateReferences(s,n));const i=t.filter(s=>this.shouldValidate(s));await this.runCancelable(i,dr.Validated,n,s=>this.validate(s,n));for(const s of t){const a=this.buildState.get(s.uri.toString());a&&(a.completed=!0)}}prepareBuild(t,r){for(const n of t){const i=n.uri.toString(),s=this.buildState.get(i);(!s||s.completed)&&this.buildState.set(i,{completed:!1,options:r,result:s==null?void 0:s.result})}}async runCancelable(t,r,n,i){const s=t.filter(o=>o.state<r);for(const o of s)await ki(n),await i(o),o.state=r,await this.notifyDocumentPhase(o,r,n);const a=t.filter(o=>o.state===r);await this.notifyBuildPhase(a,r,n),this.currentState=r}onBuildPhase(t,r){return this.buildPhaseListeners.add(t,r),tp.create(()=>{this.buildPhaseListeners.delete(t,r)})}onDocumentPhase(t,r){return this.documentPhaseListeners.add(t,r),tp.create(()=>{this.documentPhaseListeners.delete(t,r)})}waitUntil(t,r,n){let i;if(r&&"path"in r?i=r:n=r,n??(n=mr.None),i){const s=this.langiumDocuments.getDocument(i);if(s&&s.state>t)return Promise.resolve(i)}return this.currentState>=t?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(ly):new Promise((s,a)=>{const o=this.onBuildPhase(t,()=>{if(o.dispose(),l.dispose(),i){const u=this.langiumDocuments.getDocument(i);s(u==null?void 0:u.uri)}else s(void 0)}),l=n.onCancellationRequested(()=>{o.dispose(),l.dispose(),a(ly)})})}async notifyDocumentPhase(t,r,n){const s=this.documentPhaseListeners.get(r).slice();for(const a of s)try{await a(t,n)}catch(o){if(!ox(o))throw o}}async notifyBuildPhase(t,r,n){if(t.length===0)return;const s=this.buildPhaseListeners.get(r).slice();for(const a of s)await ki(n),await a(t,n)}shouldValidate(t){return!!this.getBuildOptions(t).validation}async validate(t,r){var n,i;const s=this.serviceRegistry.getServices(t.uri).validation.DocumentValidator,a=this.getBuildOptions(t).validation,o=typeof a=="object"?a:void 0,l=await s.validateDocument(t,o,r);t.diagnostics?t.diagnostics.push(...l):t.diagnostics=l;const u=this.buildState.get(t.uri.toString());if(u){(n=u.result)!==null&&n!==void 0||(u.result={});const h=(i=o==null?void 0:o.categories)!==null&&i!==void 0?i:uy.all;u.result.validationChecks?u.result.validationChecks.push(...h):u.result.validationChecks=[...h]}}getBuildOptions(t){var r,n;return(n=(r=this.buildState.get(t.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&n!==void 0?n:{}}}class ATt{constructor(t){this.symbolIndex=new Map,this.symbolByTypeIndex=new fTt,this.referenceIndex=new Map,this.documents=t.workspace.LangiumDocuments,this.serviceRegistry=t.ServiceRegistry,this.astReflection=t.AstReflection}findAllReferences(t,r){const n=Do(t).uri,i=[];return this.referenceIndex.forEach(s=>{s.forEach(a=>{Vo.equals(a.targetUri,n)&&a.targetPath===r&&i.push(a)})}),gn(i)}allElements(t,r){let n=gn(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,t)).flat()}getFileDescriptions(t,r){var n;return r?this.symbolByTypeIndex.get(t,r,()=>{var s;return((s=this.symbolIndex.get(t))!==null&&s!==void 0?s:[]).filter(o=>this.astReflection.isSubtype(o.type,r))}):(n=this.symbolIndex.get(t))!==null&&n!==void 0?n:[]}remove(t){const r=t.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(t,r=mr.None){const i=await this.serviceRegistry.getServices(t.uri).references.ScopeComputation.computeExports(t,r),s=t.uri.toString();this.symbolIndex.set(s,i),this.symbolByTypeIndex.clear(s)}async updateReferences(t,r=mr.None){const i=await this.serviceRegistry.getServices(t.uri).workspace.ReferenceDescriptionProvider.createDescriptions(t,r);this.referenceIndex.set(t.uri.toString(),i)}isAffected(t,r){const n=this.referenceIndex.get(t.uri.toString());return n?n.some(i=>!i.local&&r.has(i.targetUri.toString())):!1}}class LTt{constructor(t){this.initialBuildOptions={},this._ready=new XS,this.serviceRegistry=t.ServiceRegistry,this.langiumDocuments=t.workspace.LangiumDocuments,this.documentBuilder=t.workspace.DocumentBuilder,this.fileSystemProvider=t.workspace.FileSystemProvider,this.mutex=t.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(t){var r;this.folders=(r=t.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(t){return this.mutex.write(r=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],r)})}async initializeWorkspace(t,r=mr.None){const n=await this.performStartup(t);await ki(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(t){const r=this.serviceRegistry.all.flatMap(s=>s.LanguageMetaData.fileExtensions),n=[],i=s=>{n.push(s),this.langiumDocuments.hasDocument(s.uri)||this.langiumDocuments.addDocument(s)};return await this.loadAdditionalDocuments(t,i),await Promise.all(t.map(s=>[s,this.getRootFolder(s)]).map(async s=>this.traverseFolder(...s,r,i))),this._ready.resolve(),n}loadAdditionalDocuments(t,r){return Promise.resolve()}getRootFolder(t){return lc.parse(t.uri)}async traverseFolder(t,r,n,i){const s=await this.fileSystemProvider.readDirectory(r);await Promise.all(s.map(async a=>{if(this.includeEntry(t,a,n)){if(a.isDirectory)await this.traverseFolder(t,a.uri,n,i);else if(a.isFile){const o=await this.langiumDocuments.getOrCreateDocument(a.uri);i(o)}}}))}includeEntry(t,r,n){const i=Vo.basename(r.uri);if(i.startsWith("."))return!1;if(r.isDirectory)return i!=="node_modules"&&i!=="out";if(r.isFile){const s=Vo.extname(r.uri);return n.includes(s)}return!1}}class RTt{buildUnexpectedCharactersMessage(t,r,n,i,s){return sT.buildUnexpectedCharactersMessage(t,r,n,i,s)}buildUnableToPopLexerModeMessage(t){return sT.buildUnableToPopLexerModeMessage(t)}}const ITt={mode:"full"};class NTt{constructor(t){this.errorMessageProvider=t.parser.LexerErrorMessageProvider,this.tokenBuilder=t.parser.TokenBuilder;const r=this.tokenBuilder.buildTokens(t.Grammar,{caseInsensitive:t.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);const n=_6(r)?Object.values(r):r,i=t.LanguageMetaData.mode==="production";this.chevrotainLexer=new ui(n,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(t,r=ITt){var n,i,s;const a=this.chevrotainLexer.tokenize(t);return{tokens:a.tokens,errors:a.errors,hidden:(n=a.groups.hidden)!==null&&n!==void 0?n:[],report:(s=(i=this.tokenBuilder).flushLexingReport)===null||s===void 0?void 0:s.call(i,t)}}toTokenTypeDictionary(t){if(_6(t))return t;const r=TB(t)?Object.values(t.modes).flat():t,n={};return r.forEach(i=>n[i.name]=i),n}}function $Tt(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function TB(e){return e&&"modes"in e&&"defaultMode"in e}function _6(e){return!$Tt(e)&&!TB(e)}function OTt(e,t,r){let n,i;typeof e=="string"?(i=t,n=r):(i=e.range.start,n=t),i||(i=qe.create(0,0));const s=kB(e),a=KS(n),o=PTt({lines:s,position:i,options:a});return WTt({index:0,tokens:o,position:i})}function DTt(e,t){const r=KS(t),n=kB(e);if(n.length===0)return!1;const i=n[0],s=n[n.length-1],a=r.start,o=r.end;return!!(a!=null&&a.exec(i))&&!!(o!=null&&o.exec(s))}function kB(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split($gt)}const T6=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,MTt=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function PTt(e){var t,r,n;const i=[];let s=e.position.line,a=e.position.character;for(let o=0;o<e.lines.length;o++){const l=o===0,u=o===e.lines.length-1;let h=e.lines[o],d=0;if(l&&e.options.start){const p=(t=e.options.start)===null||t===void 0?void 0:t.exec(h);p&&(d=p.index+p[0].length)}else{const p=(r=e.options.line)===null||r===void 0?void 0:r.exec(h);p&&(d=p.index+p[0].length)}if(u){const p=(n=e.options.end)===null||n===void 0?void 0:n.exec(h);p&&(h=h.substring(0,p.index))}if(h=h.substring(0,zTt(h)),OT(h,d)>=h.length){if(i.length>0){const p=qe.create(s,a);i.push({type:"break",content:"",range:Oe.create(p,p)})}}else{T6.lastIndex=d;const p=T6.exec(h);if(p){const m=p[0],y=p[1],b=qe.create(s,a+d),x=qe.create(s,a+d+m.length);i.push({type:"tag",content:y,range:Oe.create(b,x)}),d+=m.length,d=OT(h,d)}if(d<h.length){const m=h.substring(d),y=Array.from(m.matchAll(MTt));i.push(...BTt(y,m,s,a+d))}}s++,a=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function BTt(e,t,r,n){const i=[];if(e.length===0){const s=qe.create(r,n),a=qe.create(r,n+t.length);i.push({type:"text",content:t,range:Oe.create(s,a)})}else{let s=0;for(const o of e){const l=o.index,u=t.substring(s,l);u.length>0&&i.push({type:"text",content:t.substring(s,l),range:Oe.create(qe.create(r,s+n),qe.create(r,l+n))});let h=u.length+1;const d=o[1];if(i.push({type:"inline-tag",content:d,range:Oe.create(qe.create(r,s+h+n),qe.create(r,s+h+d.length+n))}),h+=d.length,o.length===4){h+=o[2].length;const f=o[3];i.push({type:"text",content:f,range:Oe.create(qe.create(r,s+h+n),qe.create(r,s+h+f.length+n))})}else i.push({type:"text",content:"",range:Oe.create(qe.create(r,s+h+n),qe.create(r,s+h+n))});s=l+o[0].length}const a=t.substring(s);a.length>0&&i.push({type:"text",content:a,range:Oe.create(qe.create(r,s+n),qe.create(r,s+n+a.length))})}return i}const FTt=/\S/,VTt=/\s*$/;function OT(e,t){const r=e.substring(t).match(FTt);return r?t+r.index:e.length}function zTt(e){const t=e.match(VTt);if(t&&typeof t.index=="number")return t.index}function WTt(e){var t,r,n,i;const s=qe.create(e.position.line,e.position.character);if(e.tokens.length===0)return new k6([],Oe.create(s,s));const a=[];for(;e.index<e.tokens.length;){const u=UTt(e,a[a.length-1]);u&&a.push(u)}const o=(r=(t=a[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:s,l=(i=(n=a[a.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:s;return new k6(a,Oe.create(o,l))}function UTt(e,t){const r=e.tokens[e.index];if(r.type==="tag")return SB(e,!1);if(r.type==="text"||r.type==="inline-tag")return wB(e);HTt(r,t),e.index++}function HTt(e,t){if(t){const r=new EB("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function wB(e){let t=e.tokens[e.index];const r=t;let n=t;const i=[];for(;t&&t.type!=="break"&&t.type!=="tag";)i.push(GTt(e)),n=t,t=e.tokens[e.index];return new DT(i,Oe.create(r.range.start,n.range.end))}function GTt(e){return e.tokens[e.index].type==="inline-tag"?SB(e,!0):CB(e)}function SB(e,t){const r=e.tokens[e.index++],n=r.content.substring(1),i=e.tokens[e.index];if((i==null?void 0:i.type)==="text")if(t){const s=CB(e);return new Zb(n,new DT([s],s.range),t,Oe.create(r.range.start,s.range.end))}else{const s=wB(e);return new Zb(n,s,t,Oe.create(r.range.start,s.range.end))}else{const s=r.range;return new Zb(n,new DT([],s),t,s)}}function CB(e){const t=e.tokens[e.index++];return new EB(t.content,t.range)}function KS(e){if(!e)return KS({start:"/**",end:"*/",line:"*"});const{start:t,end:r,line:n}=e;return{start:Qb(t,!0),end:Qb(r,!1),line:Qb(n,!0)}}function Qb(e,t){if(typeof e=="string"||typeof e=="object"){const r=typeof e=="string"?F2(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}class k6{constructor(t,r){this.elements=t,this.range=r}getTag(t){return this.getAllTags().find(r=>r.name===t)}getTags(t){return this.getAllTags().filter(r=>r.name===t)}getAllTags(){return this.elements.filter(t=>"name"in t)}toString(){let t="";for(const r of this.elements)if(t.length===0)t=r.toString();else{const n=r.toString();t+=w6(t)+n}return t.trim()}toMarkdown(t){let r="";for(const n of this.elements)if(r.length===0)r=n.toMarkdown(t);else{const i=n.toMarkdown(t);r+=w6(r)+i}return r.trim()}}class Zb{constructor(t,r,n,i){this.name=t,this.content=r,this.inline=n,this.range=i}toString(){let t=`@${this.name}`;const r=this.content.toString();return this.content.inlines.length===1?t=`${t} ${r}`:this.content.inlines.length>1&&(t=`${t}
${r}`),this.inline?`{${t}}`:t}toMarkdown(t){var r,n;return(n=(r=t==null?void 0:t.renderTag)===null||r===void 0?void 0:r.call(t,this))!==null&&n!==void 0?n:this.toMarkdownDefault(t)}toMarkdownDefault(t){const r=this.content.toMarkdown(t);if(this.inline){const s=qTt(this.name,r,t??{});if(typeof s=="string")return s}let n="";(t==null?void 0:t.tag)==="italic"||(t==null?void 0:t.tag)===void 0?n="*":(t==null?void 0:t.tag)==="bold"?n="**":(t==null?void 0:t.tag)==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i}  ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}}function qTt(e,t,r){var n,i;if(e==="linkplain"||e==="linkcode"||e==="link"){const s=t.indexOf(" ");let a=t;if(s>0){const l=OT(t,s);a=t.substring(l),t=t.substring(0,s)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(a=`\`${a}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,t,a))!==null&&i!==void 0?i:jTt(t,a)}}function jTt(e,t){try{return lc.parse(e,!0),`[${t}](${e})`}catch{return e}}class DT{constructor(t,r){this.inlines=t,this.range=r}toString(){let t="";for(let r=0;r<this.inlines.length;r++){const n=this.inlines[r],i=this.inlines[r+1];t+=n.toString(),i&&i.range.start.line>n.range.start.line&&(t+=`
`)}return t}toMarkdown(t){let r="";for(let n=0;n<this.inlines.length;n++){const i=this.inlines[n],s=this.inlines[n+1];r+=i.toMarkdown(t),s&&s.range.start.line>i.range.start.line&&(r+=`
`)}return r}}class EB{constructor(t,r){this.text=t,this.range=r}toString(){return this.text}toMarkdown(){return this.text}}function w6(e){return e.endsWith(`
`)?`
`:`

`}class YTt{constructor(t){this.indexManager=t.shared.workspace.IndexManager,this.commentProvider=t.documentation.CommentProvider}getDocumentation(t){const r=this.commentProvider.getComment(t);if(r&&DTt(r))return OTt(r).toMarkdown({renderLink:(i,s)=>this.documentationLinkRenderer(t,i,s),renderTag:i=>this.documentationTagRenderer(t,i)})}documentationLinkRenderer(t,r,n){var i;const s=(i=this.findNameInPrecomputedScopes(t,r))!==null&&i!==void 0?i:this.findNameInGlobalScope(t,r);if(s&&s.nameSegment){const a=s.nameSegment.range.start.line+1,o=s.nameSegment.range.start.character+1,l=s.documentUri.with({fragment:`L${a},${o}`});return`[${n}](${l.toString()})`}else return}documentationTagRenderer(t,r){}findNameInPrecomputedScopes(t,r){const i=Do(t).precomputedScopes;if(!i)return;let s=t;do{const o=i.get(s).find(l=>l.name===r);if(o)return o;s=s.$container}while(s)}findNameInGlobalScope(t,r){return this.indexManager.allElements().find(i=>i.name===r)}}class XTt{constructor(t){this.grammarConfig=()=>t.parser.GrammarConfig}getComment(t){var r;return mTt(t)?t.$comment:(r=cgt(t.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}}class KTt{constructor(t){this.syncParser=t.parser.LangiumParser}parse(t,r){return Promise.resolve(this.syncParser.parse(t))}}class QTt{constructor(){this.previousTokenSource=new YS,this.writeQueue=[],this.readQueue=[],this.done=!0}write(t){this.cancelWrite();const r=rTt();return this.previousTokenSource=r,this.enqueue(this.writeQueue,t,r.token)}read(t){return this.enqueue(this.readQueue,t)}enqueue(t,r,n=mr.None){const i=new XS,s={action:r,deferred:i,cancellationToken:n};return t.push(s),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const t=[];if(this.writeQueue.length>0)t.push(this.writeQueue.shift());else if(this.readQueue.length>0)t.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(t.map(async({action:r,deferred:n,cancellationToken:i})=>{try{const s=await Promise.resolve().then(()=>r(i));n.resolve(s)}catch(s){ox(s)?n.resolve(void 0):n.reject(s)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class ZTt{constructor(t){this.grammarElementIdMap=new x6,this.tokenTypeIdMap=new x6,this.grammar=t.Grammar,this.lexer=t.parser.Lexer,this.linker=t.references.Linker}dehydrate(t){return{lexerErrors:t.lexerErrors,lexerReport:t.lexerReport?this.dehydrateLexerReport(t.lexerReport):void 0,parserErrors:t.parserErrors.map(r=>Object.assign(Object.assign({},r),{message:r.message})),value:this.dehydrateAstNode(t.value,this.createDehyrationContext(t.value))}}dehydrateLexerReport(t){return t}createDehyrationContext(t){const r=new Map,n=new Map;for(const i of xu(t))r.set(i,{});if(t.$cstNode)for(const i of Y_(t.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(t,r){const n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(t.$cstNode,r));for(const[i,s]of Object.entries(t))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];n[i]=a;for(const o of s)On(o)?a.push(this.dehydrateAstNode(o,r)):Qs(o)?a.push(this.dehydrateReference(o,r)):a.push(o)}else On(s)?n[i]=this.dehydrateAstNode(s,r):Qs(s)?n[i]=this.dehydrateReference(s,r):s!==void 0&&(n[i]=s);return n}dehydrateReference(t,r){const n={};return n.$refText=t.$refText,t.$refNode&&(n.$refNode=r.cstNodes.get(t.$refNode)),n}dehydrateCstNode(t,r){const n=r.cstNodes.get(t);return vM(t)?n.fullText=t.fullText:n.grammarSource=this.getGrammarElementId(t.grammarSource),n.hidden=t.hidden,n.astNode=r.astNodes.get(t.astNode),Pp(t)?n.content=t.content.map(i=>this.dehydrateCstNode(i,r)):bM(t)&&(n.tokenType=t.tokenType.name,n.offset=t.offset,n.length=t.length,n.startLine=t.range.start.line,n.startColumn=t.range.start.character,n.endLine=t.range.end.line,n.endColumn=t.range.end.character),n}hydrate(t){const r=t.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:t.lexerErrors,lexerReport:t.lexerReport,parserErrors:t.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(t){const r=new Map,n=new Map;for(const s of xu(t))r.set(s,{});let i;if(t.$cstNode)for(const s of Y_(t.$cstNode)){let a;"fullText"in s?(a=new sB(s.fullText),i=a):"content"in s?a=new qS:"tokenType"in s&&(a=this.hydrateCstLeafNode(s)),a&&(n.set(s,a),a.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(t,r){const n=r.astNodes.get(t);n.$type=t.$type,n.$containerIndex=t.$containerIndex,n.$containerProperty=t.$containerProperty,t.$cstNode&&(n.$cstNode=r.cstNodes.get(t.$cstNode));for(const[i,s]of Object.entries(t))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];n[i]=a;for(const o of s)On(o)?a.push(this.setParent(this.hydrateAstNode(o,r),n)):Qs(o)?a.push(this.hydrateReference(o,n,i,r)):a.push(o)}else On(s)?n[i]=this.setParent(this.hydrateAstNode(s,r),n):Qs(s)?n[i]=this.hydrateReference(s,n,i,r):s!==void 0&&(n[i]=s);return n}setParent(t,r){return t.$container=r,t}hydrateReference(t,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(t.$refNode),t.$refText)}hydrateCstNode(t,r,n=0){const i=r.cstNodes.get(t);if(typeof t.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(t.grammarSource)),i.astNode=r.astNodes.get(t.astNode),Pp(i))for(const s of t.content){const a=this.hydrateCstNode(s,r,n++);i.content.push(a)}return i}hydrateCstLeafNode(t){const r=this.getTokenType(t.tokenType),n=t.offset,i=t.length,s=t.startLine,a=t.startColumn,o=t.endLine,l=t.endColumn,u=t.hidden;return new CT(n,i,{start:{line:s,character:a},end:{line:o,character:l}},r,u)}getTokenType(t){return this.lexer.definition[t]}getGrammarElementId(t){if(t)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(t)}getGrammarElement(t){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(t)}createGrammarElementIdMap(){let t=0;for(const r of xu(this.grammar))hgt(r)&&this.grammarElementIdMap.set(r,t++)}}function Jo(e){return{documentation:{CommentProvider:t=>new XTt(t),DocumentationProvider:t=>new YTt(t)},parser:{AsyncParser:t=>new KTt(t),GrammarConfig:t=>r1t(t),LangiumParser:t=>z_t(t),CompletionParser:t=>V_t(t),ValueConverter:()=>new pB,TokenBuilder:()=>new fB,Lexer:t=>new NTt(t),ParserErrorMessageProvider:()=>new lB,LexerErrorMessageProvider:()=>new RTt},workspace:{AstNodeLocator:()=>new STt,AstNodeDescriptionProvider:t=>new kTt(t),ReferenceDescriptionProvider:t=>new wTt(t)},references:{Linker:t=>new aTt(t),NameProvider:()=>new lTt,ScopeProvider:t=>new gTt(t),ScopeComputation:t=>new uTt(t),References:t=>new cTt(t)},serializer:{Hydrator:t=>new ZTt(t),JsonSerializer:t=>new yTt(t)},validation:{DocumentValidator:t=>new vTt(t),ValidationRegistry:t=>new bTt(t)},shared:()=>e.shared}}function tl(e){return{ServiceRegistry:t=>new xTt(t),workspace:{LangiumDocuments:t=>new sTt(t),LangiumDocumentFactory:t=>new iTt(t),DocumentBuilder:t=>new ETt(t),IndexManager:t=>new ATt(t),WorkspaceManager:t=>new LTt(t),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new QTt,ConfigurationProvider:t=>new CTt(t)}}}var S6;(function(e){e.merge=(t,r)=>hy(hy({},t),r)})(S6||(S6={}));function Pn(e,t,r,n,i,s,a,o,l){const u=[e,t,r,n,i,s,a,o,l].reduce(hy,{});return AB(u)}const JTt=Symbol("isProxy");function AB(e,t){const r=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(n,i)=>i===JTt?!0:E6(n,i,e,t||r),getOwnPropertyDescriptor:(n,i)=>(E6(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i)),has:(n,i)=>i in e,ownKeys:()=>[...Object.getOwnPropertyNames(e)]});return r}const C6=Symbol();function E6(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===C6)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){const i=r[t];e[t]=C6;try{e[t]=typeof i=="function"?i(n):AB(i,n)}catch(s){throw e[t]=s instanceof Error?s:void 0,s}return e[t]}else return}function hy(e,t){if(t){for(const[r,n]of Object.entries(t))if(n!==void 0){const i=e[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?e[r]=hy(i,n):e[r]=n}}return e}class tkt{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const el={fileSystemProvider:()=>new tkt},ekt={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},rkt={AstReflection:()=>new EM};function nkt(){const e=Pn(tl(el),rkt),t=Pn(Jo({shared:e}),ekt);return e.ServiceRegistry.register(t),t}function Rc(e){var t;const r=nkt(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,lc.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}var ikt=Object.defineProperty,Bt=(e,t)=>ikt(e,"name",{value:t,configurable:!0}),A6="Statement",x0="Architecture";function skt(e){return Ds.isInstance(e,x0)}Bt(skt,"isArchitecture");var w1="Axis",If="Branch";function akt(e){return Ds.isInstance(e,If)}Bt(akt,"isBranch");var S1="Checkout",C1="CherryPicking",Jb="ClassDefStatement",Nf="Commit";function okt(e){return Ds.isInstance(e,Nf)}Bt(okt,"isCommit");var tv="Curve",ev="Edge",rv="Entry",$f="GitGraph";function lkt(e){return Ds.isInstance(e,$f)}Bt(lkt,"isGitGraph");var nv="Group",b0="Info";function ckt(e){return Ds.isInstance(e,b0)}Bt(ckt,"isInfo");var E1="Item",iv="Junction",Of="Merge";function ukt(e){return Ds.isInstance(e,Of)}Bt(ukt,"isMerge");var sv="Option",v0="Packet";function hkt(e){return Ds.isInstance(e,v0)}Bt(hkt,"isPacket");var _0="PacketBlock";function dkt(e){return Ds.isInstance(e,_0)}Bt(dkt,"isPacketBlock");var T0="Pie";function fkt(e){return Ds.isInstance(e,T0)}Bt(fkt,"isPie");var k0="PieSection";function pkt(e){return Ds.isInstance(e,k0)}Bt(pkt,"isPieSection");var av="Radar",ov="Service",w0="Treemap";function gkt(e){return Ds.isInstance(e,w0)}Bt(gkt,"isTreemap");var lv="TreemapRow",A1="Direction",L1="Leaf",R1="Section",Mu,LB=(Mu=class extends xM{getAllTypes(){return[x0,w1,If,S1,C1,Jb,Nf,tv,A1,ev,rv,$f,nv,b0,E1,iv,L1,Of,sv,v0,_0,T0,k0,av,R1,ov,A6,w0,lv]}computeIsSubtype(t,r){switch(t){case If:case S1:case C1:case Nf:case Of:return this.isSubtype(A6,r);case A1:return this.isSubtype($f,r);case L1:case R1:return this.isSubtype(E1,r);default:return!1}}getReferenceType(t){const r=`${t.container.$type}:${t.property}`;switch(r){case"Entry:axis":return w1;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case x0:return{name:x0,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case w1:return{name:w1,properties:[{name:"label"},{name:"name"}]};case If:return{name:If,properties:[{name:"name"},{name:"order"}]};case S1:return{name:S1,properties:[{name:"branch"}]};case C1:return{name:C1,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case Jb:return{name:Jb,properties:[{name:"className"},{name:"styleText"}]};case Nf:return{name:Nf,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case tv:return{name:tv,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case ev:return{name:ev,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case rv:return{name:rv,properties:[{name:"axis"},{name:"value"}]};case $f:return{name:$f,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case nv:return{name:nv,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case b0:return{name:b0,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case E1:return{name:E1,properties:[{name:"classSelector"},{name:"name"}]};case iv:return{name:iv,properties:[{name:"id"},{name:"in"}]};case Of:return{name:Of,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case sv:return{name:sv,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case v0:return{name:v0,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case _0:return{name:_0,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case T0:return{name:T0,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case k0:return{name:k0,properties:[{name:"label"},{name:"value"}]};case av:return{name:av,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case ov:return{name:ov,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case w0:return{name:w0,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case lv:return{name:lv,properties:[{name:"indent"},{name:"item"}]};case A1:return{name:A1,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case L1:return{name:L1,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case R1:return{name:R1,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:t,properties:[]}}}},Bt(Mu,"MermaidAstReflection"),Mu),Ds=new LB,L6,mkt=Bt(()=>L6??(L6=Rc(`{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"InfoGrammar"),R6,ykt=Bt(()=>R6??(R6=Rc(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),I6,xkt=Bt(()=>I6??(I6=Rc(`{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PieGrammar"),N6,bkt=Bt(()=>N6??(N6=Rc(`{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"ArchitectureGrammar"),$6,vkt=Bt(()=>$6??($6=Rc(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),O6,_kt=Bt(()=>O6??(O6=Rc(`{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}`)),"RadarGrammar"),D6,Tkt=Bt(()=>D6??(D6=Rc(`{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}`)),"TreemapGrammar"),kkt={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},wkt={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Skt={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Ckt={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Ekt={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Akt={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Lkt={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Ic={AstReflection:Bt(()=>new LB,"AstReflection")},Rkt={Grammar:Bt(()=>mkt(),"Grammar"),LanguageMetaData:Bt(()=>kkt,"LanguageMetaData"),parser:{}},Ikt={Grammar:Bt(()=>ykt(),"Grammar"),LanguageMetaData:Bt(()=>wkt,"LanguageMetaData"),parser:{}},Nkt={Grammar:Bt(()=>xkt(),"Grammar"),LanguageMetaData:Bt(()=>Skt,"LanguageMetaData"),parser:{}},$kt={Grammar:Bt(()=>bkt(),"Grammar"),LanguageMetaData:Bt(()=>Ckt,"LanguageMetaData"),parser:{}},Okt={Grammar:Bt(()=>vkt(),"Grammar"),LanguageMetaData:Bt(()=>Ekt,"LanguageMetaData"),parser:{}},Dkt={Grammar:Bt(()=>_kt(),"Grammar"),LanguageMetaData:Bt(()=>Akt,"LanguageMetaData"),parser:{}},Mkt={Grammar:Bt(()=>Tkt(),"Grammar"),LanguageMetaData:Bt(()=>Lkt,"LanguageMetaData"),parser:{}},Pkt=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,Bkt=/accTitle[\t ]*:([^\n\r]*)/,Fkt=/title([\t ][^\n\r]*|)/,Vkt={ACC_DESCR:Pkt,ACC_TITLE:Bkt,TITLE:Fkt},Pu,lx=(Pu=class extends pB{runConverter(t,r,n){let i=this.runCommonConverter(t,r,n);return i===void 0&&(i=this.runCustomConverter(t,r,n)),i===void 0?super.runConverter(t,r,n):i}runCommonConverter(t,r,n){const i=Vkt[t.name];if(i===void 0)return;const s=i.exec(r);if(s!==null){if(s[1]!==void 0)return s[1].trim().replace(/[\t ]{2,}/gm," ");if(s[2]!==void 0)return s[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},Bt(Pu,"AbstractMermaidValueConverter"),Pu),Bu,cx=(Bu=class extends lx{runCustomConverter(t,r,n){}},Bt(Bu,"CommonValueConverter"),Bu),Fu,rl=(Fu=class extends fB{constructor(t){super(),this.keywords=new Set(t)}buildKeywordTokens(t,r,n){const i=super.buildKeywordTokens(t,r,n);return i.forEach(s=>{this.keywords.has(s.name)&&s.PATTERN!==void 0&&(s.PATTERN=new RegExp(s.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),i}},Bt(Fu,"AbstractMermaidTokenBuilder"),Fu),Vu;Vu=class extends rl{},Bt(Vu,"CommonTokenBuilder");var zu,zkt=(zu=class extends rl{constructor(){super(["gitGraph"])}},Bt(zu,"GitGraphTokenBuilder"),zu),RB={parser:{TokenBuilder:Bt(()=>new zkt,"TokenBuilder"),ValueConverter:Bt(()=>new cx,"ValueConverter")}};function IB(e=el){const t=Pn(tl(e),Ic),r=Pn(Jo({shared:t}),Okt,RB);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}Bt(IB,"createGitGraphServices");var Wu,Wkt=(Wu=class extends rl{constructor(){super(["info","showInfo"])}},Bt(Wu,"InfoTokenBuilder"),Wu),NB={parser:{TokenBuilder:Bt(()=>new Wkt,"TokenBuilder"),ValueConverter:Bt(()=>new cx,"ValueConverter")}};function $B(e=el){const t=Pn(tl(e),Ic),r=Pn(Jo({shared:t}),Rkt,NB);return t.ServiceRegistry.register(r),{shared:t,Info:r}}Bt($B,"createInfoServices");var Uu,Ukt=(Uu=class extends rl{constructor(){super(["packet"])}},Bt(Uu,"PacketTokenBuilder"),Uu),OB={parser:{TokenBuilder:Bt(()=>new Ukt,"TokenBuilder"),ValueConverter:Bt(()=>new cx,"ValueConverter")}};function DB(e=el){const t=Pn(tl(e),Ic),r=Pn(Jo({shared:t}),Ikt,OB);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}Bt(DB,"createPacketServices");var Hu,Hkt=(Hu=class extends rl{constructor(){super(["pie","showData"])}},Bt(Hu,"PieTokenBuilder"),Hu),Gu,Gkt=(Gu=class extends lx{runCustomConverter(t,r,n){if(t.name==="PIE_SECTION_LABEL")return r.replace(/"/g,"").trim()}},Bt(Gu,"PieValueConverter"),Gu),MB={parser:{TokenBuilder:Bt(()=>new Hkt,"TokenBuilder"),ValueConverter:Bt(()=>new Gkt,"ValueConverter")}};function PB(e=el){const t=Pn(tl(e),Ic),r=Pn(Jo({shared:t}),Nkt,MB);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}Bt(PB,"createPieServices");var qu,qkt=(qu=class extends rl{constructor(){super(["architecture"])}},Bt(qu,"ArchitectureTokenBuilder"),qu),ju,jkt=(ju=class extends lx{runCustomConverter(t,r,n){if(t.name==="ARCH_ICON")return r.replace(/[()]/g,"").trim();if(t.name==="ARCH_TEXT_ICON")return r.replace(/["()]/g,"");if(t.name==="ARCH_TITLE")return r.replace(/[[\]]/g,"").trim()}},Bt(ju,"ArchitectureValueConverter"),ju),BB={parser:{TokenBuilder:Bt(()=>new qkt,"TokenBuilder"),ValueConverter:Bt(()=>new jkt,"ValueConverter")}};function FB(e=el){const t=Pn(tl(e),Ic),r=Pn(Jo({shared:t}),$kt,BB);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}Bt(FB,"createArchitectureServices");var Yu,Ykt=(Yu=class extends rl{constructor(){super(["radar-beta"])}},Bt(Yu,"RadarTokenBuilder"),Yu),VB={parser:{TokenBuilder:Bt(()=>new Ykt,"TokenBuilder"),ValueConverter:Bt(()=>new cx,"ValueConverter")}};function zB(e=el){const t=Pn(tl(e),Ic),r=Pn(Jo({shared:t}),Dkt,VB);return t.ServiceRegistry.register(r),{shared:t,Radar:r}}Bt(zB,"createRadarServices");var Xu,Xkt=(Xu=class extends rl{constructor(){super(["treemap"])}},Bt(Xu,"TreemapTokenBuilder"),Xu),Kkt=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,Ku,Qkt=(Ku=class extends lx{runCustomConverter(t,r,n){if(t.name==="NUMBER2")return parseFloat(r.replace(/,/g,""));if(t.name==="SEPARATOR")return r.substring(1,r.length-1);if(t.name==="STRING2")return r.substring(1,r.length-1);if(t.name==="INDENTATION")return r.length;if(t.name==="ClassDef"){if(typeof r!="string")return r;const i=Kkt.exec(r);if(i)return{$type:"ClassDefStatement",className:i[1],styleText:i[2]||void 0}}}},Bt(Ku,"TreemapValueConverter"),Ku);function WB(e){const t=e.validation.TreemapValidator,r=e.validation.ValidationRegistry;if(r){const n={Treemap:t.checkSingleRoot.bind(t)};r.register(n,t)}}Bt(WB,"registerValidationChecks");var Qu,Zkt=(Qu=class{checkSingleRoot(t,r){let n;for(const i of t.TreemapRows)i.item&&(n===void 0&&i.indent===void 0?n=0:i.indent===void 0?r("error","Multiple root nodes are not allowed in a treemap.",{node:i,property:"item"}):n!==void 0&&n>=parseInt(i.indent,10)&&r("error","Multiple root nodes are not allowed in a treemap.",{node:i,property:"item"}))}},Bt(Qu,"TreemapValidator"),Qu),UB={parser:{TokenBuilder:Bt(()=>new Xkt,"TokenBuilder"),ValueConverter:Bt(()=>new Qkt,"ValueConverter")},validation:{TreemapValidator:Bt(()=>new Zkt,"TreemapValidator")}};function HB(e=el){const t=Pn(tl(e),Ic),r=Pn(Jo({shared:t}),Mkt,UB);return t.ServiceRegistry.register(r),WB(r),{shared:t,Treemap:r}}Bt(HB,"createTreemapServices");var Sa={},Jkt={info:Bt(async()=>{const{createInfoServices:e}=await Ce(async()=>{const{createInfoServices:r}=await Promise.resolve().then(()=>yLt);return{createInfoServices:r}},void 0),t=e().Info.parser.LangiumParser;Sa.info=t},"info"),packet:Bt(async()=>{const{createPacketServices:e}=await Ce(async()=>{const{createPacketServices:r}=await Promise.resolve().then(()=>xLt);return{createPacketServices:r}},void 0),t=e().Packet.parser.LangiumParser;Sa.packet=t},"packet"),pie:Bt(async()=>{const{createPieServices:e}=await Ce(async()=>{const{createPieServices:r}=await Promise.resolve().then(()=>bLt);return{createPieServices:r}},void 0),t=e().Pie.parser.LangiumParser;Sa.pie=t},"pie"),architecture:Bt(async()=>{const{createArchitectureServices:e}=await Ce(async()=>{const{createArchitectureServices:r}=await Promise.resolve().then(()=>vLt);return{createArchitectureServices:r}},void 0),t=e().Architecture.parser.LangiumParser;Sa.architecture=t},"architecture"),gitGraph:Bt(async()=>{const{createGitGraphServices:e}=await Ce(async()=>{const{createGitGraphServices:r}=await Promise.resolve().then(()=>_Lt);return{createGitGraphServices:r}},void 0),t=e().GitGraph.parser.LangiumParser;Sa.gitGraph=t},"gitGraph"),radar:Bt(async()=>{const{createRadarServices:e}=await Ce(async()=>{const{createRadarServices:r}=await Promise.resolve().then(()=>TLt);return{createRadarServices:r}},void 0),t=e().Radar.parser.LangiumParser;Sa.radar=t},"radar"),treemap:Bt(async()=>{const{createTreemapServices:e}=await Ce(async()=>{const{createTreemapServices:r}=await Promise.resolve().then(()=>kLt);return{createTreemapServices:r}},void 0),t=e().Treemap.parser.LangiumParser;Sa.treemap=t},"treemap")};async function nl(e,t){const r=Jkt[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);Sa[e]||await r();const i=Sa[e].parse(t);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new twt(i);return i.value}Bt(nl,"parse");var Zu,twt=(Zu=class extends Error{constructor(t){const r=t.lexerErrors.map(i=>i.message).join(`
`),n=t.parserErrors.map(i=>i.message).join(`
`);super(`Parsing failed: ${r} ${n}`),this.result=t}},Bt(Zu,"MermaidParseError"),Zu),Qe={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},ewt=Re.gitGraph,Nc=g(()=>Zn({...ewt,...De().gitGraph}),"getConfig"),Ft=new yM(()=>{const e=Nc(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}});function ux(){return GN({length:7})}g(ux,"getID");function GB(e,t){const r=Object.create(null);return e.reduce((n,i)=>{const s=t(i);return r[s]||(r[s]=!0,n.push(i)),n},[])}g(GB,"uniqBy");var rwt=g(function(e){Ft.records.direction=e},"setDirection"),nwt=g(function(e){U.debug("options str",e),e=e==null?void 0:e.trim(),e=e||"{}";try{Ft.records.options=JSON.parse(e)}catch(t){U.error("error while parsing gitGraph options",t.message)}},"setOptions"),iwt=g(function(){return Ft.records.options},"getOptions"),swt=g(function(e){let t=e.msg,r=e.id;const n=e.type;let i=e.tags;U.info("commit",t,r,n,i),U.debug("Entering commit:",t,r,n,i);const s=Nc();r=Ot.sanitizeText(r,s),t=Ot.sanitizeText(t,s),i=i==null?void 0:i.map(o=>Ot.sanitizeText(o,s));const a={id:r||Ft.records.seq+"-"+ux(),message:t,seq:Ft.records.seq++,type:n??Qe.NORMAL,tags:i??[],parents:Ft.records.head==null?[]:[Ft.records.head.id],branch:Ft.records.currBranch};Ft.records.head=a,U.info("main branch",s.mainBranchName),Ft.records.commits.has(a.id)&&U.warn(`Commit ID ${a.id} already exists`),Ft.records.commits.set(a.id,a),Ft.records.branches.set(Ft.records.currBranch,a.id),U.debug("in pushCommit "+a.id)},"commit"),awt=g(function(e){let t=e.name;const r=e.order;if(t=Ot.sanitizeText(t,Nc()),Ft.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);Ft.records.branches.set(t,Ft.records.head!=null?Ft.records.head.id:null),Ft.records.branchConfig.set(t,{name:t,order:r}),qB(t),U.debug("in createBranch")},"branch"),owt=g(e=>{let t=e.branch,r=e.id;const n=e.type,i=e.tags,s=Nc();t=Ot.sanitizeText(t,s),r&&(r=Ot.sanitizeText(r,s));const a=Ft.records.branches.get(Ft.records.currBranch),o=Ft.records.branches.get(t),l=a?Ft.records.commits.get(a):void 0,u=o?Ft.records.commits.get(o):void 0;if(l&&u&&l.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(Ft.records.currBranch===t){const f=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},f}if(l===void 0||!l){const f=new Error(`Incorrect usage of "merge". Current branch (${Ft.records.currBranch})has no commits`);throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},f}if(!Ft.records.branches.has(t)){const f=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},f}if(u===void 0||!u){const f=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},f}if(l===u){const f=new Error('Incorrect usage of "merge". Both branches have same head');throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},f}if(r&&Ft.records.commits.has(r)){const f=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom id");throw f.hash={text:`merge ${t} ${r} ${n} ${i==null?void 0:i.join(" ")}`,token:`merge ${t} ${r} ${n} ${i==null?void 0:i.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${n} ${i==null?void 0:i.join(" ")}`]},f}const h=o||"",d={id:r||`${Ft.records.seq}-${ux()}`,message:`merged branch ${t} into ${Ft.records.currBranch}`,seq:Ft.records.seq++,parents:Ft.records.head==null?[]:[Ft.records.head.id,h],branch:Ft.records.currBranch,type:Qe.MERGE,customType:n,customId:!!r,tags:i??[]};Ft.records.head=d,Ft.records.commits.set(d.id,d),Ft.records.branches.set(Ft.records.currBranch,d.id),U.debug(Ft.records.branches),U.debug("in mergeBranch")},"merge"),lwt=g(function(e){let t=e.id,r=e.targetId,n=e.tags,i=e.parent;U.debug("Entering cherryPick:",t,r,n);const s=Nc();if(t=Ot.sanitizeText(t,s),r=Ot.sanitizeText(r,s),n=n==null?void 0:n.map(l=>Ot.sanitizeText(l,s)),i=Ot.sanitizeText(i,s),!t||!Ft.records.commits.has(t)){const l=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw l.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},l}const a=Ft.records.commits.get(t);if(a===void 0||!a)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&!(Array.isArray(a.parents)&&a.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const o=a.branch;if(a.type===Qe.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!Ft.records.commits.has(r)){if(o===Ft.records.currBranch){const d=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw d.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},d}const l=Ft.records.branches.get(Ft.records.currBranch);if(l===void 0||!l){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${Ft.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},d}const u=Ft.records.commits.get(l);if(u===void 0||!u){const d=new Error(`Incorrect usage of "cherry-pick". Current branch (${Ft.records.currBranch})has no commits`);throw d.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},d}const h={id:Ft.records.seq+"-"+ux(),message:`cherry-picked ${a==null?void 0:a.message} into ${Ft.records.currBranch}`,seq:Ft.records.seq++,parents:Ft.records.head==null?[]:[Ft.records.head.id,a.id],branch:Ft.records.currBranch,type:Qe.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${a.id}${a.type===Qe.MERGE?`|parent:${i}`:""}`]};Ft.records.head=h,Ft.records.commits.set(h.id,h),Ft.records.branches.set(Ft.records.currBranch,h.id),U.debug(Ft.records.branches),U.debug("in cherryPick")}},"cherryPick"),qB=g(function(e){if(e=Ot.sanitizeText(e,Nc()),Ft.records.branches.has(e)){Ft.records.currBranch=e;const t=Ft.records.branches.get(Ft.records.currBranch);t===void 0||!t?Ft.records.head=null:Ft.records.head=Ft.records.commits.get(t)??null}else{const t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}},"checkout");function MT(e,t,r){const n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}g(MT,"upsert");function QS(e){const t=e.reduce((i,s)=>i.seq>s.seq?i:s,e[0]);let r="";e.forEach(function(i){i===t?r+="	*":r+="	|"});const n=[r,t.id,t.seq];for(const i in Ft.records.branches)Ft.records.branches.get(i)===t.id&&n.push(i);if(U.debug(n.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){const i=Ft.records.commits.get(t.parents[0]);MT(e,t,i),t.parents[1]&&e.push(Ft.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){const i=Ft.records.commits.get(t.parents[0]);MT(e,t,i)}}e=GB(e,i=>i.id),QS(e)}g(QS,"prettyPrintCommitHistory");var cwt=g(function(){U.debug(Ft.records.commits);const e=jB()[0];QS([e])},"prettyPrint"),uwt=g(function(){Ft.reset(),Fr()},"clear"),hwt=g(function(){return[...Ft.records.branchConfig.values()].map((t,r)=>t.order!==null&&t.order!==void 0?t:{...t,order:parseFloat(`0.${r}`)}).sort((t,r)=>(t.order??0)-(r.order??0)).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),dwt=g(function(){return Ft.records.branches},"getBranches"),fwt=g(function(){return Ft.records.commits},"getCommits"),jB=g(function(){const e=[...Ft.records.commits.values()];return e.forEach(function(t){U.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),pwt=g(function(){return Ft.records.currBranch},"getCurrentBranch"),gwt=g(function(){return Ft.records.direction},"getDirection"),mwt=g(function(){return Ft.records.head},"getHead"),YB={commitType:Qe,getConfig:Nc,setDirection:rwt,setOptions:nwt,getOptions:iwt,commit:swt,branch:awt,merge:owt,cherryPick:lwt,checkout:qB,prettyPrint:cwt,clear:uwt,getBranchesAsObjArray:hwt,getBranches:dwt,getCommits:fwt,getCommitsArray:jB,getCurrentBranch:pwt,getDirection:gwt,getHead:mwt,setAccTitle:Pr,getAccTitle:Xr,getAccDescription:Qr,setAccDescription:Kr,setDiagramTitle:on,getDiagramTitle:Vr},ywt=g((e,t)=>{wc(e,t),e.dir&&t.setDirection(e.dir);for(const r of e.statements)xwt(r,t)},"populate"),xwt=g((e,t)=>{const n={Commit:g(i=>t.commit(bwt(i)),"Commit"),Branch:g(i=>t.branch(vwt(i)),"Branch"),Merge:g(i=>t.merge(_wt(i)),"Merge"),Checkout:g(i=>t.checkout(Twt(i)),"Checkout"),CherryPicking:g(i=>t.cherryPick(kwt(i)),"CherryPicking")}[e.$type];n?n(e):U.error(`Unknown statement type: ${e.$type}`)},"parseStatement"),bwt=g(e=>({id:e.id,msg:e.message??"",type:e.type!==void 0?Qe[e.type]:Qe.NORMAL,tags:e.tags??void 0}),"parseCommit"),vwt=g(e=>({name:e.name,order:e.order??0}),"parseBranch"),_wt=g(e=>({branch:e.branch,id:e.id??"",type:e.type!==void 0?Qe[e.type]:void 0,tags:e.tags??void 0}),"parseMerge"),Twt=g(e=>e.branch,"parseCheckout"),kwt=g(e=>{var r;return{id:e.id,targetId:"",tags:((r=e.tags)==null?void 0:r.length)===0?void 0:e.tags,parent:e.parent}},"parseCherryPicking"),wwt={parse:g(async e=>{const t=await nl("gitGraph",e);U.debug(t),ywt(t,YB)},"parse")},cv=rt(),Dr=cv==null?void 0:cv.gitGraph,_o=10,To=40,Us=4,Aa=2,vl=8,li=new Map,hi=new Map,dy=30,Df=new Map,fy=[],yo=0,Ie="LR",Swt=g(()=>{li.clear(),hi.clear(),Df.clear(),yo=0,fy=[],Ie="LR"},"clear"),XB=g(e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(n=>{const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n.trim(),t.appendChild(i)}),t},"drawText"),KB=g(e=>{let t,r,n;return Ie==="BT"?(r=g((i,s)=>i<=s,"comparisonFunc"),n=1/0):(r=g((i,s)=>i>=s,"comparisonFunc"),n=0),e.forEach(i=>{var a,o;const s=Ie==="TB"||Ie=="BT"?(a=hi.get(i))==null?void 0:a.y:(o=hi.get(i))==null?void 0:o.x;s!==void 0&&r(s,n)&&(t=i,n=s)}),t},"findClosestParent"),Cwt=g(e=>{let t="",r=1/0;return e.forEach(n=>{const i=hi.get(n).y;i<=r&&(t=n,r=i)}),t||void 0},"findClosestParentBT"),Ewt=g((e,t,r)=>{let n=r,i=r;const s=[];e.forEach(a=>{const o=t.get(a);if(!o)throw new Error(`Commit not found for key ${a}`);o.parents.length?(n=Lwt(o),i=Math.max(n,i)):s.push(o),Rwt(o,n)}),n=i,s.forEach(a=>{Iwt(a,n,r)}),e.forEach(a=>{const o=t.get(a);if(o!=null&&o.parents.length){const l=Cwt(o.parents);n=hi.get(l).y-To,n<=i&&(i=n);const u=li.get(o.branch).pos,h=n-_o;hi.set(o.id,{x:u,y:h})}})},"setParallelBTPos"),Awt=g(e=>{var n;const t=KB(e.parents.filter(i=>i!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);const r=(n=hi.get(t))==null?void 0:n.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return r},"findClosestParentPos"),Lwt=g(e=>Awt(e)+To,"calculateCommitPosition"),Rwt=g((e,t)=>{const r=li.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);const n=r.pos,i=t+_o;return hi.set(e.id,{x:n,y:i}),{x:n,y:i}},"setCommitPosition"),Iwt=g((e,t,r)=>{const n=li.get(e.branch);if(!n)throw new Error(`Branch not found for commit ${e.id}`);const i=t+r,s=n.pos;hi.set(e.id,{x:s,y:i})},"setRootPosition"),Nwt=g((e,t,r,n,i,s)=>{if(s===Qe.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${i%vl} ${n}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${i%vl} ${n}-inner`);else if(s===Qe.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`);else{const a=e.append("circle");if(a.attr("cx",r.x),a.attr("cy",r.y),a.attr("r",t.type===Qe.MERGE?9:10),a.attr("class",`commit ${t.id} commit${i%vl}`),s===Qe.MERGE){const o=e.append("circle");o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",6),o.attr("class",`commit ${n} ${t.id} commit${i%vl}`)}s===Qe.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${t.id} commit${i%vl}`)}},"drawCommitBullet"),$wt=g((e,t,r,n)=>{var i;if(t.type!==Qe.CHERRY_PICK&&(t.customId&&t.type===Qe.MERGE||t.type!==Qe.MERGE)&&(Dr!=null&&Dr.showCommitLabel)){const s=e.append("g"),a=s.insert("rect").attr("class","commit-label-bkg"),o=s.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(t.id),l=(i=o.node())==null?void 0:i.getBBox();if(l&&(a.attr("x",r.posWithOffset-l.width/2-Aa).attr("y",r.y+13.5).attr("width",l.width+2*Aa).attr("height",l.height+2*Aa),Ie==="TB"||Ie==="BT"?(a.attr("x",r.x-(l.width+4*Us+5)).attr("y",r.y-12),o.attr("x",r.x-(l.width+4*Us)).attr("y",r.y+l.height-12)):o.attr("x",r.posWithOffset-l.width/2),Dr.rotateCommitLabel))if(Ie==="TB"||Ie==="BT")o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),a.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{const u=-7.5-(l.width+10)/25*9.5,h=10+l.width/25*8.5;s.attr("transform","translate("+u+", "+h+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),Owt=g((e,t,r,n)=>{var i;if(t.tags.length>0){let s=0,a=0,o=0;const l=[];for(const u of t.tags.reverse()){const h=e.insert("polygon"),d=e.append("circle"),f=e.append("text").attr("y",r.y-16-s).attr("class","tag-label").text(u),p=(i=f.node())==null?void 0:i.getBBox();if(!p)throw new Error("Tag bbox not found");a=Math.max(a,p.width),o=Math.max(o,p.height),f.attr("x",r.posWithOffset-p.width/2),l.push({tag:f,hole:d,rect:h,yOffset:s}),s+=20}for(const{tag:u,hole:h,rect:d,yOffset:f}of l){const p=o/2,m=r.y-19.2-f;if(d.attr("class","tag-label-bkg").attr("points",`
      ${n-a/2-Us/2},${m+Aa}  
      ${n-a/2-Us/2},${m-Aa}
      ${r.posWithOffset-a/2-Us},${m-p-Aa}
      ${r.posWithOffset+a/2+Us},${m-p-Aa}
      ${r.posWithOffset+a/2+Us},${m+p+Aa}
      ${r.posWithOffset-a/2-Us},${m+p+Aa}`),h.attr("cy",m).attr("cx",n-a/2+Us/2).attr("r",1.5).attr("class","tag-hole"),Ie==="TB"||Ie==="BT"){const y=n+f;d.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${y+2}
        ${r.x},${y-2}
        ${r.x+_o},${y-p-2}
        ${r.x+_o+a+4},${y-p-2}
        ${r.x+_o+a+4},${y+p+2}
        ${r.x+_o},${y+p+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("cx",r.x+Us/2).attr("cy",y).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),u.attr("x",r.x+5).attr("y",y+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),Dwt=g(e=>{switch(e.customType??e.type){case Qe.NORMAL:return"commit-normal";case Qe.REVERSE:return"commit-reverse";case Qe.HIGHLIGHT:return"commit-highlight";case Qe.MERGE:return"commit-merge";case Qe.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),Mwt=g((e,t,r,n)=>{const i={x:0,y:0};if(e.parents.length>0){const s=KB(e.parents);if(s){const a=n.get(s)??i;return t==="TB"?a.y+To:t==="BT"?(n.get(e.id)??i).y-To:a.x+To}}else return t==="TB"?dy:t==="BT"?(n.get(e.id)??i).y-To:0;return 0},"calculatePosition"),Pwt=g((e,t,r)=>{var a,o;const n=Ie==="BT"&&r?t:t+_o,i=Ie==="TB"||Ie==="BT"?n:(a=li.get(e.branch))==null?void 0:a.pos,s=Ie==="TB"||Ie==="BT"?(o=li.get(e.branch))==null?void 0:o.pos:n;if(s===void 0||i===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:s,y:i,posWithOffset:n}},"getCommitPosition"),M6=g((e,t,r)=>{if(!Dr)throw new Error("GitGraph config not found");const n=e.append("g").attr("class","commit-bullets"),i=e.append("g").attr("class","commit-labels");let s=Ie==="TB"||Ie==="BT"?dy:0;const a=[...t.keys()],o=(Dr==null?void 0:Dr.parallelCommits)??!1,l=g((h,d)=>{var m,y;const f=(m=t.get(h))==null?void 0:m.seq,p=(y=t.get(d))==null?void 0:y.seq;return f!==void 0&&p!==void 0?f-p:0},"sortKeys");let u=a.sort(l);Ie==="BT"&&(o&&Ewt(u,t,s),u=u.reverse()),u.forEach(h=>{var p;const d=t.get(h);if(!d)throw new Error(`Commit not found for key ${h}`);o&&(s=Mwt(d,Ie,s,hi));const f=Pwt(d,s,o);if(r){const m=Dwt(d),y=d.customType??d.type,b=((p=li.get(d.branch))==null?void 0:p.index)??0;Nwt(n,d,f,m,b,y),$wt(i,d,f,s),Owt(i,d,f,s)}Ie==="TB"||Ie==="BT"?hi.set(d.id,{x:f.x,y:f.posWithOffset}):hi.set(d.id,{x:f.posWithOffset,y:f.y}),s=Ie==="BT"&&o?s+To:s+To+_o,s>yo&&(yo=s)})},"drawCommits"),Bwt=g((e,t,r,n,i)=>{const a=(Ie==="TB"||Ie==="BT"?r.x<n.x:r.y<n.y)?t.branch:e.branch,o=g(u=>u.branch===a,"isOnBranchToGetCurve"),l=g(u=>u.seq>e.seq&&u.seq<t.seq,"isBetweenCommits");return[...i.values()].some(u=>l(u)&&o(u))},"shouldRerouteArrow"),Mf=g((e,t,r=0)=>{const n=e+Math.abs(e-t)/2;if(r>5)return n;if(fy.every(a=>Math.abs(a-n)>=10))return fy.push(n),n;const s=Math.abs(e-t);return Mf(e,t-s/5,r+1)},"findLane"),Fwt=g((e,t,r,n)=>{var p,m,y,b,x;const i=hi.get(t.id),s=hi.get(r.id);if(i===void 0||s===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);const a=Bwt(t,r,i,s,n);let o="",l="",u=0,h=0,d=(p=li.get(r.branch))==null?void 0:p.index;r.type===Qe.MERGE&&t.id!==r.parents[0]&&(d=(m=li.get(t.branch))==null?void 0:m.index);let f;if(a){o="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10;const v=i.y<s.y?Mf(i.y,s.y):Mf(s.y,i.y),_=i.x<s.x?Mf(i.x,s.x):Mf(s.x,i.x);Ie==="TB"?i.x<s.x?f=`M ${i.x} ${i.y} L ${_-u} ${i.y} ${l} ${_} ${i.y+h} L ${_} ${s.y-u} ${o} ${_+h} ${s.y} L ${s.x} ${s.y}`:(d=(y=li.get(t.branch))==null?void 0:y.index,f=`M ${i.x} ${i.y} L ${_+u} ${i.y} ${o} ${_} ${i.y+h} L ${_} ${s.y-u} ${l} ${_-h} ${s.y} L ${s.x} ${s.y}`):Ie==="BT"?i.x<s.x?f=`M ${i.x} ${i.y} L ${_-u} ${i.y} ${o} ${_} ${i.y-h} L ${_} ${s.y+u} ${l} ${_+h} ${s.y} L ${s.x} ${s.y}`:(d=(b=li.get(t.branch))==null?void 0:b.index,f=`M ${i.x} ${i.y} L ${_+u} ${i.y} ${l} ${_} ${i.y-h} L ${_} ${s.y+u} ${o} ${_-h} ${s.y} L ${s.x} ${s.y}`):i.y<s.y?f=`M ${i.x} ${i.y} L ${i.x} ${v-u} ${o} ${i.x+h} ${v} L ${s.x-u} ${v} ${l} ${s.x} ${v+h} L ${s.x} ${s.y}`:(d=(x=li.get(t.branch))==null?void 0:x.index,f=`M ${i.x} ${i.y} L ${i.x} ${v+u} ${l} ${i.x+h} ${v} L ${s.x-u} ${v} ${o} ${s.x} ${v-h} L ${s.x} ${s.y}`)}else o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,Ie==="TB"?(i.x<s.x&&(r.type===Qe.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${s.y-u} ${o} ${i.x+h} ${s.y} L ${s.x} ${s.y}`:f=`M ${i.x} ${i.y} L ${s.x-u} ${i.y} ${l} ${s.x} ${i.y+h} L ${s.x} ${s.y}`),i.x>s.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===Qe.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${s.y-u} ${l} ${i.x-h} ${s.y} L ${s.x} ${s.y}`:f=`M ${i.x} ${i.y} L ${s.x+u} ${i.y} ${o} ${s.x} ${i.y+h} L ${s.x} ${s.y}`),i.x===s.x&&(f=`M ${i.x} ${i.y} L ${s.x} ${s.y}`)):Ie==="BT"?(i.x<s.x&&(r.type===Qe.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${s.y+u} ${l} ${i.x+h} ${s.y} L ${s.x} ${s.y}`:f=`M ${i.x} ${i.y} L ${s.x-u} ${i.y} ${o} ${s.x} ${i.y-h} L ${s.x} ${s.y}`),i.x>s.x&&(o="A 20 20, 0, 0, 0,",l="A 20 20, 0, 0, 1,",u=20,h=20,r.type===Qe.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${s.y+u} ${o} ${i.x-h} ${s.y} L ${s.x} ${s.y}`:f=`M ${i.x} ${i.y} L ${s.x-u} ${i.y} ${o} ${s.x} ${i.y-h} L ${s.x} ${s.y}`),i.x===s.x&&(f=`M ${i.x} ${i.y} L ${s.x} ${s.y}`)):(i.y<s.y&&(r.type===Qe.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${s.x-u} ${i.y} ${l} ${s.x} ${i.y+h} L ${s.x} ${s.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${s.y-u} ${o} ${i.x+h} ${s.y} L ${s.x} ${s.y}`),i.y>s.y&&(r.type===Qe.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${s.x-u} ${i.y} ${o} ${s.x} ${i.y-h} L ${s.x} ${s.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${s.y+u} ${l} ${i.x+h} ${s.y} L ${s.x} ${s.y}`),i.y===s.y&&(f=`M ${i.x} ${i.y} L ${s.x} ${s.y}`));if(f===void 0)throw new Error("Line definition not found");e.append("path").attr("d",f).attr("class","arrow arrow"+d%vl)},"drawArrow"),Vwt=g((e,t)=>{const r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(n=>{const i=t.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(s=>{Fwt(r,t.get(s),i,t)})})},"drawArrows"),zwt=g((e,t)=>{const r=e.append("g");t.forEach((n,i)=>{var m;const s=i%vl,a=(m=li.get(n.name))==null?void 0:m.pos;if(a===void 0)throw new Error(`Position not found for branch ${n.name}`);const o=r.append("line");o.attr("x1",0),o.attr("y1",a),o.attr("x2",yo),o.attr("y2",a),o.attr("class","branch branch"+s),Ie==="TB"?(o.attr("y1",dy),o.attr("x1",a),o.attr("y2",yo),o.attr("x2",a)):Ie==="BT"&&(o.attr("y1",yo),o.attr("x1",a),o.attr("y2",dy),o.attr("x2",a)),fy.push(a);const l=n.name,u=XB(l),h=r.insert("rect"),f=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+s);f.node().appendChild(u);const p=u.getBBox();h.attr("class","branchLabelBkg label"+s).attr("rx",4).attr("ry",4).attr("x",-p.width-4-((Dr==null?void 0:Dr.rotateCommitLabel)===!0?30:0)).attr("y",-p.height/2+8).attr("width",p.width+18).attr("height",p.height+4),f.attr("transform","translate("+(-p.width-14-((Dr==null?void 0:Dr.rotateCommitLabel)===!0?30:0))+", "+(a-p.height/2-1)+")"),Ie==="TB"?(h.attr("x",a-p.width/2-10).attr("y",0),f.attr("transform","translate("+(a-p.width/2-5)+", 0)")):Ie==="BT"?(h.attr("x",a-p.width/2-10).attr("y",yo),f.attr("transform","translate("+(a-p.width/2-5)+", "+yo+")")):h.attr("transform","translate(-19, "+(a-p.height/2)+")")})},"drawBranches"),Wwt=g(function(e,t,r,n,i){return li.set(e,{pos:t,index:r}),t+=50+(i?40:0)+(Ie==="TB"||Ie==="BT"?n.width/2:0),t},"setBranchPosition"),Uwt=g(function(e,t,r,n){if(Swt(),U.debug("in gitgraph renderer",e+`
`,"id:",t,r),!Dr)throw new Error("GitGraph config not found");const i=Dr.rotateCommitLabel??!1,s=n.db;Df=s.getCommits();const a=s.getBranchesAsObjArray();Ie=s.getDirection();const o=Lt(`[id="${t}"]`);let l=0;a.forEach((u,h)=>{var b;const d=XB(u.name),f=o.append("g"),p=f.insert("g").attr("class","branchLabel"),m=p.insert("g").attr("class","label branch-label");(b=m.node())==null||b.appendChild(d);const y=d.getBBox();l=Wwt(u.name,l,h,y,i),m.remove(),p.remove(),f.remove()}),M6(o,Df,!1),Dr.showBranches&&zwt(o,a),Vwt(o,Df),M6(o,Df,!0),be.insertTitle(o,"gitTitleText",Dr.titleTopMargin??0,s.getDiagramTitle()),x8(void 0,o,Dr.diagramPadding,Dr.useMaxWidth)},"draw"),Hwt={draw:Uwt},Gwt=g(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),qwt=Gwt,jwt={parser:wwt,db:YB,renderer:Hwt,styles:qwt};const Ywt=Object.freeze(Object.defineProperty({__proto__:null,diagram:jwt},Symbol.toStringTag,{value:"Module"}));var PT=function(){var e=g(function(A,L,N,D){for(N=N||{},D=A.length;D--;N[A[D]]=L);return N},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],s=[1,29],a=[1,30],o=[1,31],l=[1,32],u=[1,33],h=[1,34],d=[1,9],f=[1,10],p=[1,11],m=[1,12],y=[1,13],b=[1,14],x=[1,15],v=[1,16],_=[1,19],S=[1,20],k=[1,21],T=[1,22],E=[1,23],I=[1,25],C=[1,35],R={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:g(function(L,N,D,P,O,M,Y){var F=M.length-1;switch(O){case 1:return M[F-1];case 2:this.$=[];break;case 3:M[F-1].push(M[F]),this.$=M[F-1];break;case 4:case 5:this.$=M[F];break;case 6:case 7:this.$=[];break;case 8:P.setWeekday("monday");break;case 9:P.setWeekday("tuesday");break;case 10:P.setWeekday("wednesday");break;case 11:P.setWeekday("thursday");break;case 12:P.setWeekday("friday");break;case 13:P.setWeekday("saturday");break;case 14:P.setWeekday("sunday");break;case 15:P.setWeekend("friday");break;case 16:P.setWeekend("saturday");break;case 17:P.setDateFormat(M[F].substr(11)),this.$=M[F].substr(11);break;case 18:P.enableInclusiveEndDates(),this.$=M[F].substr(18);break;case 19:P.TopAxis(),this.$=M[F].substr(8);break;case 20:P.setAxisFormat(M[F].substr(11)),this.$=M[F].substr(11);break;case 21:P.setTickInterval(M[F].substr(13)),this.$=M[F].substr(13);break;case 22:P.setExcludes(M[F].substr(9)),this.$=M[F].substr(9);break;case 23:P.setIncludes(M[F].substr(9)),this.$=M[F].substr(9);break;case 24:P.setTodayMarker(M[F].substr(12)),this.$=M[F].substr(12);break;case 27:P.setDiagramTitle(M[F].substr(6)),this.$=M[F].substr(6);break;case 28:this.$=M[F].trim(),P.setAccTitle(this.$);break;case 29:case 30:this.$=M[F].trim(),P.setAccDescription(this.$);break;case 31:P.addSection(M[F].substr(8)),this.$=M[F].substr(8);break;case 33:P.addTask(M[F-1],M[F]),this.$="task";break;case 34:this.$=M[F-1],P.setClickEvent(M[F-1],M[F],null);break;case 35:this.$=M[F-2],P.setClickEvent(M[F-2],M[F-1],M[F]);break;case 36:this.$=M[F-2],P.setClickEvent(M[F-2],M[F-1],null),P.setLink(M[F-2],M[F]);break;case 37:this.$=M[F-3],P.setClickEvent(M[F-3],M[F-2],M[F-1]),P.setLink(M[F-3],M[F]);break;case 38:this.$=M[F-2],P.setClickEvent(M[F-2],M[F],null),P.setLink(M[F-2],M[F-1]);break;case 39:this.$=M[F-3],P.setClickEvent(M[F-3],M[F-1],M[F]),P.setLink(M[F-3],M[F-2]);break;case 40:this.$=M[F-1],P.setLink(M[F-1],M[F]);break;case 41:case 47:this.$=M[F-1]+" "+M[F];break;case 42:case 43:case 45:this.$=M[F-2]+" "+M[F-1]+" "+M[F];break;case 44:case 46:this.$=M[F-3]+" "+M[F-2]+" "+M[F-1]+" "+M[F];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:s,16:a,17:o,18:l,19:18,20:u,21:h,22:d,23:f,24:p,25:m,26:y,27:b,28:x,29:v,30:_,31:S,33:k,35:T,36:E,37:24,38:I,40:C},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:s,16:a,17:o,18:l,19:18,20:u,21:h,22:d,23:f,24:p,25:m,26:y,27:b,28:x,29:v,30:_,31:S,33:k,35:T,36:E,37:24,38:I,40:C},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:g(function(L,N){if(N.recoverable)this.trace(L);else{var D=new Error(L);throw D.hash=N,D}},"parseError"),parse:g(function(L){var N=this,D=[0],P=[],O=[null],M=[],Y=this.table,F="",j=0,it=0,ft=2,J=1,dt=M.slice.call(arguments,1),et=Object.create(this.lexer),St={yy:{}};for(var ct in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ct)&&(St.yy[ct]=this.yy[ct]);et.setInput(L,St.yy),St.yy.lexer=et,St.yy.parser=this,typeof et.yylloc>"u"&&(et.yylloc={});var bt=et.yylloc;M.push(bt);var nt=et.options&&et.options.ranges;typeof St.yy.parseError=="function"?this.parseError=St.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Z(lt){D.length=D.length-2*lt,O.length=O.length-lt,M.length=M.length-lt}g(Z,"popStack");function z(){var lt;return lt=P.pop()||et.lex()||J,typeof lt!="number"&&(lt instanceof Array&&(P=lt,lt=P.pop()),lt=N.symbols_[lt]||lt),lt}g(z,"lex");for(var V,G,W,ot,B={},wt,K,vt,mt;;){if(G=D[D.length-1],this.defaultActions[G]?W=this.defaultActions[G]:((V===null||typeof V>"u")&&(V=z()),W=Y[G]&&Y[G][V]),typeof W>"u"||!W.length||!W[0]){var Nt="";mt=[];for(wt in Y[G])this.terminals_[wt]&&wt>ft&&mt.push("'"+this.terminals_[wt]+"'");et.showPosition?Nt="Parse error on line "+(j+1)+`:
`+et.showPosition()+`
Expecting `+mt.join(", ")+", got '"+(this.terminals_[V]||V)+"'":Nt="Parse error on line "+(j+1)+": Unexpected "+(V==J?"end of input":"'"+(this.terminals_[V]||V)+"'"),this.parseError(Nt,{text:et.match,token:this.terminals_[V]||V,line:et.yylineno,loc:bt,expected:mt})}if(W[0]instanceof Array&&W.length>1)throw new Error("Parse Error: multiple actions possible at state: "+G+", token: "+V);switch(W[0]){case 1:D.push(V),O.push(et.yytext),M.push(et.yylloc),D.push(W[1]),V=null,it=et.yyleng,F=et.yytext,j=et.yylineno,bt=et.yylloc;break;case 2:if(K=this.productions_[W[1]][1],B.$=O[O.length-K],B._$={first_line:M[M.length-(K||1)].first_line,last_line:M[M.length-1].last_line,first_column:M[M.length-(K||1)].first_column,last_column:M[M.length-1].last_column},nt&&(B._$.range=[M[M.length-(K||1)].range[0],M[M.length-1].range[1]]),ot=this.performAction.apply(B,[F,it,j,St.yy,W[1],O,M].concat(dt)),typeof ot<"u")return ot;K&&(D=D.slice(0,-1*K*2),O=O.slice(0,-1*K),M=M.slice(0,-1*K)),D.push(this.productions_[W[1]][0]),O.push(B.$),M.push(B._$),vt=Y[D[D.length-2]][D[D.length-1]],D.push(vt);break;case 3:return!0}}return!0},"parse")},w=function(){var A={EOF:1,parseError:g(function(N,D){if(this.yy.parser)this.yy.parser.parseError(N,D);else throw new Error(N)},"parseError"),setInput:g(function(L,N){return this.yy=N||this.yy||{},this._input=L,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var L=this._input[0];this.yytext+=L,this.yyleng++,this.offset++,this.match+=L,this.matched+=L;var N=L.match(/(?:\r\n?|\n).*/g);return N?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),L},"input"),unput:g(function(L){var N=L.length,D=L.split(/(?:\r\n?|\n)/g);this._input=L+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),D.length-1&&(this.yylineno-=D.length-1);var O=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:D?(D.length===P.length?this.yylloc.first_column:0)+P[P.length-D.length].length-D[0].length:this.yylloc.first_column-N},this.options.ranges&&(this.yylloc.range=[O[0],O[0]+this.yyleng-N]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(L){this.unput(this.match.slice(L))},"less"),pastInput:g(function(){var L=this.matched.substr(0,this.matched.length-this.match.length);return(L.length>20?"...":"")+L.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var L=this.match;return L.length<20&&(L+=this._input.substr(0,20-L.length)),(L.substr(0,20)+(L.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var L=this.pastInput(),N=new Array(L.length+1).join("-");return L+this.upcomingInput()+`
`+N+"^"},"showPosition"),test_match:g(function(L,N){var D,P,O;if(this.options.backtrack_lexer&&(O={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(O.yylloc.range=this.yylloc.range.slice(0))),P=L[0].match(/(?:\r\n?|\n).*/g),P&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+L[0].length},this.yytext+=L[0],this.match+=L[0],this.matches=L,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(L[0].length),this.matched+=L[0],D=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),D)return D;if(this._backtrack){for(var M in O)this[M]=O[M];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var L,N,D,P;this._more||(this.yytext="",this.match="");for(var O=this._currentRules(),M=0;M<O.length;M++)if(D=this._input.match(this.rules[O[M]]),D&&(!N||D[0].length>N[0].length)){if(N=D,P=M,this.options.backtrack_lexer){if(L=this.test_match(D,O[M]),L!==!1)return L;if(this._backtrack){N=!1;continue}else return!1}else if(!this.options.flex)break}return N?(L=this.test_match(N,O[P]),L!==!1?L:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var N=this.next();return N||this.lex()},"lex"),begin:g(function(N){this.conditionStack.push(N)},"begin"),popState:g(function(){var N=this.conditionStack.length-1;return N>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(N){return N=this.conditionStack.length-1-Math.abs(N||0),N>=0?this.conditionStack[N]:"INITIAL"},"topState"),pushState:g(function(N){this.begin(N)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(N,D,P,O){switch(P){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return A}();R.lexer=w;function $(){this.yy={}}return g($,"Parser"),$.prototype=R,R.Parser=$,new $}();PT.parser=PT;var Xwt=PT;rn.extend(Nz);rn.extend($z);rn.extend(Oz);var P6={friday:5,saturday:6},Zs="",ZS="",JS=void 0,t3="",Ig=[],Ng=[],e3=new Map,r3=[],py=[],Zh="",n3="",QB=["active","done","crit","milestone","vert"],i3=[],$g=!1,s3=!1,a3="sunday",gy="saturday",BT=0,Kwt=g(function(){r3=[],py=[],Zh="",i3=[],S0=0,VT=void 0,C0=void 0,Hr=[],Zs="",ZS="",n3="",JS=void 0,t3="",Ig=[],Ng=[],$g=!1,s3=!1,BT=0,e3=new Map,Fr(),a3="sunday",gy="saturday"},"clear"),Qwt=g(function(e){ZS=e},"setAxisFormat"),Zwt=g(function(){return ZS},"getAxisFormat"),Jwt=g(function(e){JS=e},"setTickInterval"),tSt=g(function(){return JS},"getTickInterval"),eSt=g(function(e){t3=e},"setTodayMarker"),rSt=g(function(){return t3},"getTodayMarker"),nSt=g(function(e){Zs=e},"setDateFormat"),iSt=g(function(){$g=!0},"enableInclusiveEndDates"),sSt=g(function(){return $g},"endDatesAreInclusive"),aSt=g(function(){s3=!0},"enableTopAxis"),oSt=g(function(){return s3},"topAxisEnabled"),lSt=g(function(e){n3=e},"setDisplayMode"),cSt=g(function(){return n3},"getDisplayMode"),uSt=g(function(){return Zs},"getDateFormat"),hSt=g(function(e){Ig=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),dSt=g(function(){return Ig},"getIncludes"),fSt=g(function(e){Ng=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),pSt=g(function(){return Ng},"getExcludes"),gSt=g(function(){return e3},"getLinks"),mSt=g(function(e){Zh=e,r3.push(e)},"addSection"),ySt=g(function(){return r3},"getSections"),xSt=g(function(){let e=B6();const t=10;let r=0;for(;!e&&r<t;)e=B6(),r++;return py=Hr,py},"getTasks"),ZB=g(function(e,t,r,n){const i=e.format(t.trim()),s=e.format("YYYY-MM-DD");return n.includes(i)||n.includes(s)?!1:r.includes("weekends")&&(e.isoWeekday()===P6[gy]||e.isoWeekday()===P6[gy]+1)||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(i)||r.includes(s)},"isInvalidDate"),bSt=g(function(e){a3=e},"setWeekday"),vSt=g(function(){return a3},"getWeekday"),_St=g(function(e){gy=e},"setWeekend"),JB=g(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let i;e.startTime instanceof Date?i=rn(e.startTime):i=rn(e.startTime,t,!0),i=i.add(1,"d");let s;e.endTime instanceof Date?s=rn(e.endTime):s=rn(e.endTime,t,!0);const[a,o]=TSt(i,s,t,r,n);e.endTime=a.toDate(),e.renderEndTime=o},"checkTaskDates"),TSt=g(function(e,t,r,n,i){let s=!1,a=null;for(;e<=t;)s||(a=t.toDate()),s=ZB(e,r,n,i),s&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,a]},"fixTaskDates"),FT=g(function(e,t,r){if(r=r.trim(),g(o=>{const l=o.trim();return l==="x"||l==="X"},"isTimestampFormat")(t)&&/^\d+$/.test(r))return new Date(Number(r));const s=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(s!==null){let o=null;for(const u of s.groups.ids.split(" ")){let h=$c(u);h!==void 0&&(!o||h.endTime>o.endTime)&&(o=h)}if(o)return o.endTime;const l=new Date;return l.setHours(0,0,0,0),l}let a=rn(r,t.trim(),!0);if(a.isValid())return a.toDate();{U.debug("Invalid date:"+r),U.debug("With date format:"+t.trim());const o=new Date(r);if(o===void 0||isNaN(o.getTime())||o.getFullYear()<-1e4||o.getFullYear()>1e4)throw new Error("Invalid date:"+r);return o}},"getStartDate"),tF=g(function(e){const t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),eF=g(function(e,t,r,n=!1){r=r.trim();const s=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(s!==null){let h=null;for(const f of s.groups.ids.split(" ")){let p=$c(f);p!==void 0&&(!h||p.startTime<h.startTime)&&(h=p)}if(h)return h.startTime;const d=new Date;return d.setHours(0,0,0,0),d}let a=rn(r,t.trim(),!0);if(a.isValid())return n&&(a=a.add(1,"d")),a.toDate();let o=rn(e);const[l,u]=tF(r);if(!Number.isNaN(l)){const h=o.add(l,u);h.isValid()&&(o=h)}return o.toDate()},"getEndDate"),S0=0,_u=g(function(e){return e===void 0?(S0=S0+1,"task"+S0):e},"parseId"),kSt=g(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;const n=r.split(","),i={};o3(n,i,QB);for(let a=0;a<n.length;a++)n[a]=n[a].trim();let s="";switch(n.length){case 1:i.id=_u(),i.startTime=e.endTime,s=n[0];break;case 2:i.id=_u(),i.startTime=FT(void 0,Zs,n[0]),s=n[1];break;case 3:i.id=_u(n[0]),i.startTime=FT(void 0,Zs,n[1]),s=n[2];break}return s&&(i.endTime=eF(i.startTime,Zs,s,$g),i.manualEndTime=rn(s,"YYYY-MM-DD",!0).isValid(),JB(i,Zs,Ng,Ig)),i},"compileData"),wSt=g(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;const n=r.split(","),i={};o3(n,i,QB);for(let s=0;s<n.length;s++)n[s]=n[s].trim();switch(n.length){case 1:i.id=_u(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=_u(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=_u(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break}return i},"parseData"),VT,C0,Hr=[],rF={},SSt=g(function(e,t){const r={section:Zh,type:Zh,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=wSt(C0,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=C0,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.vert=n.vert,r.order=BT,BT++;const i=Hr.push(r);C0=r.id,rF[r.id]=i-1},"addTask"),$c=g(function(e){const t=rF[e];return Hr[t]},"findTaskById"),CSt=g(function(e,t){const r={section:Zh,type:Zh,description:e,task:e,classes:[]},n=kSt(VT,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.vert=n.vert,VT=r,py.push(r)},"addTaskOrg"),B6=g(function(){const e=g(function(r){const n=Hr[r];let i="";switch(Hr[r].raw.startTime.type){case"prevTaskEnd":{const s=$c(n.prevTaskId);n.startTime=s.endTime;break}case"getStartDate":i=FT(void 0,Zs,Hr[r].raw.startTime.startData),i&&(Hr[r].startTime=i);break}return Hr[r].startTime&&(Hr[r].endTime=eF(Hr[r].startTime,Zs,Hr[r].raw.endTime.data,$g),Hr[r].endTime&&(Hr[r].processed=!0,Hr[r].manualEndTime=rn(Hr[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),JB(Hr[r],Zs,Ng,Ig))),Hr[r].processed},"compileTask");let t=!0;for(const[r,n]of Hr.entries())e(r),t=t&&n.processed;return t},"compileTasks"),ESt=g(function(e,t){let r=t;rt().securityLevel!=="loose"&&(r=Go(t)),e.split(",").forEach(function(n){$c(n)!==void 0&&(iF(n,()=>{window.open(r,"_self")}),e3.set(n,r))}),nF(e,"clickable")},"setLink"),nF=g(function(e,t){e.split(",").forEach(function(r){let n=$c(r);n!==void 0&&n.classes.push(t)})},"setClass"),ASt=g(function(e,t,r){if(rt().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<n.length;s++){let a=n[s].trim();a.startsWith('"')&&a.endsWith('"')&&(a=a.substr(1,a.length-2)),n[s]=a}}n.length===0&&n.push(e),$c(e)!==void 0&&iF(e,()=>{be.runFunc(t,...n)})},"setClickFun"),iF=g(function(e,t){i3.push(function(){const r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){const r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),LSt=g(function(e,t,r){e.split(",").forEach(function(n){ASt(n,t,r)}),nF(e,"clickable")},"setClickEvent"),RSt=g(function(e){i3.forEach(function(t){t(e)})},"bindFunctions"),ISt={getConfig:g(()=>rt().gantt,"getConfig"),clear:Kwt,setDateFormat:nSt,getDateFormat:uSt,enableInclusiveEndDates:iSt,endDatesAreInclusive:sSt,enableTopAxis:aSt,topAxisEnabled:oSt,setAxisFormat:Qwt,getAxisFormat:Zwt,setTickInterval:Jwt,getTickInterval:tSt,setTodayMarker:eSt,getTodayMarker:rSt,setAccTitle:Pr,getAccTitle:Xr,setDiagramTitle:on,getDiagramTitle:Vr,setDisplayMode:lSt,getDisplayMode:cSt,setAccDescription:Kr,getAccDescription:Qr,addSection:mSt,getSections:ySt,getTasks:xSt,addTask:SSt,findTaskById:$c,addTaskOrg:CSt,setIncludes:hSt,getIncludes:dSt,setExcludes:fSt,getExcludes:pSt,setClickEvent:LSt,setLink:ESt,getLinks:gSt,bindFunctions:RSt,parseDuration:tF,isInvalidDate:ZB,setWeekday:bSt,getWeekday:vSt,setWeekend:_St};function o3(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){const s="^\\s*"+i+"\\s*$",a=new RegExp(s);e[0].match(a)&&(t[i]=!0,e.shift(1),n=!0)})}g(o3,"getTaskTags");rn.extend(Dz);var NSt=g(function(){U.debug("Something is calling, setConf, remove the call")},"setConf"),F6={monday:yp,tuesday:i7,wednesday:s7,thursday:ql,friday:a7,saturday:o7,sunday:cg},$St=g((e,t)=>{let r=[...e].map(()=>-1/0),n=[...e].sort((s,a)=>s.startTime-a.startTime||s.order-a.order),i=0;for(const s of n)for(let a=0;a<r.length;a++)if(s.startTime>=r[a]){r[a]=s.endTime,s.order=a+t,a>i&&(i=a);break}return i},"getMaxIntersections"),ba,uv=1e4,OSt=g(function(e,t,r,n){const i=rt().gantt,s=rt().securityLevel;let a;s==="sandbox"&&(a=Lt("#i"+t));const o=Lt(s==="sandbox"?a.nodes()[0].contentDocument.body:"body"),l=s==="sandbox"?a.nodes()[0].contentDocument:document,u=l.getElementById(t);ba=u.parentElement.offsetWidth,ba===void 0&&(ba=1200),i.useWidth!==void 0&&(ba=i.useWidth);const h=n.db.getTasks();let d=[];for(const C of h)d.push(C.type);d=I(d);const f={};let p=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){const C={};for(const w of h)C[w.section]===void 0?C[w.section]=[w]:C[w.section].push(w);let R=0;for(const w of Object.keys(C)){const $=$St(C[w],R)+1;R+=$,p+=$*(i.barHeight+i.barGap),f[w]=$}}else{p+=h.length*(i.barHeight+i.barGap);for(const C of d)f[C]=h.filter(R=>R.type===C).length}u.setAttribute("viewBox","0 0 "+ba+" "+p);const m=o.select(`[id="${t}"]`),y=UQ().domain([KG(h,function(C){return C.startTime}),XG(h,function(C){return C.endTime})]).rangeRound([0,ba-i.leftPadding-i.rightPadding]);function b(C,R){const w=C.startTime,$=R.startTime;let A=0;return w>$?A=1:w<$&&(A=-1),A}g(b,"taskCompare"),h.sort(b),x(h,ba,p),ei(m,p,ba,i.useMaxWidth),m.append("text").text(n.db.getDiagramTitle()).attr("x",ba/2).attr("y",i.titleTopMargin).attr("class","titleText");function x(C,R,w){const $=i.barHeight,A=$+i.barGap,L=i.topPadding,N=i.leftPadding,D=Rh().domain([0,d.length]).range(["#00B9FA","#F95002"]).interpolate(bY);_(A,L,N,R,w,C,n.db.getExcludes(),n.db.getIncludes()),k(N,L,R,w),v(C,A,L,N,$,D,R),T(A,L),E(N,L,R,w)}g(x,"makeGantt");function v(C,R,w,$,A,L,N){C.sort((F,j)=>F.vert===j.vert?0:F.vert?1:-1);const P=[...new Set(C.map(F=>F.order))].map(F=>C.find(j=>j.order===F));m.append("g").selectAll("rect").data(P).enter().append("rect").attr("x",0).attr("y",function(F,j){return j=F.order,j*R+w-2}).attr("width",function(){return N-i.rightPadding/2}).attr("height",R).attr("class",function(F){for(const[j,it]of d.entries())if(F.type===it)return"section section"+j%i.numberSectionStyles;return"section section0"}).enter();const O=m.append("g").selectAll("rect").data(C).enter(),M=n.db.getLinks();if(O.append("rect").attr("id",function(F){return F.id}).attr("rx",3).attr("ry",3).attr("x",function(F){return F.milestone?y(F.startTime)+$+.5*(y(F.endTime)-y(F.startTime))-.5*A:y(F.startTime)+$}).attr("y",function(F,j){return j=F.order,F.vert?i.gridLineStartPadding:j*R+w}).attr("width",function(F){return F.milestone?A:F.vert?.08*A:y(F.renderEndTime||F.endTime)-y(F.startTime)}).attr("height",function(F){return F.vert?h.length*(i.barHeight+i.barGap)+i.barHeight*2:A}).attr("transform-origin",function(F,j){return j=F.order,(y(F.startTime)+$+.5*(y(F.endTime)-y(F.startTime))).toString()+"px "+(j*R+w+.5*A).toString()+"px"}).attr("class",function(F){const j="task";let it="";F.classes.length>0&&(it=F.classes.join(" "));let ft=0;for(const[dt,et]of d.entries())F.type===et&&(ft=dt%i.numberSectionStyles);let J="";return F.active?F.crit?J+=" activeCrit":J=" active":F.done?F.crit?J=" doneCrit":J=" done":F.crit&&(J+=" crit"),J.length===0&&(J=" task"),F.milestone&&(J=" milestone "+J),F.vert&&(J=" vert "+J),J+=ft,J+=" "+it,j+J}),O.append("text").attr("id",function(F){return F.id+"-text"}).text(function(F){return F.task}).attr("font-size",i.fontSize).attr("x",function(F){let j=y(F.startTime),it=y(F.renderEndTime||F.endTime);if(F.milestone&&(j+=.5*(y(F.endTime)-y(F.startTime))-.5*A,it=j+A),F.vert)return y(F.startTime)+$;const ft=this.getBBox().width;return ft>it-j?it+ft+1.5*i.leftPadding>N?j+$-5:it+$+5:(it-j)/2+j+$}).attr("y",function(F,j){return F.vert?i.gridLineStartPadding+h.length*(i.barHeight+i.barGap)+60:(j=F.order,j*R+i.barHeight/2+(i.fontSize/2-2)+w)}).attr("text-height",A).attr("class",function(F){const j=y(F.startTime);let it=y(F.endTime);F.milestone&&(it=j+A);const ft=this.getBBox().width;let J="";F.classes.length>0&&(J=F.classes.join(" "));let dt=0;for(const[St,ct]of d.entries())F.type===ct&&(dt=St%i.numberSectionStyles);let et="";return F.active&&(F.crit?et="activeCritText"+dt:et="activeText"+dt),F.done?F.crit?et=et+" doneCritText"+dt:et=et+" doneText"+dt:F.crit&&(et=et+" critText"+dt),F.milestone&&(et+=" milestoneText"),F.vert&&(et+=" vertText"),ft>it-j?it+ft+1.5*i.leftPadding>N?J+" taskTextOutsideLeft taskTextOutside"+dt+" "+et:J+" taskTextOutsideRight taskTextOutside"+dt+" "+et+" width-"+ft:J+" taskText taskText"+dt+" "+et+" width-"+ft}),rt().securityLevel==="sandbox"){let F;F=Lt("#i"+t);const j=F.nodes()[0].contentDocument;O.filter(function(it){return M.has(it.id)}).each(function(it){var ft=j.querySelector("#"+it.id),J=j.querySelector("#"+it.id+"-text");const dt=ft.parentNode;var et=j.createElement("a");et.setAttribute("xlink:href",M.get(it.id)),et.setAttribute("target","_top"),dt.appendChild(et),et.appendChild(ft),et.appendChild(J)})}}g(v,"drawRects");function _(C,R,w,$,A,L,N,D){if(N.length===0&&D.length===0)return;let P,O;for(const{startTime:ft,endTime:J}of L)(P===void 0||ft<P)&&(P=ft),(O===void 0||J>O)&&(O=J);if(!P||!O)return;if(rn(O).diff(rn(P),"year")>5){U.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const M=n.db.getDateFormat(),Y=[];let F=null,j=rn(P);for(;j.valueOf()<=O;)n.db.isInvalidDate(j,M,N,D)?F?F.end=j:F={start:j,end:j}:F&&(Y.push(F),F=null),j=j.add(1,"d");m.append("g").selectAll("rect").data(Y).enter().append("rect").attr("id",ft=>"exclude-"+ft.start.format("YYYY-MM-DD")).attr("x",ft=>y(ft.start.startOf("day"))+w).attr("y",i.gridLineStartPadding).attr("width",ft=>y(ft.end.endOf("day"))-y(ft.start.startOf("day"))).attr("height",A-R-i.gridLineStartPadding).attr("transform-origin",function(ft,J){return(y(ft.start)+w+.5*(y(ft.end)-y(ft.start))).toString()+"px "+(J*C+.5*A).toString()+"px"}).attr("class","exclude-range")}g(_,"drawExcludeDays");function S(C,R,w,$){if(w<=0||C>R)return 1/0;const A=R-C,L=rn.duration({[$??"day"]:w}).asMilliseconds();return L<=0?1/0:Math.ceil(A/L)}g(S,"getEstimatedTickCount");function k(C,R,w,$){const A=n.db.getDateFormat(),L=n.db.getAxisFormat();let N;L?N=L:A==="D"?N="%d":N=i.axisFormat??"%Y-%m-%d";let D=sq(y).tickSize(-$+R+i.gridLineStartPadding).tickFormat(im(N));const O=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(O!==null){const M=parseInt(O[1],10);if(isNaN(M)||M<=0)U.warn(`Invalid tick interval value: "${O[1]}". Skipping custom tick interval.`);else{const Y=O[2],F=n.db.getWeekday()||i.weekday,j=y.domain(),it=j[0],ft=j[1],J=S(it,ft,M,Y);if(J>uv)U.warn(`The tick interval "${M}${Y}" would generate ${J} ticks, which exceeds the maximum allowed (${uv}). This may indicate an invalid date or time range. Skipping custom tick interval.`);else switch(Y){case"millisecond":D.ticks(Ih.every(M));break;case"second":D.ticks(bo.every(M));break;case"minute":D.ticks(gp.every(M));break;case"hour":D.ticks(mp.every(M));break;case"day":D.ticks(Gl.every(M));break;case"week":D.ticks(F6[F].every(M));break;case"month":D.ticks(xp.every(M));break}}}if(m.append("g").attr("class","grid").attr("transform","translate("+C+", "+($-50)+")").call(D).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let M=iq(y).tickSize(-$+R+i.gridLineStartPadding).tickFormat(im(N));if(O!==null){const Y=parseInt(O[1],10);if(isNaN(Y)||Y<=0)U.warn(`Invalid tick interval value: "${O[1]}". Skipping custom tick interval.`);else{const F=O[2],j=n.db.getWeekday()||i.weekday,it=y.domain(),ft=it[0],J=it[1];if(S(ft,J,Y,F)<=uv)switch(F){case"millisecond":M.ticks(Ih.every(Y));break;case"second":M.ticks(bo.every(Y));break;case"minute":M.ticks(gp.every(Y));break;case"hour":M.ticks(mp.every(Y));break;case"day":M.ticks(Gl.every(Y));break;case"week":M.ticks(F6[j].every(Y));break;case"month":M.ticks(xp.every(Y));break}}}m.append("g").attr("class","grid").attr("transform","translate("+C+", "+R+")").call(M).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}g(k,"makeGrid");function T(C,R){let w=0;const $=Object.keys(f).map(A=>[A,f[A]]);m.append("g").selectAll("text").data($).enter().append(function(A){const L=A[0].split(Ot.lineBreakRegex),N=-(L.length-1)/2,D=l.createElementNS("http://www.w3.org/2000/svg","text");D.setAttribute("dy",N+"em");for(const[P,O]of L.entries()){const M=l.createElementNS("http://www.w3.org/2000/svg","tspan");M.setAttribute("alignment-baseline","central"),M.setAttribute("x","10"),P>0&&M.setAttribute("dy","1em"),M.textContent=O,D.appendChild(M)}return D}).attr("x",10).attr("y",function(A,L){if(L>0)for(let N=0;N<L;N++)return w+=$[L-1][1],A[1]*C/2+w*C+R;else return A[1]*C/2+R}).attr("font-size",i.sectionFontSize).attr("class",function(A){for(const[L,N]of d.entries())if(A[0]===N)return"sectionTitle sectionTitle"+L%i.numberSectionStyles;return"sectionTitle"})}g(T,"vertLabels");function E(C,R,w,$){const A=n.db.getTodayMarker();if(A==="off")return;const L=m.append("g").attr("class","today"),N=new Date,D=L.append("line");D.attr("x1",y(N)+C).attr("x2",y(N)+C).attr("y1",i.titleTopMargin).attr("y2",$-i.titleTopMargin).attr("class","today"),A!==""&&D.attr("style",A.replace(/,/g,";"))}g(E,"drawToday");function I(C){const R={},w=[];for(let $=0,A=C.length;$<A;++$)Object.prototype.hasOwnProperty.call(R,C[$])||(R[C[$]]=!0,w.push(C[$]));return w}g(I,"checkUnique")},"draw"),DSt={setConf:NSt,draw:OSt},MSt=g(e=>`
  .mermaid-main-font {
        font-family: ${e.fontFamily};
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${e.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .vert {
    stroke: ${e.vertLineColor};
  }

  .vertText {
    font-size: 15px;
    text-anchor: middle;
    fill: ${e.vertLineColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: ${e.fontFamily};
  }
`,"getStyles"),PSt=MSt,BSt={parser:Xwt,db:ISt,renderer:DSt,styles:PSt};const FSt=Object.freeze(Object.defineProperty({__proto__:null,diagram:BSt},Symbol.toStringTag,{value:"Module"}));var VSt={parse:g(async e=>{const t=await nl("info",e);U.debug(t)},"parse")},zSt={version:$v.version+""},WSt=g(()=>zSt.version,"getVersion"),USt={getVersion:WSt},HSt=g((e,t,r)=>{U.debug(`rendering info diagram
`+e);const n=eo(t);ei(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),GSt={draw:HSt},qSt={parser:VSt,db:USt,renderer:GSt};const jSt=Object.freeze(Object.defineProperty({__proto__:null,diagram:qSt},Symbol.toStringTag,{value:"Module"}));var YSt=Re.pie,l3={sections:new Map,showData:!1},my=l3.sections,c3=l3.showData,XSt=structuredClone(YSt),KSt=g(()=>structuredClone(XSt),"getConfig"),QSt=g(()=>{my=new Map,c3=l3.showData,Fr()},"clear"),ZSt=g(({label:e,value:t})=>{if(t<0)throw new Error(`"${e}" has invalid value: ${t}. Negative values are not allowed in pie charts. All slice values must be >= 0.`);my.has(e)||(my.set(e,t),U.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),JSt=g(()=>my,"getSections"),t3t=g(e=>{c3=e},"setShowData"),e3t=g(()=>c3,"getShowData"),sF={getConfig:KSt,clear:QSt,setDiagramTitle:on,getDiagramTitle:Vr,setAccTitle:Pr,getAccTitle:Xr,setAccDescription:Kr,getAccDescription:Qr,addSection:ZSt,getSections:JSt,setShowData:t3t,getShowData:e3t},r3t=g((e,t)=>{wc(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),n3t={parse:g(async e=>{const t=await nl("pie",e);U.debug(t),r3t(t,sF)},"parse")},i3t=g(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),s3t=i3t,a3t=g(e=>{const t=[...e.values()].reduce((i,s)=>i+s,0),r=[...e.entries()].map(([i,s])=>({label:i,value:s})).filter(i=>i.value/t*100>=1).sort((i,s)=>s.value-i.value);return iZ().value(i=>i.value)(r)},"createPieArcs"),o3t=g((e,t,r,n)=>{U.debug(`rendering pie chart
`+e);const i=n.db,s=rt(),a=Zn(i.getConfig(),s.pie),o=40,l=18,u=4,h=450,d=h,f=eo(t),p=f.append("g");p.attr("transform","translate("+d/2+","+h/2+")");const{themeVariables:m}=s;let[y]=bc(m.pieOuterStrokeWidth);y??(y=2);const b=a.textPosition,x=Math.min(d,h)/2-o,v=$h().innerRadius(0).outerRadius(x),_=$h().innerRadius(x*b).outerRadius(x*b);p.append("circle").attr("cx",0).attr("cy",0).attr("r",x+y/2).attr("class","pieOuterCircle");const S=i.getSections(),k=a3t(S),T=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12];let E=0;S.forEach(L=>{E+=L});const I=k.filter(L=>(L.data.value/E*100).toFixed(0)!=="0"),C=Pl(T);p.selectAll("mySlices").data(I).enter().append("path").attr("d",v).attr("fill",L=>C(L.data.label)).attr("class","pieCircle"),p.selectAll("mySlices").data(I).enter().append("text").text(L=>(L.data.value/E*100).toFixed(0)+"%").attr("transform",L=>"translate("+_.centroid(L)+")").style("text-anchor","middle").attr("class","slice"),p.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-400/2).attr("class","pieTitleText");const R=[...S.entries()].map(([L,N])=>({label:L,value:N})),w=p.selectAll(".legend").data(R).enter().append("g").attr("class","legend").attr("transform",(L,N)=>{const D=l+u,P=D*R.length/2,O=12*l,M=N*D-P;return"translate("+O+","+M+")"});w.append("rect").attr("width",l).attr("height",l).style("fill",L=>C(L.label)).style("stroke",L=>C(L.label)),w.append("text").attr("x",l+u).attr("y",l-u).text(L=>i.getShowData()?`${L.label} [${L.value}]`:L.label);const $=Math.max(...w.selectAll("text").nodes().map(L=>(L==null?void 0:L.getBoundingClientRect().width)??0)),A=d+o+l+u+$;f.attr("viewBox",`0 0 ${A} ${h}`),ei(f,h,A,a.useMaxWidth)},"draw"),l3t={draw:o3t},c3t={parser:n3t,db:sF,renderer:l3t,styles:s3t};const u3t=Object.freeze(Object.defineProperty({__proto__:null,diagram:c3t},Symbol.toStringTag,{value:"Module"}));var zT=function(){var e=g(function($t,q,At,gt){for(At=At||{},gt=$t.length;gt--;At[$t[gt]]=q);return At},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],s=[1,7],a=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],o=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[55,56,57],u=[2,36],h=[1,37],d=[1,36],f=[1,38],p=[1,35],m=[1,43],y=[1,41],b=[1,14],x=[1,23],v=[1,18],_=[1,19],S=[1,20],k=[1,21],T=[1,22],E=[1,24],I=[1,25],C=[1,26],R=[1,27],w=[1,28],$=[1,29],A=[1,32],L=[1,33],N=[1,34],D=[1,39],P=[1,40],O=[1,42],M=[1,44],Y=[1,62],F=[1,61],j=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],it=[1,65],ft=[1,66],J=[1,67],dt=[1,68],et=[1,69],St=[1,70],ct=[1,71],bt=[1,72],nt=[1,73],Z=[1,74],z=[1,75],V=[1,76],G=[4,5,6,7,8,9,10,11,12,13,14,15,18],W=[1,90],ot=[1,91],B=[1,92],wt=[1,99],K=[1,93],vt=[1,96],mt=[1,94],Nt=[1,95],lt=[1,97],xt=[1,98],st=[1,102],ut=[10,55,56,57],_t=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],Q={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:g(function(q,At,gt,Mt,kt,Ct,ae){var Dt=Ct.length-1;switch(kt){case 23:this.$=Ct[Dt];break;case 24:this.$=Ct[Dt-1]+""+Ct[Dt];break;case 26:this.$=Ct[Dt-1]+Ct[Dt];break;case 27:this.$=[Ct[Dt].trim()];break;case 28:Ct[Dt-2].push(Ct[Dt].trim()),this.$=Ct[Dt-2];break;case 29:this.$=Ct[Dt-4],Mt.addClass(Ct[Dt-2],Ct[Dt]);break;case 37:this.$=[];break;case 42:this.$=Ct[Dt].trim(),Mt.setDiagramTitle(this.$);break;case 43:this.$=Ct[Dt].trim(),Mt.setAccTitle(this.$);break;case 44:case 45:this.$=Ct[Dt].trim(),Mt.setAccDescription(this.$);break;case 46:Mt.addSection(Ct[Dt].substr(8)),this.$=Ct[Dt].substr(8);break;case 47:Mt.addPoint(Ct[Dt-3],"",Ct[Dt-1],Ct[Dt],[]);break;case 48:Mt.addPoint(Ct[Dt-4],Ct[Dt-3],Ct[Dt-1],Ct[Dt],[]);break;case 49:Mt.addPoint(Ct[Dt-4],"",Ct[Dt-2],Ct[Dt-1],Ct[Dt]);break;case 50:Mt.addPoint(Ct[Dt-5],Ct[Dt-4],Ct[Dt-2],Ct[Dt-1],Ct[Dt]);break;case 51:Mt.setXAxisLeftText(Ct[Dt-2]),Mt.setXAxisRightText(Ct[Dt]);break;case 52:Ct[Dt-1].text+="  ",Mt.setXAxisLeftText(Ct[Dt-1]);break;case 53:Mt.setXAxisLeftText(Ct[Dt]);break;case 54:Mt.setYAxisBottomText(Ct[Dt-2]),Mt.setYAxisTopText(Ct[Dt]);break;case 55:Ct[Dt-1].text+="  ",Mt.setYAxisBottomText(Ct[Dt-1]);break;case 56:Mt.setYAxisBottomText(Ct[Dt]);break;case 57:Mt.setQuadrant1Text(Ct[Dt]);break;case 58:Mt.setQuadrant2Text(Ct[Dt]);break;case 59:Mt.setQuadrant3Text(Ct[Dt]);break;case 60:Mt.setQuadrant4Text(Ct[Dt]);break;case 64:this.$={text:Ct[Dt],type:"text"};break;case 65:this.$={text:Ct[Dt-1].text+""+Ct[Dt],type:Ct[Dt-1].type};break;case 66:this.$={text:Ct[Dt],type:"text"};break;case 67:this.$={text:Ct[Dt],type:"markdown"};break;case 68:this.$=Ct[Dt];break;case 69:this.$=Ct[Dt-1]+""+Ct[Dt];break}},"anonymous"),table:[{18:t,26:1,27:2,28:r,55:n,56:i,57:s},{1:[3]},{18:t,26:8,27:2,28:r,55:n,56:i,57:s},{18:t,26:9,27:2,28:r,55:n,56:i,57:s},e(a,[2,33],{29:10}),e(o,[2,61]),e(o,[2,62]),e(o,[2,63]),{1:[2,30]},{1:[2,31]},e(l,u,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:h,5:d,10:f,12:p,13:m,14:y,18:b,25:x,35:v,37:_,39:S,41:k,42:T,48:E,50:I,51:C,52:R,53:w,54:$,60:A,61:L,63:N,64:D,65:P,66:O,67:M}),e(a,[2,34]),{27:45,55:n,56:i,57:s},e(l,[2,37]),e(l,u,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:h,5:d,10:f,12:p,13:m,14:y,18:b,25:x,35:v,37:_,39:S,41:k,42:T,48:E,50:I,51:C,52:R,53:w,54:$,60:A,61:L,63:N,64:D,65:P,66:O,67:M}),e(l,[2,39]),e(l,[2,40]),e(l,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(l,[2,45]),e(l,[2,46]),{18:[1,50]},{4:h,5:d,10:f,12:p,13:m,14:y,43:51,58:31,60:A,61:L,63:N,64:D,65:P,66:O,67:M},{4:h,5:d,10:f,12:p,13:m,14:y,43:52,58:31,60:A,61:L,63:N,64:D,65:P,66:O,67:M},{4:h,5:d,10:f,12:p,13:m,14:y,43:53,58:31,60:A,61:L,63:N,64:D,65:P,66:O,67:M},{4:h,5:d,10:f,12:p,13:m,14:y,43:54,58:31,60:A,61:L,63:N,64:D,65:P,66:O,67:M},{4:h,5:d,10:f,12:p,13:m,14:y,43:55,58:31,60:A,61:L,63:N,64:D,65:P,66:O,67:M},{4:h,5:d,10:f,12:p,13:m,14:y,43:56,58:31,60:A,61:L,63:N,64:D,65:P,66:O,67:M},{4:h,5:d,8:Y,10:f,12:p,13:m,14:y,18:F,44:[1,57],47:[1,58],58:60,59:59,63:N,64:D,65:P,66:O,67:M},e(j,[2,64]),e(j,[2,66]),e(j,[2,67]),e(j,[2,70]),e(j,[2,71]),e(j,[2,72]),e(j,[2,73]),e(j,[2,74]),e(j,[2,75]),e(j,[2,76]),e(j,[2,77]),e(j,[2,78]),e(j,[2,79]),e(j,[2,80]),e(a,[2,35]),e(l,[2,38]),e(l,[2,42]),e(l,[2,43]),e(l,[2,44]),{3:64,4:it,5:ft,6:J,7:dt,8:et,9:St,10:ct,11:bt,12:nt,13:Z,14:z,15:V,21:63},e(l,[2,53],{59:59,58:60,4:h,5:d,8:Y,10:f,12:p,13:m,14:y,18:F,49:[1,77],63:N,64:D,65:P,66:O,67:M}),e(l,[2,56],{59:59,58:60,4:h,5:d,8:Y,10:f,12:p,13:m,14:y,18:F,49:[1,78],63:N,64:D,65:P,66:O,67:M}),e(l,[2,57],{59:59,58:60,4:h,5:d,8:Y,10:f,12:p,13:m,14:y,18:F,63:N,64:D,65:P,66:O,67:M}),e(l,[2,58],{59:59,58:60,4:h,5:d,8:Y,10:f,12:p,13:m,14:y,18:F,63:N,64:D,65:P,66:O,67:M}),e(l,[2,59],{59:59,58:60,4:h,5:d,8:Y,10:f,12:p,13:m,14:y,18:F,63:N,64:D,65:P,66:O,67:M}),e(l,[2,60],{59:59,58:60,4:h,5:d,8:Y,10:f,12:p,13:m,14:y,18:F,63:N,64:D,65:P,66:O,67:M}),{45:[1,79]},{44:[1,80]},e(j,[2,65]),e(j,[2,81]),e(j,[2,82]),e(j,[2,83]),{3:82,4:it,5:ft,6:J,7:dt,8:et,9:St,10:ct,11:bt,12:nt,13:Z,14:z,15:V,18:[1,81]},e(G,[2,23]),e(G,[2,1]),e(G,[2,2]),e(G,[2,3]),e(G,[2,4]),e(G,[2,5]),e(G,[2,6]),e(G,[2,7]),e(G,[2,8]),e(G,[2,9]),e(G,[2,10]),e(G,[2,11]),e(G,[2,12]),e(l,[2,52],{58:31,43:83,4:h,5:d,10:f,12:p,13:m,14:y,60:A,61:L,63:N,64:D,65:P,66:O,67:M}),e(l,[2,55],{58:31,43:84,4:h,5:d,10:f,12:p,13:m,14:y,60:A,61:L,63:N,64:D,65:P,66:O,67:M}),{46:[1,85]},{45:[1,86]},{4:W,5:ot,6:B,8:wt,11:K,13:vt,16:89,17:mt,18:Nt,19:lt,20:xt,22:88,23:87},e(G,[2,24]),e(l,[2,51],{59:59,58:60,4:h,5:d,8:Y,10:f,12:p,13:m,14:y,18:F,63:N,64:D,65:P,66:O,67:M}),e(l,[2,54],{59:59,58:60,4:h,5:d,8:Y,10:f,12:p,13:m,14:y,18:F,63:N,64:D,65:P,66:O,67:M}),e(l,[2,47],{22:88,16:89,23:100,4:W,5:ot,6:B,8:wt,11:K,13:vt,17:mt,18:Nt,19:lt,20:xt}),{46:[1,101]},e(l,[2,29],{10:st}),e(ut,[2,27],{16:103,4:W,5:ot,6:B,8:wt,11:K,13:vt,17:mt,18:Nt,19:lt,20:xt}),e(_t,[2,25]),e(_t,[2,13]),e(_t,[2,14]),e(_t,[2,15]),e(_t,[2,16]),e(_t,[2,17]),e(_t,[2,18]),e(_t,[2,19]),e(_t,[2,20]),e(_t,[2,21]),e(_t,[2,22]),e(l,[2,49],{10:st}),e(l,[2,48],{22:88,16:89,23:104,4:W,5:ot,6:B,8:wt,11:K,13:vt,17:mt,18:Nt,19:lt,20:xt}),{4:W,5:ot,6:B,8:wt,11:K,13:vt,16:89,17:mt,18:Nt,19:lt,20:xt,22:105},e(_t,[2,26]),e(l,[2,50],{10:st}),e(ut,[2,28],{16:103,4:W,5:ot,6:B,8:wt,11:K,13:vt,17:mt,18:Nt,19:lt,20:xt})],defaultActions:{8:[2,30],9:[2,31]},parseError:g(function(q,At){if(At.recoverable)this.trace(q);else{var gt=new Error(q);throw gt.hash=At,gt}},"parseError"),parse:g(function(q){var At=this,gt=[0],Mt=[],kt=[null],Ct=[],ae=this.table,Dt="",ke=0,zr=0,pe=2,Be=1,Tr=Ct.slice.call(arguments,1),Wt=Object.create(this.lexer),Fe={yy:{}};for(var He in this.yy)Object.prototype.hasOwnProperty.call(this.yy,He)&&(Fe.yy[He]=this.yy[He]);Wt.setInput(q,Fe.yy),Fe.yy.lexer=Wt,Fe.yy.parser=this,typeof Wt.yylloc>"u"&&(Wt.yylloc={});var kr=Wt.yylloc;Ct.push(kr);var te=Wt.options&&Wt.options.ranges;typeof Fe.yy.parseError=="function"?this.parseError=Fe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function $e(rr){gt.length=gt.length-2*rr,kt.length=kt.length-rr,Ct.length=Ct.length-rr}g($e,"popStack");function jt(){var rr;return rr=Mt.pop()||Wt.lex()||Be,typeof rr!="number"&&(rr instanceof Array&&(Mt=rr,rr=Mt.pop()),rr=At.symbols_[rr]||rr),rr}g(jt,"lex");for(var _e,ee,Jt,Kt,ve={},Ir,Te,Ke,vn;;){if(ee=gt[gt.length-1],this.defaultActions[ee]?Jt=this.defaultActions[ee]:((_e===null||typeof _e>"u")&&(_e=jt()),Jt=ae[ee]&&ae[ee][_e]),typeof Jt>"u"||!Jt.length||!Jt[0]){var _n="";vn=[];for(Ir in ae[ee])this.terminals_[Ir]&&Ir>pe&&vn.push("'"+this.terminals_[Ir]+"'");Wt.showPosition?_n="Parse error on line "+(ke+1)+`:
`+Wt.showPosition()+`
Expecting `+vn.join(", ")+", got '"+(this.terminals_[_e]||_e)+"'":_n="Parse error on line "+(ke+1)+": Unexpected "+(_e==Be?"end of input":"'"+(this.terminals_[_e]||_e)+"'"),this.parseError(_n,{text:Wt.match,token:this.terminals_[_e]||_e,line:Wt.yylineno,loc:kr,expected:vn})}if(Jt[0]instanceof Array&&Jt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ee+", token: "+_e);switch(Jt[0]){case 1:gt.push(_e),kt.push(Wt.yytext),Ct.push(Wt.yylloc),gt.push(Jt[1]),_e=null,zr=Wt.yyleng,Dt=Wt.yytext,ke=Wt.yylineno,kr=Wt.yylloc;break;case 2:if(Te=this.productions_[Jt[1]][1],ve.$=kt[kt.length-Te],ve._$={first_line:Ct[Ct.length-(Te||1)].first_line,last_line:Ct[Ct.length-1].last_line,first_column:Ct[Ct.length-(Te||1)].first_column,last_column:Ct[Ct.length-1].last_column},te&&(ve._$.range=[Ct[Ct.length-(Te||1)].range[0],Ct[Ct.length-1].range[1]]),Kt=this.performAction.apply(ve,[Dt,zr,ke,Fe.yy,Jt[1],kt,Ct].concat(Tr)),typeof Kt<"u")return Kt;Te&&(gt=gt.slice(0,-1*Te*2),kt=kt.slice(0,-1*Te),Ct=Ct.slice(0,-1*Te)),gt.push(this.productions_[Jt[1]][0]),kt.push(ve.$),Ct.push(ve._$),Ke=ae[gt[gt.length-2]][gt[gt.length-1]],gt.push(Ke);break;case 3:return!0}}return!0},"parse")},Tt=function(){var $t={EOF:1,parseError:g(function(At,gt){if(this.yy.parser)this.yy.parser.parseError(At,gt);else throw new Error(At)},"parseError"),setInput:g(function(q,At){return this.yy=At||this.yy||{},this._input=q,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var q=this._input[0];this.yytext+=q,this.yyleng++,this.offset++,this.match+=q,this.matched+=q;var At=q.match(/(?:\r\n?|\n).*/g);return At?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),q},"input"),unput:g(function(q){var At=q.length,gt=q.split(/(?:\r\n?|\n)/g);this._input=q+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-At),this.offset-=At;var Mt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),gt.length-1&&(this.yylineno-=gt.length-1);var kt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:gt?(gt.length===Mt.length?this.yylloc.first_column:0)+Mt[Mt.length-gt.length].length-gt[0].length:this.yylloc.first_column-At},this.options.ranges&&(this.yylloc.range=[kt[0],kt[0]+this.yyleng-At]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(q){this.unput(this.match.slice(q))},"less"),pastInput:g(function(){var q=this.matched.substr(0,this.matched.length-this.match.length);return(q.length>20?"...":"")+q.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var q=this.match;return q.length<20&&(q+=this._input.substr(0,20-q.length)),(q.substr(0,20)+(q.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var q=this.pastInput(),At=new Array(q.length+1).join("-");return q+this.upcomingInput()+`
`+At+"^"},"showPosition"),test_match:g(function(q,At){var gt,Mt,kt;if(this.options.backtrack_lexer&&(kt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(kt.yylloc.range=this.yylloc.range.slice(0))),Mt=q[0].match(/(?:\r\n?|\n).*/g),Mt&&(this.yylineno+=Mt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Mt?Mt[Mt.length-1].length-Mt[Mt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+q[0].length},this.yytext+=q[0],this.match+=q[0],this.matches=q,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(q[0].length),this.matched+=q[0],gt=this.performAction.call(this,this.yy,this,At,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),gt)return gt;if(this._backtrack){for(var Ct in kt)this[Ct]=kt[Ct];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var q,At,gt,Mt;this._more||(this.yytext="",this.match="");for(var kt=this._currentRules(),Ct=0;Ct<kt.length;Ct++)if(gt=this._input.match(this.rules[kt[Ct]]),gt&&(!At||gt[0].length>At[0].length)){if(At=gt,Mt=Ct,this.options.backtrack_lexer){if(q=this.test_match(gt,kt[Ct]),q!==!1)return q;if(this._backtrack){At=!1;continue}else return!1}else if(!this.options.flex)break}return At?(q=this.test_match(At,kt[Mt]),q!==!1?q:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var At=this.next();return At||this.lex()},"lex"),begin:g(function(At){this.conditionStack.push(At)},"begin"),popState:g(function(){var At=this.conditionStack.length-1;return At>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(At){return At=this.conditionStack.length-1-Math.abs(At||0),At>=0?this.conditionStack[At]:"INITIAL"},"topState"),pushState:g(function(At){this.begin(At)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(At,gt,Mt,kt){switch(Mt){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return $t}();Q.lexer=Tt;function H(){this.yy={}}return g(H,"Parser"),H.prototype=Q,Q.Parser=H,new H}();zT.parser=zT;var h3t=zT,Vn=jy(),Ju,d3t=(Ju=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var t,r,n,i,s,a,o,l,u,h,d,f,p,m,y,b,x,v;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((t=Re.quadrantChart)==null?void 0:t.chartWidth)||500,chartWidth:((r=Re.quadrantChart)==null?void 0:r.chartHeight)||500,titlePadding:((n=Re.quadrantChart)==null?void 0:n.titlePadding)||10,titleFontSize:((i=Re.quadrantChart)==null?void 0:i.titleFontSize)||20,quadrantPadding:((s=Re.quadrantChart)==null?void 0:s.quadrantPadding)||5,xAxisLabelPadding:((a=Re.quadrantChart)==null?void 0:a.xAxisLabelPadding)||5,yAxisLabelPadding:((o=Re.quadrantChart)==null?void 0:o.yAxisLabelPadding)||5,xAxisLabelFontSize:((l=Re.quadrantChart)==null?void 0:l.xAxisLabelFontSize)||16,yAxisLabelFontSize:((u=Re.quadrantChart)==null?void 0:u.yAxisLabelFontSize)||16,quadrantLabelFontSize:((h=Re.quadrantChart)==null?void 0:h.quadrantLabelFontSize)||16,quadrantTextTopPadding:((d=Re.quadrantChart)==null?void 0:d.quadrantTextTopPadding)||5,pointTextPadding:((f=Re.quadrantChart)==null?void 0:f.pointTextPadding)||5,pointLabelFontSize:((p=Re.quadrantChart)==null?void 0:p.pointLabelFontSize)||12,pointRadius:((m=Re.quadrantChart)==null?void 0:m.pointRadius)||5,xAxisPosition:((y=Re.quadrantChart)==null?void 0:y.xAxisPosition)||"top",yAxisPosition:((b=Re.quadrantChart)==null?void 0:b.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((x=Re.quadrantChart)==null?void 0:x.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((v=Re.quadrantChart)==null?void 0:v.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:Vn.quadrant1Fill,quadrant2Fill:Vn.quadrant2Fill,quadrant3Fill:Vn.quadrant3Fill,quadrant4Fill:Vn.quadrant4Fill,quadrant1TextFill:Vn.quadrant1TextFill,quadrant2TextFill:Vn.quadrant2TextFill,quadrant3TextFill:Vn.quadrant3TextFill,quadrant4TextFill:Vn.quadrant4TextFill,quadrantPointFill:Vn.quadrantPointFill,quadrantPointTextFill:Vn.quadrantPointTextFill,quadrantXAxisTextFill:Vn.quadrantXAxisTextFill,quadrantYAxisTextFill:Vn.quadrantYAxisTextFill,quadrantTitleFill:Vn.quadrantTitleFill,quadrantInternalBorderStrokeFill:Vn.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Vn.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,U.info("clear called")}setData(t){this.data={...this.data,...t}}addPoints(t){this.data.points=[...t,...this.data.points]}addClass(t,r){this.classes.set(t,r)}setConfig(t){U.trace("setConfig called with: ",t),this.config={...this.config,...t}}setThemeConfig(t){U.trace("setThemeConfig called with: ",t),this.themeConfig={...this.themeConfig,...t}}calculateSpace(t,r,n,i){const s=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,a={top:t==="top"&&r?s:0,bottom:t==="bottom"&&r?s:0},o=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,l={left:this.config.yAxisPosition==="left"&&n?o:0,right:this.config.yAxisPosition==="right"&&n?o:0},u=this.config.titleFontSize+this.config.titlePadding*2,h={top:i?u:0},d=this.config.quadrantPadding+l.left,f=this.config.quadrantPadding+a.top+h.top,p=this.config.chartWidth-this.config.quadrantPadding*2-l.left-l.right,m=this.config.chartHeight-this.config.quadrantPadding*2-a.top-a.bottom-h.top,y=p/2,b=m/2;return{xAxisSpace:a,yAxisSpace:l,titleSpace:h,quadrantSpace:{quadrantLeft:d,quadrantTop:f,quadrantWidth:p,quadrantHalfWidth:y,quadrantHeight:m,quadrantHalfHeight:b}}}getAxisLabels(t,r,n,i){const{quadrantSpace:s,titleSpace:a}=i,{quadrantHalfHeight:o,quadrantHeight:l,quadrantLeft:u,quadrantHalfWidth:h,quadrantTop:d,quadrantWidth:f}=s,p=!!this.data.xAxisRightText,m=!!this.data.yAxisTopText,y=[];return this.data.xAxisLeftText&&r&&y.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(p?h/2:0),y:t==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&y.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+h+(p?h/2:0),y:t==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:p?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&y.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+f+this.config.quadrantPadding,y:d+l-(m?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&y.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+f+this.config.quadrantPadding,y:d+o-(m?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),y}getQuadrants(t){const{quadrantSpace:r}=t,{quadrantHalfHeight:n,quadrantLeft:i,quadrantHalfWidth:s,quadrantTop:a}=r,o=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+s,y:a,width:s,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:a,width:s,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i,y:a+n,width:s,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:i+s,y:a+n,width:s,height:n,fill:this.themeConfig.quadrant4Fill}];for(const l of o)l.text.x=l.x+l.width/2,this.data.points.length===0?(l.text.y=l.y+l.height/2,l.text.horizontalPos="middle"):(l.text.y=l.y+this.config.quadrantTextTopPadding,l.text.horizontalPos="top");return o}getQuadrantPoints(t){const{quadrantSpace:r}=t,{quadrantHeight:n,quadrantLeft:i,quadrantTop:s,quadrantWidth:a}=r,o=Rh().domain([0,1]).range([i,a+i]),l=Rh().domain([0,1]).range([n+s,s]);return this.data.points.map(h=>{const d=this.classes.get(h.className);return d&&(h={...d,...h}),{x:o(h.x),y:l(h.y),fill:h.color??this.themeConfig.quadrantPointFill,radius:h.radius??this.config.pointRadius,text:{text:h.text,fill:this.themeConfig.quadrantPointTextFill,x:o(h.x),y:l(h.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:h.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:h.strokeWidth??"0px"}})}getBorders(t){const r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=t,{quadrantHalfHeight:i,quadrantHeight:s,quadrantLeft:a,quadrantHalfWidth:o,quadrantTop:l,quadrantWidth:u}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-r,y1:l,x2:a+u+r,y2:l},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a+u,y1:l+r,x2:a+u,y2:l+s-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-r,y1:l+s,x2:a+u+r,y2:l+s},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a,y1:l+r,x2:a,y2:l+s-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+o,y1:l+r,x2:a+o,y2:l+s-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+r,y1:l+i,x2:a+u-r,y2:l+i}]}getTitle(t){if(t)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const t=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),r=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,i=this.data.points.length>0?"bottom":this.config.xAxisPosition,s=this.calculateSpace(i,t,r,n);return{points:this.getQuadrantPoints(s),quadrants:this.getQuadrants(s),axisLabels:this.getAxisLabels(i,t,r,s),borderLines:this.getBorders(s),title:this.getTitle(n)}}},g(Ju,"QuadrantBuilder"),Ju),th,I1=(th=class extends Error{constructor(t,r,n){super(`value for ${t} ${r} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},g(th,"InvalidStyleError"),th);function WT(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}g(WT,"validateHexCode");function aF(e){return!/^\d+$/.test(e)}g(aF,"validateNumber");function oF(e){return!/^\d+px$/.test(e)}g(oF,"validateSizeInPixels");var f3t=rt();function fa(e){return Ne(e.trim(),f3t)}g(fa,"textSanitizer");var yn=new d3t;function lF(e){yn.setData({quadrant1Text:fa(e.text)})}g(lF,"setQuadrant1Text");function cF(e){yn.setData({quadrant2Text:fa(e.text)})}g(cF,"setQuadrant2Text");function uF(e){yn.setData({quadrant3Text:fa(e.text)})}g(uF,"setQuadrant3Text");function hF(e){yn.setData({quadrant4Text:fa(e.text)})}g(hF,"setQuadrant4Text");function dF(e){yn.setData({xAxisLeftText:fa(e.text)})}g(dF,"setXAxisLeftText");function fF(e){yn.setData({xAxisRightText:fa(e.text)})}g(fF,"setXAxisRightText");function pF(e){yn.setData({yAxisTopText:fa(e.text)})}g(pF,"setYAxisTopText");function gF(e){yn.setData({yAxisBottomText:fa(e.text)})}g(gF,"setYAxisBottomText");function hx(e){const t={};for(const r of e){const[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(aF(i))throw new I1(n,i,"number");t.radius=parseInt(i)}else if(n==="color"){if(WT(i))throw new I1(n,i,"hex code");t.color=i}else if(n==="stroke-color"){if(WT(i))throw new I1(n,i,"hex code");t.strokeColor=i}else if(n==="stroke-width"){if(oF(i))throw new I1(n,i,"number of pixels (eg. 10px)");t.strokeWidth=i}else throw new Error(`style named ${n} is not supported.`)}return t}g(hx,"parseStyles");function mF(e,t,r,n,i){const s=hx(i);yn.addPoints([{x:r,y:n,text:fa(e.text),className:t,...s}])}g(mF,"addPoint");function yF(e,t){yn.addClass(e,hx(t))}g(yF,"addClass");function xF(e){yn.setConfig({chartWidth:e})}g(xF,"setWidth");function bF(e){yn.setConfig({chartHeight:e})}g(bF,"setHeight");function vF(){const e=rt(),{themeVariables:t,quadrantChart:r}=e;return r&&yn.setConfig(r),yn.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),yn.setData({titleText:Vr()}),yn.build()}g(vF,"getQuadrantData");var p3t=g(function(){yn.clear(),Fr()},"clear"),g3t={setWidth:xF,setHeight:bF,setQuadrant1Text:lF,setQuadrant2Text:cF,setQuadrant3Text:uF,setQuadrant4Text:hF,setXAxisLeftText:dF,setXAxisRightText:fF,setYAxisTopText:pF,setYAxisBottomText:gF,parseStyles:hx,addPoint:mF,addClass:yF,getQuadrantData:vF,clear:p3t,setAccTitle:Pr,getAccTitle:Xr,setDiagramTitle:on,getDiagramTitle:Vr,getAccDescription:Qr,setAccDescription:Kr},m3t=g((e,t,r,n)=>{var I,C,R;function i(w){return w==="top"?"hanging":"middle"}g(i,"getDominantBaseLine");function s(w){return w==="left"?"start":"middle"}g(s,"getTextAnchor");function a(w){return`translate(${w.x}, ${w.y}) rotate(${w.rotation||0})`}g(a,"getTransformation");const o=rt();U.debug(`Rendering quadrant chart
`+e);const l=o.securityLevel;let u;l==="sandbox"&&(u=Lt("#i"+t));const d=Lt(l==="sandbox"?u.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`),f=d.append("g").attr("class","main"),p=((I=o.quadrantChart)==null?void 0:I.chartWidth)??500,m=((C=o.quadrantChart)==null?void 0:C.chartHeight)??500;ei(d,m,p,((R=o.quadrantChart)==null?void 0:R.useMaxWidth)??!0),d.attr("viewBox","0 0 "+p+" "+m),n.db.setHeight(m),n.db.setWidth(p);const y=n.db.getQuadrantData(),b=f.append("g").attr("class","quadrants"),x=f.append("g").attr("class","border"),v=f.append("g").attr("class","data-points"),_=f.append("g").attr("class","labels"),S=f.append("g").attr("class","title");y.title&&S.append("text").attr("x",0).attr("y",0).attr("fill",y.title.fill).attr("font-size",y.title.fontSize).attr("dominant-baseline",i(y.title.horizontalPos)).attr("text-anchor",s(y.title.verticalPos)).attr("transform",a(y.title)).text(y.title.text),y.borderLines&&x.selectAll("line").data(y.borderLines).enter().append("line").attr("x1",w=>w.x1).attr("y1",w=>w.y1).attr("x2",w=>w.x2).attr("y2",w=>w.y2).style("stroke",w=>w.strokeFill).style("stroke-width",w=>w.strokeWidth);const k=b.selectAll("g.quadrant").data(y.quadrants).enter().append("g").attr("class","quadrant");k.append("rect").attr("x",w=>w.x).attr("y",w=>w.y).attr("width",w=>w.width).attr("height",w=>w.height).attr("fill",w=>w.fill),k.append("text").attr("x",0).attr("y",0).attr("fill",w=>w.text.fill).attr("font-size",w=>w.text.fontSize).attr("dominant-baseline",w=>i(w.text.horizontalPos)).attr("text-anchor",w=>s(w.text.verticalPos)).attr("transform",w=>a(w.text)).text(w=>w.text.text),_.selectAll("g.label").data(y.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(w=>w.text).attr("fill",w=>w.fill).attr("font-size",w=>w.fontSize).attr("dominant-baseline",w=>i(w.horizontalPos)).attr("text-anchor",w=>s(w.verticalPos)).attr("transform",w=>a(w));const E=v.selectAll("g.data-point").data(y.points).enter().append("g").attr("class","data-point");E.append("circle").attr("cx",w=>w.x).attr("cy",w=>w.y).attr("r",w=>w.radius).attr("fill",w=>w.fill).attr("stroke",w=>w.strokeColor).attr("stroke-width",w=>w.strokeWidth),E.append("text").attr("x",0).attr("y",0).text(w=>w.text.text).attr("fill",w=>w.text.fill).attr("font-size",w=>w.text.fontSize).attr("dominant-baseline",w=>i(w.text.horizontalPos)).attr("text-anchor",w=>s(w.text.verticalPos)).attr("transform",w=>a(w.text))},"draw"),y3t={draw:m3t},x3t={parser:h3t,db:g3t,renderer:y3t,styles:g(()=>"","styles")};const b3t=Object.freeze(Object.defineProperty({__proto__:null,diagram:x3t},Symbol.toStringTag,{value:"Module"}));var UT=function(){var e=g(function(N,D,P,O){for(P=P||{},O=N.length;O--;P[N[O]]=D);return P},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],s=[1,6],a=[1,7],o=[1,5,10,12,14,16,18,19,21,23,34,35,36],l=[1,25],u=[1,26],h=[1,28],d=[1,29],f=[1,30],p=[1,31],m=[1,32],y=[1,33],b=[1,34],x=[1,35],v=[1,36],_=[1,37],S=[1,43],k=[1,42],T=[1,47],E=[1,50],I=[1,10,12,14,16,18,19,21,23,34,35,36],C=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],R=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],w=[1,64],$={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:g(function(D,P,O,M,Y,F,j){var it=F.length-1;switch(Y){case 5:M.setOrientation(F[it]);break;case 9:M.setDiagramTitle(F[it].text.trim());break;case 12:M.setLineData({text:"",type:"text"},F[it]);break;case 13:M.setLineData(F[it-1],F[it]);break;case 14:M.setBarData({text:"",type:"text"},F[it]);break;case 15:M.setBarData(F[it-1],F[it]);break;case 16:this.$=F[it].trim(),M.setAccTitle(this.$);break;case 17:case 18:this.$=F[it].trim(),M.setAccDescription(this.$);break;case 19:this.$=F[it-1];break;case 20:this.$=[Number(F[it-2]),...F[it]];break;case 21:this.$=[Number(F[it])];break;case 22:M.setXAxisTitle(F[it]);break;case 23:M.setXAxisTitle(F[it-1]);break;case 24:M.setXAxisTitle({type:"text",text:""});break;case 25:M.setXAxisBand(F[it]);break;case 26:M.setXAxisRangeData(Number(F[it-2]),Number(F[it]));break;case 27:this.$=F[it-1];break;case 28:this.$=[F[it-2],...F[it]];break;case 29:this.$=[F[it]];break;case 30:M.setYAxisTitle(F[it]);break;case 31:M.setYAxisTitle(F[it-1]);break;case 32:M.setYAxisTitle({type:"text",text:""});break;case 33:M.setYAxisRangeData(Number(F[it-2]),Number(F[it]));break;case 37:this.$={text:F[it],type:"text"};break;case 38:this.$={text:F[it],type:"text"};break;case 39:this.$={text:F[it],type:"markdown"};break;case 40:this.$=F[it];break;case 41:this.$=F[it-1]+""+F[it];break}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:n,34:i,35:s,36:a}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:n,34:i,35:s,36:a}),e(t,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:s,36:a}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(o,[2,34]),e(o,[2,35]),e(o,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:n,34:i,35:s,36:a}),{1:[2,3]},e(o,[2,5]),e(t,[2,7],{4:22,34:i,35:s,36:a}),{11:23,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_},{11:39,13:38,24:S,27:k,29:40,30:41,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_},{11:45,15:44,27:T,33:46,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_},{11:49,17:48,24:E,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_},{11:52,17:51,24:E,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_},{20:[1,53]},{22:[1,54]},e(I,[2,18]),{1:[2,2]},e(I,[2,8]),e(I,[2,9]),e(C,[2,37],{40:55,41:h,42:d,43:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_}),e(C,[2,38]),e(C,[2,39]),e(R,[2,40]),e(R,[2,42]),e(R,[2,43]),e(R,[2,44]),e(R,[2,45]),e(R,[2,46]),e(R,[2,47]),e(R,[2,48]),e(R,[2,49]),e(R,[2,50]),e(R,[2,51]),e(I,[2,10]),e(I,[2,22],{30:41,29:56,24:S,27:k}),e(I,[2,24]),e(I,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_},e(I,[2,11]),e(I,[2,30],{33:60,27:T}),e(I,[2,32]),{31:[1,61]},e(I,[2,12]),{17:62,24:E},{25:63,27:w},e(I,[2,14]),{17:65,24:E},e(I,[2,16]),e(I,[2,17]),e(R,[2,41]),e(I,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(I,[2,31]),{27:[1,69]},e(I,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(I,[2,15]),e(I,[2,26]),e(I,[2,27]),{11:59,32:72,37:24,38:l,39:u,40:27,41:h,42:d,43:f,44:p,45:m,46:y,47:b,48:x,49:v,50:_},e(I,[2,33]),e(I,[2,19]),{25:73,27:w},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:g(function(D,P){if(P.recoverable)this.trace(D);else{var O=new Error(D);throw O.hash=P,O}},"parseError"),parse:g(function(D){var P=this,O=[0],M=[],Y=[null],F=[],j=this.table,it="",ft=0,J=0,dt=2,et=1,St=F.slice.call(arguments,1),ct=Object.create(this.lexer),bt={yy:{}};for(var nt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,nt)&&(bt.yy[nt]=this.yy[nt]);ct.setInput(D,bt.yy),bt.yy.lexer=ct,bt.yy.parser=this,typeof ct.yylloc>"u"&&(ct.yylloc={});var Z=ct.yylloc;F.push(Z);var z=ct.options&&ct.options.ranges;typeof bt.yy.parseError=="function"?this.parseError=bt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function V(st){O.length=O.length-2*st,Y.length=Y.length-st,F.length=F.length-st}g(V,"popStack");function G(){var st;return st=M.pop()||ct.lex()||et,typeof st!="number"&&(st instanceof Array&&(M=st,st=M.pop()),st=P.symbols_[st]||st),st}g(G,"lex");for(var W,ot,B,wt,K={},vt,mt,Nt,lt;;){if(ot=O[O.length-1],this.defaultActions[ot]?B=this.defaultActions[ot]:((W===null||typeof W>"u")&&(W=G()),B=j[ot]&&j[ot][W]),typeof B>"u"||!B.length||!B[0]){var xt="";lt=[];for(vt in j[ot])this.terminals_[vt]&&vt>dt&&lt.push("'"+this.terminals_[vt]+"'");ct.showPosition?xt="Parse error on line "+(ft+1)+`:
`+ct.showPosition()+`
Expecting `+lt.join(", ")+", got '"+(this.terminals_[W]||W)+"'":xt="Parse error on line "+(ft+1)+": Unexpected "+(W==et?"end of input":"'"+(this.terminals_[W]||W)+"'"),this.parseError(xt,{text:ct.match,token:this.terminals_[W]||W,line:ct.yylineno,loc:Z,expected:lt})}if(B[0]instanceof Array&&B.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ot+", token: "+W);switch(B[0]){case 1:O.push(W),Y.push(ct.yytext),F.push(ct.yylloc),O.push(B[1]),W=null,J=ct.yyleng,it=ct.yytext,ft=ct.yylineno,Z=ct.yylloc;break;case 2:if(mt=this.productions_[B[1]][1],K.$=Y[Y.length-mt],K._$={first_line:F[F.length-(mt||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(mt||1)].first_column,last_column:F[F.length-1].last_column},z&&(K._$.range=[F[F.length-(mt||1)].range[0],F[F.length-1].range[1]]),wt=this.performAction.apply(K,[it,J,ft,bt.yy,B[1],Y,F].concat(St)),typeof wt<"u")return wt;mt&&(O=O.slice(0,-1*mt*2),Y=Y.slice(0,-1*mt),F=F.slice(0,-1*mt)),O.push(this.productions_[B[1]][0]),Y.push(K.$),F.push(K._$),Nt=j[O[O.length-2]][O[O.length-1]],O.push(Nt);break;case 3:return!0}}return!0},"parse")},A=function(){var N={EOF:1,parseError:g(function(P,O){if(this.yy.parser)this.yy.parser.parseError(P,O);else throw new Error(P)},"parseError"),setInput:g(function(D,P){return this.yy=P||this.yy||{},this._input=D,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var D=this._input[0];this.yytext+=D,this.yyleng++,this.offset++,this.match+=D,this.matched+=D;var P=D.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),D},"input"),unput:g(function(D){var P=D.length,O=D.split(/(?:\r\n?|\n)/g);this._input=D+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var M=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1&&(this.yylineno-=O.length-1);var Y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===M.length?this.yylloc.first_column:0)+M[M.length-O.length].length-O[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[Y[0],Y[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(D){this.unput(this.match.slice(D))},"less"),pastInput:g(function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var D=this.match;return D.length<20&&(D+=this._input.substr(0,20-D.length)),(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var D=this.pastInput(),P=new Array(D.length+1).join("-");return D+this.upcomingInput()+`
`+P+"^"},"showPosition"),test_match:g(function(D,P){var O,M,Y;if(this.options.backtrack_lexer&&(Y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Y.yylloc.range=this.yylloc.range.slice(0))),M=D[0].match(/(?:\r\n?|\n).*/g),M&&(this.yylineno+=M.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:M?M[M.length-1].length-M[M.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+D[0].length},this.yytext+=D[0],this.match+=D[0],this.matches=D,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(D[0].length),this.matched+=D[0],O=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var F in Y)this[F]=Y[F];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var D,P,O,M;this._more||(this.yytext="",this.match="");for(var Y=this._currentRules(),F=0;F<Y.length;F++)if(O=this._input.match(this.rules[Y[F]]),O&&(!P||O[0].length>P[0].length)){if(P=O,M=F,this.options.backtrack_lexer){if(D=this.test_match(O,Y[F]),D!==!1)return D;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(D=this.test_match(P,Y[M]),D!==!1?D:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var P=this.next();return P||this.lex()},"lex"),begin:g(function(P){this.conditionStack.push(P)},"begin"),popState:g(function(){var P=this.conditionStack.length-1;return P>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(P){return P=this.conditionStack.length-1-Math.abs(P||0),P>=0?this.conditionStack[P]:"INITIAL"},"topState"),pushState:g(function(P){this.begin(P)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(P,O,M,Y){switch(M){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 5;case 16:return 8;case 17:return this.pushState("axis_data"),"X_AXIS";case 18:return this.pushState("axis_data"),"Y_AXIS";case 19:return this.pushState("axis_band_data"),24;case 20:return 31;case 21:return this.pushState("data"),16;case 22:return this.pushState("data"),18;case 23:return this.pushState("data_inner"),24;case 24:return 27;case 25:return this.popState(),26;case 26:this.popState();break;case 27:this.pushState("string");break;case 28:this.popState();break;case 29:return"STR";case 30:return 24;case 31:return 26;case 32:return 43;case 33:return"COLON";case 34:return 44;case 35:return 28;case 36:return 45;case 37:return 46;case 38:return 48;case 39:return 50;case 40:return 47;case 41:return 41;case 42:return 49;case 43:return 42;case 44:break;case 45:return 35;case 46:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:xychart\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,18,21,22,23,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,22,24,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};return N}();$.lexer=A;function L(){this.yy={}}return g(L,"Parser"),L.prototype=$,$.Parser=L,new L}();UT.parser=UT;var v3t=UT;function HT(e){return e.type==="bar"}g(HT,"isBarPlot");function u3(e){return e.type==="band"}g(u3,"isBandAxisData");function Tu(e){return e.type==="linear"}g(Tu,"isLinearAxisData");var eh,_F=(eh=class{constructor(t){this.parentGroup=t}getMaxDimension(t,r){if(!this.parentGroup)return{width:t.reduce((s,a)=>Math.max(a.length,s),0)*r,height:r};const n={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(const s of t){const a=b$(i,1,s),o=a?a.width:s.length*r,l=a?a.height:r;n.width=Math.max(n.width,o),n.height=Math.max(n.height,l)}return i.remove(),n}},g(eh,"TextDimensionCalculatorWithFont"),eh),V6=.7,z6=.2,rh,TF=(rh=class{constructor(t,r,n,i){this.axisConfig=t,this.title=r,this.textDimensionCalculator=n,this.axisThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(t){this.range=t,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=t[1]-t[0]:this.boundingRect.width=t[1]-t[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(t){this.axisPosition=t,this.setRange(this.range)}getTickDistance(){const t=this.getRange();return Math.abs(t[0]-t[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(t=>t.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){V6*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(V6*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(t){let r=t.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=z6*t.width;this.outerPadding=Math.min(n.width/2,i);const s=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,s<=r&&(r-=s,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=t.width,this.boundingRect.height=t.height-r}calculateSpaceIfDrawnVertical(t){let r=t.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const n=this.getLabelDimension(),i=z6*t.height;this.outerPadding=Math.min(n.height/2,i);const s=n.width+this.axisConfig.labelPadding*2;s<=r&&(r-=s,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),i=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,i<=r&&(r-=i,this.showTitle=!0)}this.boundingRect.width=t.width-r,this.boundingRect.height=t.height}calculateSpace(t){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(t):this.calculateSpaceIfDrawnHorizontally(t),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}getDrawableElementsForLeftAxis(){const t=[];if(this.showAxisLine){const r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){const r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${r},${this.getScaleValue(n)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForBottomAxis(){const t=[];if(this.showAxisLine){const r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);t.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r} L ${this.getScaleValue(n)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElementsForTopAxis(){const t=[];if(this.showAxisLine){const r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;t.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&t.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){const r=this.boundingRect.y;t.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&t.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),t}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},g(rh,"BaseAxis"),rh),nh,_3t=(nh=class extends TF{constructor(t,r,n,i,s){super(t,i,s,r),this.categories=n,this.scale=r_().domain(this.categories).range(this.getRange())}setRange(t){super.setRange(t)}recalculateScale(){this.scale=r_().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),U.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(t){return this.scale(t)??this.getRange()[0]}},g(nh,"BandAxis"),nh),ih,T3t=(ih=class extends TF{constructor(t,r,n,i,s){super(t,i,s,r),this.domain=n,this.scale=Rh().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const t=[...this.domain];this.axisPosition==="left"&&t.reverse(),this.scale=Rh().domain(t).range(this.getRange())}getScaleValue(t){return this.scale(t)}},g(ih,"LinearAxis"),ih);function GT(e,t,r,n){const i=new _F(n);return u3(e)?new _3t(t,r,e.categories,e.title,i):new T3t(t,r,[e.min,e.max],e.title,i)}g(GT,"getAxis");var sh,k3t=(sh=class{constructor(t,r,n,i){this.textDimensionCalculator=t,this.chartConfig=r,this.chartData=n,this.chartThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){const r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(r.width,t.width),i=r.height+2*this.chartConfig.titlePadding;return r.width<=n&&r.height<=i&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=i,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const t=[];return this.showChartTitle&&t.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),t}},g(sh,"ChartTitle"),sh);function kF(e,t,r,n){const i=new _F(n);return new k3t(i,e,t,r)}g(kF,"getChartTitleComponent");var ah,w3t=(ah=class{constructor(t,r,n,i,s){this.plotData=t,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=s}getDrawableElement(){const t=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]);let r;return this.orientation==="horizontal"?r=vp().y(n=>n[0]).x(n=>n[1])(t):r=vp().x(n=>n[0]).y(n=>n[1])(t),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},g(ah,"LinePlot"),ah),oh,S3t=(oh=class{constructor(t,r,n,i,s,a){this.barData=t,this.boundingRect=r,this.xAxis=n,this.yAxis=i,this.orientation=s,this.plotIndex=a}getDrawableElement(){const t=this.barData.data.map(s=>[this.xAxis.getScaleValue(s[0]),this.yAxis.getScaleValue(s[1])]),n=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),i=n/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(s=>({x:this.boundingRect.x,y:s[0]-i,height:n,width:s[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:t.map(s=>({x:s[0]-i,y:s[1],width:n,height:this.boundingRect.y+this.boundingRect.height-s[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},g(oh,"BarPlot"),oh),lh,C3t=(lh=class{constructor(t,r,n){this.chartConfig=t,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(t,r){this.xAxis=t,this.yAxis=r}setBoundingBoxXY(t){this.boundingRect.x=t.x,this.boundingRect.y=t.y}calculateSpace(t){return this.boundingRect.width=t.width,this.boundingRect.height=t.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");const t=[];for(const[r,n]of this.chartData.plots.entries())switch(n.type){case"line":{const i=new w3t(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...i.getDrawableElement())}break;case"bar":{const i=new S3t(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);t.push(...i.getDrawableElement())}break}return t}},g(lh,"BasePlot"),lh);function wF(e,t,r){return new C3t(e,t,r)}g(wF,"getPlotComponent");var ch,E3t=(ch=class{constructor(t,r,n,i){this.chartConfig=t,this.chartData=r,this.componentStore={title:kF(t,r,n,i),plot:wF(t,r,n),xAxis:GT(r.xAxis,t.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},i),yAxis:GT(r.yAxis,t.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},i)}}calculateVerticalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,s=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),a=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:s,height:a});t-=o.width,r-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=o.height,r-=o.height,this.componentStore.xAxis.setAxisPosition("bottom"),o=this.componentStore.xAxis.calculateSpace({width:t,height:r}),r-=o.height,this.componentStore.yAxis.setAxisPosition("left"),o=this.componentStore.yAxis.calculateSpace({width:t,height:r}),n=o.width,t-=o.width,t>0&&(s+=t,t=0),r>0&&(a+=r,r=0),this.componentStore.plot.calculateSpace({width:s,height:a}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([n,n+s]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:i+a}),this.componentStore.yAxis.setRange([i,i+a]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(l=>HT(l))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let t=this.chartConfig.width,r=this.chartConfig.height,n=0,i=0,s=0,a=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),l=this.componentStore.plot.calculateSpace({width:a,height:o});t-=l.width,r-=l.height,l=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=l.height,r-=l.height,this.componentStore.xAxis.setAxisPosition("left"),l=this.componentStore.xAxis.calculateSpace({width:t,height:r}),t-=l.width,i=l.width,this.componentStore.yAxis.setAxisPosition("top"),l=this.componentStore.yAxis.calculateSpace({width:t,height:r}),r-=l.height,s=n+l.height,t>0&&(a+=t,t=0),r>0&&(o+=r,r=0),this.componentStore.plot.calculateSpace({width:a,height:o}),this.componentStore.plot.setBoundingBoxXY({x:i,y:s}),this.componentStore.yAxis.setRange([i,i+a]),this.componentStore.yAxis.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([s,s+o]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:s}),this.chartData.plots.some(u=>HT(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const t=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const r of Object.values(this.componentStore))t.push(...r.getDrawableElements());return t}},g(ch,"Orchestrator"),ch),uh,A3t=(uh=class{static build(t,r,n,i){return new E3t(t,r,n,i).getDrawableElement()}},g(uh,"XYChartBuilder"),uh),Gp=0,SF,qp=f3(),jp=d3(),je=p3(),qT=jp.plotColorPalette.split(",").map(e=>e.trim()),dx=!1,h3=!1;function d3(){const e=jy(),t=De();return Zn(e.xyChart,t.themeVariables.xyChart)}g(d3,"getChartDefaultThemeConfig");function f3(){const e=De();return Zn(Re.xyChart,e.xyChart)}g(f3,"getChartDefaultConfig");function p3(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}g(p3,"getChartDefaultData");function fx(e){const t=De();return Ne(e.trim(),t)}g(fx,"textSanitizer");function CF(e){SF=e}g(CF,"setTmpSVGG");function EF(e){e==="horizontal"?qp.chartOrientation="horizontal":qp.chartOrientation="vertical"}g(EF,"setOrientation");function AF(e){je.xAxis.title=fx(e.text)}g(AF,"setXAxisTitle");function g3(e,t){je.xAxis={type:"linear",title:je.xAxis.title,min:e,max:t},dx=!0}g(g3,"setXAxisRangeData");function LF(e){je.xAxis={type:"band",title:je.xAxis.title,categories:e.map(t=>fx(t.text))},dx=!0}g(LF,"setXAxisBand");function RF(e){je.yAxis.title=fx(e.text)}g(RF,"setYAxisTitle");function IF(e,t){je.yAxis={type:"linear",title:je.yAxis.title,min:e,max:t},h3=!0}g(IF,"setYAxisRangeData");function NF(e){const t=Math.min(...e),r=Math.max(...e),n=Tu(je.yAxis)?je.yAxis.min:1/0,i=Tu(je.yAxis)?je.yAxis.max:-1/0;je.yAxis={type:"linear",title:je.yAxis.title,min:Math.min(n,t),max:Math.max(i,r)}}g(NF,"setYAxisRangeFromPlotData");function m3(e){let t=[];if(e.length===0)return t;if(!dx){const r=Tu(je.xAxis)?je.xAxis.min:1/0,n=Tu(je.xAxis)?je.xAxis.max:-1/0;g3(Math.min(r,1),Math.max(n,e.length))}if(h3||NF(e),u3(je.xAxis)&&(t=je.xAxis.categories.map((r,n)=>[r,e[n]])),Tu(je.xAxis)){const r=je.xAxis.min,n=je.xAxis.max,i=(n-r)/(e.length-1),s=[];for(let a=r;a<=n;a+=i)s.push(`${a}`);t=s.map((a,o)=>[a,e[o]])}return t}g(m3,"transformDataWithoutCategory");function y3(e){return qT[e===0?0:e%qT.length]}g(y3,"getPlotColorFromPalette");function $F(e,t){const r=m3(t);je.plots.push({type:"line",strokeFill:y3(Gp),strokeWidth:2,data:r}),Gp++}g($F,"setLineData");function OF(e,t){const r=m3(t);je.plots.push({type:"bar",fill:y3(Gp),data:r}),Gp++}g(OF,"setBarData");function DF(){if(je.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return je.title=Vr(),A3t.build(qp,je,jp,SF)}g(DF,"getDrawableElem");function MF(){return jp}g(MF,"getChartThemeConfig");function PF(){return qp}g(PF,"getChartConfig");function BF(){return je}g(BF,"getXYChartData");var L3t=g(function(){Fr(),Gp=0,qp=f3(),je=p3(),jp=d3(),qT=jp.plotColorPalette.split(",").map(e=>e.trim()),dx=!1,h3=!1},"clear"),R3t={getDrawableElem:DF,clear:L3t,setAccTitle:Pr,getAccTitle:Xr,setDiagramTitle:on,getDiagramTitle:Vr,getAccDescription:Qr,setAccDescription:Kr,setOrientation:EF,setXAxisTitle:AF,setXAxisRangeData:g3,setXAxisBand:LF,setYAxisTitle:RF,setYAxisRangeData:IF,setLineData:$F,setBarData:OF,setTmpSVGG:CF,getChartThemeConfig:MF,getChartConfig:PF,getXYChartData:BF},I3t=g((e,t,r,n)=>{const i=n.db,s=i.getChartThemeConfig(),a=i.getChartConfig(),o=i.getXYChartData().plots[0].data.map(x=>x[1]);function l(x){return x==="top"?"text-before-edge":"middle"}g(l,"getDominantBaseLine");function u(x){return x==="left"?"start":x==="right"?"end":"middle"}g(u,"getTextAnchor");function h(x){return`translate(${x.x}, ${x.y}) rotate(${x.rotation||0})`}g(h,"getTextTransformation"),U.debug(`Rendering xychart chart
`+e);const d=eo(t),f=d.append("g").attr("class","main"),p=f.append("rect").attr("width",a.width).attr("height",a.height).attr("class","background");ei(d,a.height,a.width,!0),d.attr("viewBox",`0 0 ${a.width} ${a.height}`),p.attr("fill",s.backgroundColor),i.setTmpSVGG(d.append("g").attr("class","mermaid-tmp-group"));const m=i.getDrawableElem(),y={};function b(x){let v=f,_="";for(const[S]of x.entries()){let k=f;S>0&&y[_]&&(k=y[_]),_+=x[S],v=y[_],v||(v=y[_]=k.append("g").attr("class",x[S]))}return v}g(b,"getGroup");for(const x of m){if(x.data.length===0)continue;const v=b(x.groupTexts);switch(x.type){case"rect":if(v.selectAll("rect").data(x.data).enter().append("rect").attr("x",_=>_.x).attr("y",_=>_.y).attr("width",_=>_.width).attr("height",_=>_.height).attr("fill",_=>_.fill).attr("stroke",_=>_.strokeFill).attr("stroke-width",_=>_.strokeWidth),a.showDataLabel)if(a.chartOrientation==="horizontal"){let _=function(I,C){const{data:R,label:w}=I;return C*w.length*S<=R.width-10};g(_,"fitsHorizontally");const S=.7,k=x.data.map((I,C)=>({data:I,label:o[C].toString()})).filter(I=>I.data.width>0&&I.data.height>0),T=k.map(I=>{const{data:C}=I;let R=C.height*.7;for(;!_(I,R)&&R>0;)R-=1;return R}),E=Math.floor(Math.min(...T));v.selectAll("text").data(k).enter().append("text").attr("x",I=>I.data.x+I.data.width-10).attr("y",I=>I.data.y+I.data.height/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("fill","black").attr("font-size",`${E}px`).text(I=>I.label)}else{let _=function(I,C,R){const{data:w,label:$}=I,L=C*$.length*.7,N=w.x+w.width/2,D=N-L/2,P=N+L/2,O=D>=w.x&&P<=w.x+w.width,M=w.y+R+C<=w.y+w.height;return O&&M};g(_,"fitsInBar");const S=10,k=x.data.map((I,C)=>({data:I,label:o[C].toString()})).filter(I=>I.data.width>0&&I.data.height>0),T=k.map(I=>{const{data:C,label:R}=I;let w=C.width/(R.length*.7);for(;!_(I,w,S)&&w>0;)w-=1;return w}),E=Math.floor(Math.min(...T));v.selectAll("text").data(k).enter().append("text").attr("x",I=>I.data.x+I.data.width/2).attr("y",I=>I.data.y+S).attr("text-anchor","middle").attr("dominant-baseline","hanging").attr("fill","black").attr("font-size",`${E}px`).text(I=>I.label)}break;case"text":v.selectAll("text").data(x.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",_=>_.fill).attr("font-size",_=>_.fontSize).attr("dominant-baseline",_=>l(_.verticalPos)).attr("text-anchor",_=>u(_.horizontalPos)).attr("transform",_=>h(_)).text(_=>_.text);break;case"path":v.selectAll("path").data(x.data).enter().append("path").attr("d",_=>_.path).attr("fill",_=>_.fill?_.fill:"none").attr("stroke",_=>_.strokeFill).attr("stroke-width",_=>_.strokeWidth);break}}},"draw"),N3t={draw:I3t},$3t={parser:v3t,db:R3t,renderer:N3t};const O3t=Object.freeze(Object.defineProperty({__proto__:null,diagram:$3t},Symbol.toStringTag,{value:"Module"}));var jT=function(){var e=g(function(Q,Tt,H,$t){for(H=H||{},$t=Q.length;$t--;H[Q[$t]]=Tt);return H},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],s=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],a=[1,22],o=[2,7],l=[1,26],u=[1,27],h=[1,28],d=[1,29],f=[1,33],p=[1,34],m=[1,35],y=[1,36],b=[1,37],x=[1,38],v=[1,24],_=[1,31],S=[1,32],k=[1,30],T=[1,39],E=[1,40],I=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],C=[1,61],R=[89,90],w=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],$=[27,29],A=[1,70],L=[1,71],N=[1,72],D=[1,73],P=[1,74],O=[1,75],M=[1,76],Y=[1,83],F=[1,80],j=[1,84],it=[1,85],ft=[1,86],J=[1,87],dt=[1,88],et=[1,89],St=[1,90],ct=[1,91],bt=[1,92],nt=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],Z=[63,64],z=[1,101],V=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],G=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],W=[1,110],ot=[1,106],B=[1,107],wt=[1,108],K=[1,109],vt=[1,111],mt=[1,116],Nt=[1,117],lt=[1,114],xt=[1,115],st={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:g(function(Tt,H,$t,q,At,gt,Mt){var kt=gt.length-1;switch(At){case 4:this.$=gt[kt].trim(),q.setAccTitle(this.$);break;case 5:case 6:this.$=gt[kt].trim(),q.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:q.setDirection("TB");break;case 18:q.setDirection("BT");break;case 19:q.setDirection("RL");break;case 20:q.setDirection("LR");break;case 21:q.addRequirement(gt[kt-3],gt[kt-4]);break;case 22:q.addRequirement(gt[kt-5],gt[kt-6]),q.setClass([gt[kt-5]],gt[kt-3]);break;case 23:q.setNewReqId(gt[kt-2]);break;case 24:q.setNewReqText(gt[kt-2]);break;case 25:q.setNewReqRisk(gt[kt-2]);break;case 26:q.setNewReqVerifyMethod(gt[kt-2]);break;case 29:this.$=q.RequirementType.REQUIREMENT;break;case 30:this.$=q.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=q.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=q.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=q.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=q.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=q.RiskLevel.LOW_RISK;break;case 36:this.$=q.RiskLevel.MED_RISK;break;case 37:this.$=q.RiskLevel.HIGH_RISK;break;case 38:this.$=q.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=q.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=q.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=q.VerifyType.VERIFY_TEST;break;case 42:q.addElement(gt[kt-3]);break;case 43:q.addElement(gt[kt-5]),q.setClass([gt[kt-5]],gt[kt-3]);break;case 44:q.setNewElementType(gt[kt-2]);break;case 45:q.setNewElementDocRef(gt[kt-2]);break;case 48:q.addRelationship(gt[kt-2],gt[kt],gt[kt-4]);break;case 49:q.addRelationship(gt[kt-2],gt[kt-4],gt[kt]);break;case 50:this.$=q.Relationships.CONTAINS;break;case 51:this.$=q.Relationships.COPIES;break;case 52:this.$=q.Relationships.DERIVES;break;case 53:this.$=q.Relationships.SATISFIES;break;case 54:this.$=q.Relationships.VERIFIES;break;case 55:this.$=q.Relationships.REFINES;break;case 56:this.$=q.Relationships.TRACES;break;case 57:this.$=gt[kt-2],q.defineClass(gt[kt-1],gt[kt]);break;case 58:q.setClass(gt[kt-1],gt[kt]);break;case 59:q.setClass([gt[kt-2]],gt[kt]);break;case 60:case 62:this.$=[gt[kt]];break;case 61:case 63:this.$=gt[kt-2].concat([gt[kt]]);break;case 64:this.$=gt[kt-2],q.setCssStyle(gt[kt-1],gt[kt]);break;case 65:this.$=[gt[kt]];break;case 66:gt[kt-2].push(gt[kt]),this.$=gt[kt-2];break;case 68:this.$=gt[kt-1]+gt[kt];break}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(s,[2,6]),{3:12,4:2,6:t,9:r,11:n,13:i},{1:[2,2]},{4:17,5:a,7:13,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},e(s,[2,4]),e(s,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:a,7:42,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},{4:17,5:a,7:43,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},{4:17,5:a,7:44,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},{4:17,5:a,7:45,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},{4:17,5:a,7:46,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},{4:17,5:a,7:47,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},{4:17,5:a,7:48,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},{4:17,5:a,7:49,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},{4:17,5:a,7:50,8:o,9:r,11:n,13:i,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:l,22:u,23:h,24:d,25:23,33:25,41:f,42:p,43:m,44:y,45:b,46:x,54:v,72:_,74:S,77:k,89:T,90:E},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},e(I,[2,17]),e(I,[2,18]),e(I,[2,19]),e(I,[2,20]),{30:60,33:62,75:C,89:T,90:E},{30:63,33:62,75:C,89:T,90:E},{30:64,33:62,75:C,89:T,90:E},e(R,[2,29]),e(R,[2,30]),e(R,[2,31]),e(R,[2,32]),e(R,[2,33]),e(R,[2,34]),e(w,[2,81]),e(w,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},e($,[2,79]),e($,[2,80]),{27:[1,67],29:[1,68]},e($,[2,85]),e($,[2,86]),{62:69,65:A,66:L,67:N,68:D,69:P,70:O,71:M},{62:77,65:A,66:L,67:N,68:D,69:P,70:O,71:M},{30:78,33:62,75:C,89:T,90:E},{73:79,75:Y,76:F,78:81,79:82,80:j,81:it,82:ft,83:J,84:dt,85:et,86:St,87:ct,88:bt},e(nt,[2,60]),e(nt,[2,62]),{73:93,75:Y,76:F,78:81,79:82,80:j,81:it,82:ft,83:J,84:dt,85:et,86:St,87:ct,88:bt},{30:94,33:62,75:C,76:F,89:T,90:E},{5:[1,95]},{30:96,33:62,75:C,89:T,90:E},{5:[1,97]},{30:98,33:62,75:C,89:T,90:E},{63:[1,99]},e(Z,[2,50]),e(Z,[2,51]),e(Z,[2,52]),e(Z,[2,53]),e(Z,[2,54]),e(Z,[2,55]),e(Z,[2,56]),{64:[1,100]},e(I,[2,59],{76:F}),e(I,[2,64],{76:z}),{33:103,75:[1,102],89:T,90:E},e(V,[2,65],{79:104,75:Y,80:j,81:it,82:ft,83:J,84:dt,85:et,86:St,87:ct,88:bt}),e(G,[2,67]),e(G,[2,69]),e(G,[2,70]),e(G,[2,71]),e(G,[2,72]),e(G,[2,73]),e(G,[2,74]),e(G,[2,75]),e(G,[2,76]),e(G,[2,77]),e(G,[2,78]),e(I,[2,57],{76:z}),e(I,[2,58],{76:F}),{5:W,28:105,31:ot,34:B,36:wt,38:K,40:vt},{27:[1,112],76:F},{5:mt,40:Nt,56:113,57:lt,59:xt},{27:[1,118],76:F},{33:119,89:T,90:E},{33:120,89:T,90:E},{75:Y,78:121,79:82,80:j,81:it,82:ft,83:J,84:dt,85:et,86:St,87:ct,88:bt},e(nt,[2,61]),e(nt,[2,63]),e(G,[2,68]),e(I,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:W,28:126,31:ot,34:B,36:wt,38:K,40:vt},e(I,[2,28]),{5:[1,127]},e(I,[2,42]),{32:[1,128]},{32:[1,129]},{5:mt,40:Nt,56:130,57:lt,59:xt},e(I,[2,47]),{5:[1,131]},e(I,[2,48]),e(I,[2,49]),e(V,[2,66],{79:104,75:Y,80:j,81:it,82:ft,83:J,84:dt,85:et,86:St,87:ct,88:bt}),{33:132,89:T,90:E},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},e(I,[2,27]),{5:W,28:145,31:ot,34:B,36:wt,38:K,40:vt},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},e(I,[2,46]),{5:mt,40:Nt,56:152,57:lt,59:xt},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},e(I,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},e(I,[2,43]),{5:W,28:159,31:ot,34:B,36:wt,38:K,40:vt},{5:W,28:160,31:ot,34:B,36:wt,38:K,40:vt},{5:W,28:161,31:ot,34:B,36:wt,38:K,40:vt},{5:W,28:162,31:ot,34:B,36:wt,38:K,40:vt},{5:mt,40:Nt,56:163,57:lt,59:xt},{5:mt,40:Nt,56:164,57:lt,59:xt},e(I,[2,23]),e(I,[2,24]),e(I,[2,25]),e(I,[2,26]),e(I,[2,44]),e(I,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:g(function(Tt,H){if(H.recoverable)this.trace(Tt);else{var $t=new Error(Tt);throw $t.hash=H,$t}},"parseError"),parse:g(function(Tt){var H=this,$t=[0],q=[],At=[null],gt=[],Mt=this.table,kt="",Ct=0,ae=0,Dt=2,ke=1,zr=gt.slice.call(arguments,1),pe=Object.create(this.lexer),Be={yy:{}};for(var Tr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Tr)&&(Be.yy[Tr]=this.yy[Tr]);pe.setInput(Tt,Be.yy),Be.yy.lexer=pe,Be.yy.parser=this,typeof pe.yylloc>"u"&&(pe.yylloc={});var Wt=pe.yylloc;gt.push(Wt);var Fe=pe.options&&pe.options.ranges;typeof Be.yy.parseError=="function"?this.parseError=Be.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function He(Ke){$t.length=$t.length-2*Ke,At.length=At.length-Ke,gt.length=gt.length-Ke}g(He,"popStack");function kr(){var Ke;return Ke=q.pop()||pe.lex()||ke,typeof Ke!="number"&&(Ke instanceof Array&&(q=Ke,Ke=q.pop()),Ke=H.symbols_[Ke]||Ke),Ke}g(kr,"lex");for(var te,$e,jt,_e,ee={},Jt,Kt,ve,Ir;;){if($e=$t[$t.length-1],this.defaultActions[$e]?jt=this.defaultActions[$e]:((te===null||typeof te>"u")&&(te=kr()),jt=Mt[$e]&&Mt[$e][te]),typeof jt>"u"||!jt.length||!jt[0]){var Te="";Ir=[];for(Jt in Mt[$e])this.terminals_[Jt]&&Jt>Dt&&Ir.push("'"+this.terminals_[Jt]+"'");pe.showPosition?Te="Parse error on line "+(Ct+1)+`:
`+pe.showPosition()+`
Expecting `+Ir.join(", ")+", got '"+(this.terminals_[te]||te)+"'":Te="Parse error on line "+(Ct+1)+": Unexpected "+(te==ke?"end of input":"'"+(this.terminals_[te]||te)+"'"),this.parseError(Te,{text:pe.match,token:this.terminals_[te]||te,line:pe.yylineno,loc:Wt,expected:Ir})}if(jt[0]instanceof Array&&jt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$e+", token: "+te);switch(jt[0]){case 1:$t.push(te),At.push(pe.yytext),gt.push(pe.yylloc),$t.push(jt[1]),te=null,ae=pe.yyleng,kt=pe.yytext,Ct=pe.yylineno,Wt=pe.yylloc;break;case 2:if(Kt=this.productions_[jt[1]][1],ee.$=At[At.length-Kt],ee._$={first_line:gt[gt.length-(Kt||1)].first_line,last_line:gt[gt.length-1].last_line,first_column:gt[gt.length-(Kt||1)].first_column,last_column:gt[gt.length-1].last_column},Fe&&(ee._$.range=[gt[gt.length-(Kt||1)].range[0],gt[gt.length-1].range[1]]),_e=this.performAction.apply(ee,[kt,ae,Ct,Be.yy,jt[1],At,gt].concat(zr)),typeof _e<"u")return _e;Kt&&($t=$t.slice(0,-1*Kt*2),At=At.slice(0,-1*Kt),gt=gt.slice(0,-1*Kt)),$t.push(this.productions_[jt[1]][0]),At.push(ee.$),gt.push(ee._$),ve=Mt[$t[$t.length-2]][$t[$t.length-1]],$t.push(ve);break;case 3:return!0}}return!0},"parse")},ut=function(){var Q={EOF:1,parseError:g(function(H,$t){if(this.yy.parser)this.yy.parser.parseError(H,$t);else throw new Error(H)},"parseError"),setInput:g(function(Tt,H){return this.yy=H||this.yy||{},this._input=Tt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var Tt=this._input[0];this.yytext+=Tt,this.yyleng++,this.offset++,this.match+=Tt,this.matched+=Tt;var H=Tt.match(/(?:\r\n?|\n).*/g);return H?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Tt},"input"),unput:g(function(Tt){var H=Tt.length,$t=Tt.split(/(?:\r\n?|\n)/g);this._input=Tt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-H),this.offset-=H;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),$t.length-1&&(this.yylineno-=$t.length-1);var At=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:$t?($t.length===q.length?this.yylloc.first_column:0)+q[q.length-$t.length].length-$t[0].length:this.yylloc.first_column-H},this.options.ranges&&(this.yylloc.range=[At[0],At[0]+this.yyleng-H]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(Tt){this.unput(this.match.slice(Tt))},"less"),pastInput:g(function(){var Tt=this.matched.substr(0,this.matched.length-this.match.length);return(Tt.length>20?"...":"")+Tt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var Tt=this.match;return Tt.length<20&&(Tt+=this._input.substr(0,20-Tt.length)),(Tt.substr(0,20)+(Tt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var Tt=this.pastInput(),H=new Array(Tt.length+1).join("-");return Tt+this.upcomingInput()+`
`+H+"^"},"showPosition"),test_match:g(function(Tt,H){var $t,q,At;if(this.options.backtrack_lexer&&(At={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(At.yylloc.range=this.yylloc.range.slice(0))),q=Tt[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Tt[0].length},this.yytext+=Tt[0],this.match+=Tt[0],this.matches=Tt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Tt[0].length),this.matched+=Tt[0],$t=this.performAction.call(this,this.yy,this,H,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$t)return $t;if(this._backtrack){for(var gt in At)this[gt]=At[gt];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Tt,H,$t,q;this._more||(this.yytext="",this.match="");for(var At=this._currentRules(),gt=0;gt<At.length;gt++)if($t=this._input.match(this.rules[At[gt]]),$t&&(!H||$t[0].length>H[0].length)){if(H=$t,q=gt,this.options.backtrack_lexer){if(Tt=this.test_match($t,At[gt]),Tt!==!1)return Tt;if(this._backtrack){H=!1;continue}else return!1}else if(!this.options.flex)break}return H?(Tt=this.test_match(H,At[q]),Tt!==!1?Tt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var H=this.next();return H||this.lex()},"lex"),begin:g(function(H){this.conditionStack.push(H)},"begin"),popState:g(function(){var H=this.conditionStack.length-1;return H>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(H){return H=this.conditionStack.length-1-Math.abs(H||0),H>=0?this.conditionStack[H]:"INITIAL"},"topState"),pushState:g(function(H){this.begin(H)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(H,$t,q,At){switch(q){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;case 60:return this.begin("style"),74;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return $t.yytext=$t.yytext.trim(),89;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return Q}();st.lexer=ut;function _t(){this.yy={}}return g(_t,"Parser"),_t.prototype=st,st.Parser=_t,new _t}();jT.parser=jT;var D3t=jT,hh,M3t=(hh=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=Pr,this.getAccTitle=Xr,this.setAccDescription=Kr,this.getAccDescription=Qr,this.setDiagramTitle=on,this.getDiagramTitle=Vr,this.getConfig=g(()=>rt().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}getDirection(){return this.direction}setDirection(t){this.direction=t}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(t,r){return this.requirements.has(t)||this.requirements.set(t,{name:t,type:r,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]}),this.resetLatestRequirement(),this.requirements.get(t)}getRequirements(){return this.requirements}setNewReqId(t){this.latestRequirement!==void 0&&(this.latestRequirement.requirementId=t)}setNewReqText(t){this.latestRequirement!==void 0&&(this.latestRequirement.text=t)}setNewReqRisk(t){this.latestRequirement!==void 0&&(this.latestRequirement.risk=t)}setNewReqVerifyMethod(t){this.latestRequirement!==void 0&&(this.latestRequirement.verifyMethod=t)}addElement(t){return this.elements.has(t)||(this.elements.set(t,{name:t,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),U.info("Added new element: ",t)),this.resetLatestElement(),this.elements.get(t)}getElements(){return this.elements}setNewElementType(t){this.latestElement!==void 0&&(this.latestElement.type=t)}setNewElementDocRef(t){this.latestElement!==void 0&&(this.latestElement.docRef=t)}addRelationship(t,r,n){this.relations.push({type:t,src:r,dst:n})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,Fr()}setCssStyle(t,r){for(const n of t){const i=this.requirements.get(n)??this.elements.get(n);if(!r||!i)return;for(const s of r)s.includes(",")?i.cssStyles.push(...s.split(",")):i.cssStyles.push(s)}}setClass(t,r){var n;for(const i of t){const s=this.requirements.get(i)??this.elements.get(i);if(s)for(const a of r){s.classes.push(a);const o=(n=this.classes.get(a))==null?void 0:n.styles;o&&s.cssStyles.push(...o)}}}defineClass(t,r){for(const n of t){let i=this.classes.get(n);i===void 0&&(i={id:n,styles:[],textStyles:[]},this.classes.set(n,i)),r&&r.forEach(function(s){if(/color/.exec(s)){const a=s.replace("fill","bgFill");i.textStyles.push(a)}i.styles.push(s)}),this.requirements.forEach(s=>{s.classes.includes(n)&&s.cssStyles.push(...r.flatMap(a=>a.split(",")))}),this.elements.forEach(s=>{s.classes.includes(n)&&s.cssStyles.push(...r.flatMap(a=>a.split(",")))})}}getClasses(){return this.classes}getData(){var i,s,a,o;const t=rt(),r=[],n=[];for(const l of this.requirements.values()){const u=l;u.id=l.name,u.cssStyles=l.cssStyles,u.cssClasses=l.classes.join(" "),u.shape="requirementBox",u.look=t.look,r.push(u)}for(const l of this.elements.values()){const u=l;u.shape="requirementBox",u.look=t.look,u.id=l.name,u.cssStyles=l.cssStyles,u.cssClasses=l.classes.join(" "),r.push(u)}for(const l of this.relations){let u=0;const h=l.type===this.Relationships.CONTAINS,d={id:`${l.src}-${l.dst}-${u}`,start:((i=this.requirements.get(l.src))==null?void 0:i.name)??((s=this.elements.get(l.src))==null?void 0:s.name),end:((a=this.requirements.get(l.dst))==null?void 0:a.name)??((o=this.elements.get(l.dst))==null?void 0:o.name),label:`&lt;&lt;${l.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",h?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:h?"normal":"dashed",arrowTypeStart:h?"requirement_contains":"",arrowTypeEnd:h?"":"requirement_arrow",look:t.look};n.push(d),u++}return{nodes:r,edges:n,other:{},config:t,direction:this.getDirection()}}},g(hh,"RequirementDB"),hh),P3t=g(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }
  .divider {
    stroke: ${e.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }
  .labelBkg {
    background-color: ${e.edgeLabelBackground};
  }

`,"getStyles"),B3t=P3t,FF={};Uy(FF,{draw:()=>F3t});var F3t=g(async function(e,t,r,n){U.info("REF0:"),U.info("Drawing requirement diagram (unified)",t);const{securityLevel:i,state:s,layout:a}=rt(),o=n.db.getData(),l=hd(t,i);o.type=n.type,o.layoutAlgorithm=gg(a),o.nodeSpacing=(s==null?void 0:s.nodeSpacing)??50,o.rankSpacing=(s==null?void 0:s.rankSpacing)??50,o.markers=["requirement_contains","requirement_arrow"],o.diagramId=t,await ld(o,l);const u=8;be.insertTitle(l,"requirementDiagramTitleText",(s==null?void 0:s.titleTopMargin)??25,n.db.getDiagramTitle()),kc(l,u,"requirementDiagram",(s==null?void 0:s.useMaxWidth)??!0)},"draw"),V3t={parser:D3t,get db(){return new M3t},renderer:FF,styles:B3t};const z3t=Object.freeze(Object.defineProperty({__proto__:null,diagram:V3t},Symbol.toStringTag,{value:"Module"}));var YT=function(){var e=g(function(bt,nt,Z,z){for(Z=Z||{},z=bt.length;z--;Z[bt[z]]=nt);return Z},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],s=[1,9],a=[1,11],o=[1,13],l=[1,14],u=[1,16],h=[1,17],d=[1,18],f=[1,24],p=[1,25],m=[1,26],y=[1,27],b=[1,28],x=[1,29],v=[1,30],_=[1,31],S=[1,32],k=[1,33],T=[1,34],E=[1,35],I=[1,36],C=[1,37],R=[1,38],w=[1,39],$=[1,41],A=[1,42],L=[1,43],N=[1,44],D=[1,45],P=[1,46],O=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,55,60,61,62,63,71],M=[2,71],Y=[4,5,16,50,52,53],F=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],j=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,55,60,61,62,63,71],it=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,55,60,61,62,63,71],ft=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,55,60,61,62,63,71],J=[69,70,71],dt=[1,127],et={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,actor_with_config:54,note:55,placement:56,text2:57,over:58,actor_pair:59,links:60,link:61,properties:62,details:63,spaceList:64,",":65,left_of:66,right_of:67,signaltype:68,"+":69,"-":70,ACTOR:71,config_object:72,CONFIG_START:73,CONFIG_CONTENT:74,CONFIG_END:75,SOLID_OPEN_ARROW:76,DOTTED_OPEN_ARROW:77,SOLID_ARROW:78,BIDIRECTIONAL_SOLID_ARROW:79,DOTTED_ARROW:80,BIDIRECTIONAL_DOTTED_ARROW:81,SOLID_CROSS:82,DOTTED_CROSS:83,SOLID_POINT:84,DOTTED_POINT:85,TXT:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",55:"note",58:"over",60:"links",61:"link",62:"properties",63:"details",65:",",66:"left_of",67:"right_of",69:"+",70:"-",71:"ACTOR",73:"CONFIG_START",74:"CONFIG_CONTENT",75:"CONFIG_END",76:"SOLID_OPEN_ARROW",77:"DOTTED_OPEN_ARROW",78:"SOLID_ARROW",79:"BIDIRECTIONAL_SOLID_ARROW",80:"DOTTED_ARROW",81:"BIDIRECTIONAL_DOTTED_ARROW",82:"SOLID_CROSS",83:"DOTTED_CROSS",84:"SOLID_POINT",85:"DOTTED_POINT",86:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[64,2],[64,1],[59,3],[59,1],[56,1],[56,1],[17,5],[17,5],[17,4],[54,2],[72,3],[22,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[57,1]],performAction:g(function(nt,Z,z,V,G,W,ot){var B=W.length-1;switch(G){case 3:return V.apply(W[B]),W[B];case 4:case 9:this.$=[];break;case 5:case 10:W[B-1].push(W[B]),this.$=W[B-1];break;case 6:case 7:case 11:case 12:this.$=W[B];break;case 8:case 13:this.$=[];break;case 15:W[B].type="createParticipant",this.$=W[B];break;case 16:W[B-1].unshift({type:"boxStart",boxData:V.parseBoxData(W[B-2])}),W[B-1].push({type:"boxEnd",boxText:W[B-2]}),this.$=W[B-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(W[B-2]),sequenceIndexStep:Number(W[B-1]),sequenceVisible:!0,signalType:V.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(W[B-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:V.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:V.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:V.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:V.LINETYPE.ACTIVE_START,actor:W[B-1].actor};break;case 23:this.$={type:"activeEnd",signalType:V.LINETYPE.ACTIVE_END,actor:W[B-1].actor};break;case 29:V.setDiagramTitle(W[B].substring(6)),this.$=W[B].substring(6);break;case 30:V.setDiagramTitle(W[B].substring(7)),this.$=W[B].substring(7);break;case 31:this.$=W[B].trim(),V.setAccTitle(this.$);break;case 32:case 33:this.$=W[B].trim(),V.setAccDescription(this.$);break;case 34:W[B-1].unshift({type:"loopStart",loopText:V.parseMessage(W[B-2]),signalType:V.LINETYPE.LOOP_START}),W[B-1].push({type:"loopEnd",loopText:W[B-2],signalType:V.LINETYPE.LOOP_END}),this.$=W[B-1];break;case 35:W[B-1].unshift({type:"rectStart",color:V.parseMessage(W[B-2]),signalType:V.LINETYPE.RECT_START}),W[B-1].push({type:"rectEnd",color:V.parseMessage(W[B-2]),signalType:V.LINETYPE.RECT_END}),this.$=W[B-1];break;case 36:W[B-1].unshift({type:"optStart",optText:V.parseMessage(W[B-2]),signalType:V.LINETYPE.OPT_START}),W[B-1].push({type:"optEnd",optText:V.parseMessage(W[B-2]),signalType:V.LINETYPE.OPT_END}),this.$=W[B-1];break;case 37:W[B-1].unshift({type:"altStart",altText:V.parseMessage(W[B-2]),signalType:V.LINETYPE.ALT_START}),W[B-1].push({type:"altEnd",signalType:V.LINETYPE.ALT_END}),this.$=W[B-1];break;case 38:W[B-1].unshift({type:"parStart",parText:V.parseMessage(W[B-2]),signalType:V.LINETYPE.PAR_START}),W[B-1].push({type:"parEnd",signalType:V.LINETYPE.PAR_END}),this.$=W[B-1];break;case 39:W[B-1].unshift({type:"parStart",parText:V.parseMessage(W[B-2]),signalType:V.LINETYPE.PAR_OVER_START}),W[B-1].push({type:"parEnd",signalType:V.LINETYPE.PAR_END}),this.$=W[B-1];break;case 40:W[B-1].unshift({type:"criticalStart",criticalText:V.parseMessage(W[B-2]),signalType:V.LINETYPE.CRITICAL_START}),W[B-1].push({type:"criticalEnd",signalType:V.LINETYPE.CRITICAL_END}),this.$=W[B-1];break;case 41:W[B-1].unshift({type:"breakStart",breakText:V.parseMessage(W[B-2]),signalType:V.LINETYPE.BREAK_START}),W[B-1].push({type:"breakEnd",optText:V.parseMessage(W[B-2]),signalType:V.LINETYPE.BREAK_END}),this.$=W[B-1];break;case 43:this.$=W[B-3].concat([{type:"option",optionText:V.parseMessage(W[B-1]),signalType:V.LINETYPE.CRITICAL_OPTION},W[B]]);break;case 45:this.$=W[B-3].concat([{type:"and",parText:V.parseMessage(W[B-1]),signalType:V.LINETYPE.PAR_AND},W[B]]);break;case 47:this.$=W[B-3].concat([{type:"else",altText:V.parseMessage(W[B-1]),signalType:V.LINETYPE.ALT_ELSE},W[B]]);break;case 48:W[B-3].draw="participant",W[B-3].type="addParticipant",W[B-3].description=V.parseMessage(W[B-1]),this.$=W[B-3];break;case 49:W[B-1].draw="participant",W[B-1].type="addParticipant",this.$=W[B-1];break;case 50:W[B-3].draw="actor",W[B-3].type="addParticipant",W[B-3].description=V.parseMessage(W[B-1]),this.$=W[B-3];break;case 51:W[B-1].draw="actor",W[B-1].type="addParticipant",this.$=W[B-1];break;case 52:W[B-1].type="destroyParticipant",this.$=W[B-1];break;case 53:W[B-1].draw="participant",W[B-1].type="addParticipant",this.$=W[B-1];break;case 54:this.$=[W[B-1],{type:"addNote",placement:W[B-2],actor:W[B-1].actor,text:W[B]}];break;case 55:W[B-2]=[].concat(W[B-1],W[B-1]).slice(0,2),W[B-2][0]=W[B-2][0].actor,W[B-2][1]=W[B-2][1].actor,this.$=[W[B-1],{type:"addNote",placement:V.PLACEMENT.OVER,actor:W[B-2].slice(0,2),text:W[B]}];break;case 56:this.$=[W[B-1],{type:"addLinks",actor:W[B-1].actor,text:W[B]}];break;case 57:this.$=[W[B-1],{type:"addALink",actor:W[B-1].actor,text:W[B]}];break;case 58:this.$=[W[B-1],{type:"addProperties",actor:W[B-1].actor,text:W[B]}];break;case 59:this.$=[W[B-1],{type:"addDetails",actor:W[B-1].actor,text:W[B]}];break;case 62:this.$=[W[B-2],W[B]];break;case 63:this.$=W[B];break;case 64:this.$=V.PLACEMENT.LEFTOF;break;case 65:this.$=V.PLACEMENT.RIGHTOF;break;case 66:this.$=[W[B-4],W[B-1],{type:"addMessage",from:W[B-4].actor,to:W[B-1].actor,signalType:W[B-3],msg:W[B],activate:!0},{type:"activeStart",signalType:V.LINETYPE.ACTIVE_START,actor:W[B-1].actor}];break;case 67:this.$=[W[B-4],W[B-1],{type:"addMessage",from:W[B-4].actor,to:W[B-1].actor,signalType:W[B-3],msg:W[B]},{type:"activeEnd",signalType:V.LINETYPE.ACTIVE_END,actor:W[B-4].actor}];break;case 68:this.$=[W[B-3],W[B-1],{type:"addMessage",from:W[B-3].actor,to:W[B-1].actor,signalType:W[B-2],msg:W[B]}];break;case 69:this.$={type:"addParticipant",actor:W[B-1],config:W[B]};break;case 70:this.$=W[B-1].trim();break;case 71:this.$={type:"addParticipant",actor:W[B]};break;case 72:this.$=V.LINETYPE.SOLID_OPEN;break;case 73:this.$=V.LINETYPE.DOTTED_OPEN;break;case 74:this.$=V.LINETYPE.SOLID;break;case 75:this.$=V.LINETYPE.BIDIRECTIONAL_SOLID;break;case 76:this.$=V.LINETYPE.DOTTED;break;case 77:this.$=V.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 78:this.$=V.LINETYPE.SOLID_CROSS;break;case 79:this.$=V.LINETYPE.DOTTED_CROSS;break;case 80:this.$=V.LINETYPE.SOLID_POINT;break;case 81:this.$=V.LINETYPE.DOTTED_POINT;break;case 82:this.$=V.parseMessage(W[B].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:s,5:a,8:8,9:10,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:m,33:y,35:b,36:x,37:v,38:_,39:S,41:k,43:T,44:E,46:I,50:C,52:R,53:w,55:$,60:A,61:L,62:N,63:D,71:P},e(O,[2,5]),{9:47,12:12,13:o,14:l,17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:m,33:y,35:b,36:x,37:v,38:_,39:S,41:k,43:T,44:E,46:I,50:C,52:R,53:w,55:$,60:A,61:L,62:N,63:D,71:P},e(O,[2,7]),e(O,[2,8]),e(O,[2,14]),{12:48,50:C,52:R,53:w},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,71:P},{22:55,71:P},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(O,[2,29]),e(O,[2,30]),{32:[1,61]},{34:[1,62]},e(O,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,54:72,71:[1,73]},{22:74,71:P},{22:75,71:P},{68:76,76:[1,77],77:[1,78],78:[1,79],79:[1,80],80:[1,81],81:[1,82],82:[1,83],83:[1,84],84:[1,85],85:[1,86]},{56:87,58:[1,88],66:[1,89],67:[1,90]},{22:91,71:P},{22:92,71:P},{22:93,71:P},{22:94,71:P},e([5,51,65,76,77,78,79,80,81,82,83,84,85,86],M),e(O,[2,6]),e(O,[2,15]),e(Y,[2,9],{10:95}),e(O,[2,17]),{5:[1,97],19:[1,96]},{5:[1,98]},e(O,[2,21]),{5:[1,99]},{5:[1,100]},e(O,[2,24]),e(O,[2,25]),e(O,[2,26]),e(O,[2,27]),e(O,[2,28]),e(O,[2,31]),e(O,[2,32]),e(F,i,{7:101}),e(F,i,{7:102}),e(F,i,{7:103}),e(j,i,{40:104,7:105}),e(it,i,{42:106,7:107}),e(it,i,{7:107,42:108}),e(ft,i,{45:109,7:110}),e(F,i,{7:111}),{5:[1,113],51:[1,112]},{5:[1,114]},e([5,51],M,{72:115,73:[1,116]}),{5:[1,118],51:[1,117]},{5:[1,119]},{22:122,69:[1,120],70:[1,121],71:P},e(J,[2,72]),e(J,[2,73]),e(J,[2,74]),e(J,[2,75]),e(J,[2,76]),e(J,[2,77]),e(J,[2,78]),e(J,[2,79]),e(J,[2,80]),e(J,[2,81]),{22:123,71:P},{22:125,59:124,71:P},{71:[2,64]},{71:[2,65]},{57:126,86:dt},{57:128,86:dt},{57:129,86:dt},{57:130,86:dt},{4:[1,133],5:[1,135],11:132,12:134,16:[1,131],50:C,52:R,53:w},{5:[1,136]},e(O,[2,19]),e(O,[2,20]),e(O,[2,22]),e(O,[2,23]),{4:s,5:a,8:8,9:10,12:12,13:o,14:l,16:[1,137],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:m,33:y,35:b,36:x,37:v,38:_,39:S,41:k,43:T,44:E,46:I,50:C,52:R,53:w,55:$,60:A,61:L,62:N,63:D,71:P},{4:s,5:a,8:8,9:10,12:12,13:o,14:l,16:[1,138],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:m,33:y,35:b,36:x,37:v,38:_,39:S,41:k,43:T,44:E,46:I,50:C,52:R,53:w,55:$,60:A,61:L,62:N,63:D,71:P},{4:s,5:a,8:8,9:10,12:12,13:o,14:l,16:[1,139],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:m,33:y,35:b,36:x,37:v,38:_,39:S,41:k,43:T,44:E,46:I,50:C,52:R,53:w,55:$,60:A,61:L,62:N,63:D,71:P},{16:[1,140]},{4:s,5:a,8:8,9:10,12:12,13:o,14:l,16:[2,46],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:m,33:y,35:b,36:x,37:v,38:_,39:S,41:k,43:T,44:E,46:I,49:[1,141],50:C,52:R,53:w,55:$,60:A,61:L,62:N,63:D,71:P},{16:[1,142]},{4:s,5:a,8:8,9:10,12:12,13:o,14:l,16:[2,44],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:m,33:y,35:b,36:x,37:v,38:_,39:S,41:k,43:T,44:E,46:I,48:[1,143],50:C,52:R,53:w,55:$,60:A,61:L,62:N,63:D,71:P},{16:[1,144]},{16:[1,145]},{4:s,5:a,8:8,9:10,12:12,13:o,14:l,16:[2,42],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:m,33:y,35:b,36:x,37:v,38:_,39:S,41:k,43:T,44:E,46:I,47:[1,146],50:C,52:R,53:w,55:$,60:A,61:L,62:N,63:D,71:P},{4:s,5:a,8:8,9:10,12:12,13:o,14:l,16:[1,147],17:15,18:u,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:m,33:y,35:b,36:x,37:v,38:_,39:S,41:k,43:T,44:E,46:I,50:C,52:R,53:w,55:$,60:A,61:L,62:N,63:D,71:P},{15:[1,148]},e(O,[2,49]),e(O,[2,53]),{5:[2,69]},{74:[1,149]},{15:[1,150]},e(O,[2,51]),e(O,[2,52]),{22:151,71:P},{22:152,71:P},{57:153,86:dt},{57:154,86:dt},{57:155,86:dt},{65:[1,156],86:[2,63]},{5:[2,56]},{5:[2,82]},{5:[2,57]},{5:[2,58]},{5:[2,59]},e(O,[2,16]),e(Y,[2,10]),{12:157,50:C,52:R,53:w},e(Y,[2,12]),e(Y,[2,13]),e(O,[2,18]),e(O,[2,34]),e(O,[2,35]),e(O,[2,36]),e(O,[2,37]),{15:[1,158]},e(O,[2,38]),{15:[1,159]},e(O,[2,39]),e(O,[2,40]),{15:[1,160]},e(O,[2,41]),{5:[1,161]},{75:[1,162]},{5:[1,163]},{57:164,86:dt},{57:165,86:dt},{5:[2,68]},{5:[2,54]},{5:[2,55]},{22:166,71:P},e(Y,[2,11]),e(j,i,{7:105,40:167}),e(it,i,{7:107,42:168}),e(ft,i,{7:110,45:169}),e(O,[2,48]),{5:[2,70]},e(O,[2,50]),{5:[2,66]},{5:[2,67]},{86:[2,62]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],89:[2,64],90:[2,65],115:[2,69],126:[2,56],127:[2,82],128:[2,57],129:[2,58],130:[2,59],153:[2,68],154:[2,54],155:[2,55],162:[2,70],164:[2,66],165:[2,67],166:[2,62],167:[2,47],168:[2,45],169:[2,43]},parseError:g(function(nt,Z){if(Z.recoverable)this.trace(nt);else{var z=new Error(nt);throw z.hash=Z,z}},"parseError"),parse:g(function(nt){var Z=this,z=[0],V=[],G=[null],W=[],ot=this.table,B="",wt=0,K=0,vt=2,mt=1,Nt=W.slice.call(arguments,1),lt=Object.create(this.lexer),xt={yy:{}};for(var st in this.yy)Object.prototype.hasOwnProperty.call(this.yy,st)&&(xt.yy[st]=this.yy[st]);lt.setInput(nt,xt.yy),xt.yy.lexer=lt,xt.yy.parser=this,typeof lt.yylloc>"u"&&(lt.yylloc={});var ut=lt.yylloc;W.push(ut);var _t=lt.options&&lt.options.ranges;typeof xt.yy.parseError=="function"?this.parseError=xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Q(ke){z.length=z.length-2*ke,G.length=G.length-ke,W.length=W.length-ke}g(Q,"popStack");function Tt(){var ke;return ke=V.pop()||lt.lex()||mt,typeof ke!="number"&&(ke instanceof Array&&(V=ke,ke=V.pop()),ke=Z.symbols_[ke]||ke),ke}g(Tt,"lex");for(var H,$t,q,At,gt={},Mt,kt,Ct,ae;;){if($t=z[z.length-1],this.defaultActions[$t]?q=this.defaultActions[$t]:((H===null||typeof H>"u")&&(H=Tt()),q=ot[$t]&&ot[$t][H]),typeof q>"u"||!q.length||!q[0]){var Dt="";ae=[];for(Mt in ot[$t])this.terminals_[Mt]&&Mt>vt&&ae.push("'"+this.terminals_[Mt]+"'");lt.showPosition?Dt="Parse error on line "+(wt+1)+`:
`+lt.showPosition()+`
Expecting `+ae.join(", ")+", got '"+(this.terminals_[H]||H)+"'":Dt="Parse error on line "+(wt+1)+": Unexpected "+(H==mt?"end of input":"'"+(this.terminals_[H]||H)+"'"),this.parseError(Dt,{text:lt.match,token:this.terminals_[H]||H,line:lt.yylineno,loc:ut,expected:ae})}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$t+", token: "+H);switch(q[0]){case 1:z.push(H),G.push(lt.yytext),W.push(lt.yylloc),z.push(q[1]),H=null,K=lt.yyleng,B=lt.yytext,wt=lt.yylineno,ut=lt.yylloc;break;case 2:if(kt=this.productions_[q[1]][1],gt.$=G[G.length-kt],gt._$={first_line:W[W.length-(kt||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-(kt||1)].first_column,last_column:W[W.length-1].last_column},_t&&(gt._$.range=[W[W.length-(kt||1)].range[0],W[W.length-1].range[1]]),At=this.performAction.apply(gt,[B,K,wt,xt.yy,q[1],G,W].concat(Nt)),typeof At<"u")return At;kt&&(z=z.slice(0,-1*kt*2),G=G.slice(0,-1*kt),W=W.slice(0,-1*kt)),z.push(this.productions_[q[1]][0]),G.push(gt.$),W.push(gt._$),Ct=ot[z[z.length-2]][z[z.length-1]],z.push(Ct);break;case 3:return!0}}return!0},"parse")},St=function(){var bt={EOF:1,parseError:g(function(Z,z){if(this.yy.parser)this.yy.parser.parseError(Z,z);else throw new Error(Z)},"parseError"),setInput:g(function(nt,Z){return this.yy=Z||this.yy||{},this._input=nt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var nt=this._input[0];this.yytext+=nt,this.yyleng++,this.offset++,this.match+=nt,this.matched+=nt;var Z=nt.match(/(?:\r\n?|\n).*/g);return Z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),nt},"input"),unput:g(function(nt){var Z=nt.length,z=nt.split(/(?:\r\n?|\n)/g);this._input=nt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Z),this.offset-=Z;var V=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),z.length-1&&(this.yylineno-=z.length-1);var G=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:z?(z.length===V.length?this.yylloc.first_column:0)+V[V.length-z.length].length-z[0].length:this.yylloc.first_column-Z},this.options.ranges&&(this.yylloc.range=[G[0],G[0]+this.yyleng-Z]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(nt){this.unput(this.match.slice(nt))},"less"),pastInput:g(function(){var nt=this.matched.substr(0,this.matched.length-this.match.length);return(nt.length>20?"...":"")+nt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var nt=this.match;return nt.length<20&&(nt+=this._input.substr(0,20-nt.length)),(nt.substr(0,20)+(nt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var nt=this.pastInput(),Z=new Array(nt.length+1).join("-");return nt+this.upcomingInput()+`
`+Z+"^"},"showPosition"),test_match:g(function(nt,Z){var z,V,G;if(this.options.backtrack_lexer&&(G={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(G.yylloc.range=this.yylloc.range.slice(0))),V=nt[0].match(/(?:\r\n?|\n).*/g),V&&(this.yylineno+=V.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:V?V[V.length-1].length-V[V.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+nt[0].length},this.yytext+=nt[0],this.match+=nt[0],this.matches=nt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(nt[0].length),this.matched+=nt[0],z=this.performAction.call(this,this.yy,this,Z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),z)return z;if(this._backtrack){for(var W in G)this[W]=G[W];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var nt,Z,z,V;this._more||(this.yytext="",this.match="");for(var G=this._currentRules(),W=0;W<G.length;W++)if(z=this._input.match(this.rules[G[W]]),z&&(!Z||z[0].length>Z[0].length)){if(Z=z,V=W,this.options.backtrack_lexer){if(nt=this.test_match(z,G[W]),nt!==!1)return nt;if(this._backtrack){Z=!1;continue}else return!1}else if(!this.options.flex)break}return Z?(nt=this.test_match(Z,G[V]),nt!==!1?nt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var Z=this.next();return Z||this.lex()},"lex"),begin:g(function(Z){this.conditionStack.push(Z)},"begin"),popState:g(function(){var Z=this.conditionStack.length-1;return Z>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(Z){return Z=this.conditionStack.length-1-Math.abs(Z||0),Z>=0?this.conditionStack[Z]:"INITIAL"},"topState"),pushState:g(function(Z){this.begin(Z)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(Z,z,V,G){switch(V){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("CONFIG"),73;case 8:return 74;case 9:return this.popState(),this.popState(),75;case 10:return z.yytext=z.yytext.trim(),71;case 11:return z.yytext=z.yytext.trim(),this.begin("ALIAS"),71;case 12:return this.begin("LINE"),14;case 13:return this.begin("ID"),50;case 14:return this.begin("ID"),52;case 15:return 13;case 16:return this.begin("ID"),53;case 17:return z.yytext=z.yytext.trim(),this.begin("ALIAS"),71;case 18:return this.popState(),this.popState(),this.begin("LINE"),51;case 19:return this.popState(),this.popState(),5;case 20:return this.begin("LINE"),36;case 21:return this.begin("LINE"),37;case 22:return this.begin("LINE"),38;case 23:return this.begin("LINE"),39;case 24:return this.begin("LINE"),49;case 25:return this.begin("LINE"),41;case 26:return this.begin("LINE"),43;case 27:return this.begin("LINE"),48;case 28:return this.begin("LINE"),44;case 29:return this.begin("LINE"),47;case 30:return this.begin("LINE"),46;case 31:return this.popState(),15;case 32:return 16;case 33:return 66;case 34:return 67;case 35:return 60;case 36:return 61;case 37:return 62;case 38:return 63;case 39:return 58;case 40:return 55;case 41:return this.begin("ID"),21;case 42:return this.begin("ID"),23;case 43:return 29;case 44:return 30;case 45:return this.begin("acc_title"),31;case 46:return this.popState(),"acc_title_value";case 47:return this.begin("acc_descr"),33;case 48:return this.popState(),"acc_descr_value";case 49:this.begin("acc_descr_multiline");break;case 50:this.popState();break;case 51:return"acc_descr_multiline_value";case 52:return 6;case 53:return 18;case 54:return 20;case 55:return 65;case 56:return 5;case 57:return z.yytext=z.yytext.trim(),71;case 58:return 78;case 59:return 79;case 60:return 80;case 61:return 81;case 62:return 76;case 63:return 77;case 64:return 82;case 65:return 83;case 66:return 84;case 67:return 85;case 68:return 86;case 69:return 86;case 70:return 69;case 71:return 70;case 72:return 5;case 73:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:@\{)/i,/^(?:[^\}]+)/i,/^(?:\})/i,/^(?:[^\<->\->:\n,;@\s]+(?=@\{))/i,/^(?:[^\<->\->:\n,;@]+?([\-]*[^\<->\->:\n,;@]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<\->\->:\n,;]+?([\-]*[^<\->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<\->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+<\->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[50,51],inclusive:!1},acc_descr:{rules:[48],inclusive:!1},acc_title:{rules:[46],inclusive:!1},ID:{rules:[2,3,7,10,11,17],inclusive:!1},ALIAS:{rules:[2,3,18,19],inclusive:!1},LINE:{rules:[2,3,31],inclusive:!1},CONFIG:{rules:[8,9],inclusive:!1},CONFIG_DATA:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,12,13,14,15,16,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,49,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73],inclusive:!0}}};return bt}();et.lexer=St;function ct(){this.yy={}}return g(ct,"Parser"),ct.prototype=et,et.Parser=ct,new ct}();YT.parser=YT;var W3t=YT,U3t={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},H3t={FILLED:0,OPEN:1},G3t={LEFTOF:0,RIGHTOF:1,OVER:2},N1={ACTOR:"actor",CONTROL:"control",DATABASE:"database",ENTITY:"entity"},dh,q3t=(dh=class{constructor(){this.state=new yM(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=Pr,this.setAccDescription=Kr,this.setDiagramTitle=on,this.getAccTitle=Xr,this.getAccDescription=Qr,this.getDiagramTitle=Vr,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(rt().wrap),this.LINETYPE=U3t,this.ARROWTYPE=H3t,this.PLACEMENT=G3t}addBox(t){this.state.records.boxes.push({name:t.text,wrap:t.wrap??this.autoWrap(),fill:t.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(t,r,n,i,s){let a=this.state.records.currentBox,o;if(s!==void 0){let u;s.includes(`
`)?u=s+`
`:u=`{
`+s+`
}`,o=o2(u,{schema:a2})}i=(o==null?void 0:o.type)??i;const l=this.state.records.actors.get(t);if(l){if(this.state.records.currentBox&&l.box&&this.state.records.currentBox!==l.box)throw new Error(`A same participant should only be defined in one Box: ${l.name} can't be in '${l.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(a=l.box?l.box:this.state.records.currentBox,l.box=a,l&&r===l.name&&n==null)return}if((n==null?void 0:n.text)==null&&(n={text:r,type:i}),(i==null||n.text==null)&&(n={text:r,type:i}),this.state.records.actors.set(t,{box:a,name:r,description:n.text,wrap:n.wrap??this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:i??"participant"}),this.state.records.prevActor){const u=this.state.records.actors.get(this.state.records.prevActor);u&&(u.nextActor=t)}this.state.records.currentBox&&this.state.records.currentBox.actorKeys.push(t),this.state.records.prevActor=t}activationCount(t){let r,n=0;if(!t)return 0;for(r=0;r<this.state.records.messages.length;r++)this.state.records.messages[r].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[r].from===t&&n++,this.state.records.messages[r].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[r].from===t&&n--;return n}addMessage(t,r,n,i){this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:t,to:r,message:n.text,wrap:n.wrap??this.autoWrap(),answer:i})}addSignal(t,r,n,i,s=!1){if(i===this.LINETYPE.ACTIVE_END&&this.activationCount(t??"")<1){const o=new Error("Trying to inactivate an inactive participant ("+t+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:t,to:r,message:(n==null?void 0:n.text)??"",wrap:(n==null?void 0:n.wrap)??this.autoWrap(),type:i,activate:s}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some(t=>t.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(t){return this.state.records.actors.get(t)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(t){this.state.records.wrapEnabled=t}extractWrap(t){if(t===void 0)return{};t=t.trim();const r=/^:?wrap:/.exec(t)!==null?!0:/^:?nowrap:/.exec(t)!==null?!1:void 0;return{cleanedText:(r===void 0?t:t.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:r}}autoWrap(){var t;return this.state.records.wrapEnabled!==void 0?this.state.records.wrapEnabled:((t=rt().sequence)==null?void 0:t.wrap)??!1}clear(){this.state.reset(),Fr()}parseMessage(t){const r=t.trim(),{wrap:n,cleanedText:i}=this.extractWrap(r),s={text:i,wrap:n};return U.debug(`parseMessage: ${JSON.stringify(s)}`),s}parseBoxData(t){const r=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(t);let n=r!=null&&r[1]?r[1].trim():"transparent",i=r!=null&&r[2]?r[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",n)||(n="transparent",i=t.trim());else{const o=new Option().style;o.color=n,o.color!==n&&(n="transparent",i=t.trim())}const{wrap:s,cleanedText:a}=this.extractWrap(i);return{text:a?Ne(a,rt()):void 0,color:n,wrap:s}}addNote(t,r,n){const i={actor:t,placement:r,message:n.text,wrap:n.wrap??this.autoWrap()},s=[].concat(t,t);this.state.records.notes.push(i),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:s[0],to:s[1],message:n.text,wrap:n.wrap??this.autoWrap(),type:this.LINETYPE.NOTE,placement:r})}addLinks(t,r){const n=this.getActor(t);try{let i=Ne(r.text,rt());i=i.replace(/&equals;/g,"="),i=i.replace(/&amp;/g,"&");const s=JSON.parse(i);this.insertLinks(n,s)}catch(i){U.error("error while parsing actor link text",i)}}addALink(t,r){const n=this.getActor(t);try{const i={};let s=Ne(r.text,rt());const a=s.indexOf("@");s=s.replace(/&equals;/g,"="),s=s.replace(/&amp;/g,"&");const o=s.slice(0,a-1).trim(),l=s.slice(a+1).trim();i[o]=l,this.insertLinks(n,i)}catch(i){U.error("error while parsing actor link text",i)}}insertLinks(t,r){if(t.links==null)t.links=r;else for(const n in r)t.links[n]=r[n]}addProperties(t,r){const n=this.getActor(t);try{const i=Ne(r.text,rt()),s=JSON.parse(i);this.insertProperties(n,s)}catch(i){U.error("error while parsing actor properties text",i)}}insertProperties(t,r){if(t.properties==null)t.properties=r;else for(const n in r)t.properties[n]=r[n]}boxEnd(){this.state.records.currentBox=void 0}addDetails(t,r){const n=this.getActor(t),i=document.getElementById(r.text);try{const s=i.innerHTML,a=JSON.parse(s);a.properties&&this.insertProperties(n,a.properties),a.links&&this.insertLinks(n,a.links)}catch(s){U.error("error while parsing actor details text",s)}}getActorProperty(t,r){if((t==null?void 0:t.properties)!==void 0)return t.properties[r]}apply(t){if(Array.isArray(t))t.forEach(r=>{this.apply(r)});else switch(t.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":this.addActor(t.actor,t.actor,t.description,t.draw,t.config);break;case"createParticipant":if(this.state.records.actors.has(t.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=t.actor,this.addActor(t.actor,t.actor,t.description,t.draw,t.config),this.state.records.createdActors.set(t.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=t.actor,this.state.records.destroyedActors.set(t.actor,this.state.records.messages.length);break;case"activeStart":this.addSignal(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":this.addSignal(t.actor,void 0,void 0,t.signalType);break;case"addNote":this.addNote(t.actor,t.placement,t.text);break;case"addLinks":this.addLinks(t.actor,t.text);break;case"addALink":this.addALink(t.actor,t.text);break;case"addProperties":this.addProperties(t.actor,t.text);break;case"addDetails":this.addDetails(t.actor,t.text);break;case"addMessage":if(this.state.records.lastCreated){if(t.to!==this.state.records.lastCreated)throw new Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");this.state.records.lastCreated=void 0}else if(this.state.records.lastDestroyed){if(t.to!==this.state.records.lastDestroyed&&t.from!==this.state.records.lastDestroyed)throw new Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");this.state.records.lastDestroyed=void 0}this.addSignal(t.from,t.to,t.msg,t.signalType,t.activate);break;case"boxStart":this.addBox(t.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":this.addSignal(void 0,void 0,void 0,t.signalType);break;case"rectStart":this.addSignal(void 0,void 0,t.color,t.signalType);break;case"rectEnd":this.addSignal(void 0,void 0,void 0,t.signalType);break;case"optStart":this.addSignal(void 0,void 0,t.optText,t.signalType);break;case"optEnd":this.addSignal(void 0,void 0,void 0,t.signalType);break;case"altStart":this.addSignal(void 0,void 0,t.altText,t.signalType);break;case"else":this.addSignal(void 0,void 0,t.altText,t.signalType);break;case"altEnd":this.addSignal(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":Pr(t.text);break;case"parStart":this.addSignal(void 0,void 0,t.parText,t.signalType);break;case"and":this.addSignal(void 0,void 0,t.parText,t.signalType);break;case"parEnd":this.addSignal(void 0,void 0,void 0,t.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,t.criticalText,t.signalType);break;case"option":this.addSignal(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":this.addSignal(void 0,void 0,void 0,t.signalType);break;case"breakStart":this.addSignal(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":this.addSignal(void 0,void 0,void 0,t.signalType);break}}getConfig(){return rt().sequence}},g(dh,"SequenceDB"),dh),j3t=g(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }
  
  .innerArc {
    stroke-width: 1.5;
    stroke-dasharray: none;
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }

`,"getStyles"),Y3t=j3t,Rl=18*2,il="actor-top",sl="actor-bottom",px="actor-box",zo="actor-man",Yp=g(function(e,t){return D2(e,t)},"drawRect"),X3t=g(function(e,t,r,n,i){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};const s=t.links,a=t.actorCnt,o=t.rectData;var l="none";i&&(l="block !important");const u=e.append("g");u.attr("id","actor"+a+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l);var h="";o.class!==void 0&&(h=" "+o.class);let d=o.width>r?o.width:r;const f=u.append("rect");if(f.attr("class","actorPopupMenuPanel"+h),f.attr("x",o.x),f.attr("y",o.height),f.attr("fill",o.fill),f.attr("stroke",o.stroke),f.attr("width",d),f.attr("height",o.height),f.attr("rx",o.rx),f.attr("ry",o.ry),s!=null){var p=20;for(let b in s){var m=u.append("a"),y=Go(s[b]);m.attr("xlink:href",y),m.attr("target","_blank"),y4t(n)(b,m,o.x+10,o.height+p,d,20,{class:"actor"},n),p+=30}}return f.attr("height",p),{height:o.height+p,width:d}},"drawPopup"),gx=g(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),yy=g(async function(e,t,r=null){let n=e.append("foreignObject");const i=await sg(t.text,De()),a=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(a.height)).attr("width",Math.round(a.width)),t.class==="noteText"){const o=e.node().firstChild;o.setAttribute("height",a.height+2*t.textMargin);const l=o.getBBox();n.attr("x",Math.round(l.x+l.width/2-a.width/2)).attr("y",Math.round(l.y+l.height/2-a.height/2))}else if(r){let{startx:o,stopx:l,starty:u}=r;if(o>l){const h=o;o=l,l=h}n.attr("x",Math.round(o+Math.abs(o-l)/2-a.width/2)),t.class==="loopText"?n.attr("y",Math.round(u)):n.attr("y",Math.round(u-a.height))}return[n]},"drawKatex"),Jh=g(function(e,t){let r=0,n=0;const i=t.text.split(Ot.lineBreakRegex),[s,a]=bc(t.fontSize);let o=[],l=0,u=g(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":u=g(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":u=g(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":u=g(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[h,d]of i.entries()){t.textMargin!==void 0&&t.textMargin===0&&s!==void 0&&(l=h*s);const f=e.append("text");f.attr("x",t.x),f.attr("y",u()),t.anchor!==void 0&&f.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&f.style("font-family",t.fontFamily),a!==void 0&&f.style("font-size",a),t.fontWeight!==void 0&&f.style("font-weight",t.fontWeight),t.fill!==void 0&&f.attr("fill",t.fill),t.class!==void 0&&f.attr("class",t.class),t.dy!==void 0?f.attr("dy",t.dy):l!==0&&f.attr("dy",l);const p=d||PN;if(t.tspan){const m=f.append("tspan");m.attr("x",t.x),t.fill!==void 0&&m.attr("fill",t.fill),m.text(p)}else f.text(p);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(f._groups||f)[0][0].getBBox().height,r=n),o.push(f)}return o},"drawText"),VF=g(function(e,t){function r(i,s,a,o,l){return i+","+s+" "+(i+a)+","+s+" "+(i+a)+","+(s+o-l)+" "+(i+a-l*1.2)+","+(s+o)+" "+i+","+(s+o)}g(r,"genPoints");const n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,Jh(e,t),n},"drawLabel"),Ae=-1,zF=g((e,t,r,n)=>{e.select&&r.forEach(i=>{const s=t.get(i),a=e.select("#actor"+s.actorCnt);!n.mirrorActors&&s.stopy?a.attr("y2",s.stopy+s.height/2):n.mirrorActors&&a.attr("y2",s.stopy)})},"fixLifeLineHeights"),K3t=g(function(e,t,r,n){var p,m;const i=n?t.stopy:t.starty,s=t.x+t.width/2,a=i+t.height,o=e.append("g").lower();var l=o;n||(Ae++,Object.keys(t.links||{}).length&&!r.forceMenus&&l.attr("onclick",gx(`actor${Ae}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Ae).attr("x1",s).attr("y1",a).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),l=o.append("g"),t.actorCnt=Ae,t.links!=null&&l.attr("id","root-"+Ae));const u=Ii();var h="actor";(p=t.properties)!=null&&p.class?h=t.properties.class:u.fill="#eaeaea",n?h+=` ${sl}`:h+=` ${il}`,u.x=t.x,u.y=i,u.width=t.width,u.height=t.height,u.class=h,u.rx=3,u.ry=3,u.name=t.name;const d=Yp(l,u);if(t.rectData=u,(m=t.properties)!=null&&m.icon){const y=t.properties.icon.trim();y.charAt(0)==="@"?rS(l,u.x+u.width-20,u.y+10,y.substr(1)):eS(l,u.x+u.width-20,u.y+10,y)}lo(r,vr(t.description))(t.description,l,u.x,u.y,u.width,u.height,{class:`actor ${px}`},r);let f=t.height;if(d.node){const y=d.node().getBBox();t.height=y.height,f=y.height}return f},"drawActorTypeParticipant"),Q3t=g(function(e,t,r,n){var y,b;const i=n?t.stopy:t.starty,s=t.x+t.width/2,a=i+t.height,o=e.append("g").lower();var l=o;n||(Ae++,Object.keys(t.links||{}).length&&!r.forceMenus&&l.attr("onclick",gx(`actor${Ae}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Ae).attr("x1",s).attr("y1",a).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),l=o.append("g"),t.actorCnt=Ae,t.links!=null&&l.attr("id","root-"+Ae));const u=Ii();var h="actor";(y=t.properties)!=null&&y.class?h=t.properties.class:u.fill="#eaeaea",n?h+=` ${sl}`:h+=` ${il}`,u.x=t.x,u.y=i,u.width=t.width,u.height=t.height,u.class=h,u.name=t.name;const d=6,f={...u,x:u.x+-d,y:u.y+ +d,class:"actor"},p=Yp(l,u);if(Yp(l,f),t.rectData=u,(b=t.properties)!=null&&b.icon){const x=t.properties.icon.trim();x.charAt(0)==="@"?rS(l,u.x+u.width-20,u.y+10,x.substr(1)):eS(l,u.x+u.width-20,u.y+10,x)}lo(r,vr(t.description))(t.description,l,u.x-d,u.y+d,u.width,u.height,{class:`actor ${px}`},r);let m=t.height;if(p.node){const x=p.node().getBBox();t.height=x.height,m=x.height}return m},"drawActorTypeCollections"),Z3t=g(function(e,t,r,n){var x,v;const i=n?t.stopy:t.starty,s=t.x+t.width/2,a=i+t.height,o=e.append("g").lower();let l=o;n||(Ae++,Object.keys(t.links||{}).length&&!r.forceMenus&&l.attr("onclick",gx(`actor${Ae}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Ae).attr("x1",s).attr("y1",a).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),l=o.append("g"),t.actorCnt=Ae,t.links!=null&&l.attr("id","root-"+Ae));const u=Ii();let h="actor";(x=t.properties)!=null&&x.class?h=t.properties.class:u.fill="#eaeaea",n?h+=` ${sl}`:h+=` ${il}`,u.x=t.x,u.y=i,u.width=t.width,u.height=t.height,u.class=h,u.name=t.name;const d=u.height/2,f=d/(2.5+u.height/50),p=l.append("g"),m=l.append("g");if(p.append("path").attr("d",`M ${u.x},${u.y+d}
    a ${f},${d} 0 0 0 0,${u.height}
    h ${u.width-2*f}
    a ${f},${d} 0 0 0 0,-${u.height}
    Z
  `).attr("class",h),m.append("path").attr("d",`M ${u.x},${u.y+d}
      a ${f},${d} 0 0 0 0,${u.height}`).attr("stroke","#666").attr("stroke-width","1px").attr("class",h),p.attr("transform",`translate(${f}, ${-(u.height/2)})`),m.attr("transform",`translate(${u.width-f}, ${-u.height/2})`),t.rectData=u,(v=t.properties)!=null&&v.icon){const _=t.properties.icon.trim(),S=u.x+u.width-20,k=u.y+10;_.charAt(0)==="@"?rS(l,S,k,_.substr(1)):eS(l,S,k,_)}lo(r,vr(t.description))(t.description,l,u.x,u.y,u.width,u.height,{class:`actor ${px}`},r);let y=t.height;const b=p.select("path:last-child");if(b.node()){const _=b.node().getBBox();t.height=_.height,y=_.height}return y},"drawActorTypeQueue"),J3t=g(function(e,t,r,n){var y;const i=n?t.stopy:t.starty,s=t.x+t.width/2,a=i+75,o=e.append("g").lower();n||(Ae++,o.append("line").attr("id","actor"+Ae).attr("x1",s).attr("y1",a).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Ae);const l=e.append("g");let u=zo;n?u+=` ${sl}`:u+=` ${il}`,l.attr("class",u),l.attr("name",t.name);const h=Ii();h.x=t.x,h.y=i,h.fill="#eaeaea",h.width=t.width,h.height=t.height,h.class="actor";const d=t.x+t.width/2,f=i+30,p=18;l.append("defs").append("marker").attr("id","filled-head-control").attr("refX",11).attr("refY",5.8).attr("markerWidth",20).attr("markerHeight",28).attr("orient","172.5").append("path").attr("d","M 14.4 5.6 L 7.2 10.4 L 8.8 5.6 L 7.2 0.8 Z"),l.append("circle").attr("cx",d).attr("cy",f).attr("r",p).attr("fill","#eaeaf7").attr("stroke","#666").attr("stroke-width",1.2),l.append("line").attr("marker-end","url(#filled-head-control)").attr("transform",`translate(${d}, ${f-p})`);const m=l.node().getBBox();return t.height=m.height+2*(((y=r==null?void 0:r.sequence)==null?void 0:y.labelBoxHeight)??0),lo(r,vr(t.description))(t.description,l,h.x,h.y+p+(n?5:10),h.width,h.height,{class:`actor ${zo}`},r),t.height},"drawActorTypeControl"),t4t=g(function(e,t,r,n){var y;const i=n?t.stopy:t.starty,s=t.x+t.width/2,a=i+75,o=e.append("g").lower(),l=e.append("g");let u=zo;n?u+=` ${sl}`:u+=` ${il}`,l.attr("class",u),l.attr("name",t.name);const h=Ii();h.x=t.x,h.y=i,h.fill="#eaeaea",h.width=t.width,h.height=t.height,h.class="actor";const d=t.x+t.width/2,f=i+(n?10:25),p=18;l.append("circle").attr("cx",d).attr("cy",f).attr("r",p).attr("width",t.width).attr("height",t.height),l.append("line").attr("x1",d-p).attr("x2",d+p).attr("y1",f+p).attr("y2",f+p).attr("stroke","#333").attr("stroke-width",2);const m=l.node().getBBox();return t.height=m.height+(((y=r==null?void 0:r.sequence)==null?void 0:y.labelBoxHeight)??0),n||(Ae++,o.append("line").attr("id","actor"+Ae).attr("x1",s).attr("y1",a).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Ae),lo(r,vr(t.description))(t.description,l,h.x,h.y+(n?(f-i+p-5)/2:(f+p-i)/2),h.width,h.height,{class:`actor ${zo}`},r),n?l.attr("transform",`translate(0, ${p/2})`):l.attr("transform",`translate(0, ${p/2})`),t.height},"drawActorTypeEntity"),e4t=g(function(e,t,r,n){var v;const i=n?t.stopy:t.starty,s=t.x+t.width/2,a=i+t.height+2*r.boxTextMargin,o=e.append("g").lower();let l=o;n||(Ae++,Object.keys(t.links||{}).length&&!r.forceMenus&&l.attr("onclick",gx(`actor${Ae}_popup`)).attr("cursor","pointer"),l.append("line").attr("id","actor"+Ae).attr("x1",s).attr("y1",a).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),l=o.append("g"),t.actorCnt=Ae,t.links!=null&&l.attr("id","root-"+Ae));const u=Ii();let h="actor";(v=t.properties)!=null&&v.class?h=t.properties.class:u.fill="#eaeaea",n?h+=` ${sl}`:h+=` ${il}`,u.x=t.x,u.y=i,u.width=t.width,u.height=t.height,u.class=h,u.name=t.name,u.x=t.x,u.y=i;const d=u.width/4,f=u.width/4,p=d/2,m=p/(2.5+d/50),y=l.append("g"),b=`
  M ${u.x},${u.y+m}
  a ${p},${m} 0 0 0 ${d},0
  a ${p},${m} 0 0 0 -${d},0
  l 0,${f-2*m}
  a ${p},${m} 0 0 0 ${d},0
  l 0,-${f-2*m}
`;y.append("path").attr("d",b).attr("fill","#eaeaea").attr("stroke","#000").attr("stroke-width",1).attr("class",h),n?y.attr("transform",`translate(${d*1.5}, ${u.height/4-2*m})`):y.attr("transform",`translate(${d*1.5}, ${(u.height+m)/4})`),t.rectData=u,lo(r,vr(t.description))(t.description,l,u.x,u.y+(n?(u.height+f)/4:(u.height+m)/2),u.width,u.height,{class:`actor ${px}`},r);const x=y.select("path:last-child");if(x.node()){const _=x.node().getBBox();t.height=_.height+(r.sequence.labelBoxHeight??0)}return t.height},"drawActorTypeDatabase"),r4t=g(function(e,t,r,n){const i=n?t.stopy:t.starty,s=t.x+t.width/2,a=i+80,o=30,l=e.append("g").lower();n||(Ae++,l.append("line").attr("id","actor"+Ae).attr("x1",s).attr("y1",a).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Ae);const u=e.append("g");let h=zo;n?h+=` ${sl}`:h+=` ${il}`,u.attr("class",h),u.attr("name",t.name);const d=Ii();d.x=t.x,d.y=i,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor",u.append("line").attr("id","actor-man-torso"+Ae).attr("x1",t.x+t.width/2-o*2.5).attr("y1",i+10).attr("x2",t.x+t.width/2-15).attr("y2",i+10),u.append("line").attr("id","actor-man-arms"+Ae).attr("x1",t.x+t.width/2-o*2.5).attr("y1",i+0).attr("x2",t.x+t.width/2-o*2.5).attr("y2",i+20),u.append("circle").attr("cx",t.x+t.width/2).attr("cy",i+10).attr("r",o);const f=u.node().getBBox();return t.height=f.height+(r.sequence.labelBoxHeight??0),lo(r,vr(t.description))(t.description,u,d.x,d.y+(n?o/2-4:o/2+3),d.width,d.height,{class:`actor ${zo}`},r),n?u.attr("transform",`translate(0,${o/2+7})`):u.attr("transform",`translate(0,${o/2+7})`),t.height},"drawActorTypeBoundary"),n4t=g(function(e,t,r,n){const i=n?t.stopy:t.starty,s=t.x+t.width/2,a=i+80,o=e.append("g").lower();n||(Ae++,o.append("line").attr("id","actor"+Ae).attr("x1",s).attr("y1",a).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=Ae);const l=e.append("g");let u=zo;n?u+=` ${sl}`:u+=` ${il}`,l.attr("class",u),l.attr("name",t.name);const h=Ii();h.x=t.x,h.y=i,h.fill="#eaeaea",h.width=t.width,h.height=t.height,h.class="actor",h.rx=3,h.ry=3,l.append("line").attr("id","actor-man-torso"+Ae).attr("x1",s).attr("y1",i+25).attr("x2",s).attr("y2",i+45),l.append("line").attr("id","actor-man-arms"+Ae).attr("x1",s-Rl/2).attr("y1",i+33).attr("x2",s+Rl/2).attr("y2",i+33),l.append("line").attr("x1",s-Rl/2).attr("y1",i+60).attr("x2",s).attr("y2",i+45),l.append("line").attr("x1",s).attr("y1",i+45).attr("x2",s+Rl/2-2).attr("y2",i+60);const d=l.append("circle");d.attr("cx",t.x+t.width/2),d.attr("cy",i+10),d.attr("r",15),d.attr("width",t.width),d.attr("height",t.height);const f=l.node().getBBox();return t.height=f.height,lo(r,vr(t.description))(t.description,l,h.x,h.y+35,h.width,h.height,{class:`actor ${zo}`},r),t.height},"drawActorTypeActor"),i4t=g(async function(e,t,r,n){switch(t.type){case"actor":return await n4t(e,t,r,n);case"participant":return await K3t(e,t,r,n);case"boundary":return await r4t(e,t,r,n);case"control":return await J3t(e,t,r,n);case"entity":return await t4t(e,t,r,n);case"database":return await e4t(e,t,r,n);case"collections":return await Q3t(e,t,r,n);case"queue":return await Z3t(e,t,r,n)}},"drawActor"),s4t=g(function(e,t,r){const i=e.append("g");WF(i,t),t.name&&lo(r)(t.name,i,t.x,t.y+r.boxTextMargin+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),i.lower()},"drawBox"),a4t=g(function(e){return e.append("g")},"anchorElement"),o4t=g(function(e,t,r,n,i){const s=Ii(),a=t.anchored;s.x=t.startx,s.y=t.starty,s.class="activation"+i%3,s.width=t.stopx-t.startx,s.height=r-t.starty,Yp(a,s)},"drawActivation"),l4t=g(async function(e,t,r,n){const{boxMargin:i,boxTextMargin:s,labelBoxHeight:a,labelBoxWidth:o,messageFontFamily:l,messageFontSize:u,messageFontWeight:h}=n,d=e.append("g"),f=g(function(y,b,x,v){return d.append("line").attr("x1",y).attr("y1",b).attr("x2",x).attr("y2",v).attr("class","loopLine")},"drawLoopLine");f(t.startx,t.starty,t.stopx,t.starty),f(t.stopx,t.starty,t.stopx,t.stopy),f(t.startx,t.stopy,t.stopx,t.stopy),f(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(y){f(t.startx,y.y,t.stopx,y.y).style("stroke-dasharray","3, 3")});let p=nS();p.text=r,p.x=t.startx,p.y=t.starty,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.anchor="middle",p.valign="middle",p.tspan=!1,p.width=o||50,p.height=a||20,p.textMargin=s,p.class="labelText",VF(d,p),p=UF(),p.text=t.title,p.x=t.startx+o/2+(t.stopx-t.startx)/2,p.y=t.starty+i+s,p.anchor="middle",p.valign="middle",p.textMargin=s,p.class="loopText",p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=!0;let m=vr(p.text)?await yy(d,p,t):Jh(d,p);if(t.sectionTitles!==void 0){for(const[y,b]of Object.entries(t.sectionTitles))if(b.message){p.text=b.message,p.x=t.startx+(t.stopx-t.startx)/2,p.y=t.sections[y].y+i+s,p.class="loopText",p.anchor="middle",p.valign="middle",p.tspan=!1,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=t.wrap,vr(p.text)?(t.starty=t.sections[y].y,await yy(d,p,t)):Jh(d,p);let x=Math.round(m.map(v=>(v._groups||v)[0][0].getBBox().height).reduce((v,_)=>v+_));t.sections[y].height+=x-(i+s)}}return t.height=Math.round(t.stopy-t.starty),d},"drawLoop"),WF=g(function(e,t){sM(e,t)},"drawBackgroundRect"),c4t=g(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),u4t=g(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),h4t=g(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),d4t=g(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),f4t=g(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),p4t=g(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),g4t=g(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),UF=g(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),m4t=g(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),lo=function(){function e(s,a,o,l,u,h,d){const f=a.append("text").attr("x",o+u/2).attr("y",l+h/2+5).style("text-anchor","middle").text(s);i(f,d)}g(e,"byText");function t(s,a,o,l,u,h,d,f){const{actorFontSize:p,actorFontFamily:m,actorFontWeight:y}=f,[b,x]=bc(p),v=s.split(Ot.lineBreakRegex);for(let _=0;_<v.length;_++){const S=_*b-b*(v.length-1)/2,k=a.append("text").attr("x",o+u/2).attr("y",l).style("text-anchor","middle").style("font-size",x).style("font-weight",y).style("font-family",m);k.append("tspan").attr("x",o+u/2).attr("dy",S).text(v[_]),k.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(k,d)}}g(t,"byTspan");function r(s,a,o,l,u,h,d,f){const p=a.append("switch"),y=p.append("foreignObject").attr("x",o).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(s),t(s,p,o,l,u,h,d,f),i(y,d)}g(r,"byFo");async function n(s,a,o,l,u,h,d,f){const p=await ig(s,De()),m=a.append("switch"),b=m.append("foreignObject").attr("x",o+u/2-p.width/2).attr("y",l+h/2-p.height/2).attr("width",p.width).attr("height",p.height).append("xhtml:div").style("height","100%").style("width","100%");b.append("div").style("text-align","center").style("vertical-align","middle").html(await sg(s,De())),t(s,m,o,l,u,h,d,f),i(b,d)}g(n,"byKatex");function i(s,a){for(const o in a)a.hasOwnProperty(o)&&s.attr(o,a[o])}return g(i,"_setTextAttrs"),function(s,a=!1){return a?n:s.textPlacement==="fo"?r:s.textPlacement==="old"?e:t}}(),y4t=function(){function e(i,s,a,o,l,u,h){const d=s.append("text").attr("x",a).attr("y",o).style("text-anchor","start").text(i);n(d,h)}g(e,"byText");function t(i,s,a,o,l,u,h,d){const{actorFontSize:f,actorFontFamily:p,actorFontWeight:m}=d,y=i.split(Ot.lineBreakRegex);for(let b=0;b<y.length;b++){const x=b*f-f*(y.length-1)/2,v=s.append("text").attr("x",a).attr("y",o).style("text-anchor","start").style("font-size",f).style("font-weight",m).style("font-family",p);v.append("tspan").attr("x",a).attr("dy",x).text(y[b]),v.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(v,h)}}g(t,"byTspan");function r(i,s,a,o,l,u,h,d){const f=s.append("switch"),m=f.append("foreignObject").attr("x",a).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,a,o,l,u,h,d),n(m,h)}g(r,"byFo");function n(i,s){for(const a in s)s.hasOwnProperty(a)&&i.attr(a,s[a])}return g(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),wr={drawRect:Yp,drawText:Jh,drawLabel:VF,drawActor:i4t,drawBox:s4t,drawPopup:X3t,anchorElement:a4t,drawActivation:o4t,drawLoop:l4t,drawBackgroundRect:WF,insertArrowHead:d4t,insertArrowFilledHead:f4t,insertSequenceNumber:p4t,insertArrowCrossHead:g4t,insertDatabaseIcon:c4t,insertComputerIcon:u4t,insertClockIcon:h4t,getTextObj:UF,getNoteRect:m4t,fixLifeLineHeights:zF,sanitizeUrl:Go},ht={},Rt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:g(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:g(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:g(function(e){this.boxes.push(e)},"addBox"),addActor:g(function(e){this.actors.push(e)},"addActor"),addLoop:g(function(e){this.loops.push(e)},"addLoop"),addMessage:g(function(e){this.messages.push(e)},"addMessage"),addNote:g(function(e){this.notes.push(e)},"addNote"),lastActor:g(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:g(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:g(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:g(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:g(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,qF(rt())},"init"),updateVal:g(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:g(function(e,t,r,n){const i=this;let s=0;function a(o){return g(function(u){s++;const h=i.sequenceItems.length-s+1;i.updateVal(u,"starty",t-h*ht.boxMargin,Math.min),i.updateVal(u,"stopy",n+h*ht.boxMargin,Math.max),i.updateVal(Rt.data,"startx",e-h*ht.boxMargin,Math.min),i.updateVal(Rt.data,"stopx",r+h*ht.boxMargin,Math.max),o!=="activation"&&(i.updateVal(u,"startx",e-h*ht.boxMargin,Math.min),i.updateVal(u,"stopx",r+h*ht.boxMargin,Math.max),i.updateVal(Rt.data,"starty",t-h*ht.boxMargin,Math.min),i.updateVal(Rt.data,"stopy",n+h*ht.boxMargin,Math.max))},"updateItemBounds")}g(a,"updateFn"),this.sequenceItems.forEach(a()),this.activations.forEach(a("activation"))},"updateBounds"),insert:g(function(e,t,r,n){const i=Ot.getMin(e,r),s=Ot.getMax(e,r),a=Ot.getMin(t,n),o=Ot.getMax(t,n);this.updateVal(Rt.data,"startx",i,Math.min),this.updateVal(Rt.data,"starty",a,Math.min),this.updateVal(Rt.data,"stopx",s,Math.max),this.updateVal(Rt.data,"stopy",o,Math.max),this.updateBounds(i,a,s,o)},"insert"),newActivation:g(function(e,t,r){const n=r.get(e.from),i=mx(e.from).length||0,s=n.x+n.width/2+(i-1)*ht.activationWidth/2;this.activations.push({startx:s,starty:this.verticalPos+2,stopx:s+ht.activationWidth,stopy:void 0,actor:e.from,anchored:wr.anchorElement(t)})},"newActivation"),endActivation:g(function(e){const t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:g(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:g(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:g(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:g(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:g(function(e){const t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:Rt.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:g(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:g(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:g(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=Ot.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:g(function(){return this.verticalPos},"getVerticalPos"),getBounds:g(function(){return{bounds:this.data,models:this.models}},"getBounds")},x4t=g(async function(e,t){Rt.bumpVerticalPos(ht.boxMargin),t.height=ht.boxMargin,t.starty=Rt.getVerticalPos();const r=Ii();r.x=t.startx,r.y=t.starty,r.width=t.width||ht.width,r.class="note";const n=e.append("g"),i=wr.drawRect(n,r),s=nS();s.x=t.startx,s.y=t.starty,s.width=r.width,s.dy="1em",s.text=t.message,s.class="noteText",s.fontFamily=ht.noteFontFamily,s.fontSize=ht.noteFontSize,s.fontWeight=ht.noteFontWeight,s.anchor=ht.noteAlign,s.textMargin=ht.noteMargin,s.valign="center";const a=vr(s.text)?await yy(n,s):Jh(n,s),o=Math.round(a.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));i.attr("height",o+2*ht.noteMargin),t.height+=o+2*ht.noteMargin,Rt.bumpVerticalPos(o+2*ht.noteMargin),t.stopy=t.starty+o+2*ht.noteMargin,t.stopx=t.startx+r.width,Rt.insert(t.startx,t.starty,t.stopx,t.stopy),Rt.models.addNote(t)},"drawNote"),cc=g(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),Xc=g(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),XT=g(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont");async function HF(e,t){Rt.bumpVerticalPos(10);const{startx:r,stopx:n,message:i}=t,s=Ot.splitBreaks(i).length,a=vr(i),o=a?await ig(i,rt()):be.calculateTextDimensions(i,cc(ht));if(!a){const d=o.height/s;t.height+=d,Rt.bumpVerticalPos(d)}let l,u=o.height-10;const h=o.width;if(r===n){l=Rt.getVerticalPos()+u,ht.rightAngles||(u+=ht.boxMargin,l=Rt.getVerticalPos()+u),u+=30;const d=Ot.getMax(h/2,ht.width/2);Rt.insert(r-d,Rt.getVerticalPos()-10+u,n+d,Rt.getVerticalPos()+30+u)}else u+=ht.boxMargin,l=Rt.getVerticalPos()+u,Rt.insert(r,l-10,n,l);return Rt.bumpVerticalPos(u),t.height+=u,t.stopy=t.starty+t.height,Rt.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),l}g(HF,"boundMessage");var b4t=g(async function(e,t,r,n){const{startx:i,stopx:s,starty:a,message:o,type:l,sequenceIndex:u,sequenceVisible:h}=t,d=be.calculateTextDimensions(o,cc(ht)),f=nS();f.x=i,f.y=a+10,f.width=s-i,f.class="messageText",f.dy="1em",f.text=o,f.fontFamily=ht.messageFontFamily,f.fontSize=ht.messageFontSize,f.fontWeight=ht.messageFontWeight,f.anchor=ht.messageAlign,f.valign="center",f.textMargin=ht.wrapPadding,f.tspan=!1,vr(f.text)?await yy(e,f,{startx:i,stopx:s,starty:r}):Jh(e,f);const p=d.width;let m;i===s?ht.rightAngles?m=e.append("path").attr("d",`M  ${i},${r} H ${i+Ot.getMax(ht.width/2,p/2)} V ${r+25} H ${i}`):m=e.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(m=e.append("line"),m.attr("x1",i),m.attr("y1",r),m.attr("x2",s),m.attr("y2",r)),l===n.db.LINETYPE.DOTTED||l===n.db.LINETYPE.DOTTED_CROSS||l===n.db.LINETYPE.DOTTED_POINT||l===n.db.LINETYPE.DOTTED_OPEN||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let y="";ht.arrowMarkerAbsolute&&(y=Xy(!0)),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(l===n.db.LINETYPE.SOLID||l===n.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+y+"#arrowhead)"),(l===n.db.LINETYPE.BIDIRECTIONAL_SOLID||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(m.attr("marker-start","url("+y+"#arrowhead)"),m.attr("marker-end","url("+y+"#arrowhead)")),(l===n.db.LINETYPE.SOLID_POINT||l===n.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+y+"#filled-head)"),(l===n.db.LINETYPE.SOLID_CROSS||l===n.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+y+"#crosshead)"),(h||ht.showSequenceNumbers)&&((l===n.db.LINETYPE.BIDIRECTIONAL_SOLID||l===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(i<s?m.attr("x1",i+2*6):m.attr("x1",i+6)),e.append("line").attr("x1",i).attr("y1",r).attr("x2",i).attr("y2",r).attr("stroke-width",0).attr("marker-start","url("+y+"#sequencenumber)"),e.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},"drawMessage"),v4t=g(function(e,t,r,n,i,s,a){let o=0,l=0,u,h=0;for(const d of n){const f=t.get(d),p=f.box;u&&u!=p&&(a||Rt.models.addBox(u),l+=ht.boxMargin+u.margin),p&&p!=u&&(a||(p.x=o+l,p.y=i),l+=p.margin),f.width=f.width||ht.width,f.height=Ot.getMax(f.height||ht.height,ht.height),f.margin=f.margin||ht.actorMargin,h=Ot.getMax(h,f.height),r.get(f.name)&&(l+=f.width/2),f.x=o+l,f.starty=Rt.getVerticalPos(),Rt.insert(f.x,i,f.x+f.width,f.height),o+=f.width+l,f.box&&(f.box.width=o+p.margin-f.box.x),l=f.margin,u=f.box,Rt.models.addActor(f)}u&&!a&&Rt.models.addBox(u),Rt.bumpVerticalPos(h)},"addActorRenderingData"),KT=g(async function(e,t,r,n){if(n){let i=0;Rt.bumpVerticalPos(ht.boxMargin*2);for(const s of r){const a=t.get(s);a.stopy||(a.stopy=Rt.getVerticalPos());const o=await wr.drawActor(e,a,ht,!0);i=Ot.getMax(i,o)}Rt.bumpVerticalPos(i+ht.boxMargin)}else for(const i of r){const s=t.get(i);await wr.drawActor(e,s,ht,!1)}},"drawActors"),GF=g(function(e,t,r,n){let i=0,s=0;for(const a of r){const o=t.get(a),l=T4t(o),u=wr.drawPopup(e,o,l,ht,ht.forceMenus,n);u.height>i&&(i=u.height),u.width+o.x>s&&(s=u.width+o.x)}return{maxHeight:i,maxWidth:s}},"drawActorsPopup"),qF=g(function(e){Ar(ht,e),e.fontFamily&&(ht.actorFontFamily=ht.noteFontFamily=ht.messageFontFamily=e.fontFamily),e.fontSize&&(ht.actorFontSize=ht.noteFontSize=ht.messageFontSize=e.fontSize),e.fontWeight&&(ht.actorFontWeight=ht.noteFontWeight=ht.messageFontWeight=e.fontWeight)},"setConf"),mx=g(function(e){return Rt.activations.filter(function(t){return t.actor===e})},"actorActivations"),W6=g(function(e,t){const r=t.get(e),n=mx(e),i=n.reduce(function(a,o){return Ot.getMin(a,o.startx)},r.x+r.width/2-1),s=n.reduce(function(a,o){return Ot.getMax(a,o.stopx)},r.x+r.width/2+1);return[i,s]},"activationBounds");function us(e,t,r,n,i){Rt.bumpVerticalPos(r);let s=n;if(t.id&&t.message&&e[t.id]){const a=e[t.id].width,o=cc(ht);t.message=be.wrapLabel(`[${t.message}]`,a-2*ht.wrapPadding,o),t.width=a,t.wrap=!0;const l=be.calculateTextDimensions(t.message,o),u=Ot.getMax(l.height,ht.labelBoxHeight);s=n+u,U.debug(`${u} - ${t.message}`)}i(t),Rt.bumpVerticalPos(s)}g(us,"adjustLoopHeightForWrap");function jF(e,t,r,n,i,s,a){function o(h,d){h.x<i.get(e.from).x?(Rt.insert(t.stopx-d,t.starty,t.startx,t.stopy+h.height/2+ht.noteMargin),t.stopx=t.stopx+d):(Rt.insert(t.startx,t.starty,t.stopx+d,t.stopy+h.height/2+ht.noteMargin),t.stopx=t.stopx-d)}g(o,"receiverAdjustment");function l(h,d){h.x<i.get(e.to).x?(Rt.insert(t.startx-d,t.starty,t.stopx,t.stopy+h.height/2+ht.noteMargin),t.startx=t.startx+d):(Rt.insert(t.stopx,t.starty,t.startx+d,t.stopy+h.height/2+ht.noteMargin),t.startx=t.startx-d)}g(l,"senderAdjustment");const u=[N1.ACTOR,N1.CONTROL,N1.ENTITY,N1.DATABASE];if(s.get(e.to)==n){const h=i.get(e.to),d=u.includes(h.type)?Rl/2+3:h.width/2+3;o(h,d),h.starty=r-h.height/2,Rt.bumpVerticalPos(h.height/2)}else if(a.get(e.from)==n){const h=i.get(e.from);if(ht.mirrorActors){const d=u.includes(h.type)?Rl/2:h.width/2;l(h,d)}h.stopy=r-h.height/2,Rt.bumpVerticalPos(h.height/2)}else if(a.get(e.to)==n){const h=i.get(e.to);if(ht.mirrorActors){const d=u.includes(h.type)?Rl/2+3:h.width/2+3;o(h,d)}h.stopy=r-h.height/2,Rt.bumpVerticalPos(h.height/2)}}g(jF,"adjustCreatedDestroyedData");var _4t=g(async function(e,t,r,n){const{securityLevel:i,sequence:s}=rt();ht=s;let a;i==="sandbox"&&(a=Lt("#i"+t));const o=Lt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?a.nodes()[0].contentDocument:document;Rt.init(),U.debug(n.db);const u=i==="sandbox"?o.select(`[id="${t}"]`):Lt(`[id="${t}"]`),h=n.db.getActors(),d=n.db.getCreatedActors(),f=n.db.getDestroyedActors(),p=n.db.getBoxes();let m=n.db.getActorKeys();const y=n.db.getMessages(),b=n.db.getDiagramTitle(),x=n.db.hasAtLeastOneBox(),v=n.db.hasAtLeastOneBoxWithTitle(),_=await YF(h,y,n);if(ht.height=await XF(h,_,p),wr.insertComputerIcon(u),wr.insertDatabaseIcon(u),wr.insertClockIcon(u),x&&(Rt.bumpVerticalPos(ht.boxMargin),v&&Rt.bumpVerticalPos(p[0].textMaxHeight)),ht.hideUnusedParticipants===!0){const O=new Set;y.forEach(M=>{O.add(M.from),O.add(M.to)}),m=m.filter(M=>O.has(M))}v4t(u,h,d,m,0,y,!1);const S=await S4t(y,h,_,n);wr.insertArrowHead(u),wr.insertArrowCrossHead(u),wr.insertArrowFilledHead(u),wr.insertSequenceNumber(u);function k(O,M){const Y=Rt.endActivation(O);Y.starty+18>M&&(Y.starty=M-6,M+=12),wr.drawActivation(u,Y,M,ht,mx(O.from).length),Rt.insert(Y.startx,M-10,Y.stopx,M)}g(k,"activeEnd");let T=1,E=1;const I=[],C=[];let R=0;for(const O of y){let M,Y,F;switch(O.type){case n.db.LINETYPE.NOTE:Rt.resetVerticalPos(),Y=O.noteModel,await x4t(u,Y);break;case n.db.LINETYPE.ACTIVE_START:Rt.newActivation(O,u,h);break;case n.db.LINETYPE.ACTIVE_END:k(O,Rt.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:us(S,O,ht.boxMargin,ht.boxMargin+ht.boxTextMargin,j=>Rt.newLoop(j));break;case n.db.LINETYPE.LOOP_END:M=Rt.endLoop(),await wr.drawLoop(u,M,"loop",ht),Rt.bumpVerticalPos(M.stopy-Rt.getVerticalPos()),Rt.models.addLoop(M);break;case n.db.LINETYPE.RECT_START:us(S,O,ht.boxMargin,ht.boxMargin,j=>Rt.newLoop(void 0,j.message));break;case n.db.LINETYPE.RECT_END:M=Rt.endLoop(),C.push(M),Rt.models.addLoop(M),Rt.bumpVerticalPos(M.stopy-Rt.getVerticalPos());break;case n.db.LINETYPE.OPT_START:us(S,O,ht.boxMargin,ht.boxMargin+ht.boxTextMargin,j=>Rt.newLoop(j));break;case n.db.LINETYPE.OPT_END:M=Rt.endLoop(),await wr.drawLoop(u,M,"opt",ht),Rt.bumpVerticalPos(M.stopy-Rt.getVerticalPos()),Rt.models.addLoop(M);break;case n.db.LINETYPE.ALT_START:us(S,O,ht.boxMargin,ht.boxMargin+ht.boxTextMargin,j=>Rt.newLoop(j));break;case n.db.LINETYPE.ALT_ELSE:us(S,O,ht.boxMargin+ht.boxTextMargin,ht.boxMargin,j=>Rt.addSectionToLoop(j));break;case n.db.LINETYPE.ALT_END:M=Rt.endLoop(),await wr.drawLoop(u,M,"alt",ht),Rt.bumpVerticalPos(M.stopy-Rt.getVerticalPos()),Rt.models.addLoop(M);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:us(S,O,ht.boxMargin,ht.boxMargin+ht.boxTextMargin,j=>Rt.newLoop(j)),Rt.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:us(S,O,ht.boxMargin+ht.boxTextMargin,ht.boxMargin,j=>Rt.addSectionToLoop(j));break;case n.db.LINETYPE.PAR_END:M=Rt.endLoop(),await wr.drawLoop(u,M,"par",ht),Rt.bumpVerticalPos(M.stopy-Rt.getVerticalPos()),Rt.models.addLoop(M);break;case n.db.LINETYPE.AUTONUMBER:T=O.message.start||T,E=O.message.step||E,O.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:us(S,O,ht.boxMargin,ht.boxMargin+ht.boxTextMargin,j=>Rt.newLoop(j));break;case n.db.LINETYPE.CRITICAL_OPTION:us(S,O,ht.boxMargin+ht.boxTextMargin,ht.boxMargin,j=>Rt.addSectionToLoop(j));break;case n.db.LINETYPE.CRITICAL_END:M=Rt.endLoop(),await wr.drawLoop(u,M,"critical",ht),Rt.bumpVerticalPos(M.stopy-Rt.getVerticalPos()),Rt.models.addLoop(M);break;case n.db.LINETYPE.BREAK_START:us(S,O,ht.boxMargin,ht.boxMargin+ht.boxTextMargin,j=>Rt.newLoop(j));break;case n.db.LINETYPE.BREAK_END:M=Rt.endLoop(),await wr.drawLoop(u,M,"break",ht),Rt.bumpVerticalPos(M.stopy-Rt.getVerticalPos()),Rt.models.addLoop(M);break;default:try{F=O.msgModel,F.starty=Rt.getVerticalPos(),F.sequenceIndex=T,F.sequenceVisible=n.db.showSequenceNumbers();const j=await HF(u,F);jF(O,F,j,R,h,d,f),I.push({messageModel:F,lineStartY:j}),Rt.models.addMessage(F)}catch(j){U.error("error while drawing message",j)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(O.type)&&(T=T+E),R++}U.debug("createdActors",d),U.debug("destroyedActors",f),await KT(u,h,m,!1);for(const O of I)await b4t(u,O.messageModel,O.lineStartY,n);ht.mirrorActors&&await KT(u,h,m,!0),C.forEach(O=>wr.drawBackgroundRect(u,O)),zF(u,h,m,ht);for(const O of Rt.models.boxes){O.height=Rt.getVerticalPos()-O.y,Rt.insert(O.x,O.y,O.x+O.width,O.height);const M=ht.boxMargin*2;O.startx=O.x-M,O.starty=O.y-M*.25,O.stopx=O.startx+O.width+2*M,O.stopy=O.starty+O.height+M*.75,O.stroke="rgb(0,0,0, 0.5)",wr.drawBox(u,O,ht)}x&&Rt.bumpVerticalPos(ht.boxMargin);const w=GF(u,h,m,l),{bounds:$}=Rt.getBounds();$.startx===void 0&&($.startx=0),$.starty===void 0&&($.starty=0),$.stopx===void 0&&($.stopx=0),$.stopy===void 0&&($.stopy=0);let A=$.stopy-$.starty;A<w.maxHeight&&(A=w.maxHeight);let L=A+2*ht.diagramMarginY;ht.mirrorActors&&(L=L-ht.boxMargin+ht.bottomMarginAdj);let N=$.stopx-$.startx;N<w.maxWidth&&(N=w.maxWidth);const D=N+2*ht.diagramMarginX;b&&u.append("text").text(b).attr("x",($.stopx-$.startx)/2-2*ht.diagramMarginX).attr("y",-25),ei(u,L,D,ht.useMaxWidth);const P=b?40:0;u.attr("viewBox",$.startx-ht.diagramMarginX+" -"+(ht.diagramMarginY+P)+" "+D+" "+(L+P)),U.debug("models:",Rt.models)},"draw");async function YF(e,t,r){const n={};for(const i of t)if(e.get(i.to)&&e.get(i.from)){const s=e.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!s.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!s.nextActor)continue;const a=i.placement!==void 0,o=!a,l=a?Xc(ht):cc(ht),u=i.wrap?be.wrapLabel(i.message,ht.width-2*ht.wrapPadding,l):i.message,d=(vr(u)?await ig(i.message,rt()):be.calculateTextDimensions(u,l)).width+2*ht.wrapPadding;o&&i.from===s.nextActor?n[i.to]=Ot.getMax(n[i.to]||0,d):o&&i.from===s.prevActor?n[i.from]=Ot.getMax(n[i.from]||0,d):o&&i.from===i.to?(n[i.from]=Ot.getMax(n[i.from]||0,d/2),n[i.to]=Ot.getMax(n[i.to]||0,d/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=Ot.getMax(n[i.from]||0,d):i.placement===r.db.PLACEMENT.LEFTOF?n[s.prevActor]=Ot.getMax(n[s.prevActor]||0,d):i.placement===r.db.PLACEMENT.OVER&&(s.prevActor&&(n[s.prevActor]=Ot.getMax(n[s.prevActor]||0,d/2)),s.nextActor&&(n[i.from]=Ot.getMax(n[i.from]||0,d/2)))}return U.debug("maxMessageWidthPerActor:",n),n}g(YF,"getMaxMessageWidthPerActor");var T4t=g(function(e){let t=0;const r=XT(ht);for(const n in e.links){const s=be.calculateTextDimensions(n,r).width+2*ht.wrapPadding+2*ht.boxMargin;t<s&&(t=s)}return t},"getRequiredPopupWidth");async function XF(e,t,r){let n=0;for(const s of e.keys()){const a=e.get(s);a.wrap&&(a.description=be.wrapLabel(a.description,ht.width-2*ht.wrapPadding,XT(ht)));const o=vr(a.description)?await ig(a.description,rt()):be.calculateTextDimensions(a.description,XT(ht));a.width=a.wrap?ht.width:Ot.getMax(ht.width,o.width+2*ht.wrapPadding),a.height=a.wrap?Ot.getMax(o.height,ht.height):ht.height,n=Ot.getMax(n,a.height)}for(const s in t){const a=e.get(s);if(!a)continue;const o=e.get(a.nextActor);if(!o){const d=t[s]+ht.actorMargin-a.width/2;a.margin=Ot.getMax(d,ht.actorMargin);continue}const u=t[s]+ht.actorMargin-a.width/2-o.width/2;a.margin=Ot.getMax(u,ht.actorMargin)}let i=0;return r.forEach(s=>{const a=cc(ht);let o=s.actorKeys.reduce((d,f)=>d+=e.get(f).width+(e.get(f).margin||0),0);const l=ht.boxMargin*8;o+=l,o-=2*ht.boxTextMargin,s.wrap&&(s.name=be.wrapLabel(s.name,o-2*ht.wrapPadding,a));const u=be.calculateTextDimensions(s.name,a);i=Ot.getMax(u.height,i);const h=Ot.getMax(o,u.width+2*ht.wrapPadding);if(s.margin=ht.boxTextMargin,o<h){const d=(h-o)/2;s.margin+=d}}),r.forEach(s=>s.textMaxHeight=i),Ot.getMax(n,ht.height)}g(XF,"calculateActorMargins");var k4t=g(async function(e,t,r){const n=t.get(e.from),i=t.get(e.to),s=n.x,a=i.x,o=e.wrap&&e.message;let l=vr(e.message)?await ig(e.message,rt()):be.calculateTextDimensions(o?be.wrapLabel(e.message,ht.width,Xc(ht)):e.message,Xc(ht));const u={width:o?ht.width:Ot.getMax(ht.width,l.width+2*ht.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(u.width=o?Ot.getMax(ht.width,l.width):Ot.getMax(n.width/2+i.width/2,l.width+2*ht.noteMargin),u.startx=s+(n.width+ht.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(u.width=o?Ot.getMax(ht.width,l.width+2*ht.noteMargin):Ot.getMax(n.width/2+i.width/2,l.width+2*ht.noteMargin),u.startx=s-u.width+(n.width-ht.actorMargin)/2):e.to===e.from?(l=be.calculateTextDimensions(o?be.wrapLabel(e.message,Ot.getMax(ht.width,n.width),Xc(ht)):e.message,Xc(ht)),u.width=o?Ot.getMax(ht.width,n.width):Ot.getMax(n.width,ht.width,l.width+2*ht.noteMargin),u.startx=s+(n.width-u.width)/2):(u.width=Math.abs(s+n.width/2-(a+i.width/2))+ht.actorMargin,u.startx=s<a?s+n.width/2-ht.actorMargin/2:a+i.width/2-ht.actorMargin/2),o&&(u.message=be.wrapLabel(e.message,u.width-2*ht.wrapPadding,Xc(ht))),U.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${e.message}]`),u},"buildNoteModel"),w4t=g(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};const[n,i]=W6(e.from,t),[s,a]=W6(e.to,t),o=n<=s;let l=o?i:n,u=o?s:a;const h=Math.abs(s-a)>2,d=g(y=>o?-y:y,"adjustValue");e.from===e.to?u=l:(e.activate&&!h&&(u+=d(ht.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(u+=d(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(l-=d(3)));const f=[n,i,s,a],p=Math.abs(l-u);e.wrap&&e.message&&(e.message=be.wrapLabel(e.message,Ot.getMax(p+2*ht.wrapPadding,ht.width),cc(ht)));const m=be.calculateTextDimensions(e.message,cc(ht));return{width:Ot.getMax(e.wrap?0:m.width+2*ht.wrapPadding,p+2*ht.wrapPadding,ht.width),height:0,startx:l,stopx:u,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,f),toBounds:Math.max.apply(null,f)}},"buildMessageModel"),S4t=g(async function(e,t,r,n){const i={},s=[];let a,o,l;for(const u of e){switch(u.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:s.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:u.message&&(a=s.pop(),i[a.id]=a,i[u.id]=a,s.push(a));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:a=s.pop(),i[a.id]=a;break;case n.db.LINETYPE.ACTIVE_START:{const d=t.get(u.from?u.from:u.to.actor),f=mx(u.from?u.from:u.to.actor).length,p=d.x+d.width/2+(f-1)*ht.activationWidth/2,m={startx:p,stopx:p+ht.activationWidth,actor:u.from,enabled:!0};Rt.activations.push(m)}break;case n.db.LINETYPE.ACTIVE_END:{const d=Rt.activations.map(f=>f.actor).lastIndexOf(u.from);Rt.activations.splice(d,1).splice(0,1)}break}u.placement!==void 0?(o=await k4t(u,t,n),u.noteModel=o,s.forEach(d=>{a=d,a.from=Ot.getMin(a.from,o.startx),a.to=Ot.getMax(a.to,o.startx+o.width),a.width=Ot.getMax(a.width,Math.abs(a.from-a.to))-ht.labelBoxWidth})):(l=w4t(u,t,n),u.msgModel=l,l.startx&&l.stopx&&s.length>0&&s.forEach(d=>{if(a=d,l.startx===l.stopx){const f=t.get(u.from),p=t.get(u.to);a.from=Ot.getMin(f.x-l.width/2,f.x-f.width/2,a.from),a.to=Ot.getMax(p.x+l.width/2,p.x+f.width/2,a.to),a.width=Ot.getMax(a.width,Math.abs(a.to-a.from))-ht.labelBoxWidth}else a.from=Ot.getMin(l.startx,a.from),a.to=Ot.getMax(l.stopx,a.to),a.width=Ot.getMax(a.width,l.width)-ht.labelBoxWidth}))}return Rt.activations=[],U.debug("Loop type widths:",i),i},"calculateLoopBounds"),C4t={bounds:Rt,drawActors:KT,drawActorsPopup:GF,setConf:qF,draw:_4t},E4t={parser:W3t,get db(){return new q3t},renderer:C4t,styles:Y3t,init:g(e=>{e.sequence||(e.sequence={}),e.wrap&&(e.sequence.wrap=e.wrap,zv({sequence:{wrap:e.wrap}}))},"init")};const A4t=Object.freeze(Object.defineProperty({__proto__:null,diagram:E4t},Symbol.toStringTag,{value:"Module"}));var QT=function(){var e=g(function(xt,st,ut,_t){for(ut=ut||{},_t=xt.length;_t--;ut[xt[_t]]=st);return ut},"o"),t=[1,18],r=[1,19],n=[1,20],i=[1,41],s=[1,42],a=[1,26],o=[1,24],l=[1,25],u=[1,32],h=[1,33],d=[1,34],f=[1,45],p=[1,35],m=[1,36],y=[1,37],b=[1,38],x=[1,27],v=[1,28],_=[1,29],S=[1,30],k=[1,31],T=[1,44],E=[1,46],I=[1,43],C=[1,47],R=[1,9],w=[1,8,9],$=[1,58],A=[1,59],L=[1,60],N=[1,61],D=[1,62],P=[1,63],O=[1,64],M=[1,8,9,41],Y=[1,76],F=[1,8,9,12,13,22,39,41,44,68,69,70,71,72,73,74,79,81],j=[1,8,9,12,13,18,20,22,39,41,44,50,60,68,69,70,71,72,73,74,79,81,86,100,102,103],it=[13,60,86,100,102,103],ft=[13,60,73,74,86,100,102,103],J=[13,60,68,69,70,71,72,86,100,102,103],dt=[1,100],et=[1,117],St=[1,113],ct=[1,109],bt=[1,115],nt=[1,110],Z=[1,111],z=[1,112],V=[1,114],G=[1,116],W=[22,48,60,61,82,86,87,88,89,90],ot=[1,8,9,39,41,44],B=[1,8,9,22],wt=[1,145],K=[1,8,9,61],vt=[1,8,9,22,48,60,61,82,86,87,88,89,90],mt={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,classLiteralName:17,DOT:18,className:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,emptyBody:47,SPACE:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,NOTE_FOR:54,noteText:55,NOTE:56,CLASSDEF:57,classList:58,stylesOpt:59,ALPHA:60,COMMA:61,direction_tb:62,direction_bt:63,direction_rl:64,direction_lr:65,relationType:66,lineType:67,AGGREGATION:68,EXTENSION:69,COMPOSITION:70,DEPENDENCY:71,LOLLIPOP:72,LINE:73,DOTTED_LINE:74,CALLBACK:75,LINK:76,LINK_TARGET:77,CLICK:78,CALLBACK_NAME:79,CALLBACK_ARGS:80,HREF:81,STYLE:82,CSSCLASS:83,style:84,styleComponent:85,NUM:86,COLON:87,UNIT:88,BRKT:89,PCT:90,commentToken:91,textToken:92,graphCodeTokens:93,textNoTagsToken:94,TAGSTART:95,TAGEND:96,"==":97,"--":98,DEFAULT:99,MINUS:100,keywords:101,UNICODE_TEXT:102,BQUOTE_STR:103,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",18:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",48:"SPACE",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"NOTE_FOR",56:"NOTE",57:"CLASSDEF",60:"ALPHA",61:"COMMA",62:"direction_tb",63:"direction_bt",64:"direction_rl",65:"direction_lr",68:"AGGREGATION",69:"EXTENSION",70:"COMPOSITION",71:"DEPENDENCY",72:"LOLLIPOP",73:"LINE",74:"DOTTED_LINE",75:"CALLBACK",76:"LINK",77:"LINK_TARGET",78:"CLICK",79:"CALLBACK_NAME",80:"CALLBACK_ARGS",81:"HREF",82:"STYLE",83:"CSSCLASS",86:"NUM",87:"COLON",88:"UNIT",89:"BRKT",90:"PCT",93:"graphCodeTokens",95:"TAGSTART",96:"TAGEND",97:"==",98:"--",99:"DEFAULT",100:"MINUS",101:"keywords",102:"UNICODE_TEXT",103:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,1],[15,3],[15,2],[19,1],[19,3],[19,1],[19,2],[19,2],[19,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,3],[24,6],[43,2],[43,3],[47,0],[47,2],[47,2],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[58,1],[58,3],[32,1],[32,1],[32,1],[32,1],[53,3],[53,2],[53,2],[53,1],[66,1],[66,1],[66,1],[66,1],[66,1],[67,1],[67,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[59,1],[59,3],[84,1],[84,2],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[91,1],[91,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[94,1],[94,1],[94,1],[94,1],[16,1],[16,1],[16,1],[16,1],[17,1],[55,1]],performAction:g(function(st,ut,_t,Q,Tt,H,$t){var q=H.length-1;switch(Tt){case 8:this.$=H[q-1];break;case 9:case 10:case 13:case 15:this.$=H[q];break;case 11:case 14:this.$=H[q-2]+"."+H[q];break;case 12:case 16:this.$=H[q-1]+H[q];break;case 17:case 18:this.$=H[q-1]+"~"+H[q]+"~";break;case 19:Q.addRelation(H[q]);break;case 20:H[q-1].title=Q.cleanupLabel(H[q]),Q.addRelation(H[q-1]);break;case 31:this.$=H[q].trim(),Q.setAccTitle(this.$);break;case 32:case 33:this.$=H[q].trim(),Q.setAccDescription(this.$);break;case 34:Q.addClassesToNamespace(H[q-3],H[q-1]);break;case 35:Q.addClassesToNamespace(H[q-4],H[q-1]);break;case 36:this.$=H[q],Q.addNamespace(H[q]);break;case 37:this.$=[H[q]];break;case 38:this.$=[H[q-1]];break;case 39:H[q].unshift(H[q-2]),this.$=H[q];break;case 41:Q.setCssClass(H[q-2],H[q]);break;case 42:Q.addMembers(H[q-3],H[q-1]);break;case 44:Q.setCssClass(H[q-5],H[q-3]),Q.addMembers(H[q-5],H[q-1]);break;case 45:this.$=H[q],Q.addClass(H[q]);break;case 46:this.$=H[q-1],Q.addClass(H[q-1]),Q.setClassLabel(H[q-1],H[q]);break;case 50:Q.addAnnotation(H[q],H[q-2]);break;case 51:case 64:this.$=[H[q]];break;case 52:H[q].push(H[q-1]),this.$=H[q];break;case 53:break;case 54:Q.addMember(H[q-1],Q.cleanupLabel(H[q]));break;case 55:break;case 56:break;case 57:this.$={id1:H[q-2],id2:H[q],relation:H[q-1],relationTitle1:"none",relationTitle2:"none"};break;case 58:this.$={id1:H[q-3],id2:H[q],relation:H[q-1],relationTitle1:H[q-2],relationTitle2:"none"};break;case 59:this.$={id1:H[q-3],id2:H[q],relation:H[q-2],relationTitle1:"none",relationTitle2:H[q-1]};break;case 60:this.$={id1:H[q-4],id2:H[q],relation:H[q-2],relationTitle1:H[q-3],relationTitle2:H[q-1]};break;case 61:Q.addNote(H[q],H[q-1]);break;case 62:Q.addNote(H[q]);break;case 63:this.$=H[q-2],Q.defineClass(H[q-1],H[q]);break;case 65:this.$=H[q-2].concat([H[q]]);break;case 66:Q.setDirection("TB");break;case 67:Q.setDirection("BT");break;case 68:Q.setDirection("RL");break;case 69:Q.setDirection("LR");break;case 70:this.$={type1:H[q-2],type2:H[q],lineType:H[q-1]};break;case 71:this.$={type1:"none",type2:H[q],lineType:H[q-1]};break;case 72:this.$={type1:H[q-1],type2:"none",lineType:H[q]};break;case 73:this.$={type1:"none",type2:"none",lineType:H[q]};break;case 74:this.$=Q.relationType.AGGREGATION;break;case 75:this.$=Q.relationType.EXTENSION;break;case 76:this.$=Q.relationType.COMPOSITION;break;case 77:this.$=Q.relationType.DEPENDENCY;break;case 78:this.$=Q.relationType.LOLLIPOP;break;case 79:this.$=Q.lineType.LINE;break;case 80:this.$=Q.lineType.DOTTED_LINE;break;case 81:case 87:this.$=H[q-2],Q.setClickEvent(H[q-1],H[q]);break;case 82:case 88:this.$=H[q-3],Q.setClickEvent(H[q-2],H[q-1]),Q.setTooltip(H[q-2],H[q]);break;case 83:this.$=H[q-2],Q.setLink(H[q-1],H[q]);break;case 84:this.$=H[q-3],Q.setLink(H[q-2],H[q-1],H[q]);break;case 85:this.$=H[q-3],Q.setLink(H[q-2],H[q-1]),Q.setTooltip(H[q-2],H[q]);break;case 86:this.$=H[q-4],Q.setLink(H[q-3],H[q-2],H[q]),Q.setTooltip(H[q-3],H[q-1]);break;case 89:this.$=H[q-3],Q.setClickEvent(H[q-2],H[q-1],H[q]);break;case 90:this.$=H[q-4],Q.setClickEvent(H[q-3],H[q-2],H[q-1]),Q.setTooltip(H[q-3],H[q]);break;case 91:this.$=H[q-3],Q.setLink(H[q-2],H[q]);break;case 92:this.$=H[q-4],Q.setLink(H[q-3],H[q-1],H[q]);break;case 93:this.$=H[q-4],Q.setLink(H[q-3],H[q-1]),Q.setTooltip(H[q-3],H[q]);break;case 94:this.$=H[q-5],Q.setLink(H[q-4],H[q-2],H[q]),Q.setTooltip(H[q-4],H[q-1]);break;case 95:this.$=H[q-2],Q.setCssStyle(H[q-1],H[q]);break;case 96:Q.setCssClass(H[q-1],H[q]);break;case 97:this.$=[H[q]];break;case 98:H[q-2].push(H[q]),this.$=H[q-2];break;case 100:this.$=H[q-1]+H[q];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:s,49:a,51:o,52:l,54:u,56:h,57:d,60:f,62:p,63:m,64:y,65:b,75:x,76:v,78:_,82:S,83:k,86:T,100:E,102:I,103:C},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(R,[2,5],{8:[1,48]}),{8:[1,49]},e(w,[2,19],{22:[1,50]}),e(w,[2,21]),e(w,[2,22]),e(w,[2,23]),e(w,[2,24]),e(w,[2,25]),e(w,[2,26]),e(w,[2,27]),e(w,[2,28]),e(w,[2,29]),e(w,[2,30]),{34:[1,51]},{36:[1,52]},e(w,[2,33]),e(w,[2,53],{53:53,66:56,67:57,13:[1,54],22:[1,55],68:$,69:A,70:L,71:N,72:D,73:P,74:O}),{39:[1,65]},e(M,[2,40],{39:[1,67],44:[1,66]}),e(w,[2,55]),e(w,[2,56]),{16:68,60:f,86:T,100:E,102:I},{16:39,17:40,19:69,60:f,86:T,100:E,102:I,103:C},{16:39,17:40,19:70,60:f,86:T,100:E,102:I,103:C},{16:39,17:40,19:71,60:f,86:T,100:E,102:I,103:C},{60:[1,72]},{13:[1,73]},{16:39,17:40,19:74,60:f,86:T,100:E,102:I,103:C},{13:Y,55:75},{58:77,60:[1,78]},e(w,[2,66]),e(w,[2,67]),e(w,[2,68]),e(w,[2,69]),e(F,[2,13],{16:39,17:40,19:80,18:[1,79],20:[1,81],60:f,86:T,100:E,102:I,103:C}),e(F,[2,15],{20:[1,82]}),{15:83,16:84,17:85,60:f,86:T,100:E,102:I,103:C},{16:39,17:40,19:86,60:f,86:T,100:E,102:I,103:C},e(j,[2,123]),e(j,[2,124]),e(j,[2,125]),e(j,[2,126]),e([1,8,9,12,13,20,22,39,41,44,68,69,70,71,72,73,74,79,81],[2,127]),e(R,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,19:21,38:22,43:23,16:39,17:40,5:87,33:t,35:r,37:n,42:i,46:s,49:a,51:o,52:l,54:u,56:h,57:d,60:f,62:p,63:m,64:y,65:b,75:x,76:v,78:_,82:S,83:k,86:T,100:E,102:I,103:C}),{5:88,10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:s,49:a,51:o,52:l,54:u,56:h,57:d,60:f,62:p,63:m,64:y,65:b,75:x,76:v,78:_,82:S,83:k,86:T,100:E,102:I,103:C},e(w,[2,20]),e(w,[2,31]),e(w,[2,32]),{13:[1,90],16:39,17:40,19:89,60:f,86:T,100:E,102:I,103:C},{53:91,66:56,67:57,68:$,69:A,70:L,71:N,72:D,73:P,74:O},e(w,[2,54]),{67:92,73:P,74:O},e(it,[2,73],{66:93,68:$,69:A,70:L,71:N,72:D}),e(ft,[2,74]),e(ft,[2,75]),e(ft,[2,76]),e(ft,[2,77]),e(ft,[2,78]),e(J,[2,79]),e(J,[2,80]),{8:[1,95],24:96,40:94,43:23,46:s},{16:97,60:f,86:T,100:E,102:I},{41:[1,99],45:98,51:dt},{50:[1,101]},{13:[1,102]},{13:[1,103]},{79:[1,104],81:[1,105]},{22:et,48:St,59:106,60:ct,82:bt,84:107,85:108,86:nt,87:Z,88:z,89:V,90:G},{60:[1,118]},{13:Y,55:119},e(w,[2,62]),e(w,[2,128]),{22:et,48:St,59:120,60:ct,61:[1,121],82:bt,84:107,85:108,86:nt,87:Z,88:z,89:V,90:G},e(W,[2,64]),{16:39,17:40,19:122,60:f,86:T,100:E,102:I,103:C},e(F,[2,16]),e(F,[2,17]),e(F,[2,18]),{39:[2,36]},{15:124,16:84,17:85,18:[1,123],39:[2,9],60:f,86:T,100:E,102:I,103:C},{39:[2,10]},e(ot,[2,45],{11:125,12:[1,126]}),e(R,[2,7]),{9:[1,127]},e(B,[2,57]),{16:39,17:40,19:128,60:f,86:T,100:E,102:I,103:C},{13:[1,130],16:39,17:40,19:129,60:f,86:T,100:E,102:I,103:C},e(it,[2,72],{66:131,68:$,69:A,70:L,71:N,72:D}),e(it,[2,71]),{41:[1,132]},{24:96,40:133,43:23,46:s},{8:[1,134],41:[2,37]},e(M,[2,41],{39:[1,135]}),{41:[1,136]},e(M,[2,43]),{41:[2,51],45:137,51:dt},{16:39,17:40,19:138,60:f,86:T,100:E,102:I,103:C},e(w,[2,81],{13:[1,139]}),e(w,[2,83],{13:[1,141],77:[1,140]}),e(w,[2,87],{13:[1,142],80:[1,143]}),{13:[1,144]},e(w,[2,95],{61:wt}),e(K,[2,97],{85:146,22:et,48:St,60:ct,82:bt,86:nt,87:Z,88:z,89:V,90:G}),e(vt,[2,99]),e(vt,[2,101]),e(vt,[2,102]),e(vt,[2,103]),e(vt,[2,104]),e(vt,[2,105]),e(vt,[2,106]),e(vt,[2,107]),e(vt,[2,108]),e(vt,[2,109]),e(w,[2,96]),e(w,[2,61]),e(w,[2,63],{61:wt}),{60:[1,147]},e(F,[2,14]),{15:148,16:84,17:85,60:f,86:T,100:E,102:I,103:C},{39:[2,12]},e(ot,[2,46]),{13:[1,149]},{1:[2,4]},e(B,[2,59]),e(B,[2,58]),{16:39,17:40,19:150,60:f,86:T,100:E,102:I,103:C},e(it,[2,70]),e(w,[2,34]),{41:[1,151]},{24:96,40:152,41:[2,38],43:23,46:s},{45:153,51:dt},e(M,[2,42]),{41:[2,52]},e(w,[2,50]),e(w,[2,82]),e(w,[2,84]),e(w,[2,85],{77:[1,154]}),e(w,[2,88]),e(w,[2,89],{13:[1,155]}),e(w,[2,91],{13:[1,157],77:[1,156]}),{22:et,48:St,60:ct,82:bt,84:158,85:108,86:nt,87:Z,88:z,89:V,90:G},e(vt,[2,100]),e(W,[2,65]),{39:[2,11]},{14:[1,159]},e(B,[2,60]),e(w,[2,35]),{41:[2,39]},{41:[1,160]},e(w,[2,86]),e(w,[2,90]),e(w,[2,92]),e(w,[2,93],{77:[1,161]}),e(K,[2,98],{85:146,22:et,48:St,60:ct,82:bt,86:nt,87:Z,88:z,89:V,90:G}),e(ot,[2,8]),e(M,[2,44]),e(w,[2,94])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,36],85:[2,10],124:[2,12],127:[2,4],137:[2,52],148:[2,11],152:[2,39]},parseError:g(function(st,ut){if(ut.recoverable)this.trace(st);else{var _t=new Error(st);throw _t.hash=ut,_t}},"parseError"),parse:g(function(st){var ut=this,_t=[0],Q=[],Tt=[null],H=[],$t=this.table,q="",At=0,gt=0,Mt=2,kt=1,Ct=H.slice.call(arguments,1),ae=Object.create(this.lexer),Dt={yy:{}};for(var ke in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ke)&&(Dt.yy[ke]=this.yy[ke]);ae.setInput(st,Dt.yy),Dt.yy.lexer=ae,Dt.yy.parser=this,typeof ae.yylloc>"u"&&(ae.yylloc={});var zr=ae.yylloc;H.push(zr);var pe=ae.options&&ae.options.ranges;typeof Dt.yy.parseError=="function"?this.parseError=Dt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Be(Kt){_t.length=_t.length-2*Kt,Tt.length=Tt.length-Kt,H.length=H.length-Kt}g(Be,"popStack");function Tr(){var Kt;return Kt=Q.pop()||ae.lex()||kt,typeof Kt!="number"&&(Kt instanceof Array&&(Q=Kt,Kt=Q.pop()),Kt=ut.symbols_[Kt]||Kt),Kt}g(Tr,"lex");for(var Wt,Fe,He,kr,te={},$e,jt,_e,ee;;){if(Fe=_t[_t.length-1],this.defaultActions[Fe]?He=this.defaultActions[Fe]:((Wt===null||typeof Wt>"u")&&(Wt=Tr()),He=$t[Fe]&&$t[Fe][Wt]),typeof He>"u"||!He.length||!He[0]){var Jt="";ee=[];for($e in $t[Fe])this.terminals_[$e]&&$e>Mt&&ee.push("'"+this.terminals_[$e]+"'");ae.showPosition?Jt="Parse error on line "+(At+1)+`:
`+ae.showPosition()+`
Expecting `+ee.join(", ")+", got '"+(this.terminals_[Wt]||Wt)+"'":Jt="Parse error on line "+(At+1)+": Unexpected "+(Wt==kt?"end of input":"'"+(this.terminals_[Wt]||Wt)+"'"),this.parseError(Jt,{text:ae.match,token:this.terminals_[Wt]||Wt,line:ae.yylineno,loc:zr,expected:ee})}if(He[0]instanceof Array&&He.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Fe+", token: "+Wt);switch(He[0]){case 1:_t.push(Wt),Tt.push(ae.yytext),H.push(ae.yylloc),_t.push(He[1]),Wt=null,gt=ae.yyleng,q=ae.yytext,At=ae.yylineno,zr=ae.yylloc;break;case 2:if(jt=this.productions_[He[1]][1],te.$=Tt[Tt.length-jt],te._$={first_line:H[H.length-(jt||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(jt||1)].first_column,last_column:H[H.length-1].last_column},pe&&(te._$.range=[H[H.length-(jt||1)].range[0],H[H.length-1].range[1]]),kr=this.performAction.apply(te,[q,gt,At,Dt.yy,He[1],Tt,H].concat(Ct)),typeof kr<"u")return kr;jt&&(_t=_t.slice(0,-1*jt*2),Tt=Tt.slice(0,-1*jt),H=H.slice(0,-1*jt)),_t.push(this.productions_[He[1]][0]),Tt.push(te.$),H.push(te._$),_e=$t[_t[_t.length-2]][_t[_t.length-1]],_t.push(_e);break;case 3:return!0}}return!0},"parse")},Nt=function(){var xt={EOF:1,parseError:g(function(ut,_t){if(this.yy.parser)this.yy.parser.parseError(ut,_t);else throw new Error(ut)},"parseError"),setInput:g(function(st,ut){return this.yy=ut||this.yy||{},this._input=st,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var st=this._input[0];this.yytext+=st,this.yyleng++,this.offset++,this.match+=st,this.matched+=st;var ut=st.match(/(?:\r\n?|\n).*/g);return ut?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),st},"input"),unput:g(function(st){var ut=st.length,_t=st.split(/(?:\r\n?|\n)/g);this._input=st+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ut),this.offset-=ut;var Q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),_t.length-1&&(this.yylineno-=_t.length-1);var Tt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:_t?(_t.length===Q.length?this.yylloc.first_column:0)+Q[Q.length-_t.length].length-_t[0].length:this.yylloc.first_column-ut},this.options.ranges&&(this.yylloc.range=[Tt[0],Tt[0]+this.yyleng-ut]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(st){this.unput(this.match.slice(st))},"less"),pastInput:g(function(){var st=this.matched.substr(0,this.matched.length-this.match.length);return(st.length>20?"...":"")+st.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var st=this.match;return st.length<20&&(st+=this._input.substr(0,20-st.length)),(st.substr(0,20)+(st.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var st=this.pastInput(),ut=new Array(st.length+1).join("-");return st+this.upcomingInput()+`
`+ut+"^"},"showPosition"),test_match:g(function(st,ut){var _t,Q,Tt;if(this.options.backtrack_lexer&&(Tt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Tt.yylloc.range=this.yylloc.range.slice(0))),Q=st[0].match(/(?:\r\n?|\n).*/g),Q&&(this.yylineno+=Q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Q?Q[Q.length-1].length-Q[Q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+st[0].length},this.yytext+=st[0],this.match+=st[0],this.matches=st,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(st[0].length),this.matched+=st[0],_t=this.performAction.call(this,this.yy,this,ut,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),_t)return _t;if(this._backtrack){for(var H in Tt)this[H]=Tt[H];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var st,ut,_t,Q;this._more||(this.yytext="",this.match="");for(var Tt=this._currentRules(),H=0;H<Tt.length;H++)if(_t=this._input.match(this.rules[Tt[H]]),_t&&(!ut||_t[0].length>ut[0].length)){if(ut=_t,Q=H,this.options.backtrack_lexer){if(st=this.test_match(_t,Tt[H]),st!==!1)return st;if(this._backtrack){ut=!1;continue}else return!1}else if(!this.options.flex)break}return ut?(st=this.test_match(ut,Tt[Q]),st!==!1?st:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var ut=this.next();return ut||this.lex()},"lex"),begin:g(function(ut){this.conditionStack.push(ut)},"begin"),popState:g(function(){var ut=this.conditionStack.length-1;return ut>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(ut){return ut=this.conditionStack.length-1-Math.abs(ut||0),ut>=0?this.conditionStack[ut]:"INITIAL"},"topState"),pushState:g(function(ut){this.begin(ut)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:g(function(ut,_t,Q,Tt){switch(Q){case 0:return 62;case 1:return 63;case 2:return 64;case 3:return 65;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 79;case 22:this.popState();break;case 23:return 80;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 82;case 28:return 57;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 83;case 50:return 75;case 51:return 76;case 52:return 78;case 53:return 54;case 54:return 56;case 55:return 49;case 56:return 50;case 57:return 81;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 77;case 65:return 77;case 66:return 77;case 67:return 77;case 68:return 69;case 69:return 69;case 70:return 71;case 71:return 71;case 72:return 70;case 73:return 68;case 74:return 72;case 75:return 73;case 76:return 74;case 77:return 22;case 78:return 44;case 79:return 100;case 80:return 18;case 81:return"PLUS";case 82:return 87;case 83:return 61;case 84:return 89;case 85:return 89;case 86:return 90;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 60;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 86;case 94:return 102;case 95:return 48;case 96:return 48;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return xt}();mt.lexer=Nt;function lt(){this.yy={}}return g(lt,"Parser"),lt.prototype=mt,mt.Parser=lt,new lt}();QT.parser=QT;var KF=QT,U6=["#","+","~","-",""],fh,H6=(fh=class{constructor(t,r){this.memberType=r,this.visibility="",this.classifier="",this.text="";const n=Ne(t,rt());this.parseMember(n)}getDisplayDetails(){let t=this.visibility+go(this.id);this.memberType==="method"&&(t+=`(${go(this.parameters.trim())})`,this.returnType&&(t+=" : "+go(this.returnType))),t=t.trim();const r=this.parseClassifier();return{displayText:t,cssStyle:r}}parseMember(t){let r="";if(this.memberType==="method"){const s=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(t);if(s){const a=s[1]?s[1].trim():"";if(U6.includes(a)&&(this.visibility=a),this.id=s[2],this.parameters=s[3]?s[3].trim():"",r=s[4]?s[4].trim():"",this.returnType=s[5]?s[5].trim():"",r===""){const o=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(o)&&(r=o,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const i=t.length,s=t.substring(0,1),a=t.substring(i-1);U6.includes(s)&&(this.visibility=s),/[$*]/.exec(a)&&(r=a),this.id=t.substring(this.visibility===""?0:1,r===""?i:i-1)}this.classifier=r,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();const n=`${this.visibility?"\\"+this.visibility:""}${go(this.id)}${this.memberType==="method"?`(${go(this.parameters)})${this.returnType?" : "+go(this.returnType):""}`:""}`;this.text=n.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},g(fh,"ClassMember"),fh),$1="classId-",G6=0,pl=g(e=>Ot.sanitizeText(e,rt()),"sanitizeText"),ph,QF=(ph=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=g(t=>{let r=Lt(".mermaidTooltip");(r._groups||r)[0][0]===null&&(r=Lt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Lt(t).select("svg").selectAll("g.node").on("mouseover",s=>{const a=Lt(s.currentTarget);if(a.attr("title")===null)return;const l=this.getBoundingClientRect();r.transition().duration(200).style("opacity",".9"),r.text(a.attr("title")).style("left",window.scrollX+l.left+(l.right-l.left)/2+"px").style("top",window.scrollY+l.top-14+document.body.scrollTop+"px"),r.html(r.html().replace(/&lt;br\/&gt;/g,"<br/>")),a.classed("hover",!0)}).on("mouseout",s=>{r.transition().duration(500).style("opacity",0),Lt(s.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=Pr,this.getAccTitle=Xr,this.setAccDescription=Kr,this.getAccDescription=Qr,this.setDiagramTitle=on,this.getDiagramTitle=Vr,this.getConfig=g(()=>rt().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}splitClassNameAndType(t){const r=Ot.sanitizeText(t,rt());let n="",i=r;if(r.indexOf("~")>0){const s=r.split("~");i=pl(s[0]),n=pl(s[1])}return{className:i,type:n}}setClassLabel(t,r){const n=Ot.sanitizeText(t,rt());r&&(r=pl(r));const{className:i}=this.splitClassNameAndType(n);this.classes.get(i).label=r,this.classes.get(i).text=`${r}${this.classes.get(i).type?`<${this.classes.get(i).type}>`:""}`}addClass(t){const r=Ot.sanitizeText(t,rt()),{className:n,type:i}=this.splitClassNameAndType(r);if(this.classes.has(n))return;const s=Ot.sanitizeText(n,rt());this.classes.set(s,{id:s,type:i,label:s,text:`${s}${i?`&lt;${i}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:$1+s+"-"+G6}),G6++}addInterface(t,r){const n={id:`interface${this.interfaces.length}`,label:t,classId:r};this.interfaces.push(n)}lookUpDomId(t){const r=Ot.sanitizeText(t,rt());if(this.classes.has(r))return this.classes.get(r).domId;throw new Error("Class not found: "+r)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",Fr()}getClass(t){return this.classes.get(t)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(t){U.debug("Adding relation: "+JSON.stringify(t));const r=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];t.relation.type1===this.relationType.LOLLIPOP&&!r.includes(t.relation.type2)?(this.addClass(t.id2),this.addInterface(t.id1,t.id2),t.id1=`interface${this.interfaces.length-1}`):t.relation.type2===this.relationType.LOLLIPOP&&!r.includes(t.relation.type1)?(this.addClass(t.id1),this.addInterface(t.id2,t.id1),t.id2=`interface${this.interfaces.length-1}`):(this.addClass(t.id1),this.addClass(t.id2)),t.id1=this.splitClassNameAndType(t.id1).className,t.id2=this.splitClassNameAndType(t.id2).className,t.relationTitle1=Ot.sanitizeText(t.relationTitle1.trim(),rt()),t.relationTitle2=Ot.sanitizeText(t.relationTitle2.trim(),rt()),this.relations.push(t)}addAnnotation(t,r){const n=this.splitClassNameAndType(t).className;this.classes.get(n).annotations.push(r)}addMember(t,r){this.addClass(t);const n=this.splitClassNameAndType(t).className,i=this.classes.get(n);if(typeof r=="string"){const s=r.trim();s.startsWith("<<")&&s.endsWith(">>")?i.annotations.push(pl(s.substring(2,s.length-2))):s.indexOf(")")>0?i.methods.push(new H6(s,"method")):s&&i.members.push(new H6(s,"attribute"))}}addMembers(t,r){Array.isArray(r)&&(r.reverse(),r.forEach(n=>this.addMember(t,n)))}addNote(t,r){const n={id:`note${this.notes.length}`,class:r,text:t};this.notes.push(n)}cleanupLabel(t){return t.startsWith(":")&&(t=t.substring(1)),pl(t.trim())}setCssClass(t,r){t.split(",").forEach(n=>{let i=n;/\d/.exec(n[0])&&(i=$1+i);const s=this.classes.get(i);s&&(s.cssClasses+=" "+r)})}defineClass(t,r){for(const n of t){let i=this.styleClasses.get(n);i===void 0&&(i={id:n,styles:[],textStyles:[]},this.styleClasses.set(n,i)),r&&r.forEach(s=>{if(/color/.exec(s)){const a=s.replace("fill","bgFill");i.textStyles.push(a)}i.styles.push(s)}),this.classes.forEach(s=>{s.cssClasses.includes(n)&&s.styles.push(...r.flatMap(a=>a.split(",")))})}}setTooltip(t,r){t.split(",").forEach(n=>{r!==void 0&&(this.classes.get(n).tooltip=pl(r))})}getTooltip(t,r){return r&&this.namespaces.has(r)?this.namespaces.get(r).classes.get(t).tooltip:this.classes.get(t).tooltip}setLink(t,r,n){const i=rt();t.split(",").forEach(s=>{let a=s;/\d/.exec(s[0])&&(a=$1+a);const o=this.classes.get(a);o&&(o.link=be.formatUrl(r,i),i.securityLevel==="sandbox"?o.linkTarget="_top":typeof n=="string"?o.linkTarget=pl(n):o.linkTarget="_blank")}),this.setCssClass(t,"clickable")}setClickEvent(t,r,n){t.split(",").forEach(i=>{this.setClickFunc(i,r,n),this.classes.get(i).haveCallback=!0}),this.setCssClass(t,"clickable")}setClickFunc(t,r,n){const i=Ot.sanitizeText(t,rt());if(rt().securityLevel!=="loose"||r===void 0)return;const a=i;if(this.classes.has(a)){const o=this.lookUpDomId(a);let l=[];if(typeof n=="string"){l=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let u=0;u<l.length;u++){let h=l[u].trim();h.startsWith('"')&&h.endsWith('"')&&(h=h.substr(1,h.length-2)),l[u]=h}}l.length===0&&l.push(o),this.functions.push(()=>{const u=document.querySelector(`[id="${o}"]`);u!==null&&u.addEventListener("click",()=>{be.runFunc(r,...l)},!1)})}}bindFunctions(t){this.functions.forEach(r=>{r(t)})}getDirection(){return this.direction}setDirection(t){this.direction=t}addNamespace(t){this.namespaces.has(t)||(this.namespaces.set(t,{id:t,classes:new Map,children:{},domId:$1+t+"-"+this.namespaceCounter}),this.namespaceCounter++)}getNamespace(t){return this.namespaces.get(t)}getNamespaces(){return this.namespaces}addClassesToNamespace(t,r){if(this.namespaces.has(t))for(const n of r){const{className:i}=this.splitClassNameAndType(n);this.classes.get(i).parent=t,this.namespaces.get(t).classes.set(i,this.classes.get(i))}}setCssStyle(t,r){const n=this.classes.get(t);if(!(!r||!n))for(const i of r)i.includes(",")?n.styles.push(...i.split(",")):n.styles.push(i)}getArrowMarker(t){let r;switch(t){case 0:r="aggregation";break;case 1:r="extension";break;case 2:r="composition";break;case 3:r="dependency";break;case 4:r="lollipop";break;default:r="none"}return r}getData(){var s;const t=[],r=[],n=rt();for(const a of this.namespaces.keys()){const o=this.namespaces.get(a);if(o){const l={id:o.id,label:o.id,isGroup:!0,padding:n.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:n.look};t.push(l)}}for(const a of this.classes.keys()){const o=this.classes.get(a);if(o){const l=o;l.parentId=o.parent,l.look=n.look,t.push(l)}}let i=0;for(const a of this.notes){i++;const o={id:a.id,label:a.text,isGroup:!1,shape:"note",padding:n.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${n.themeVariables.noteBkgColor}`,`stroke: ${n.themeVariables.noteBorderColor}`],look:n.look};t.push(o);const l=((s=this.classes.get(a.class))==null?void 0:s.id)??"";if(l){const u={id:`edgeNote${i}`,start:a.id,end:l,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:n.look};r.push(u)}}for(const a of this.interfaces){const o={id:a.id,label:a.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:n.look};t.push(o)}i=0;for(const a of this.relations){i++;const o={id:pu(a.id1,a.id2,{prefix:"id",counter:i}),start:a.id1,end:a.id2,type:"normal",label:a.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(a.relation.type1),arrowTypeEnd:this.getArrowMarker(a.relation.type2),startLabelRight:a.relationTitle1==="none"?"":a.relationTitle1,endLabelLeft:a.relationTitle2==="none"?"":a.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:a.style||"",pattern:a.relation.lineType==1?"dashed":"solid",look:n.look};r.push(o)}return{nodes:t,edges:r,other:{},config:n,direction:this.getDirection()}}},g(ph,"ClassDB"),ph),L4t=g(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
  ${xg()}
`,"getStyles"),ZF=L4t,R4t=g((e,t="TB")=>{if(!e.doc)return t;let r=t;for(const n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),I4t=g(function(e,t){return t.db.getClasses()},"getClasses"),N4t=g(async function(e,t,r,n){U.info("REF0:"),U.info("Drawing class diagram (v3)",t);const{securityLevel:i,state:s,layout:a}=rt(),o=n.db.getData(),l=hd(t,i);o.type=n.type,o.layoutAlgorithm=gg(a),o.nodeSpacing=(s==null?void 0:s.nodeSpacing)||50,o.rankSpacing=(s==null?void 0:s.rankSpacing)||50,o.markers=["aggregation","extension","composition","dependency","lollipop"],o.diagramId=t,await ld(o,l);const u=8;be.insertTitle(l,"classDiagramTitleText",(s==null?void 0:s.titleTopMargin)??25,n.db.getDiagramTitle()),kc(l,u,"classDiagram",(s==null?void 0:s.useMaxWidth)??!0)},"draw"),JF={getClasses:I4t,draw:N4t,getDir:R4t},$4t={parser:KF,get db(){return new QF},renderer:JF,styles:ZF,init:g(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")};const O4t=Object.freeze(Object.defineProperty({__proto__:null,diagram:$4t},Symbol.toStringTag,{value:"Module"}));var D4t={parser:KF,get db(){return new QF},renderer:JF,styles:ZF,init:g(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")};const M4t=Object.freeze(Object.defineProperty({__proto__:null,diagram:D4t},Symbol.toStringTag,{value:"Module"}));var ZT=function(){var e=g(function(M,Y,F,j){for(F=F||{},j=M.length;j--;F[M[j]]=Y);return F},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],s=[1,9],a=[1,11],o=[1,16],l=[1,17],u=[1,18],h=[1,19],d=[1,33],f=[1,20],p=[1,21],m=[1,22],y=[1,23],b=[1,24],x=[1,26],v=[1,27],_=[1,28],S=[1,29],k=[1,30],T=[1,31],E=[1,32],I=[1,35],C=[1,36],R=[1,37],w=[1,38],$=[1,34],A=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],L=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],N=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],D={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:g(function(Y,F,j,it,ft,J,dt){var et=J.length-1;switch(ft){case 3:return it.setRootDoc(J[et]),J[et];case 4:this.$=[];break;case 5:J[et]!="nl"&&(J[et-1].push(J[et]),this.$=J[et-1]);break;case 6:case 7:this.$=J[et];break;case 8:this.$="nl";break;case 12:this.$=J[et];break;case 13:const nt=J[et-1];nt.description=it.trimColon(J[et]),this.$=nt;break;case 14:this.$={stmt:"relation",state1:J[et-2],state2:J[et]};break;case 15:const Z=it.trimColon(J[et]);this.$={stmt:"relation",state1:J[et-3],state2:J[et-1],description:Z};break;case 19:this.$={stmt:"state",id:J[et-3],type:"default",description:"",doc:J[et-1]};break;case 20:var St=J[et],ct=J[et-2].trim();if(J[et].match(":")){var bt=J[et].split(":");St=bt[0],ct=[ct,bt[1]]}this.$={stmt:"state",id:St,type:"default",description:ct};break;case 21:this.$={stmt:"state",id:J[et-3],type:"default",description:J[et-5],doc:J[et-1]};break;case 22:this.$={stmt:"state",id:J[et],type:"fork"};break;case 23:this.$={stmt:"state",id:J[et],type:"join"};break;case 24:this.$={stmt:"state",id:J[et],type:"choice"};break;case 25:this.$={stmt:"state",id:it.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:J[et-1].trim(),note:{position:J[et-2].trim(),text:J[et].trim()}};break;case 29:this.$=J[et].trim(),it.setAccTitle(this.$);break;case 30:case 31:this.$=J[et].trim(),it.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:J[et-3],url:J[et-2],tooltip:J[et-1]};break;case 33:this.$={stmt:"click",id:J[et-3],url:J[et-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:J[et-1].trim(),classes:J[et].trim()};break;case 36:this.$={stmt:"style",id:J[et-1].trim(),styleClass:J[et].trim()};break;case 37:this.$={stmt:"applyClass",id:J[et-1].trim(),styleClass:J[et].trim()};break;case 38:it.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:it.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:it.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:it.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:J[et].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:J[et-2].trim(),classes:[J[et].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:J[et-2].trim(),classes:[J[et].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:s,5:a,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:d,25:f,26:p,27:m,28:y,29:b,32:25,33:x,35:v,37:_,38:S,41:k,45:T,48:E,51:I,52:C,53:R,54:w,57:$},e(A,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:o,17:l,19:u,22:h,24:d,25:f,26:p,27:m,28:y,29:b,32:25,33:x,35:v,37:_,38:S,41:k,45:T,48:E,51:I,52:C,53:R,54:w,57:$},e(A,[2,7]),e(A,[2,8]),e(A,[2,9]),e(A,[2,10]),e(A,[2,11]),e(A,[2,12],{14:[1,40],15:[1,41]}),e(A,[2,16]),{18:[1,42]},e(A,[2,18],{20:[1,43]}),{23:[1,44]},e(A,[2,22]),e(A,[2,23]),e(A,[2,24]),e(A,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},e(A,[2,28]),{34:[1,49]},{36:[1,50]},e(A,[2,31]),{13:51,24:d,57:$},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},e(L,[2,44],{58:[1,56]}),e(L,[2,45],{58:[1,57]}),e(A,[2,38]),e(A,[2,39]),e(A,[2,40]),e(A,[2,41]),e(A,[2,6]),e(A,[2,13]),{13:58,24:d,57:$},e(A,[2,17]),e(N,i,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},e(A,[2,29]),e(A,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},e(A,[2,14],{14:[1,71]}),{4:s,5:a,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,72],22:h,24:d,25:f,26:p,27:m,28:y,29:b,32:25,33:x,35:v,37:_,38:S,41:k,45:T,48:E,51:I,52:C,53:R,54:w,57:$},e(A,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},e(A,[2,34]),e(A,[2,35]),e(A,[2,36]),e(A,[2,37]),e(L,[2,46]),e(L,[2,47]),e(A,[2,15]),e(A,[2,19]),e(N,i,{7:78}),e(A,[2,26]),e(A,[2,27]),{5:[1,79]},{5:[1,80]},{4:s,5:a,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:l,19:u,21:[1,81],22:h,24:d,25:f,26:p,27:m,28:y,29:b,32:25,33:x,35:v,37:_,38:S,41:k,45:T,48:E,51:I,52:C,53:R,54:w,57:$},e(A,[2,32]),e(A,[2,33]),e(A,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:g(function(Y,F){if(F.recoverable)this.trace(Y);else{var j=new Error(Y);throw j.hash=F,j}},"parseError"),parse:g(function(Y){var F=this,j=[0],it=[],ft=[null],J=[],dt=this.table,et="",St=0,ct=0,bt=2,nt=1,Z=J.slice.call(arguments,1),z=Object.create(this.lexer),V={yy:{}};for(var G in this.yy)Object.prototype.hasOwnProperty.call(this.yy,G)&&(V.yy[G]=this.yy[G]);z.setInput(Y,V.yy),V.yy.lexer=z,V.yy.parser=this,typeof z.yylloc>"u"&&(z.yylloc={});var W=z.yylloc;J.push(W);var ot=z.options&&z.options.ranges;typeof V.yy.parseError=="function"?this.parseError=V.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function B(Tt){j.length=j.length-2*Tt,ft.length=ft.length-Tt,J.length=J.length-Tt}g(B,"popStack");function wt(){var Tt;return Tt=it.pop()||z.lex()||nt,typeof Tt!="number"&&(Tt instanceof Array&&(it=Tt,Tt=it.pop()),Tt=F.symbols_[Tt]||Tt),Tt}g(wt,"lex");for(var K,vt,mt,Nt,lt={},xt,st,ut,_t;;){if(vt=j[j.length-1],this.defaultActions[vt]?mt=this.defaultActions[vt]:((K===null||typeof K>"u")&&(K=wt()),mt=dt[vt]&&dt[vt][K]),typeof mt>"u"||!mt.length||!mt[0]){var Q="";_t=[];for(xt in dt[vt])this.terminals_[xt]&&xt>bt&&_t.push("'"+this.terminals_[xt]+"'");z.showPosition?Q="Parse error on line "+(St+1)+`:
`+z.showPosition()+`
Expecting `+_t.join(", ")+", got '"+(this.terminals_[K]||K)+"'":Q="Parse error on line "+(St+1)+": Unexpected "+(K==nt?"end of input":"'"+(this.terminals_[K]||K)+"'"),this.parseError(Q,{text:z.match,token:this.terminals_[K]||K,line:z.yylineno,loc:W,expected:_t})}if(mt[0]instanceof Array&&mt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+vt+", token: "+K);switch(mt[0]){case 1:j.push(K),ft.push(z.yytext),J.push(z.yylloc),j.push(mt[1]),K=null,ct=z.yyleng,et=z.yytext,St=z.yylineno,W=z.yylloc;break;case 2:if(st=this.productions_[mt[1]][1],lt.$=ft[ft.length-st],lt._$={first_line:J[J.length-(st||1)].first_line,last_line:J[J.length-1].last_line,first_column:J[J.length-(st||1)].first_column,last_column:J[J.length-1].last_column},ot&&(lt._$.range=[J[J.length-(st||1)].range[0],J[J.length-1].range[1]]),Nt=this.performAction.apply(lt,[et,ct,St,V.yy,mt[1],ft,J].concat(Z)),typeof Nt<"u")return Nt;st&&(j=j.slice(0,-1*st*2),ft=ft.slice(0,-1*st),J=J.slice(0,-1*st)),j.push(this.productions_[mt[1]][0]),ft.push(lt.$),J.push(lt._$),ut=dt[j[j.length-2]][j[j.length-1]],j.push(ut);break;case 3:return!0}}return!0},"parse")},P=function(){var M={EOF:1,parseError:g(function(F,j){if(this.yy.parser)this.yy.parser.parseError(F,j);else throw new Error(F)},"parseError"),setInput:g(function(Y,F){return this.yy=F||this.yy||{},this._input=Y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var Y=this._input[0];this.yytext+=Y,this.yyleng++,this.offset++,this.match+=Y,this.matched+=Y;var F=Y.match(/(?:\r\n?|\n).*/g);return F?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Y},"input"),unput:g(function(Y){var F=Y.length,j=Y.split(/(?:\r\n?|\n)/g);this._input=Y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-F),this.offset-=F;var it=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),j.length-1&&(this.yylineno-=j.length-1);var ft=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:j?(j.length===it.length?this.yylloc.first_column:0)+it[it.length-j.length].length-j[0].length:this.yylloc.first_column-F},this.options.ranges&&(this.yylloc.range=[ft[0],ft[0]+this.yyleng-F]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(Y){this.unput(this.match.slice(Y))},"less"),pastInput:g(function(){var Y=this.matched.substr(0,this.matched.length-this.match.length);return(Y.length>20?"...":"")+Y.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var Y=this.match;return Y.length<20&&(Y+=this._input.substr(0,20-Y.length)),(Y.substr(0,20)+(Y.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var Y=this.pastInput(),F=new Array(Y.length+1).join("-");return Y+this.upcomingInput()+`
`+F+"^"},"showPosition"),test_match:g(function(Y,F){var j,it,ft;if(this.options.backtrack_lexer&&(ft={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ft.yylloc.range=this.yylloc.range.slice(0))),it=Y[0].match(/(?:\r\n?|\n).*/g),it&&(this.yylineno+=it.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:it?it[it.length-1].length-it[it.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y[0].length},this.yytext+=Y[0],this.match+=Y[0],this.matches=Y,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Y[0].length),this.matched+=Y[0],j=this.performAction.call(this,this.yy,this,F,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),j)return j;if(this._backtrack){for(var J in ft)this[J]=ft[J];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Y,F,j,it;this._more||(this.yytext="",this.match="");for(var ft=this._currentRules(),J=0;J<ft.length;J++)if(j=this._input.match(this.rules[ft[J]]),j&&(!F||j[0].length>F[0].length)){if(F=j,it=J,this.options.backtrack_lexer){if(Y=this.test_match(j,ft[J]),Y!==!1)return Y;if(this._backtrack){F=!1;continue}else return!1}else if(!this.options.flex)break}return F?(Y=this.test_match(F,ft[it]),Y!==!1?Y:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var F=this.next();return F||this.lex()},"lex"),begin:g(function(F){this.conditionStack.push(F)},"begin"),popState:g(function(){var F=this.conditionStack.length-1;return F>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(F){return F=this.conditionStack.length-1-Math.abs(F||0),F>=0?this.conditionStack[F]:"INITIAL"},"topState"),pushState:g(function(F){this.begin(F)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(F,j,it,ft){switch(it){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:return 51;case 5:return 52;case 6:return 53;case 7:return 54;case 8:break;case 9:break;case 10:return 5;case 11:break;case 12:break;case 13:break;case 14:break;case 15:return this.pushState("SCALE"),17;case 16:return 18;case 17:this.popState();break;case 18:return this.begin("acc_title"),33;case 19:return this.popState(),"acc_title_value";case 20:return this.begin("acc_descr"),35;case 21:return this.popState(),"acc_descr_value";case 22:this.begin("acc_descr_multiline");break;case 23:this.popState();break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 27:return this.popState(),this.pushState("CLASSDEFID"),42;case 28:return this.popState(),43;case 29:return this.pushState("CLASS"),48;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;case 31:return this.popState(),50;case 32:return this.pushState("STYLE"),45;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;case 34:return this.popState(),47;case 35:return this.pushState("SCALE"),17;case 36:return 18;case 37:this.popState();break;case 38:this.pushState("STATE");break;case 39:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),j.yytext=j.yytext.slice(0,-10).trim(),27;case 42:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),25;case 43:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),26;case 44:return this.popState(),j.yytext=j.yytext.slice(0,-10).trim(),27;case 45:return 51;case 46:return 52;case 47:return 53;case 48:return 54;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";case 51:return this.popState(),"ID";case 52:this.popState();break;case 53:return"STATE_DESCR";case 54:return 19;case 55:this.popState();break;case 56:return this.popState(),this.pushState("struct"),20;case 57:break;case 58:return this.popState(),21;case 59:break;case 60:return this.begin("NOTE"),29;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:return this.popState(),this.pushState("NOTE_ID"),60;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:break;case 66:return"NOTE_TEXT";case 67:return this.popState(),"ID";case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;case 69:return this.popState(),j.yytext=j.yytext.substr(2).trim(),31;case 70:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),31;case 71:return 6;case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return j.yytext=j.yytext.trim(),14;case 77:return 15;case 78:return 28;case 79:return 58;case 80:return 5;case 81:return"INVALID"}},"anonymous"),rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}};return M}();D.lexer=P;function O(){this.yy={}}return g(O,"Parser"),O.prototype=D,D.Parser=O,new O}();ZT.parser=ZT;var tV=ZT,P4t="TB",eV="TB",q6="dir",Kc="state",zc="root",JT="relation",B4t="classDef",F4t="style",V4t="applyClass",ep="default",rV="divider",nV="fill:none",iV="fill: #333",sV="c",aV="text",oV="normal",hv="rect",dv="rectWithTitle",z4t="stateStart",W4t="stateEnd",j6="divider",Y6="roundedWithTitle",U4t="note",H4t="noteGroup",Og="statediagram",G4t="state",q4t=`${Og}-${G4t}`,lV="transition",j4t="note",Y4t="note-edge",X4t=`${lV} ${Y4t}`,K4t=`${Og}-${j4t}`,Q4t="cluster",Z4t=`${Og}-${Q4t}`,J4t="cluster-alt",tCt=`${Og}-${J4t}`,cV="parent",uV="note",eCt="state",x3="----",rCt=`${x3}${uV}`,X6=`${x3}${cV}`,hV=g((e,t=eV)=>{if(!e.doc)return t;let r=t;for(const n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),nCt=g(function(e,t){return t.db.getClasses()},"getClasses"),iCt=g(async function(e,t,r,n){U.info("REF0:"),U.info("Drawing state diagram (v2)",t);const{securityLevel:i,state:s,layout:a}=rt();n.db.extract(n.db.getRootDocV2());const o=n.db.getData(),l=hd(t,i);o.type=n.type,o.layoutAlgorithm=a,o.nodeSpacing=(s==null?void 0:s.nodeSpacing)||50,o.rankSpacing=(s==null?void 0:s.rankSpacing)||50,o.markers=["barb"],o.diagramId=t,await ld(o,l);const u=8;try{(typeof n.db.getLinks=="function"?n.db.getLinks():new Map).forEach((d,f)=>{var _;const p=typeof f=="string"?f:typeof(f==null?void 0:f.id)=="string"?f.id:"";if(!p){U.warn(" Invalid or missing stateId from key:",JSON.stringify(f));return}const m=(_=l.node())==null?void 0:_.querySelectorAll("g");let y;if(m==null||m.forEach(S=>{var T;((T=S.textContent)==null?void 0:T.trim())===p&&(y=S)}),!y){U.warn(" Could not find node matching text:",p);return}const b=y.parentNode;if(!b){U.warn(" Node has no parent, cannot wrap:",p);return}const x=document.createElementNS("http://www.w3.org/2000/svg","a"),v=d.url.replace(/^"+|"+$/g,"");if(x.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v),x.setAttribute("target","_blank"),d.tooltip){const S=d.tooltip.replace(/^"+|"+$/g,"");x.setAttribute("title",S)}b.replaceChild(x,y),x.appendChild(y),U.info(" Wrapped node in <a> tag for:",p,d.url)})}catch(h){U.error(" Error injecting clickable links:",h)}be.insertTitle(l,"statediagramTitleText",(s==null?void 0:s.titleTopMargin)??25,n.db.getDiagramTitle()),kc(l,u,Og,(s==null?void 0:s.useMaxWidth)??!0)},"draw"),sCt={getClasses:nCt,draw:iCt,getDir:hV},E0=new Map,xo=0;function A0(e="",t=0,r="",n=x3){const i=r!==null&&r.length>0?`${n}${r}`:"";return`${eCt}-${e}${i}-${t}`}g(A0,"stateDomId");var aCt=g((e,t,r,n,i,s,a,o)=>{U.trace("items",t),t.forEach(l=>{switch(l.stmt){case Kc:Bf(e,l,r,n,i,s,a,o);break;case ep:Bf(e,l,r,n,i,s,a,o);break;case JT:{Bf(e,l.state1,r,n,i,s,a,o),Bf(e,l.state2,r,n,i,s,a,o);const u={id:"edge"+xo,start:l.state1.id,end:l.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:nV,labelStyle:"",label:Ot.sanitizeText(l.description??"",rt()),arrowheadStyle:iV,labelpos:sV,labelType:aV,thickness:oV,classes:lV,look:a};i.push(u),xo++}break}})},"setupDoc"),K6=g((e,t=eV)=>{let r=t;if(e.doc)for(const n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir");function Pf(e,t,r){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(i=>{const s=r.get(i);s&&(t.cssCompiledStyles=[...t.cssCompiledStyles??[],...s.styles])}));const n=e.find(i=>i.id===t.id);n?Object.assign(n,t):e.push(t)}g(Pf,"insertOrUpdateNode");function dV(e){var t;return((t=e==null?void 0:e.classes)==null?void 0:t.join(" "))??""}g(dV,"getClassesFromDbInfo");function fV(e){return(e==null?void 0:e.styles)??[]}g(fV,"getStylesFromDbInfo");var Bf=g((e,t,r,n,i,s,a,o)=>{var p,m,y;const l=t.id,u=r.get(l),h=dV(u),d=fV(u),f=rt();if(U.info("dataFetcher parsedItem",t,u,d),l!=="root"){let b=hv;t.start===!0?b=z4t:t.start===!1&&(b=W4t),t.type!==ep&&(b=t.type),E0.get(l)||E0.set(l,{id:l,shape:b,description:Ot.sanitizeText(l,f),cssClasses:`${h} ${q4t}`,cssStyles:d});const x=E0.get(l);t.description&&(Array.isArray(x.description)?(x.shape=dv,x.description.push(t.description)):(p=x.description)!=null&&p.length&&x.description.length>0?(x.shape=dv,x.description===l?x.description=[t.description]:x.description=[x.description,t.description]):(x.shape=hv,x.description=t.description),x.description=Ot.sanitizeTextOrArray(x.description,f)),((m=x.description)==null?void 0:m.length)===1&&x.shape===dv&&(x.type==="group"?x.shape=Y6:x.shape=hv),!x.type&&t.doc&&(U.info("Setting cluster for XCX",l,K6(t)),x.type="group",x.isGroup=!0,x.dir=K6(t),x.shape=t.type===rV?j6:Y6,x.cssClasses=`${x.cssClasses} ${Z4t} ${s?tCt:""}`);const v={labelStyle:"",shape:x.shape,label:x.description,cssClasses:x.cssClasses,cssCompiledStyles:[],cssStyles:x.cssStyles,id:l,dir:x.dir,domId:A0(l,xo),type:x.type,isGroup:x.type==="group",padding:8,rx:10,ry:10,look:a};if(v.shape===j6&&(v.label=""),e&&e.id!=="root"&&(U.trace("Setting node ",l," to be child of its parent ",e.id),v.parentId=e.id),v.centerLabel=!0,t.note){const _={labelStyle:"",shape:U4t,label:t.note.text,cssClasses:K4t,cssStyles:[],cssCompiledStyles:[],id:l+rCt+"-"+xo,domId:A0(l,xo,uV),type:x.type,isGroup:x.type==="group",padding:(y=f.flowchart)==null?void 0:y.padding,look:a,position:t.note.position},S=l+X6,k={labelStyle:"",shape:H4t,label:t.note.text,cssClasses:x.cssClasses,cssStyles:[],id:l+X6,domId:A0(l,xo,cV),type:"group",isGroup:!0,padding:16,look:a,position:t.note.position};xo++,k.id=S,_.parentId=S,Pf(n,k,o),Pf(n,_,o),Pf(n,v,o);let T=l,E=_.id;t.note.position==="left of"&&(T=_.id,E=l),i.push({id:T+"-"+E,start:T,end:E,arrowhead:"none",arrowTypeEnd:"",style:nV,labelStyle:"",classes:X4t,arrowheadStyle:iV,labelpos:sV,labelType:aV,thickness:oV,look:a})}else Pf(n,v,o)}t.doc&&(U.trace("Adding nodes children "),aCt(t,t.doc,r,n,i,!s,a,o))},"dataFetcher"),oCt=g(()=>{E0.clear(),xo=0},"reset"),zn={START_NODE:"[*]",START_TYPE:"start",END_NODE:"[*]",END_TYPE:"end",COLOR_KEYWORD:"color",FILL_KEYWORD:"fill",BG_FILL:"bgFill",STYLECLASS_SEP:","},Q6=g(()=>new Map,"newClassesList"),Z6=g(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),O1=g(e=>JSON.parse(JSON.stringify(e)),"clone"),Vl,_l=(Vl=class{constructor(t){this.version=t,this.nodes=[],this.edges=[],this.rootDoc=[],this.classes=Q6(),this.documents={root:Z6()},this.currentDocument=this.documents.root,this.startEndCount=0,this.dividerCnt=0,this.links=new Map,this.getAccTitle=Xr,this.setAccTitle=Pr,this.getAccDescription=Qr,this.setAccDescription=Kr,this.setDiagramTitle=on,this.getDiagramTitle=Vr,this.clear(),this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}extract(t){this.clear(!0);for(const i of Array.isArray(t)?t:t.doc)switch(i.stmt){case Kc:this.addState(i.id.trim(),i.type,i.doc,i.description,i.note);break;case JT:this.addRelation(i.state1,i.state2,i.description);break;case B4t:this.addStyleClass(i.id.trim(),i.classes);break;case F4t:this.handleStyleDef(i);break;case V4t:this.setCssClass(i.id.trim(),i.styleClass);break;case"click":this.addLink(i.id,i.url,i.tooltip);break}const r=this.getStates(),n=rt();oCt(),Bf(void 0,this.getRootDocV2(),r,this.nodes,this.edges,!0,n.look,this.classes);for(const i of this.nodes)if(Array.isArray(i.label)){if(i.description=i.label.slice(1),i.isGroup&&i.description.length>0)throw new Error(`Group nodes can only have label. Remove the additional description for node [${i.id}]`);i.label=i.label[0]}}handleStyleDef(t){const r=t.id.trim().split(","),n=t.styleClass.split(",");for(const i of r){let s=this.getState(i);if(!s){const a=i.trim();this.addState(a),s=this.getState(a)}s&&(s.styles=n.map(a=>{var o;return(o=a.replace(/;/g,""))==null?void 0:o.trim()}))}}setRootDoc(t){U.info("Setting root doc",t),this.rootDoc=t,this.version===1?this.extract(t):this.extract(this.getRootDocV2())}docTranslator(t,r,n){if(r.stmt===JT){this.docTranslator(t,r.state1,!0),this.docTranslator(t,r.state2,!1);return}if(r.stmt===Kc&&(r.id===zn.START_NODE?(r.id=t.id+(n?"_start":"_end"),r.start=n):r.id=r.id.trim()),r.stmt!==zc&&r.stmt!==Kc||!r.doc)return;const i=[];let s=[];for(const a of r.doc)if(a.type===rV){const o=O1(a);o.doc=O1(s),i.push(o),s=[]}else s.push(a);if(i.length>0&&s.length>0){const a={stmt:Kc,id:UN(),type:"divider",doc:O1(s)};i.push(O1(a)),r.doc=i}r.doc.forEach(a=>this.docTranslator(r,a,!0))}getRootDocV2(){return this.docTranslator({id:zc,stmt:zc},{id:zc,stmt:zc,doc:this.rootDoc},!0),{id:zc,doc:this.rootDoc}}addState(t,r=ep,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,l=void 0){const u=t==null?void 0:t.trim();if(!this.currentDocument.states.has(u))U.info("Adding state ",u,i),this.currentDocument.states.set(u,{stmt:Kc,id:u,descriptions:[],type:r,doc:n,note:s,classes:[],styles:[],textStyles:[]});else{const h=this.currentDocument.states.get(u);if(!h)throw new Error(`State not found: ${u}`);h.doc||(h.doc=n),h.type||(h.type=r)}if(i&&(U.info("Setting state description",u,i),(Array.isArray(i)?i:[i]).forEach(d=>this.addDescription(u,d.trim()))),s){const h=this.currentDocument.states.get(u);if(!h)throw new Error(`State not found: ${u}`);h.note=s,h.note.text=Ot.sanitizeText(h.note.text,rt())}a&&(U.info("Setting state classes",u,a),(Array.isArray(a)?a:[a]).forEach(d=>this.setCssClass(u,d.trim()))),o&&(U.info("Setting state styles",u,o),(Array.isArray(o)?o:[o]).forEach(d=>this.setStyle(u,d.trim()))),l&&(U.info("Setting state styles",u,o),(Array.isArray(l)?l:[l]).forEach(d=>this.setTextStyle(u,d.trim())))}clear(t){this.nodes=[],this.edges=[],this.documents={root:Z6()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=Q6(),t||(this.links=new Map,Fr())}getState(t){return this.currentDocument.states.get(t)}getStates(){return this.currentDocument.states}logDocuments(){U.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}addLink(t,r,n){this.links.set(t,{url:r,tooltip:n}),U.warn("Adding link",t,r,n)}getLinks(){return this.links}startIdIfNeeded(t=""){return t===zn.START_NODE?(this.startEndCount++,`${zn.START_TYPE}${this.startEndCount}`):t}startTypeIfNeeded(t="",r=ep){return t===zn.START_NODE?zn.START_TYPE:r}endIdIfNeeded(t=""){return t===zn.END_NODE?(this.startEndCount++,`${zn.END_TYPE}${this.startEndCount}`):t}endTypeIfNeeded(t="",r=ep){return t===zn.END_NODE?zn.END_TYPE:r}addRelationObjs(t,r,n=""){const i=this.startIdIfNeeded(t.id.trim()),s=this.startTypeIfNeeded(t.id.trim(),t.type),a=this.startIdIfNeeded(r.id.trim()),o=this.startTypeIfNeeded(r.id.trim(),r.type);this.addState(i,s,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),this.addState(a,o,r.doc,r.description,r.note,r.classes,r.styles,r.textStyles),this.currentDocument.relations.push({id1:i,id2:a,relationTitle:Ot.sanitizeText(n,rt())})}addRelation(t,r,n){if(typeof t=="object"&&typeof r=="object")this.addRelationObjs(t,r,n);else if(typeof t=="string"&&typeof r=="string"){const i=this.startIdIfNeeded(t.trim()),s=this.startTypeIfNeeded(t),a=this.endIdIfNeeded(r.trim()),o=this.endTypeIfNeeded(r);this.addState(i,s),this.addState(a,o),this.currentDocument.relations.push({id1:i,id2:a,relationTitle:n?Ot.sanitizeText(n,rt()):void 0})}}addDescription(t,r){var s;const n=this.currentDocument.states.get(t),i=r.startsWith(":")?r.replace(":","").trim():r;(s=n==null?void 0:n.descriptions)==null||s.push(Ot.sanitizeText(i,rt()))}cleanupLabel(t){return t.startsWith(":")?t.slice(2).trim():t.trim()}getDividerId(){return this.dividerCnt++,`divider-id-${this.dividerCnt}`}addStyleClass(t,r=""){this.classes.has(t)||this.classes.set(t,{id:t,styles:[],textStyles:[]});const n=this.classes.get(t);r&&n&&r.split(zn.STYLECLASS_SEP).forEach(i=>{const s=i.replace(/([^;]*);/,"$1").trim();if(RegExp(zn.COLOR_KEYWORD).exec(i)){const o=s.replace(zn.FILL_KEYWORD,zn.BG_FILL).replace(zn.COLOR_KEYWORD,zn.FILL_KEYWORD);n.textStyles.push(o)}n.styles.push(s)})}getClasses(){return this.classes}setCssClass(t,r){t.split(",").forEach(n=>{var s;let i=this.getState(n);if(!i){const a=n.trim();this.addState(a),i=this.getState(a)}(s=i==null?void 0:i.classes)==null||s.push(r)})}setStyle(t,r){var n,i;(i=(n=this.getState(t))==null?void 0:n.styles)==null||i.push(r)}setTextStyle(t,r){var n,i;(i=(n=this.getState(t))==null?void 0:n.textStyles)==null||i.push(r)}getDirectionStatement(){return this.rootDoc.find(t=>t.stmt===q6)}getDirection(){var t;return((t=this.getDirectionStatement())==null?void 0:t.value)??P4t}setDirection(t){const r=this.getDirectionStatement();r?r.value=t:this.rootDoc.unshift({stmt:q6,value:t})}trimColon(t){return t.startsWith(":")?t.slice(1).trim():t.trim()}getData(){const t=rt();return{nodes:this.nodes,edges:this.edges,other:{},config:t,direction:hV(this.getRootDocV2())}}getConfig(){return rt().state}},g(Vl,"StateDB"),Vl.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},Vl),lCt=g(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),pV=lCt,cCt=g(e=>e.append("circle").attr("class","start-state").attr("r",rt().state.sizeUnit).attr("cx",rt().state.padding+rt().state.sizeUnit).attr("cy",rt().state.padding+rt().state.sizeUnit),"drawStartState"),uCt=g(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",rt().state.textHeight).attr("class","divider").attr("x2",rt().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),hCt=g((e,t)=>{const r=e.append("text").attr("x",2*rt().state.padding).attr("y",rt().state.textHeight+2*rt().state.padding).attr("font-size",rt().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",rt().state.padding).attr("y",rt().state.padding).attr("width",n.width+2*rt().state.padding).attr("height",n.height+2*rt().state.padding).attr("rx",rt().state.radius),r},"drawSimpleState"),dCt=g((e,t)=>{const r=g(function(f,p,m){const y=f.append("tspan").attr("x",2*rt().state.padding).text(p);m||y.attr("dy",rt().state.textHeight)},"addTspan"),i=e.append("text").attr("x",2*rt().state.padding).attr("y",rt().state.textHeight+1.3*rt().state.padding).attr("font-size",rt().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),s=i.height,a=e.append("text").attr("x",rt().state.padding).attr("y",s+rt().state.padding*.4+rt().state.dividerMargin+rt().state.textHeight).attr("class","state-description");let o=!0,l=!0;t.descriptions.forEach(function(f){o||(r(a,f,l),l=!1),o=!1});const u=e.append("line").attr("x1",rt().state.padding).attr("y1",rt().state.padding+s+rt().state.dividerMargin/2).attr("y2",rt().state.padding+s+rt().state.dividerMargin/2).attr("class","descr-divider"),h=a.node().getBBox(),d=Math.max(h.width,i.width);return u.attr("x2",d+3*rt().state.padding),e.insert("rect",":first-child").attr("x",rt().state.padding).attr("y",rt().state.padding).attr("width",d+2*rt().state.padding).attr("height",h.height+s+2*rt().state.padding).attr("rx",rt().state.radius),e},"drawDescrState"),fCt=g((e,t,r)=>{const n=rt().state.padding,i=2*rt().state.padding,s=e.node().getBBox(),a=s.width,o=s.x,l=e.append("text").attr("x",0).attr("y",rt().state.titleShift).attr("font-size",rt().state.fontSize).attr("class","state-title").text(t.id),h=l.node().getBBox().width+i;let d=Math.max(h,a);d===a&&(d=d+i);let f;const p=e.node().getBBox();t.doc,f=o-n,h>a&&(f=(a-d)/2+n),Math.abs(o-p.x)<n&&h>a&&(f=o-(h-a)/2);const m=1-rt().state.textHeight;return e.insert("rect",":first-child").attr("x",f).attr("y",m).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",p.height+rt().state.textHeight+rt().state.titleShift+1).attr("rx","0"),l.attr("x",f+n),h<=a&&l.attr("x",o+(d-i)/2-h/2+n),e.insert("rect",":first-child").attr("x",f).attr("y",rt().state.titleShift-rt().state.textHeight-rt().state.padding).attr("width",d).attr("height",rt().state.textHeight*3).attr("rx",rt().state.radius),e.insert("rect",":first-child").attr("x",f).attr("y",rt().state.titleShift-rt().state.textHeight-rt().state.padding).attr("width",d).attr("height",p.height+3+2*rt().state.textHeight).attr("rx",rt().state.radius),e},"addTitleAndBox"),pCt=g(e=>(e.append("circle").attr("class","end-state-outer").attr("r",rt().state.sizeUnit+rt().state.miniPadding).attr("cx",rt().state.padding+rt().state.sizeUnit+rt().state.miniPadding).attr("cy",rt().state.padding+rt().state.sizeUnit+rt().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",rt().state.sizeUnit).attr("cx",rt().state.padding+rt().state.sizeUnit+2).attr("cy",rt().state.padding+rt().state.sizeUnit+2)),"drawEndState"),gCt=g((e,t)=>{let r=rt().state.forkWidth,n=rt().state.forkHeight;if(t.parentId){let i=r;r=n,n=i}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",rt().state.padding).attr("y",rt().state.padding)},"drawForkJoinState"),mCt=g((e,t,r,n)=>{let i=0;const s=n.append("text");s.style("text-anchor","start"),s.attr("class","noteText");let a=e.replace(/\r\n/g,"<br/>");a=a.replace(/\n/g,"<br/>");const o=a.split(Ot.lineBreakRegex);let l=1.25*rt().state.noteMargin;for(const u of o){const h=u.trim();if(h.length>0){const d=s.append("tspan");if(d.text(h),l===0){const f=d.node().getBBox();l+=f.height}i+=l,d.attr("x",t+rt().state.noteMargin),d.attr("y",r+i+1.25*rt().state.noteMargin)}}return{textWidth:s.node().getBBox().width,textHeight:i}},"_drawLongText"),yCt=g((e,t)=>{t.attr("class","state-note");const r=t.append("rect").attr("x",0).attr("y",rt().state.padding),n=t.append("g"),{textWidth:i,textHeight:s}=mCt(e,0,0,n);return r.attr("height",s+2*rt().state.noteMargin),r.attr("width",i+rt().state.noteMargin*2),r},"drawNote"),J6=g(function(e,t){const r=t.id,n={id:r,label:t.id,width:0,height:0},i=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&cCt(i),t.type==="end"&&pCt(i),(t.type==="fork"||t.type==="join")&&gCt(i,t),t.type==="note"&&yCt(t.note.text,i),t.type==="divider"&&uCt(i),t.type==="default"&&t.descriptions.length===0&&hCt(i,t),t.type==="default"&&t.descriptions.length>0&&dCt(i,t);const s=i.node().getBBox();return n.width=s.width+2*rt().state.padding,n.height=s.height+2*rt().state.padding,n},"drawState"),tL=0,xCt=g(function(e,t,r){const n=g(function(l){switch(l){case _l.relationType.AGGREGATION:return"aggregation";case _l.relationType.EXTENSION:return"extension";case _l.relationType.COMPOSITION:return"composition";case _l.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(l=>!Number.isNaN(l.y));const i=t.points,s=vp().x(function(l){return l.x}).y(function(l){return l.y}).curve(fu),a=e.append("path").attr("d",s(i)).attr("id","edge"+tL).attr("class","transition");let o="";if(rt().state.arrowMarkerAbsolute&&(o=Xy(!0)),a.attr("marker-end","url("+o+"#"+n(_l.relationType.DEPENDENCY)+"End)"),r.title!==void 0){const l=e.append("g").attr("class","stateLabel"),{x:u,y:h}=be.calcLabelPosition(t.points),d=Ot.getRows(r.title);let f=0;const p=[];let m=0,y=0;for(let v=0;v<=d.length;v++){const _=l.append("text").attr("text-anchor","middle").text(d[v]).attr("x",u).attr("y",h+f),S=_.node().getBBox();m=Math.max(m,S.width),y=Math.min(y,S.x),U.info(S.x,u,h+f),f===0&&(f=_.node().getBBox().height,U.info("Title height",f,h)),p.push(_)}let b=f*d.length;if(d.length>1){const v=(d.length-1)*f*.5;p.forEach((_,S)=>_.attr("y",h+S*f-v)),b=f*d.length}const x=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-m/2-rt().state.padding/2).attr("y",h-b/2-rt().state.padding/2-3.5).attr("width",m+rt().state.padding).attr("height",b+rt().state.padding),U.info(x)}tL++},"drawEdge"),vi,fv={},bCt=g(function(){},"setConf"),vCt=g(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),_Ct=g(function(e,t,r,n){vi=rt().state;const i=rt().securityLevel;let s;i==="sandbox"&&(s=Lt("#i"+t));const a=Lt(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),o=i==="sandbox"?s.nodes()[0].contentDocument:document;U.debug("Rendering diagram "+e);const l=a.select(`[id='${t}']`);vCt(l);const u=n.db.getRootDoc();gV(u,l,void 0,!1,a,o,n);const h=vi.padding,d=l.node().getBBox(),f=d.width+h*2,p=d.height+h*2,m=f*1.75;ei(l,p,m,vi.useMaxWidth),l.attr("viewBox",`${d.x-vi.padding}  ${d.y-vi.padding} `+f+" "+p)},"draw"),TCt=g(e=>e?e.length*vi.fontSizeFactor:1,"getLabelWidth"),gV=g((e,t,r,n,i,s,a)=>{const o=new pi({compound:!0,multigraph:!0});let l,u=!0;for(l=0;l<e.length;l++)if(e[l].stmt==="relation"){u=!1;break}r?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:vi.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:vi.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}});const h=a.db.getStates(),d=a.db.getRelations(),f=Object.keys(h);for(const x of f){const v=h[x];r&&(v.parentId=r);let _;if(v.doc){let S=t.append("g").attr("id",v.id).attr("class","stateGroup");_=gV(v.doc,S,v.id,!n,i,s,a);{S=fCt(S,v,n);let k=S.node().getBBox();_.width=k.width,_.height=k.height+vi.padding/2,fv[v.id]={y:vi.compositTitleSize}}}else _=J6(t,v,o);if(v.note){const S={descriptions:[],id:v.id+"-note",note:v.note,type:"note"},k=J6(t,S,o);v.note.position==="left of"?(o.setNode(_.id+"-note",k),o.setNode(_.id,_)):(o.setNode(_.id,_),o.setNode(_.id+"-note",k)),o.setParent(_.id,_.id+"-group"),o.setParent(_.id+"-note",_.id+"-group")}else o.setNode(_.id,_)}U.debug("Count=",o.nodeCount(),o);let p=0;d.forEach(function(x){p++,U.debug("Setting edge",x),o.setEdge(x.id1,x.id2,{relation:x,width:TCt(x.title),height:vi.labelHeight*Ot.getRows(x.title).length,labelpos:"c"},"id"+p)}),GD(o),U.debug("Graph after layout",o.nodes());const m=t.node();o.nodes().forEach(function(x){x!==void 0&&o.node(x)!==void 0?(U.warn("Node "+x+": "+JSON.stringify(o.node(x))),i.select("#"+m.id+" #"+x).attr("transform","translate("+(o.node(x).x-o.node(x).width/2)+","+(o.node(x).y+(fv[x]?fv[x].y:0)-o.node(x).height/2)+" )"),i.select("#"+m.id+" #"+x).attr("data-x-shift",o.node(x).x-o.node(x).width/2),s.querySelectorAll("#"+m.id+" #"+x+" .divider").forEach(_=>{const S=_.parentElement;let k=0,T=0;S&&(S.parentElement&&(k=S.parentElement.getBBox().width),T=parseInt(S.getAttribute("data-x-shift"),10),Number.isNaN(T)&&(T=0)),_.setAttribute("x1",0-T+8),_.setAttribute("x2",k-T-8)})):U.debug("No Node "+x+": "+JSON.stringify(o.node(x)))});let y=m.getBBox();o.edges().forEach(function(x){x!==void 0&&o.edge(x)!==void 0&&(U.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(o.edge(x))),xCt(t,o.edge(x),o.edge(x).relation))}),y=m.getBBox();const b={id:r||"root",label:r||"root",width:0,height:0};return b.width=y.width+2*vi.padding,b.height=y.height+2*vi.padding,U.debug("Doc rendered",b,o),b},"renderDoc"),kCt={setConf:bCt,draw:_Ct},wCt={parser:tV,get db(){return new _l(1)},renderer:kCt,styles:pV,init:g(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")};const SCt=Object.freeze(Object.defineProperty({__proto__:null,diagram:wCt},Symbol.toStringTag,{value:"Module"}));var CCt={parser:tV,get db(){return new _l(2)},renderer:sCt,styles:pV,init:g(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")};const ECt=Object.freeze(Object.defineProperty({__proto__:null,diagram:CCt},Symbol.toStringTag,{value:"Module"}));var tk=function(){var e=g(function(d,f,p,m){for(p=p||{},m=d.length;m--;p[d[m]]=f);return p},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],s=[1,12],a=[1,13],o=[1,14],l={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:g(function(f,p,m,y,b,x,v){var _=x.length-1;switch(b){case 1:return x[_-1];case 2:this.$=[];break;case 3:x[_-1].push(x[_]),this.$=x[_-1];break;case 4:case 5:this.$=x[_];break;case 6:case 7:this.$=[];break;case 8:y.setDiagramTitle(x[_].substr(6)),this.$=x[_].substr(6);break;case 9:this.$=x[_].trim(),y.setAccTitle(this.$);break;case 10:case 11:this.$=x[_].trim(),y.setAccDescription(this.$);break;case 12:y.addSection(x[_].substr(8)),this.$=x[_].substr(8);break;case 13:y.addTask(x[_-1],x[_]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:s,17:a,18:o},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:n,14:i,16:s,17:a,18:o},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:g(function(f,p){if(p.recoverable)this.trace(f);else{var m=new Error(f);throw m.hash=p,m}},"parseError"),parse:g(function(f){var p=this,m=[0],y=[],b=[null],x=[],v=this.table,_="",S=0,k=0,T=2,E=1,I=x.slice.call(arguments,1),C=Object.create(this.lexer),R={yy:{}};for(var w in this.yy)Object.prototype.hasOwnProperty.call(this.yy,w)&&(R.yy[w]=this.yy[w]);C.setInput(f,R.yy),R.yy.lexer=C,R.yy.parser=this,typeof C.yylloc>"u"&&(C.yylloc={});var $=C.yylloc;x.push($);var A=C.options&&C.options.ranges;typeof R.yy.parseError=="function"?this.parseError=R.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function L(dt){m.length=m.length-2*dt,b.length=b.length-dt,x.length=x.length-dt}g(L,"popStack");function N(){var dt;return dt=y.pop()||C.lex()||E,typeof dt!="number"&&(dt instanceof Array&&(y=dt,dt=y.pop()),dt=p.symbols_[dt]||dt),dt}g(N,"lex");for(var D,P,O,M,Y={},F,j,it,ft;;){if(P=m[m.length-1],this.defaultActions[P]?O=this.defaultActions[P]:((D===null||typeof D>"u")&&(D=N()),O=v[P]&&v[P][D]),typeof O>"u"||!O.length||!O[0]){var J="";ft=[];for(F in v[P])this.terminals_[F]&&F>T&&ft.push("'"+this.terminals_[F]+"'");C.showPosition?J="Parse error on line "+(S+1)+`:
`+C.showPosition()+`
Expecting `+ft.join(", ")+", got '"+(this.terminals_[D]||D)+"'":J="Parse error on line "+(S+1)+": Unexpected "+(D==E?"end of input":"'"+(this.terminals_[D]||D)+"'"),this.parseError(J,{text:C.match,token:this.terminals_[D]||D,line:C.yylineno,loc:$,expected:ft})}if(O[0]instanceof Array&&O.length>1)throw new Error("Parse Error: multiple actions possible at state: "+P+", token: "+D);switch(O[0]){case 1:m.push(D),b.push(C.yytext),x.push(C.yylloc),m.push(O[1]),D=null,k=C.yyleng,_=C.yytext,S=C.yylineno,$=C.yylloc;break;case 2:if(j=this.productions_[O[1]][1],Y.$=b[b.length-j],Y._$={first_line:x[x.length-(j||1)].first_line,last_line:x[x.length-1].last_line,first_column:x[x.length-(j||1)].first_column,last_column:x[x.length-1].last_column},A&&(Y._$.range=[x[x.length-(j||1)].range[0],x[x.length-1].range[1]]),M=this.performAction.apply(Y,[_,k,S,R.yy,O[1],b,x].concat(I)),typeof M<"u")return M;j&&(m=m.slice(0,-1*j*2),b=b.slice(0,-1*j),x=x.slice(0,-1*j)),m.push(this.productions_[O[1]][0]),b.push(Y.$),x.push(Y._$),it=v[m[m.length-2]][m[m.length-1]],m.push(it);break;case 3:return!0}}return!0},"parse")},u=function(){var d={EOF:1,parseError:g(function(p,m){if(this.yy.parser)this.yy.parser.parseError(p,m);else throw new Error(p)},"parseError"),setInput:g(function(f,p){return this.yy=p||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var p=f.match(/(?:\r\n?|\n).*/g);return p?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},"input"),unput:g(function(f){var p=f.length,m=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-p),this.offset-=p;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var b=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===y.length?this.yylloc.first_column:0)+y[y.length-m.length].length-m[0].length:this.yylloc.first_column-p},this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-p]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(f){this.unput(this.match.slice(f))},"less"),pastInput:g(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var f=this.pastInput(),p=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+p+"^"},"showPosition"),test_match:g(function(f,p){var m,y,b;if(this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(b.yylloc.range=this.yylloc.range.slice(0))),y=f[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],m=this.performAction.call(this,this.yy,this,p,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var x in b)this[x]=b[x];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var f,p,m,y;this._more||(this.yytext="",this.match="");for(var b=this._currentRules(),x=0;x<b.length;x++)if(m=this._input.match(this.rules[b[x]]),m&&(!p||m[0].length>p[0].length)){if(p=m,y=x,this.options.backtrack_lexer){if(f=this.test_match(m,b[x]),f!==!1)return f;if(this._backtrack){p=!1;continue}else return!1}else if(!this.options.flex)break}return p?(f=this.test_match(p,b[y]),f!==!1?f:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var p=this.next();return p||this.lex()},"lex"),begin:g(function(p){this.conditionStack.push(p)},"begin"),popState:g(function(){var p=this.conditionStack.length-1;return p>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(p){return p=this.conditionStack.length-1-Math.abs(p||0),p>=0?this.conditionStack[p]:"INITIAL"},"topState"),pushState:g(function(p){this.begin(p)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(p,m,y,b){switch(y){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return d}();l.lexer=u;function h(){this.yy={}}return g(h,"Parser"),h.prototype=l,l.Parser=h,new h}();tk.parser=tk;var ACt=tk,td="",b3=[],Xp=[],Kp=[],LCt=g(function(){b3.length=0,Xp.length=0,td="",Kp.length=0,Fr()},"clear"),RCt=g(function(e){td=e,b3.push(e)},"addSection"),ICt=g(function(){return b3},"getSections"),NCt=g(function(){let e=eL();const t=100;let r=0;for(;!e&&r<t;)e=eL(),r++;return Xp.push(...Kp),Xp},"getTasks"),$Ct=g(function(){const e=[];return Xp.forEach(r=>{r.people&&e.push(...r.people)}),[...new Set(e)].sort()},"updateActors"),OCt=g(function(e,t){const r=t.substr(1).split(":");let n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));const s=i.map(o=>o.trim()),a={section:td,type:td,people:s,task:e,score:n};Kp.push(a)},"addTask"),DCt=g(function(e){const t={section:td,type:td,description:e,task:e,classes:[]};Xp.push(t)},"addTaskOrg"),eL=g(function(){const e=g(function(r){return Kp[r].processed},"compileTask");let t=!0;for(const[r,n]of Kp.entries())e(r),t=t&&n.processed;return t},"compileTasks"),MCt=g(function(){return $Ct()},"getActors"),rL={getConfig:g(()=>rt().journey,"getConfig"),clear:LCt,setDiagramTitle:on,getDiagramTitle:Vr,setAccTitle:Pr,getAccTitle:Xr,setAccDescription:Kr,getAccDescription:Qr,addSection:RCt,getSections:ICt,getTasks:NCt,addTask:OCt,addTaskOrg:DCt,getActors:MCt},PCt=g(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
    font-family: ${e.fontFamily};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
  ${xg()}
`,"getStyles"),BCt=PCt,v3=g(function(e,t){return D2(e,t)},"drawRect"),FCt=g(function(e,t){const n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function s(l){const u=$h().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}g(s,"smile");function a(l){const u=$h().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}g(a,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return g(o,"ambivalent"),t.score>3?s(i):t.score<3?a(i):o(i),n},"drawFace"),mV=g(function(e,t){const r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),yV=g(function(e,t){return Vft(e,t)},"drawText"),VCt=g(function(e,t){function r(i,s,a,o,l){return i+","+s+" "+(i+a)+","+s+" "+(i+a)+","+(s+o-l)+" "+(i+a-l*1.2)+","+(s+o)+" "+i+","+(s+o)}g(r,"genPoints");const n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,yV(e,t)},"drawLabel"),zCt=g(function(e,t,r){const n=e.append("g"),i=Ii();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,v3(n,i),xV(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),nL=-1,WCt=g(function(e,t,r){const n=t.x+r.width/2,i=e.append("g");nL++;const s=300+5*30;i.append("line").attr("id","task"+nL).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",s).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),FCt(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});const a=Ii();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+t.num,a.rx=3,a.ry=3,v3(i,a);let o=t.x+14;t.people.forEach(l=>{const u=t.actors[l].color,h={cx:o,cy:t.y,r:7,fill:u,stroke:"#000",title:l,pos:t.actors[l].position};mV(i,h),o+=10}),xV(r)(t.task,i,a.x,a.y,a.width,a.height,{class:"task"},r,t.colour)},"drawTask"),UCt=g(function(e,t){sM(e,t)},"drawBackgroundRect"),xV=function(){function e(i,s,a,o,l,u,h,d){const f=s.append("text").attr("x",a+l/2).attr("y",o+u/2+5).style("font-color",d).style("text-anchor","middle").text(i);n(f,h)}g(e,"byText");function t(i,s,a,o,l,u,h,d,f){const{taskFontSize:p,taskFontFamily:m}=d,y=i.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){const x=b*p-p*(y.length-1)/2,v=s.append("text").attr("x",a+l/2).attr("y",o).attr("fill",f).style("text-anchor","middle").style("font-size",p).style("font-family",m);v.append("tspan").attr("x",a+l/2).attr("dy",x).text(y[b]),v.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(v,h)}}g(t,"byTspan");function r(i,s,a,o,l,u,h,d){const f=s.append("switch"),m=f.append("foreignObject").attr("x",a).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,a,o,l,u,h,d),n(m,h)}g(r,"byFo");function n(i,s){for(const a in s)a in s&&i.attr(a,s[a])}return g(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),HCt=g(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),Qp={drawRect:v3,drawCircle:mV,drawSection:zCt,drawText:yV,drawLabel:VCt,drawTask:WCt,drawBackgroundRect:UCt,initGraphics:HCt},GCt=g(function(e){Object.keys(e).forEach(function(r){ds[r]=e[r]})},"setConf"),Ma={},L0=0;function bV(e){const t=rt().journey,r=t.maxLabelWidth;L0=0;let n=60;Object.keys(Ma).forEach(i=>{const s=Ma[i].color,a={cx:20,cy:n,r:7,fill:s,stroke:"#000",pos:Ma[i].position};Qp.drawCircle(e,a);let o=e.append("text").attr("visibility","hidden").text(i);const l=o.node().getBoundingClientRect().width;o.remove();let u=[];if(l<=r)u=[i];else{const h=i.split(" ");let d="";o=e.append("text").attr("visibility","hidden"),h.forEach(f=>{const p=d?`${d} ${f}`:f;if(o.text(p),o.node().getBoundingClientRect().width>r){if(d&&u.push(d),d=f,o.text(f),o.node().getBoundingClientRect().width>r){let y="";for(const b of f)y+=b,o.text(y+"-"),o.node().getBoundingClientRect().width>r&&(u.push(y.slice(0,-1)+"-"),y=b);d=y}}else d=p}),d&&u.push(d),o.remove()}u.forEach((h,d)=>{const f={x:40,y:n+7+d*20,fill:"#666",text:h,textMargin:t.boxTextMargin??5},m=Qp.drawText(e,f).node().getBoundingClientRect().width;m>L0&&m>t.leftMargin-m&&(L0=m)}),n+=Math.max(20,u.length*20)})}g(bV,"drawActorLegend");var ds=rt().journey,mo=0,qCt=g(function(e,t,r,n){const i=rt(),s=i.journey.titleColor,a=i.journey.titleFontSize,o=i.journey.titleFontFamily,l=i.securityLevel;let u;l==="sandbox"&&(u=Lt("#i"+t));const h=Lt(l==="sandbox"?u.nodes()[0].contentDocument.body:"body");Wi.init();const d=h.select("#"+t);Qp.initGraphics(d);const f=n.db.getTasks(),p=n.db.getDiagramTitle(),m=n.db.getActors();for(const S in Ma)delete Ma[S];let y=0;m.forEach(S=>{Ma[S]={color:ds.actorColours[y%ds.actorColours.length],position:y},y++}),bV(d),mo=ds.leftMargin+L0,Wi.insert(0,0,mo,Object.keys(Ma).length*50),jCt(d,f,0);const b=Wi.getBounds();p&&d.append("text").text(p).attr("x",mo).attr("font-size",a).attr("font-weight","bold").attr("y",25).attr("fill",s).attr("font-family",o);const x=b.stopy-b.starty+2*ds.diagramMarginY,v=mo+b.stopx+2*ds.diagramMarginX;ei(d,x,v,ds.useMaxWidth),d.append("line").attr("x1",mo).attr("y1",ds.height*4).attr("x2",v-mo-4).attr("y2",ds.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const _=p?70:0;d.attr("viewBox",`${b.startx} -25 ${v} ${x+_}`),d.attr("preserveAspectRatio","xMinYMin meet"),d.attr("height",x+_+25)},"draw"),Wi={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:g(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:g(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:g(function(e,t,r,n){const i=rt().journey,s=this;let a=0;function o(l){return g(function(h){a++;const d=s.sequenceItems.length-a+1;s.updateVal(h,"starty",t-d*i.boxMargin,Math.min),s.updateVal(h,"stopy",n+d*i.boxMargin,Math.max),s.updateVal(Wi.data,"startx",e-d*i.boxMargin,Math.min),s.updateVal(Wi.data,"stopx",r+d*i.boxMargin,Math.max),l!=="activation"&&(s.updateVal(h,"startx",e-d*i.boxMargin,Math.min),s.updateVal(h,"stopx",r+d*i.boxMargin,Math.max),s.updateVal(Wi.data,"starty",t-d*i.boxMargin,Math.min),s.updateVal(Wi.data,"stopy",n+d*i.boxMargin,Math.max))},"updateItemBounds")}g(o,"updateFn"),this.sequenceItems.forEach(o())},"updateBounds"),insert:g(function(e,t,r,n){const i=Math.min(e,r),s=Math.max(e,r),a=Math.min(t,n),o=Math.max(t,n);this.updateVal(Wi.data,"startx",i,Math.min),this.updateVal(Wi.data,"starty",a,Math.min),this.updateVal(Wi.data,"stopx",s,Math.max),this.updateVal(Wi.data,"stopy",o,Math.max),this.updateBounds(i,a,s,o)},"insert"),bumpVerticalPos:g(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:g(function(){return this.verticalPos},"getVerticalPos"),getBounds:g(function(){return this.data},"getBounds")},pv=ds.sectionFills,iL=ds.sectionColours,jCt=g(function(e,t,r){const n=rt().journey;let i="";const s=n.height*2+n.diagramMarginY,a=r+s;let o=0,l="#CCC",u="black",h=0;for(const[d,f]of t.entries()){if(i!==f.section){l=pv[o%pv.length],h=o%pv.length,u=iL[o%iL.length];let m=0;const y=f.section;for(let x=d;x<t.length&&t[x].section==y;x++)m=m+1;const b={x:d*n.taskMargin+d*n.width+mo,y:50,text:f.section,fill:l,num:h,colour:u,taskCount:m};Qp.drawSection(e,b,n),i=f.section,o++}const p=f.people.reduce((m,y)=>(Ma[y]&&(m[y]=Ma[y]),m),{});f.x=d*n.taskMargin+d*n.width+mo,f.y=a,f.width=n.diagramMarginX,f.height=n.diagramMarginY,f.colour=u,f.fill=l,f.num=h,f.actors=p,Qp.drawTask(e,f,n),Wi.insert(f.x,f.y,f.x+f.width+n.taskMargin,300+5*30)}},"drawTasks"),sL={setConf:GCt,draw:qCt},YCt={parser:ACt,db:rL,renderer:sL,styles:BCt,init:g(e=>{sL.setConf(e.journey),rL.clear()},"init")};const XCt=Object.freeze(Object.defineProperty({__proto__:null,diagram:YCt},Symbol.toStringTag,{value:"Module"}));var ek=function(){var e=g(function(f,p,m,y){for(m=m||{},y=f.length;y--;m[f[y]]=p);return m},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],s=[1,12],a=[1,13],o=[1,16],l=[1,17],u={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:g(function(p,m,y,b,x,v,_){var S=v.length-1;switch(x){case 1:return v[S-1];case 2:this.$=[];break;case 3:v[S-1].push(v[S]),this.$=v[S-1];break;case 4:case 5:this.$=v[S];break;case 6:case 7:this.$=[];break;case 8:b.getCommonDb().setDiagramTitle(v[S].substr(6)),this.$=v[S].substr(6);break;case 9:this.$=v[S].trim(),b.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=v[S].trim(),b.getCommonDb().setAccDescription(this.$);break;case 12:b.addSection(v[S].substr(8)),this.$=v[S].substr(8);break;case 15:b.addTask(v[S],0,""),this.$=v[S];break;case 16:b.addEvent(v[S].substr(2)),this.$=v[S];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:s,17:a,18:14,19:15,20:o,21:l},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:n,14:i,16:s,17:a,18:14,19:15,20:o,21:l},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:g(function(p,m){if(m.recoverable)this.trace(p);else{var y=new Error(p);throw y.hash=m,y}},"parseError"),parse:g(function(p){var m=this,y=[0],b=[],x=[null],v=[],_=this.table,S="",k=0,T=0,E=2,I=1,C=v.slice.call(arguments,1),R=Object.create(this.lexer),w={yy:{}};for(var $ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$)&&(w.yy[$]=this.yy[$]);R.setInput(p,w.yy),w.yy.lexer=R,w.yy.parser=this,typeof R.yylloc>"u"&&(R.yylloc={});var A=R.yylloc;v.push(A);var L=R.options&&R.options.ranges;typeof w.yy.parseError=="function"?this.parseError=w.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function N(et){y.length=y.length-2*et,x.length=x.length-et,v.length=v.length-et}g(N,"popStack");function D(){var et;return et=b.pop()||R.lex()||I,typeof et!="number"&&(et instanceof Array&&(b=et,et=b.pop()),et=m.symbols_[et]||et),et}g(D,"lex");for(var P,O,M,Y,F={},j,it,ft,J;;){if(O=y[y.length-1],this.defaultActions[O]?M=this.defaultActions[O]:((P===null||typeof P>"u")&&(P=D()),M=_[O]&&_[O][P]),typeof M>"u"||!M.length||!M[0]){var dt="";J=[];for(j in _[O])this.terminals_[j]&&j>E&&J.push("'"+this.terminals_[j]+"'");R.showPosition?dt="Parse error on line "+(k+1)+`:
`+R.showPosition()+`
Expecting `+J.join(", ")+", got '"+(this.terminals_[P]||P)+"'":dt="Parse error on line "+(k+1)+": Unexpected "+(P==I?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(dt,{text:R.match,token:this.terminals_[P]||P,line:R.yylineno,loc:A,expected:J})}if(M[0]instanceof Array&&M.length>1)throw new Error("Parse Error: multiple actions possible at state: "+O+", token: "+P);switch(M[0]){case 1:y.push(P),x.push(R.yytext),v.push(R.yylloc),y.push(M[1]),P=null,T=R.yyleng,S=R.yytext,k=R.yylineno,A=R.yylloc;break;case 2:if(it=this.productions_[M[1]][1],F.$=x[x.length-it],F._$={first_line:v[v.length-(it||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(it||1)].first_column,last_column:v[v.length-1].last_column},L&&(F._$.range=[v[v.length-(it||1)].range[0],v[v.length-1].range[1]]),Y=this.performAction.apply(F,[S,T,k,w.yy,M[1],x,v].concat(C)),typeof Y<"u")return Y;it&&(y=y.slice(0,-1*it*2),x=x.slice(0,-1*it),v=v.slice(0,-1*it)),y.push(this.productions_[M[1]][0]),x.push(F.$),v.push(F._$),ft=_[y[y.length-2]][y[y.length-1]],y.push(ft);break;case 3:return!0}}return!0},"parse")},h=function(){var f={EOF:1,parseError:g(function(m,y){if(this.yy.parser)this.yy.parser.parseError(m,y);else throw new Error(m)},"parseError"),setInput:g(function(p,m){return this.yy=m||this.yy||{},this._input=p,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var p=this._input[0];this.yytext+=p,this.yyleng++,this.offset++,this.match+=p,this.matched+=p;var m=p.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),p},"input"),unput:g(function(p){var m=p.length,y=p.split(/(?:\r\n?|\n)/g);this._input=p+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1&&(this.yylineno-=y.length-1);var x=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===b.length?this.yylloc.first_column:0)+b[b.length-y.length].length-y[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[x[0],x[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(p){this.unput(this.match.slice(p))},"less"),pastInput:g(function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var p=this.match;return p.length<20&&(p+=this._input.substr(0,20-p.length)),(p.substr(0,20)+(p.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var p=this.pastInput(),m=new Array(p.length+1).join("-");return p+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:g(function(p,m){var y,b,x;if(this.options.backtrack_lexer&&(x={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(x.yylloc.range=this.yylloc.range.slice(0))),b=p[0].match(/(?:\r\n?|\n).*/g),b&&(this.yylineno+=b.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+p[0].length},this.yytext+=p[0],this.match+=p[0],this.matches=p,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(p[0].length),this.matched+=p[0],y=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y)return y;if(this._backtrack){for(var v in x)this[v]=x[v];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var p,m,y,b;this._more||(this.yytext="",this.match="");for(var x=this._currentRules(),v=0;v<x.length;v++)if(y=this._input.match(this.rules[x[v]]),y&&(!m||y[0].length>m[0].length)){if(m=y,b=v,this.options.backtrack_lexer){if(p=this.test_match(y,x[v]),p!==!1)return p;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(p=this.test_match(m,x[b]),p!==!1?p:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var m=this.next();return m||this.lex()},"lex"),begin:g(function(m){this.conditionStack.push(m)},"begin"),popState:g(function(){var m=this.conditionStack.length-1;return m>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(m){return m=this.conditionStack.length-1-Math.abs(m||0),m>=0?this.conditionStack[m]:"INITIAL"},"topState"),pushState:g(function(m){this.begin(m)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(m,y,b,x){switch(b){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return f}();u.lexer=h;function d(){this.yy={}}return g(d,"Parser"),d.prototype=u,u.Parser=d,new d}();ek.parser=ek;var KCt=ek,vV={};Uy(vV,{addEvent:()=>AV,addSection:()=>wV,addTask:()=>EV,addTaskOrg:()=>LV,clear:()=>kV,default:()=>QCt,getCommonDb:()=>TV,getSections:()=>SV,getTasks:()=>CV});var ed="",_V=0,_3=[],xy=[],rd=[],TV=g(()=>Nk,"getCommonDb"),kV=g(function(){_3.length=0,xy.length=0,ed="",rd.length=0,Fr()},"clear"),wV=g(function(e){ed=e,_3.push(e)},"addSection"),SV=g(function(){return _3},"getSections"),CV=g(function(){let e=aL();const t=100;let r=0;for(;!e&&r<t;)e=aL(),r++;return xy.push(...rd),xy},"getTasks"),EV=g(function(e,t,r){const n={id:_V++,section:ed,type:ed,task:e,score:t||0,events:r?[r]:[]};rd.push(n)},"addTask"),AV=g(function(e){rd.find(r=>r.id===_V-1).events.push(e)},"addEvent"),LV=g(function(e){const t={section:ed,type:ed,description:e,task:e,classes:[]};xy.push(t)},"addTaskOrg"),aL=g(function(){const e=g(function(r){return rd[r].processed},"compileTask");let t=!0;for(const[r,n]of rd.entries())e(r),t=t&&n.processed;return t},"compileTasks"),QCt={clear:kV,getCommonDb:TV,addSection:wV,getSections:SV,getTasks:CV,addTask:EV,addTaskOrg:LV,addEvent:AV},ZCt=12,yx=g(function(e,t){const r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),JCt=g(function(e,t){const n=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function s(l){const u=$h().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}g(s,"smile");function a(l){const u=$h().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}g(a,"sad");function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return g(o,"ambivalent"),t.score>3?s(i):t.score<3?a(i):o(i),n},"drawFace"),tEt=g(function(e,t){const r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),RV=g(function(e,t){const r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);const i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),eEt=g(function(e,t){function r(i,s,a,o,l){return i+","+s+" "+(i+a)+","+s+" "+(i+a)+","+(s+o-l)+" "+(i+a-l*1.2)+","+(s+o)+" "+i+","+(s+o)}g(r,"genPoints");const n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,RV(e,t)},"drawLabel"),rEt=g(function(e,t,r){const n=e.append("g"),i=T3();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,yx(n,i),IV(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),oL=-1,nEt=g(function(e,t,r){const n=t.x+r.width/2,i=e.append("g");oL++;const s=300+5*30;i.append("line").attr("id","task"+oL).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",s).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),JCt(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});const a=T3();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+t.num,a.rx=3,a.ry=3,yx(i,a),IV(r)(t.task,i,a.x,a.y,a.width,a.height,{class:"task"},r,t.colour)},"drawTask"),iEt=g(function(e,t){yx(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),sEt=g(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),T3=g(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),IV=function(){function e(i,s,a,o,l,u,h,d){const f=s.append("text").attr("x",a+l/2).attr("y",o+u/2+5).style("font-color",d).style("text-anchor","middle").text(i);n(f,h)}g(e,"byText");function t(i,s,a,o,l,u,h,d,f){const{taskFontSize:p,taskFontFamily:m}=d,y=i.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){const x=b*p-p*(y.length-1)/2,v=s.append("text").attr("x",a+l/2).attr("y",o).attr("fill",f).style("text-anchor","middle").style("font-size",p).style("font-family",m);v.append("tspan").attr("x",a+l/2).attr("dy",x).text(y[b]),v.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(v,h)}}g(t,"byTspan");function r(i,s,a,o,l,u,h,d){const f=s.append("switch"),m=f.append("foreignObject").attr("x",a).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,a,o,l,u,h,d),n(m,h)}g(r,"byFo");function n(i,s){for(const a in s)a in s&&i.attr(a,s[a])}return g(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),aEt=g(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");function k3(e,t){e.each(function(){var r=Lt(this),n=r.text().split(/(\s+|<br>)/).reverse(),i,s=[],a=1.1,o=r.attr("y"),l=parseFloat(r.attr("dy")),u=r.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",l+"em");for(let h=0;h<n.length;h++)i=n[n.length-1-h],s.push(i),u.text(s.join(" ").trim()),(u.node().getComputedTextLength()>t||i==="<br>")&&(s.pop(),u.text(s.join(" ").trim()),i==="<br>"?s=[""]:s=[i],u=r.append("tspan").attr("x",0).attr("y",o).attr("dy",a+"em").text(i))})}g(k3,"wrap");var oEt=g(function(e,t,r,n){var d;const i=r%ZCt-1,s=e.append("g");t.section=i,s.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+i));const a=s.append("g"),o=s.append("g"),u=o.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(k3,t.width).node().getBBox(),h=(d=n.fontSize)!=null&&d.replace?n.fontSize.replace("px",""):n.fontSize;return t.height=u.height+h*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,o.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),cEt(a,t,i,n),t},"drawNode"),lEt=g(function(e,t,r){var o;const n=e.append("g"),s=n.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(k3,t.width).node().getBBox(),a=(o=r.fontSize)!=null&&o.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),s.height+a*1.1*.5+t.padding},"getVirtualNodeHeight"),cEt=g(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),Tl={drawRect:yx,drawCircle:tEt,drawSection:rEt,drawText:RV,drawLabel:eEt,drawTask:nEt,drawBackgroundRect:iEt,getTextObj:sEt,getNoteRect:T3,initGraphics:aEt,drawNode:oEt,getVirtualNodeHeight:lEt},uEt=g(function(e,t,r,n){var C,R,w;const i=rt(),s=((C=i.timeline)==null?void 0:C.leftMargin)??50;U.debug("timeline",n.db);const a=i.securityLevel;let o;a==="sandbox"&&(o=Lt("#i"+t));const u=Lt(a==="sandbox"?o.nodes()[0].contentDocument.body:"body").select("#"+t);u.append("g");const h=n.db.getTasks(),d=n.db.getCommonDb().getDiagramTitle();U.debug("task",h),Tl.initGraphics(u);const f=n.db.getSections();U.debug("sections",f);let p=0,m=0,y=0,b=0,x=50+s,v=50;b=50;let _=0,S=!0;f.forEach(function($){const A={number:_,descr:$,section:_,width:150,padding:20,maxHeight:p},L=Tl.getVirtualNodeHeight(u,A,i);U.debug("sectionHeight before draw",L),p=Math.max(p,L+20)});let k=0,T=0;U.debug("tasks.length",h.length);for(const[$,A]of h.entries()){const L={number:$,descr:A,section:A.section,width:150,padding:20,maxHeight:m},N=Tl.getVirtualNodeHeight(u,L,i);U.debug("taskHeight before draw",N),m=Math.max(m,N+20),k=Math.max(k,A.events.length);let D=0;for(const P of A.events){const O={descr:P,section:A.section,number:A.section,width:150,padding:20,maxHeight:50};D+=Tl.getVirtualNodeHeight(u,O,i)}A.events.length>0&&(D+=(A.events.length-1)*10),T=Math.max(T,D)}U.debug("maxSectionHeight before draw",p),U.debug("maxTaskHeight before draw",m),f&&f.length>0?f.forEach($=>{const A=h.filter(P=>P.section===$),L={number:_,descr:$,section:_,width:200*Math.max(A.length,1)-50,padding:20,maxHeight:p};U.debug("sectionNode",L);const N=u.append("g"),D=Tl.drawNode(N,L,_,i);U.debug("sectionNode output",D),N.attr("transform",`translate(${x}, ${b})`),v+=p+50,A.length>0&&lL(u,A,_,x,v,m,i,k,T,p,!1),x+=200*Math.max(A.length,1),v=b,_++}):(S=!1,lL(u,h,_,x,v,m,i,k,T,p,!0));const E=u.node().getBBox();U.debug("bounds",E),d&&u.append("text").text(d).attr("x",E.width/2-s).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),y=S?p+m+150:m+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",s).attr("y1",y).attr("x2",E.width+3*s).attr("y2",y).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),ag(void 0,u,((R=i.timeline)==null?void 0:R.padding)??50,((w=i.timeline)==null?void 0:w.useMaxWidth)??!1)},"draw"),lL=g(function(e,t,r,n,i,s,a,o,l,u,h){var d;for(const f of t){const p={descr:f.task,section:r,number:r,width:150,padding:20,maxHeight:s};U.debug("taskNode",p);const m=e.append("g").attr("class","taskWrapper"),b=Tl.drawNode(m,p,r,a).height;if(U.debug("taskHeight after draw",b),m.attr("transform",`translate(${n}, ${i})`),s=Math.max(s,b),f.events){const x=e.append("g").attr("class","lineWrapper");let v=s;i+=100,v=v+hEt(e,f.events,r,n,i,a),i-=100,x.append("line").attr("x1",n+190/2).attr("y1",i+s).attr("x2",n+190/2).attr("y2",i+s+100+l+100).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,h&&!((d=a.timeline)!=null&&d.disableMulticolor)&&r++}i=i-10},"drawTasks"),hEt=g(function(e,t,r,n,i,s){let a=0;const o=i;i=i+100;for(const l of t){const u={descr:l,section:r,number:r,width:150,padding:20,maxHeight:50};U.debug("eventNode",u);const h=e.append("g").attr("class","eventWrapper"),f=Tl.drawNode(h,u,r,s).height;a=a+f,h.attr("transform",`translate(${n}, ${i})`),i=i+10+f}return i=o,a},"drawEvents"),dEt={setConf:g(()=>{},"setConf"),draw:uEt},fEt=g(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Ho(e["lineColor"+r])?e["lineColor"+r]=qt(e["lineColor"+r],20):e["lineColor"+r]=ne(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),pEt=g(e=>`
  .edge {
    stroke-width: 3;
  }
  ${fEt(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),gEt=pEt,mEt={db:vV,renderer:dEt,parser:KCt,styles:gEt};const yEt=Object.freeze(Object.defineProperty({__proto__:null,diagram:mEt},Symbol.toStringTag,{value:"Module"})),hn=[];for(let e=0;e<256;++e)hn.push((e+256).toString(16).slice(1));function xEt(e,t=0){return(hn[e[t+0]]+hn[e[t+1]]+hn[e[t+2]]+hn[e[t+3]]+"-"+hn[e[t+4]]+hn[e[t+5]]+"-"+hn[e[t+6]]+hn[e[t+7]]+"-"+hn[e[t+8]]+hn[e[t+9]]+"-"+hn[e[t+10]]+hn[e[t+11]]+hn[e[t+12]]+hn[e[t+13]]+hn[e[t+14]]+hn[e[t+15]]).toLowerCase()}let gv;const bEt=new Uint8Array(16);function vEt(){if(!gv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gv=crypto.getRandomValues.bind(crypto)}return gv(bEt)}const _Et=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cL={randomUUID:_Et};function TEt(e,t,r){var i;if(cL.randomUUID&&!e)return cL.randomUUID();e=e||{};const n=e.random??((i=e.rng)==null?void 0:i.call(e))??vEt();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,xEt(n)}var rk=function(){var e=g(function(S,k,T,E){for(T=T||{},E=S.length;E--;T[S[E]]=k);return T},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],s=[1,16],a=[1,20],o=[1,19],l=[6,7,8],u=[1,26],h=[1,24],d=[1,25],f=[6,7,11],p=[1,6,13,15,16,19,22],m=[1,33],y=[1,34],b=[1,6,7,11,13,15,16,19,22],x={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:g(function(k,T,E,I,C,R,w){var $=R.length-1;switch(C){case 6:case 7:return I;case 8:I.getLogger().trace("Stop NL ");break;case 9:I.getLogger().trace("Stop EOF ");break;case 11:I.getLogger().trace("Stop NL2 ");break;case 12:I.getLogger().trace("Stop EOF2 ");break;case 15:I.getLogger().info("Node: ",R[$].id),I.addNode(R[$-1].length,R[$].id,R[$].descr,R[$].type);break;case 16:I.getLogger().trace("Icon: ",R[$]),I.decorateNode({icon:R[$]});break;case 17:case 21:I.decorateNode({class:R[$]});break;case 18:I.getLogger().trace("SPACELIST");break;case 19:I.getLogger().trace("Node: ",R[$].id),I.addNode(0,R[$].id,R[$].descr,R[$].type);break;case 20:I.decorateNode({icon:R[$]});break;case 25:I.getLogger().trace("node found ..",R[$-2]),this.$={id:R[$-1],descr:R[$-1],type:I.getType(R[$-2],R[$])};break;case 26:this.$={id:R[$],descr:R[$],type:I.nodeType.DEFAULT};break;case 27:I.getLogger().trace("node found ..",R[$-3]),this.$={id:R[$-3],descr:R[$-1],type:I.getType(R[$-2],R[$])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:s,17:17,18:18,19:a,22:o},e(l,[2,3]),{1:[2,2]},e(l,[2,4]),e(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:s,17:17,18:18,19:a,22:o},{6:r,9:22,12:11,13:n,14:14,15:i,16:s,17:17,18:18,19:a,22:o},{6:u,7:h,10:23,11:d},e(f,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:a,22:o}),e(f,[2,18]),e(f,[2,19]),e(f,[2,20]),e(f,[2,21]),e(f,[2,23]),e(f,[2,24]),e(f,[2,26],{19:[1,30]}),{20:[1,31]},{6:u,7:h,10:32,11:d},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:s,17:17,18:18,19:a,22:o},e(p,[2,14],{7:m,11:y}),e(b,[2,8]),e(b,[2,9]),e(b,[2,10]),e(f,[2,15]),e(f,[2,16]),e(f,[2,17]),{20:[1,35]},{21:[1,36]},e(p,[2,13],{7:m,11:y}),e(b,[2,11]),e(b,[2,12]),{21:[1,37]},e(f,[2,25]),e(f,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:g(function(k,T){if(T.recoverable)this.trace(k);else{var E=new Error(k);throw E.hash=T,E}},"parseError"),parse:g(function(k){var T=this,E=[0],I=[],C=[null],R=[],w=this.table,$="",A=0,L=0,N=2,D=1,P=R.slice.call(arguments,1),O=Object.create(this.lexer),M={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(M.yy[Y]=this.yy[Y]);O.setInput(k,M.yy),M.yy.lexer=O,M.yy.parser=this,typeof O.yylloc>"u"&&(O.yylloc={});var F=O.yylloc;R.push(F);var j=O.options&&O.options.ranges;typeof M.yy.parseError=="function"?this.parseError=M.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function it(G){E.length=E.length-2*G,C.length=C.length-G,R.length=R.length-G}g(it,"popStack");function ft(){var G;return G=I.pop()||O.lex()||D,typeof G!="number"&&(G instanceof Array&&(I=G,G=I.pop()),G=T.symbols_[G]||G),G}g(ft,"lex");for(var J,dt,et,St,ct={},bt,nt,Z,z;;){if(dt=E[E.length-1],this.defaultActions[dt]?et=this.defaultActions[dt]:((J===null||typeof J>"u")&&(J=ft()),et=w[dt]&&w[dt][J]),typeof et>"u"||!et.length||!et[0]){var V="";z=[];for(bt in w[dt])this.terminals_[bt]&&bt>N&&z.push("'"+this.terminals_[bt]+"'");O.showPosition?V="Parse error on line "+(A+1)+`:
`+O.showPosition()+`
Expecting `+z.join(", ")+", got '"+(this.terminals_[J]||J)+"'":V="Parse error on line "+(A+1)+": Unexpected "+(J==D?"end of input":"'"+(this.terminals_[J]||J)+"'"),this.parseError(V,{text:O.match,token:this.terminals_[J]||J,line:O.yylineno,loc:F,expected:z})}if(et[0]instanceof Array&&et.length>1)throw new Error("Parse Error: multiple actions possible at state: "+dt+", token: "+J);switch(et[0]){case 1:E.push(J),C.push(O.yytext),R.push(O.yylloc),E.push(et[1]),J=null,L=O.yyleng,$=O.yytext,A=O.yylineno,F=O.yylloc;break;case 2:if(nt=this.productions_[et[1]][1],ct.$=C[C.length-nt],ct._$={first_line:R[R.length-(nt||1)].first_line,last_line:R[R.length-1].last_line,first_column:R[R.length-(nt||1)].first_column,last_column:R[R.length-1].last_column},j&&(ct._$.range=[R[R.length-(nt||1)].range[0],R[R.length-1].range[1]]),St=this.performAction.apply(ct,[$,L,A,M.yy,et[1],C,R].concat(P)),typeof St<"u")return St;nt&&(E=E.slice(0,-1*nt*2),C=C.slice(0,-1*nt),R=R.slice(0,-1*nt)),E.push(this.productions_[et[1]][0]),C.push(ct.$),R.push(ct._$),Z=w[E[E.length-2]][E[E.length-1]],E.push(Z);break;case 3:return!0}}return!0},"parse")},v=function(){var S={EOF:1,parseError:g(function(T,E){if(this.yy.parser)this.yy.parser.parseError(T,E);else throw new Error(T)},"parseError"),setInput:g(function(k,T){return this.yy=T||this.yy||{},this._input=k,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var k=this._input[0];this.yytext+=k,this.yyleng++,this.offset++,this.match+=k,this.matched+=k;var T=k.match(/(?:\r\n?|\n).*/g);return T?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),k},"input"),unput:g(function(k){var T=k.length,E=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-T),this.offset-=T;var I=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),E.length-1&&(this.yylineno-=E.length-1);var C=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===I.length?this.yylloc.first_column:0)+I[I.length-E.length].length-E[0].length:this.yylloc.first_column-T},this.options.ranges&&(this.yylloc.range=[C[0],C[0]+this.yyleng-T]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(k){this.unput(this.match.slice(k))},"less"),pastInput:g(function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(k.length>20?"...":"")+k.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var k=this.match;return k.length<20&&(k+=this._input.substr(0,20-k.length)),(k.substr(0,20)+(k.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var k=this.pastInput(),T=new Array(k.length+1).join("-");return k+this.upcomingInput()+`
`+T+"^"},"showPosition"),test_match:g(function(k,T){var E,I,C;if(this.options.backtrack_lexer&&(C={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(C.yylloc.range=this.yylloc.range.slice(0))),I=k[0].match(/(?:\r\n?|\n).*/g),I&&(this.yylineno+=I.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:I?I[I.length-1].length-I[I.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],E=this.performAction.call(this,this.yy,this,T,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),E)return E;if(this._backtrack){for(var R in C)this[R]=C[R];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var k,T,E,I;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),R=0;R<C.length;R++)if(E=this._input.match(this.rules[C[R]]),E&&(!T||E[0].length>T[0].length)){if(T=E,I=R,this.options.backtrack_lexer){if(k=this.test_match(E,C[R]),k!==!1)return k;if(this._backtrack){T=!1;continue}else return!1}else if(!this.options.flex)break}return T?(k=this.test_match(T,C[I]),k!==!1?k:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var T=this.next();return T||this.lex()},"lex"),begin:g(function(T){this.conditionStack.push(T)},"begin"),popState:g(function(){var T=this.conditionStack.length-1;return T>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(T){return T=this.conditionStack.length-1-Math.abs(T||0),T>=0?this.conditionStack[T]:"INITIAL"},"topState"),pushState:g(function(T){this.begin(T)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(T,E,I,C){switch(I){case 0:return T.getLogger().trace("Found comment",E.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:T.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return T.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:T.getLogger().trace("end icon"),this.popState();break;case 10:return T.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return T.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return T.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return T.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:T.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return T.getLogger().trace("description:",E.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),T.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),T.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),T.getLogger().trace("node end ...",E.yytext),"NODE_DEND";case 30:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 35:return T.getLogger().trace("Long description:",E.yytext),20;case 36:return T.getLogger().trace("Long description:",E.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return S}();x.lexer=v;function _(){this.yy={}}return g(_,"Parser"),_.prototype=x,x.Parser=_,new _}();rk.parser=rk;var kEt=rk,va={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},gh,wEt=(gh=class{constructor(){this.nodes=[],this.count=0,this.elements={},this.getLogger=this.getLogger.bind(this),this.nodeType=va,this.clear(),this.getType=this.getType.bind(this),this.getElementById=this.getElementById.bind(this),this.getParent=this.getParent.bind(this),this.getMindmap=this.getMindmap.bind(this),this.addNode=this.addNode.bind(this),this.decorateNode=this.decorateNode.bind(this)}clear(){this.nodes=[],this.count=0,this.elements={},this.baseLevel=void 0}getParent(t){for(let r=this.nodes.length-1;r>=0;r--)if(this.nodes[r].level<t)return this.nodes[r];return null}getMindmap(){return this.nodes.length>0?this.nodes[0]:null}addNode(t,r,n,i){var h,d;U.info("addNode",t,r,n,i);let s=!1;this.nodes.length===0?(this.baseLevel=t,t=0,s=!0):this.baseLevel!==void 0&&(t=t-this.baseLevel,s=!1);const a=rt();let o=((h=a.mindmap)==null?void 0:h.padding)??Re.mindmap.padding;switch(i){case this.nodeType.ROUNDED_RECT:case this.nodeType.RECT:case this.nodeType.HEXAGON:o*=2;break}const l={id:this.count++,nodeId:Ne(r,a),level:t,descr:Ne(n,a),type:i,children:[],width:((d=a.mindmap)==null?void 0:d.maxNodeWidth)??Re.mindmap.maxNodeWidth,padding:o,isRoot:s},u=this.getParent(t);if(u)u.children.push(l),this.nodes.push(l);else if(s)this.nodes.push(l);else throw new Error(`There can be only one root. No parent could be found for ("${l.descr}")`)}getType(t,r){switch(U.debug("In get type",t,r),t){case"[":return this.nodeType.RECT;case"(":return r===")"?this.nodeType.ROUNDED_RECT:this.nodeType.CLOUD;case"((":return this.nodeType.CIRCLE;case")":return this.nodeType.CLOUD;case"))":return this.nodeType.BANG;case"{{":return this.nodeType.HEXAGON;default:return this.nodeType.DEFAULT}}setElementForId(t,r){this.elements[t]=r}getElementById(t){return this.elements[t]}decorateNode(t){if(!t)return;const r=rt(),n=this.nodes[this.nodes.length-1];t.icon&&(n.icon=Ne(t.icon,r)),t.class&&(n.class=Ne(t.class,r))}type2Str(t){switch(t){case this.nodeType.DEFAULT:return"no-border";case this.nodeType.RECT:return"rect";case this.nodeType.ROUNDED_RECT:return"rounded-rect";case this.nodeType.CIRCLE:return"circle";case this.nodeType.CLOUD:return"cloud";case this.nodeType.BANG:return"bang";case this.nodeType.HEXAGON:return"hexgon";default:return"no-border"}}assignSections(t,r){if(t.level===0?t.section=void 0:t.section=r,t.children)for(const[n,i]of t.children.entries()){const s=t.level===0?n:r;this.assignSections(i,s)}}flattenNodes(t,r){const n=["mindmap-node"];t.isRoot===!0?n.push("section-root","section--1"):t.section!==void 0&&n.push(`section-${t.section}`),t.class&&n.push(t.class);const i=n.join(" "),s=g(o=>{switch(o){case va.CIRCLE:return"mindmapCircle";case va.RECT:return"rect";case va.ROUNDED_RECT:return"rounded";case va.CLOUD:return"cloud";case va.BANG:return"bang";case va.HEXAGON:return"hexagon";case va.DEFAULT:return"defaultMindmapNode";case va.NO_BORDER:default:return"rect"}},"getShapeFromType"),a={id:t.id.toString(),domId:"node_"+t.id.toString(),label:t.descr,isGroup:!1,shape:s(t.type),width:t.width,height:t.height??0,padding:t.padding,cssClasses:i,cssStyles:[],look:"default",icon:t.icon,x:t.x,y:t.y,level:t.level,nodeId:t.nodeId,type:t.type,section:t.section};if(r.push(a),t.children)for(const o of t.children)this.flattenNodes(o,r)}generateEdges(t,r){if(t.children)for(const n of t.children){let i="edge";n.section!==void 0&&(i+=` section-edge-${n.section}`);const s=t.level+1;i+=` edge-depth-${s}`;const a={id:`edge_${t.id}_${n.id}`,start:t.id.toString(),end:n.id.toString(),type:"normal",curve:"basis",thickness:"normal",look:"default",classes:i,depth:t.level,section:n.section};r.push(a),this.generateEdges(n,r)}}getData(){const t=this.getMindmap(),r=rt(),i=yG().layout!==void 0,s=r;if(i||(s.layout="cose-bilkent"),!t)return{nodes:[],edges:[],config:s};U.debug("getData: mindmapRoot",t,r),this.assignSections(t);const a=[],o=[];this.flattenNodes(t,a),this.generateEdges(t,o),U.debug(`getData: processed ${a.length} nodes and ${o.length} edges`);const l=new Map;for(const u of a)l.set(u.id,{shape:u.shape,width:u.width,height:u.height,padding:u.padding});return{nodes:a,edges:o,config:s,rootNode:t,markers:["point"],direction:"TB",nodeSpacing:50,rankSpacing:50,shapes:Object.fromEntries(l),type:"mindmap",diagramId:"mindmap-"+TEt()}}getLogger(){return U}},g(gh,"MindmapDB"),gh),SEt=g(async(e,t,r,n)=>{var l,u;U.debug(`Rendering mindmap diagram
`+e);const i=n.db,s=i.getData(),a=hd(t,s.config.securityLevel);s.type=n.type,s.layoutAlgorithm=gg(s.config.layout,{fallback:"cose-bilkent"}),s.diagramId=t,i.getMindmap()&&(s.nodes.forEach(h=>{h.shape==="rounded"?(h.radius=15,h.taper=15,h.stroke="none",h.width=0,h.padding=15):h.shape==="circle"?h.padding=10:h.shape==="rect"&&(h.width=0,h.padding=10)}),await ld(s,a),kc(a,((l=s.config.mindmap)==null?void 0:l.padding)??Re.mindmap.padding,"mindmapDiagram",((u=s.config.mindmap)==null?void 0:u.useMaxWidth)??Re.mindmap.useMaxWidth))},"draw"),CEt={draw:SEt},EEt=g(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Ho(e["lineColor"+r])?e["lineColor"+r]=qt(e["lineColor"+r],20):e["lineColor"+r]=ne(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),AEt=g(e=>`
  .edge {
    stroke-width: 3;
  }
  ${EEt(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .section-root span {
    color: ${e.gitBranchLabel0};
  }
  .section-2 span {
    color: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),LEt=AEt,REt={get db(){return new wEt},renderer:CEt,parser:kEt,styles:LEt};const IEt=Object.freeze(Object.defineProperty({__proto__:null,diagram:REt},Symbol.toStringTag,{value:"Module"}));var nk=function(){var e=g(function(E,I,C,R){for(C=C||{},R=E.length;R--;C[E[R]]=I);return C},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],s=[1,16],a=[1,20],o=[1,19],l=[6,7,8],u=[1,26],h=[1,24],d=[1,25],f=[6,7,11],p=[1,31],m=[6,7,11,24],y=[1,6,13,16,17,20,23],b=[1,35],x=[1,36],v=[1,6,7,11,13,16,17,20,23],_=[1,38],S={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:g(function(I,C,R,w,$,A,L){var N=A.length-1;switch($){case 6:case 7:return w;case 8:w.getLogger().trace("Stop NL ");break;case 9:w.getLogger().trace("Stop EOF ");break;case 11:w.getLogger().trace("Stop NL2 ");break;case 12:w.getLogger().trace("Stop EOF2 ");break;case 15:w.getLogger().info("Node: ",A[N-1].id),w.addNode(A[N-2].length,A[N-1].id,A[N-1].descr,A[N-1].type,A[N]);break;case 16:w.getLogger().info("Node: ",A[N].id),w.addNode(A[N-1].length,A[N].id,A[N].descr,A[N].type);break;case 17:w.getLogger().trace("Icon: ",A[N]),w.decorateNode({icon:A[N]});break;case 18:case 23:w.decorateNode({class:A[N]});break;case 19:w.getLogger().trace("SPACELIST");break;case 20:w.getLogger().trace("Node: ",A[N-1].id),w.addNode(0,A[N-1].id,A[N-1].descr,A[N-1].type,A[N]);break;case 21:w.getLogger().trace("Node: ",A[N].id),w.addNode(0,A[N].id,A[N].descr,A[N].type);break;case 22:w.decorateNode({icon:A[N]});break;case 27:w.getLogger().trace("node found ..",A[N-2]),this.$={id:A[N-1],descr:A[N-1],type:w.getType(A[N-2],A[N])};break;case 28:this.$={id:A[N],descr:A[N],type:0};break;case 29:w.getLogger().trace("node found ..",A[N-3]),this.$={id:A[N-3],descr:A[N-1],type:w.getType(A[N-2],A[N])};break;case 30:this.$=A[N-1]+A[N];break;case 31:this.$=A[N];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:i,17:s,18:17,19:18,20:a,23:o},e(l,[2,3]),{1:[2,2]},e(l,[2,4]),e(l,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:i,17:s,18:17,19:18,20:a,23:o},{6:r,9:22,12:11,13:n,14:14,16:i,17:s,18:17,19:18,20:a,23:o},{6:u,7:h,10:23,11:d},e(f,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:a,23:o}),e(f,[2,19]),e(f,[2,21],{15:30,24:p}),e(f,[2,22]),e(f,[2,23]),e(m,[2,25]),e(m,[2,26]),e(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:u,7:h,10:34,11:d},{1:[2,7],6:r,12:21,13:n,14:14,16:i,17:s,18:17,19:18,20:a,23:o},e(y,[2,14],{7:b,11:x}),e(v,[2,8]),e(v,[2,9]),e(v,[2,10]),e(f,[2,16],{15:37,24:p}),e(f,[2,17]),e(f,[2,18]),e(f,[2,20],{24:_}),e(m,[2,31]),{21:[1,39]},{22:[1,40]},e(y,[2,13],{7:b,11:x}),e(v,[2,11]),e(v,[2,12]),e(f,[2,15],{24:_}),e(m,[2,30]),{22:[1,41]},e(m,[2,27]),e(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:g(function(I,C){if(C.recoverable)this.trace(I);else{var R=new Error(I);throw R.hash=C,R}},"parseError"),parse:g(function(I){var C=this,R=[0],w=[],$=[null],A=[],L=this.table,N="",D=0,P=0,O=2,M=1,Y=A.slice.call(arguments,1),F=Object.create(this.lexer),j={yy:{}};for(var it in this.yy)Object.prototype.hasOwnProperty.call(this.yy,it)&&(j.yy[it]=this.yy[it]);F.setInput(I,j.yy),j.yy.lexer=F,j.yy.parser=this,typeof F.yylloc>"u"&&(F.yylloc={});var ft=F.yylloc;A.push(ft);var J=F.options&&F.options.ranges;typeof j.yy.parseError=="function"?this.parseError=j.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function dt(B){R.length=R.length-2*B,$.length=$.length-B,A.length=A.length-B}g(dt,"popStack");function et(){var B;return B=w.pop()||F.lex()||M,typeof B!="number"&&(B instanceof Array&&(w=B,B=w.pop()),B=C.symbols_[B]||B),B}g(et,"lex");for(var St,ct,bt,nt,Z={},z,V,G,W;;){if(ct=R[R.length-1],this.defaultActions[ct]?bt=this.defaultActions[ct]:((St===null||typeof St>"u")&&(St=et()),bt=L[ct]&&L[ct][St]),typeof bt>"u"||!bt.length||!bt[0]){var ot="";W=[];for(z in L[ct])this.terminals_[z]&&z>O&&W.push("'"+this.terminals_[z]+"'");F.showPosition?ot="Parse error on line "+(D+1)+`:
`+F.showPosition()+`
Expecting `+W.join(", ")+", got '"+(this.terminals_[St]||St)+"'":ot="Parse error on line "+(D+1)+": Unexpected "+(St==M?"end of input":"'"+(this.terminals_[St]||St)+"'"),this.parseError(ot,{text:F.match,token:this.terminals_[St]||St,line:F.yylineno,loc:ft,expected:W})}if(bt[0]instanceof Array&&bt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ct+", token: "+St);switch(bt[0]){case 1:R.push(St),$.push(F.yytext),A.push(F.yylloc),R.push(bt[1]),St=null,P=F.yyleng,N=F.yytext,D=F.yylineno,ft=F.yylloc;break;case 2:if(V=this.productions_[bt[1]][1],Z.$=$[$.length-V],Z._$={first_line:A[A.length-(V||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(V||1)].first_column,last_column:A[A.length-1].last_column},J&&(Z._$.range=[A[A.length-(V||1)].range[0],A[A.length-1].range[1]]),nt=this.performAction.apply(Z,[N,P,D,j.yy,bt[1],$,A].concat(Y)),typeof nt<"u")return nt;V&&(R=R.slice(0,-1*V*2),$=$.slice(0,-1*V),A=A.slice(0,-1*V)),R.push(this.productions_[bt[1]][0]),$.push(Z.$),A.push(Z._$),G=L[R[R.length-2]][R[R.length-1]],R.push(G);break;case 3:return!0}}return!0},"parse")},k=function(){var E={EOF:1,parseError:g(function(C,R){if(this.yy.parser)this.yy.parser.parseError(C,R);else throw new Error(C)},"parseError"),setInput:g(function(I,C){return this.yy=C||this.yy||{},this._input=I,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var I=this._input[0];this.yytext+=I,this.yyleng++,this.offset++,this.match+=I,this.matched+=I;var C=I.match(/(?:\r\n?|\n).*/g);return C?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),I},"input"),unput:g(function(I){var C=I.length,R=I.split(/(?:\r\n?|\n)/g);this._input=I+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var w=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),R.length-1&&(this.yylineno-=R.length-1);var $=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:R?(R.length===w.length?this.yylloc.first_column:0)+w[w.length-R.length].length-R[0].length:this.yylloc.first_column-C},this.options.ranges&&(this.yylloc.range=[$[0],$[0]+this.yyleng-C]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(I){this.unput(this.match.slice(I))},"less"),pastInput:g(function(){var I=this.matched.substr(0,this.matched.length-this.match.length);return(I.length>20?"...":"")+I.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var I=this.match;return I.length<20&&(I+=this._input.substr(0,20-I.length)),(I.substr(0,20)+(I.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var I=this.pastInput(),C=new Array(I.length+1).join("-");return I+this.upcomingInput()+`
`+C+"^"},"showPosition"),test_match:g(function(I,C){var R,w,$;if(this.options.backtrack_lexer&&($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($.yylloc.range=this.yylloc.range.slice(0))),w=I[0].match(/(?:\r\n?|\n).*/g),w&&(this.yylineno+=w.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:w?w[w.length-1].length-w[w.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+I[0].length},this.yytext+=I[0],this.match+=I[0],this.matches=I,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(I[0].length),this.matched+=I[0],R=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),R)return R;if(this._backtrack){for(var A in $)this[A]=$[A];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var I,C,R,w;this._more||(this.yytext="",this.match="");for(var $=this._currentRules(),A=0;A<$.length;A++)if(R=this._input.match(this.rules[$[A]]),R&&(!C||R[0].length>C[0].length)){if(C=R,w=A,this.options.backtrack_lexer){if(I=this.test_match(R,$[A]),I!==!1)return I;if(this._backtrack){C=!1;continue}else return!1}else if(!this.options.flex)break}return C?(I=this.test_match(C,$[w]),I!==!1?I:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var C=this.next();return C||this.lex()},"lex"),begin:g(function(C){this.conditionStack.push(C)},"begin"),popState:g(function(){var C=this.conditionStack.length-1;return C>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},"topState"),pushState:g(function(C){this.begin(C)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(C,R,w,$){switch(w){case 0:return this.pushState("shapeData"),R.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:const A=/\n\s*/g;return R.yytext=R.yytext.replace(A,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return C.getLogger().trace("Found comment",R.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:C.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return C.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:C.getLogger().trace("end icon"),this.popState();break;case 16:return C.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return C.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return C.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return C.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:C.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return C.getLogger().trace("description:",R.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),C.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),C.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),C.getLogger().trace("node end ...",R.yytext),"NODE_DEND";case 36:return this.popState(),C.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),C.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),C.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),C.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),C.getLogger().trace("node end (("),"NODE_DEND";case 41:return C.getLogger().trace("Long description:",R.yytext),21;case 42:return C.getLogger().trace("Long description:",R.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return E}();S.lexer=k;function T(){this.yy={}}return g(T,"Parser"),T.prototype=S,S.Parser=T,new T}();nk.parser=nk;var NEt=nk,Hi=[],w3=[],ik=0,S3={},$Et=g(()=>{Hi=[],w3=[],ik=0,S3={}},"clear"),OEt=g(e=>{if(Hi.length===0)return null;const t=Hi[0].level;let r=null;for(let n=Hi.length-1;n>=0;n--)if(Hi[n].level===t&&!r&&(r=Hi[n]),Hi[n].level<t)throw new Error('Items without section detected, found section ("'+Hi[n].label+'")');return e===(r==null?void 0:r.level)?null:r},"getSection"),NV=g(function(){return w3},"getSections"),DEt=g(function(){const e=[],t=[],r=NV(),n=rt();for(const i of r){const s={id:i.id,label:Ne(i.label??"",n),isGroup:!0,ticket:i.ticket,shape:"kanbanSection",level:i.level,look:n.look};t.push(s);const a=Hi.filter(o=>o.parentId===i.id);for(const o of a){const l={id:o.id,parentId:i.id,label:Ne(o.label??"",n),isGroup:!1,ticket:o==null?void 0:o.ticket,priority:o==null?void 0:o.priority,assigned:o==null?void 0:o.assigned,icon:o==null?void 0:o.icon,shape:"kanbanItem",level:o.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(l)}}return{nodes:t,edges:e,other:{},config:rt()}},"getData"),MEt=g((e,t,r,n,i)=>{var u,h;const s=rt();let a=((u=s.mindmap)==null?void 0:u.padding)??Re.mindmap.padding;switch(n){case qr.ROUNDED_RECT:case qr.RECT:case qr.HEXAGON:a*=2}const o={id:Ne(t,s)||"kbn"+ik++,level:e,label:Ne(r,s),width:((h=s.mindmap)==null?void 0:h.maxNodeWidth)??Re.mindmap.maxNodeWidth,padding:a,isGroup:!1};if(i!==void 0){let d;i.includes(`
`)?d=i+`
`:d=`{
`+i+`
}`;const f=o2(d,{schema:a2});if(f.shape&&(f.shape!==f.shape.toLowerCase()||f.shape.includes("_")))throw new Error(`No such shape: ${f.shape}. Shape names should be lowercase.`);f!=null&&f.shape&&f.shape==="kanbanItem"&&(o.shape=f==null?void 0:f.shape),f!=null&&f.label&&(o.label=f==null?void 0:f.label),f!=null&&f.icon&&(o.icon=f==null?void 0:f.icon.toString()),f!=null&&f.assigned&&(o.assigned=f==null?void 0:f.assigned.toString()),f!=null&&f.ticket&&(o.ticket=f==null?void 0:f.ticket.toString()),f!=null&&f.priority&&(o.priority=f==null?void 0:f.priority)}const l=OEt(e);l?o.parentId=l.id||"kbn"+ik++:w3.push(o),Hi.push(o)},"addNode"),qr={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},PEt=g((e,t)=>{switch(U.debug("In get type",e,t),e){case"[":return qr.RECT;case"(":return t===")"?qr.ROUNDED_RECT:qr.CLOUD;case"((":return qr.CIRCLE;case")":return qr.CLOUD;case"))":return qr.BANG;case"{{":return qr.HEXAGON;default:return qr.DEFAULT}},"getType"),BEt=g((e,t)=>{S3[e]=t},"setElementForId"),FEt=g(e=>{if(!e)return;const t=rt(),r=Hi[Hi.length-1];e.icon&&(r.icon=Ne(e.icon,t)),e.class&&(r.cssClasses=Ne(e.class,t))},"decorateNode"),VEt=g(e=>{switch(e){case qr.DEFAULT:return"no-border";case qr.RECT:return"rect";case qr.ROUNDED_RECT:return"rounded-rect";case qr.CIRCLE:return"circle";case qr.CLOUD:return"cloud";case qr.BANG:return"bang";case qr.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),zEt=g(()=>U,"getLogger"),WEt=g(e=>S3[e],"getElementById"),UEt={clear:$Et,addNode:MEt,getSections:NV,getData:DEt,nodeType:qr,getType:PEt,setElementForId:BEt,decorateNode:FEt,type2Str:VEt,getLogger:zEt,getElementById:WEt},HEt=UEt,GEt=g(async(e,t,r,n)=>{var b,x,v,_,S;U.debug(`Rendering kanban diagram
`+e);const s=n.db.getData(),a=rt();a.htmlLabels=!1;const o=eo(t),l=o.append("g");l.attr("class","sections");const u=o.append("g");u.attr("class","items");const h=s.nodes.filter(k=>k.isGroup);let d=0;const f=10,p=[];let m=25;for(const k of h){const T=((b=a==null?void 0:a.kanban)==null?void 0:b.sectionWidth)||200;d=d+1,k.x=T*d+(d-1)*f/2,k.width=T,k.y=0,k.height=T*3,k.rx=5,k.ry=5,k.cssClasses=k.cssClasses+" section-"+d;const E=await Iw(l,k);m=Math.max(m,(x=E==null?void 0:E.labelBBox)==null?void 0:x.height),p.push(E)}let y=0;for(const k of h){const T=p[y];y=y+1;const E=((v=a==null?void 0:a.kanban)==null?void 0:v.sectionWidth)||200,I=-E*3/2+m;let C=I;const R=s.nodes.filter(A=>A.parentId===k.id);for(const A of R){if(A.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");A.x=k.x,A.width=E-1.5*f;const N=(await w2(u,A,{config:a})).node().getBBox();A.y=C+N.height/2,await I_(A),C=A.y+N.height/2+f/2}const w=T.cluster.select("rect"),$=Math.max(C-I+3*f,50)+(m-25);w.attr("height",$)}ag(void 0,o,((_=a.mindmap)==null?void 0:_.padding)??Re.kanban.padding,((S=a.mindmap)==null?void 0:S.useMaxWidth)??Re.kanban.useMaxWidth)},"draw"),qEt={draw:GEt},jEt=g(e=>{let t="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++)e["lineColor"+n]=e["lineColor"+n]||e["cScaleInv"+n],Ho(e["lineColor"+n])?e["lineColor"+n]=qt(e["lineColor"+n],20):e["lineColor"+n]=ne(e["lineColor"+n],20);const r=g((n,i)=>e.darkMode?ne(n,i):qt(n,i),"adjuster");for(let n=0;n<e.THEME_COLOR_LIMIT;n++){const i=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${r(e["cScale"+n],10)};
      stroke: ${r(e["cScale"+n],10)};

    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${i};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    text-decoration: underline;
  }
    `}return t},"genSections"),YEt=g(e=>`
  .edge {
    stroke-width: 3;
  }
  ${jEt(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
    ${xg()}
`,"getStyles"),XEt=YEt,KEt={db:HEt,renderer:qEt,parser:NEt,styles:XEt};const QEt=Object.freeze(Object.defineProperty({__proto__:null,diagram:KEt},Symbol.toStringTag,{value:"Module"}));function uL(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function $V(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function mv(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}function ZEt(e){return e.target.depth}function JEt(e){return e.depth}function t5t(e,t){return t-1-e.height}function OV(e,t){return e.sourceLinks.length?e.depth:t-1}function e5t(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?$V(e.sourceLinks,ZEt)-1:0}function D1(e){return function(){return e}}function hL(e,t){return by(e.source,t.source)||e.index-t.index}function dL(e,t){return by(e.target,t.target)||e.index-t.index}function by(e,t){return e.y0-t.y0}function yv(e){return e.value}function r5t(e){return e.index}function n5t(e){return e.nodes}function i5t(e){return e.links}function fL(e,t){const r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function pL({nodes:e}){for(const t of e){let r=t.y0,n=r;for(const i of t.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(const i of t.targetLinks)i.y1=n+i.width/2,n+=i.width}}function s5t(){let e=0,t=0,r=1,n=1,i=24,s=8,a,o=r5t,l=OV,u,h,d=n5t,f=i5t,p=6;function m(){const N={nodes:d.apply(null,arguments),links:f.apply(null,arguments)};return y(N),b(N),x(N),v(N),k(N),pL(N),N}m.update=function(N){return pL(N),N},m.nodeId=function(N){return arguments.length?(o=typeof N=="function"?N:D1(N),m):o},m.nodeAlign=function(N){return arguments.length?(l=typeof N=="function"?N:D1(N),m):l},m.nodeSort=function(N){return arguments.length?(u=N,m):u},m.nodeWidth=function(N){return arguments.length?(i=+N,m):i},m.nodePadding=function(N){return arguments.length?(s=a=+N,m):s},m.nodes=function(N){return arguments.length?(d=typeof N=="function"?N:D1(N),m):d},m.links=function(N){return arguments.length?(f=typeof N=="function"?N:D1(N),m):f},m.linkSort=function(N){return arguments.length?(h=N,m):h},m.size=function(N){return arguments.length?(e=t=0,r=+N[0],n=+N[1],m):[r-e,n-t]},m.extent=function(N){return arguments.length?(e=+N[0][0],r=+N[1][0],t=+N[0][1],n=+N[1][1],m):[[e,t],[r,n]]},m.iterations=function(N){return arguments.length?(p=+N,m):p};function y({nodes:N,links:D}){for(const[O,M]of N.entries())M.index=O,M.sourceLinks=[],M.targetLinks=[];const P=new Map(N.map((O,M)=>[o(O,M,N),O]));for(const[O,M]of D.entries()){M.index=O;let{source:Y,target:F}=M;typeof Y!="object"&&(Y=M.source=fL(P,Y)),typeof F!="object"&&(F=M.target=fL(P,F)),Y.sourceLinks.push(M),F.targetLinks.push(M)}if(h!=null)for(const{sourceLinks:O,targetLinks:M}of N)O.sort(h),M.sort(h)}function b({nodes:N}){for(const D of N)D.value=D.fixedValue===void 0?Math.max(mv(D.sourceLinks,yv),mv(D.targetLinks,yv)):D.fixedValue}function x({nodes:N}){const D=N.length;let P=new Set(N),O=new Set,M=0;for(;P.size;){for(const Y of P){Y.depth=M;for(const{target:F}of Y.sourceLinks)O.add(F)}if(++M>D)throw new Error("circular link");P=O,O=new Set}}function v({nodes:N}){const D=N.length;let P=new Set(N),O=new Set,M=0;for(;P.size;){for(const Y of P){Y.height=M;for(const{source:F}of Y.targetLinks)O.add(F)}if(++M>D)throw new Error("circular link");P=O,O=new Set}}function _({nodes:N}){const D=uL(N,M=>M.depth)+1,P=(r-e-i)/(D-1),O=new Array(D);for(const M of N){const Y=Math.max(0,Math.min(D-1,Math.floor(l.call(null,M,D))));M.layer=Y,M.x0=e+Y*P,M.x1=M.x0+i,O[Y]?O[Y].push(M):O[Y]=[M]}if(u)for(const M of O)M.sort(u);return O}function S(N){const D=$V(N,P=>(n-t-(P.length-1)*a)/mv(P,yv));for(const P of N){let O=t;for(const M of P){M.y0=O,M.y1=O+M.value*D,O=M.y1+a;for(const Y of M.sourceLinks)Y.width=Y.value*D}O=(n-O+a)/(P.length+1);for(let M=0;M<P.length;++M){const Y=P[M];Y.y0+=O*(M+1),Y.y1+=O*(M+1)}$(P)}}function k(N){const D=_(N);a=Math.min(s,(n-t)/(uL(D,P=>P.length)-1)),S(D);for(let P=0;P<p;++P){const O=Math.pow(.99,P),M=Math.max(1-O,(P+1)/p);E(D,O,M),T(D,O,M)}}function T(N,D,P){for(let O=1,M=N.length;O<M;++O){const Y=N[O];for(const F of Y){let j=0,it=0;for(const{source:J,value:dt}of F.targetLinks){let et=dt*(F.layer-J.layer);j+=A(J,F)*et,it+=et}if(!(it>0))continue;let ft=(j/it-F.y0)*D;F.y0+=ft,F.y1+=ft,w(F)}u===void 0&&Y.sort(by),I(Y,P)}}function E(N,D,P){for(let O=N.length,M=O-2;M>=0;--M){const Y=N[M];for(const F of Y){let j=0,it=0;for(const{target:J,value:dt}of F.sourceLinks){let et=dt*(J.layer-F.layer);j+=L(F,J)*et,it+=et}if(!(it>0))continue;let ft=(j/it-F.y0)*D;F.y0+=ft,F.y1+=ft,w(F)}u===void 0&&Y.sort(by),I(Y,P)}}function I(N,D){const P=N.length>>1,O=N[P];R(N,O.y0-a,P-1,D),C(N,O.y1+a,P+1,D),R(N,n,N.length-1,D),C(N,t,0,D)}function C(N,D,P,O){for(;P<N.length;++P){const M=N[P],Y=(D-M.y0)*O;Y>1e-6&&(M.y0+=Y,M.y1+=Y),D=M.y1+a}}function R(N,D,P,O){for(;P>=0;--P){const M=N[P],Y=(M.y1-D)*O;Y>1e-6&&(M.y0-=Y,M.y1-=Y),D=M.y0-a}}function w({sourceLinks:N,targetLinks:D}){if(h===void 0){for(const{source:{sourceLinks:P}}of D)P.sort(dL);for(const{target:{targetLinks:P}}of N)P.sort(hL)}}function $(N){if(h===void 0)for(const{sourceLinks:D,targetLinks:P}of N)D.sort(dL),P.sort(hL)}function A(N,D){let P=N.y0-(N.sourceLinks.length-1)*a/2;for(const{target:O,width:M}of N.sourceLinks){if(O===D)break;P+=M+a}for(const{source:O,width:M}of D.targetLinks){if(O===N)break;P-=M}return P}function L(N,D){let P=D.y0-(D.targetLinks.length-1)*a/2;for(const{source:O,width:M}of D.targetLinks){if(O===N)break;P+=M+a}for(const{target:O,width:M}of N.sourceLinks){if(O===D)break;P-=M}return P}return m}var sk=Math.PI,ak=2*sk,xl=1e-6,a5t=ak-xl;function ok(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function DV(){return new ok}ok.prototype=DV.prototype={constructor:ok,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,s){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var s=this._x1,a=this._y1,o=r-e,l=n-t,u=s-e,h=a-t,d=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>xl)if(!(Math.abs(h*o-l*u)>xl)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=r-s,p=n-a,m=o*o+l*l,y=f*f+p*p,b=Math.sqrt(m),x=Math.sqrt(d),v=i*Math.tan((sk-Math.acos((m+d-y)/(2*b*x)))/2),_=v/x,S=v/b;Math.abs(_-1)>xl&&(this._+="L"+(e+_*u)+","+(t+_*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>u*p)+","+(this._x1=e+S*o)+","+(this._y1=t+S*l)}},arc:function(e,t,r,n,i,s){e=+e,t=+t,r=+r,s=!!s;var a=r*Math.cos(n),o=r*Math.sin(n),l=e+a,u=t+o,h=1^s,d=s?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>xl||Math.abs(this._y1-u)>xl)&&(this._+="L"+l+","+u),r&&(d<0&&(d=d%ak+ak),d>a5t?this._+="A"+r+","+r+",0,1,"+h+","+(e-a)+","+(t-o)+"A"+r+","+r+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):d>xl&&(this._+="A"+r+","+r+",0,"+ +(d>=sk)+","+h+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function gL(e){return function(){return e}}function o5t(e){return e[0]}function l5t(e){return e[1]}var c5t=Array.prototype.slice;function u5t(e){return e.source}function h5t(e){return e.target}function d5t(e){var t=u5t,r=h5t,n=o5t,i=l5t,s=null;function a(){var o,l=c5t.call(arguments),u=t.apply(this,l),h=r.apply(this,l);if(s||(s=o=DV()),e(s,+n.apply(this,(l[0]=u,l)),+i.apply(this,l),+n.apply(this,(l[0]=h,l)),+i.apply(this,l)),o)return s=null,o+""||null}return a.source=function(o){return arguments.length?(t=o,a):t},a.target=function(o){return arguments.length?(r=o,a):r},a.x=function(o){return arguments.length?(n=typeof o=="function"?o:gL(+o),a):n},a.y=function(o){return arguments.length?(i=typeof o=="function"?o:gL(+o),a):i},a.context=function(o){return arguments.length?(s=o??null,a):s},a}function f5t(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function p5t(){return d5t(f5t)}function g5t(e){return[e.source.x1,e.y0]}function m5t(e){return[e.target.x0,e.y1]}function y5t(){return p5t().source(g5t).target(m5t)}var lk=function(){var e=g(function(o,l,u,h){for(u=u||{},h=o.length;h--;u[o[h]]=l);return u},"o"),t=[1,9],r=[1,10],n=[1,5,10,12],i={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:g(function(l,u,h,d,f,p,m){var y=p.length-1;switch(f){case 7:const b=d.findOrCreateNode(p[y-4].trim().replaceAll('""','"')),x=d.findOrCreateNode(p[y-2].trim().replaceAll('""','"')),v=parseFloat(p[y].trim());d.addLink(b,x,v);break;case 8:case 9:case 11:this.$=p[y];break;case 10:this.$=p[y-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(n,[2,8]),e(n,[2,9]),{19:[1,16]},e(n,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(n,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:g(function(l,u){if(u.recoverable)this.trace(l);else{var h=new Error(l);throw h.hash=u,h}},"parseError"),parse:g(function(l){var u=this,h=[0],d=[],f=[null],p=[],m=this.table,y="",b=0,x=0,v=2,_=1,S=p.slice.call(arguments,1),k=Object.create(this.lexer),T={yy:{}};for(var E in this.yy)Object.prototype.hasOwnProperty.call(this.yy,E)&&(T.yy[E]=this.yy[E]);k.setInput(l,T.yy),T.yy.lexer=k,T.yy.parser=this,typeof k.yylloc>"u"&&(k.yylloc={});var I=k.yylloc;p.push(I);var C=k.options&&k.options.ranges;typeof T.yy.parseError=="function"?this.parseError=T.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function R(j){h.length=h.length-2*j,f.length=f.length-j,p.length=p.length-j}g(R,"popStack");function w(){var j;return j=d.pop()||k.lex()||_,typeof j!="number"&&(j instanceof Array&&(d=j,j=d.pop()),j=u.symbols_[j]||j),j}g(w,"lex");for(var $,A,L,N,D={},P,O,M,Y;;){if(A=h[h.length-1],this.defaultActions[A]?L=this.defaultActions[A]:(($===null||typeof $>"u")&&($=w()),L=m[A]&&m[A][$]),typeof L>"u"||!L.length||!L[0]){var F="";Y=[];for(P in m[A])this.terminals_[P]&&P>v&&Y.push("'"+this.terminals_[P]+"'");k.showPosition?F="Parse error on line "+(b+1)+`:
`+k.showPosition()+`
Expecting `+Y.join(", ")+", got '"+(this.terminals_[$]||$)+"'":F="Parse error on line "+(b+1)+": Unexpected "+($==_?"end of input":"'"+(this.terminals_[$]||$)+"'"),this.parseError(F,{text:k.match,token:this.terminals_[$]||$,line:k.yylineno,loc:I,expected:Y})}if(L[0]instanceof Array&&L.length>1)throw new Error("Parse Error: multiple actions possible at state: "+A+", token: "+$);switch(L[0]){case 1:h.push($),f.push(k.yytext),p.push(k.yylloc),h.push(L[1]),$=null,x=k.yyleng,y=k.yytext,b=k.yylineno,I=k.yylloc;break;case 2:if(O=this.productions_[L[1]][1],D.$=f[f.length-O],D._$={first_line:p[p.length-(O||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(O||1)].first_column,last_column:p[p.length-1].last_column},C&&(D._$.range=[p[p.length-(O||1)].range[0],p[p.length-1].range[1]]),N=this.performAction.apply(D,[y,x,b,T.yy,L[1],f,p].concat(S)),typeof N<"u")return N;O&&(h=h.slice(0,-1*O*2),f=f.slice(0,-1*O),p=p.slice(0,-1*O)),h.push(this.productions_[L[1]][0]),f.push(D.$),p.push(D._$),M=m[h[h.length-2]][h[h.length-1]],h.push(M);break;case 3:return!0}}return!0},"parse")},s=function(){var o={EOF:1,parseError:g(function(u,h){if(this.yy.parser)this.yy.parser.parseError(u,h);else throw new Error(u)},"parseError"),setInput:g(function(l,u){return this.yy=u||this.yy||{},this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var u=l.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},"input"),unput:g(function(l){var u=l.length,h=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u),this.offset-=u;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),h.length-1&&(this.yylineno-=h.length-1);var f=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:h?(h.length===d.length?this.yylloc.first_column:0)+d[d.length-h.length].length-h[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-u]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(l){this.unput(this.match.slice(l))},"less"),pastInput:g(function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var l=this.pastInput(),u=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+u+"^"},"showPosition"),test_match:g(function(l,u){var h,d,f;if(this.options.backtrack_lexer&&(f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))),d=l[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],h=this.performAction.call(this,this.yy,this,u,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),h)return h;if(this._backtrack){for(var p in f)this[p]=f[p];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,u,h,d;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),p=0;p<f.length;p++)if(h=this._input.match(this.rules[f[p]]),h&&(!u||h[0].length>u[0].length)){if(u=h,d=p,this.options.backtrack_lexer){if(l=this.test_match(h,f[p]),l!==!1)return l;if(this._backtrack){u=!1;continue}else return!1}else if(!this.options.flex)break}return u?(l=this.test_match(u,f[d]),l!==!1?l:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var u=this.next();return u||this.lex()},"lex"),begin:g(function(u){this.conditionStack.push(u)},"begin"),popState:g(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:g(function(u){this.begin(u)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:g(function(u,h,d,f){switch(d){case 0:return this.pushState("csv"),4;case 1:return this.pushState("csv"),4;case 2:return 10;case 3:return 5;case 4:return 12;case 5:return this.pushState("escaped_text"),18;case 6:return 20;case 7:return this.popState("escaped_text"),18;case 8:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:sankey\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[2,3,4,5,6,7,8],inclusive:!1},escaped_text:{rules:[7,8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8],inclusive:!0}}};return o}();i.lexer=s;function a(){this.yy={}}return g(a,"Parser"),a.prototype=i,i.Parser=a,new a}();lk.parser=lk;var vy=lk,xx=[],bx=[],_y=new Map,x5t=g(()=>{xx=[],bx=[],_y=new Map,Fr()},"clear"),mh,b5t=(mh=class{constructor(t,r,n=0){this.source=t,this.target=r,this.value=n}},g(mh,"SankeyLink"),mh),v5t=g((e,t,r)=>{xx.push(new b5t(e,t,r))},"addLink"),yh,_5t=(yh=class{constructor(t){this.ID=t}},g(yh,"SankeyNode"),yh),T5t=g(e=>{e=Ot.sanitizeText(e,rt());let t=_y.get(e);return t===void 0&&(t=new _5t(e),_y.set(e,t),bx.push(t)),t},"findOrCreateNode"),k5t=g(()=>bx,"getNodes"),w5t=g(()=>xx,"getLinks"),S5t=g(()=>({nodes:bx.map(e=>({id:e.ID})),links:xx.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),C5t={nodesMap:_y,getConfig:g(()=>rt().sankey,"getConfig"),getNodes:k5t,getLinks:w5t,getGraph:S5t,addLink:v5t,findOrCreateNode:T5t,getAccTitle:Xr,setAccTitle:Pr,getAccDescription:Qr,setAccDescription:Kr,getDiagramTitle:Vr,setDiagramTitle:on,clear:x5t},Pa,mL=(Pa=class{static next(t){return new Pa(t+ ++Pa.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}},g(Pa,"Uid"),Pa.count=0,Pa),E5t={left:JEt,right:t5t,center:e5t,justify:OV},A5t=g(function(e,t,r,n){const{securityLevel:i,sankey:s}=rt(),a=y8.sankey;let o;i==="sandbox"&&(o=Lt("#i"+t));const l=Lt(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${t}"]`):Lt(`[id="${t}"]`),h=(s==null?void 0:s.width)??a.width,d=(s==null?void 0:s.height)??a.width,f=(s==null?void 0:s.useMaxWidth)??a.useMaxWidth,p=(s==null?void 0:s.nodeAlignment)??a.nodeAlignment,m=(s==null?void 0:s.prefix)??a.prefix,y=(s==null?void 0:s.suffix)??a.suffix,b=(s==null?void 0:s.showValues)??a.showValues,x=n.db.getGraph(),v=E5t[p];s5t().nodeId(R=>R.id).nodeWidth(10).nodePadding(10+(b?15:0)).nodeAlign(v).extent([[0,0],[h,d]])(x);const k=Pl(GQ);u.append("g").attr("class","nodes").selectAll(".node").data(x.nodes).join("g").attr("class","node").attr("id",R=>(R.uid=mL.next("node-")).id).attr("transform",function(R){return"translate("+R.x0+","+R.y0+")"}).attr("x",R=>R.x0).attr("y",R=>R.y0).append("rect").attr("height",R=>R.y1-R.y0).attr("width",R=>R.x1-R.x0).attr("fill",R=>k(R.id));const T=g(({id:R,value:w})=>b?`${R}
${m}${Math.round(w*100)/100}${y}`:R,"getText");u.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(x.nodes).join("text").attr("x",R=>R.x0<h/2?R.x1+6:R.x0-6).attr("y",R=>(R.y1+R.y0)/2).attr("dy",`${b?"0":"0.35"}em`).attr("text-anchor",R=>R.x0<h/2?"start":"end").text(T);const E=u.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(x.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),I=(s==null?void 0:s.linkColor)??"gradient";if(I==="gradient"){const R=E.append("linearGradient").attr("id",w=>(w.uid=mL.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",w=>w.source.x1).attr("x2",w=>w.target.x0);R.append("stop").attr("offset","0%").attr("stop-color",w=>k(w.source.id)),R.append("stop").attr("offset","100%").attr("stop-color",w=>k(w.target.id))}let C;switch(I){case"gradient":C=g(R=>R.uid,"coloring");break;case"source":C=g(R=>k(R.source.id),"coloring");break;case"target":C=g(R=>k(R.target.id),"coloring");break;default:C=I}E.append("path").attr("d",y5t()).attr("stroke",C).attr("stroke-width",R=>Math.max(1,R.width)),ag(void 0,u,0,f)},"draw"),L5t={draw:A5t},R5t=g(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),I5t=g(e=>`.label {
      font-family: ${e.fontFamily};
    }`,"getStyles"),N5t=I5t,$5t=vy.parse.bind(vy);vy.parse=e=>$5t(R5t(e));var O5t={styles:N5t,parser:vy,db:C5t,renderer:L5t};const D5t=Object.freeze(Object.defineProperty({__proto__:null,diagram:O5t},Symbol.toStringTag,{value:"Module"}));var M5t=Re.packet,xh,MV=(xh=class{constructor(){this.packet=[],this.setAccTitle=Pr,this.getAccTitle=Xr,this.setDiagramTitle=on,this.getDiagramTitle=Vr,this.getAccDescription=Qr,this.setAccDescription=Kr}getConfig(){const t=Zn({...M5t,...De().packet});return t.showBits&&(t.paddingY+=10),t}getPacket(){return this.packet}pushWord(t){t.length>0&&this.packet.push(t)}clear(){Fr(),this.packet=[]}},g(xh,"PacketDB"),xh),P5t=1e4,B5t=g((e,t)=>{wc(e,t);let r=-1,n=[],i=1;const{bitsPerRow:s}=t.getConfig();for(let{start:a,end:o,bits:l,label:u}of e.blocks){if(a!==void 0&&o!==void 0&&o<a)throw new Error(`Packet block ${a} - ${o} is invalid. End must be greater than start.`);if(a??(a=r+1),a!==r+1)throw new Error(`Packet block ${a} - ${o??a} is not contiguous. It should start from ${r+1}.`);if(l===0)throw new Error(`Packet block ${a} is invalid. Cannot have a zero bit field.`);for(o??(o=a+(l??1)-1),l??(l=o-a+1),r=o,U.debug(`Packet block ${a} - ${r} with label ${u}`);n.length<=s+1&&t.getPacket().length<P5t;){const[h,d]=F5t({start:a,end:o,bits:l,label:u},i,s);if(n.push(h),h.end+1===i*s&&(t.pushWord(n),n=[],i++),!d)break;({start:a,end:o,bits:l,label:u}=d)}}t.pushWord(n)},"populate"),F5t=g((e,t,r)=>{if(e.start===void 0)throw new Error("start should have been set during first phase");if(e.end===void 0)throw new Error("end should have been set during first phase");if(e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);if(e.end+1<=t*r)return[e,void 0];const n=t*r-1,i=t*r;return[{start:e.start,end:n,label:e.label,bits:n-e.start},{start:i,end:e.end,label:e.label,bits:e.end-i}]},"getNextFittingBlock"),PV={parser:{yy:void 0},parse:g(async e=>{var n;const t=await nl("packet",e),r=(n=PV.parser)==null?void 0:n.yy;if(!(r instanceof MV))throw new Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");U.debug(t),B5t(t,r)},"parse")},V5t=g((e,t,r,n)=>{const i=n.db,s=i.getConfig(),{rowHeight:a,paddingY:o,bitWidth:l,bitsPerRow:u}=s,h=i.getPacket(),d=i.getDiagramTitle(),f=a+o,p=f*(h.length+1)-(d?0:a),m=l*u+2,y=eo(t);y.attr("viewbox",`0 0 ${m} ${p}`),ei(y,p,m,s.useMaxWidth);for(const[b,x]of h.entries())z5t(y,x,b,s);y.append("text").text(d).attr("x",m/2).attr("y",p-f/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),z5t=g((e,t,r,{rowHeight:n,paddingX:i,paddingY:s,bitWidth:a,bitsPerRow:o,showBits:l})=>{const u=e.append("g"),h=r*(n+s)+s;for(const d of t){const f=d.start%o*a+1,p=(d.end-d.start+1)*a-i;if(u.append("rect").attr("x",f).attr("y",h).attr("width",p).attr("height",n).attr("class","packetBlock"),u.append("text").attr("x",f+p/2).attr("y",h+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(d.label),!l)continue;const m=d.end===d.start,y=h-2;u.append("text").attr("x",f+(m?p/2:0)).attr("y",y).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(d.start),m||u.append("text").attr("x",f+p).attr("y",y).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(d.end)}},"drawWord"),W5t={draw:V5t},U5t={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},H5t=g(({packet:e}={})=>{const t=Zn(U5t,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles"),G5t={parser:PV,get db(){return new MV},renderer:W5t,styles:H5t};const q5t=Object.freeze(Object.defineProperty({__proto__:null,diagram:G5t},Symbol.toStringTag,{value:"Module"}));var Qc={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},BV={axes:[],curves:[],options:Qc},Oc=structuredClone(BV),j5t=Re.radar,Y5t=g(()=>Zn({...j5t,...De().radar}),"getConfig"),FV=g(()=>Oc.axes,"getAxes"),X5t=g(()=>Oc.curves,"getCurves"),K5t=g(()=>Oc.options,"getOptions"),Q5t=g(e=>{Oc.axes=e.map(t=>({name:t.name,label:t.label??t.name}))},"setAxes"),Z5t=g(e=>{Oc.curves=e.map(t=>({name:t.name,label:t.label??t.name,entries:J5t(t.entries)}))},"setCurves"),J5t=g(e=>{if(e[0].axis==null)return e.map(r=>r.value);const t=FV();if(t.length===0)throw new Error("Axes must be populated before curves for reference entries");return t.map(r=>{const n=e.find(i=>{var s;return((s=i.axis)==null?void 0:s.$refText)===r.name});if(n===void 0)throw new Error("Missing entry for axis "+r.label);return n.value})},"computeCurveEntries"),tAt=g(e=>{var r,n,i,s,a;const t=e.reduce((o,l)=>(o[l.name]=l,o),{});Oc.options={showLegend:((r=t.showLegend)==null?void 0:r.value)??Qc.showLegend,ticks:((n=t.ticks)==null?void 0:n.value)??Qc.ticks,max:((i=t.max)==null?void 0:i.value)??Qc.max,min:((s=t.min)==null?void 0:s.value)??Qc.min,graticule:((a=t.graticule)==null?void 0:a.value)??Qc.graticule}},"setOptions"),eAt=g(()=>{Fr(),Oc=structuredClone(BV)},"clear"),Ff={getAxes:FV,getCurves:X5t,getOptions:K5t,setAxes:Q5t,setCurves:Z5t,setOptions:tAt,getConfig:Y5t,clear:eAt,setAccTitle:Pr,getAccTitle:Xr,setDiagramTitle:on,getDiagramTitle:Vr,getAccDescription:Qr,setAccDescription:Kr},rAt=g(e=>{wc(e,Ff);const{axes:t,curves:r,options:n}=e;Ff.setAxes(t),Ff.setCurves(r),Ff.setOptions(n)},"populate"),nAt={parse:g(async e=>{const t=await nl("radar",e);U.debug(t),rAt(t)},"parse")},iAt=g((e,t,r,n)=>{const i=n.db,s=i.getAxes(),a=i.getCurves(),o=i.getOptions(),l=i.getConfig(),u=i.getDiagramTitle(),h=eo(t),d=sAt(h,l),f=o.max??Math.max(...a.map(y=>Math.max(...y.entries))),p=o.min,m=Math.min(l.width,l.height)/2;aAt(d,s,m,o.ticks,o.graticule),oAt(d,s,m,l),VV(d,s,a,p,f,o.graticule,l),UV(d,a,o.showLegend,l),d.append("text").attr("class","radarTitle").text(u).attr("x",0).attr("y",-l.height/2-l.marginTop)},"draw"),sAt=g((e,t)=>{const r=t.width+t.marginLeft+t.marginRight,n=t.height+t.marginTop+t.marginBottom,i={x:t.marginLeft+t.width/2,y:t.marginTop+t.height/2};return e.attr("viewbox",`0 0 ${r} ${n}`).attr("width",r).attr("height",n),e.append("g").attr("transform",`translate(${i.x}, ${i.y})`)},"drawFrame"),aAt=g((e,t,r,n,i)=>{if(i==="circle")for(let s=0;s<n;s++){const a=r*(s+1)/n;e.append("circle").attr("r",a).attr("class","radarGraticule")}else if(i==="polygon"){const s=t.length;for(let a=0;a<n;a++){const o=r*(a+1)/n,l=t.map((u,h)=>{const d=2*h*Math.PI/s-Math.PI/2,f=o*Math.cos(d),p=o*Math.sin(d);return`${f},${p}`}).join(" ");e.append("polygon").attr("points",l).attr("class","radarGraticule")}}},"drawGraticule"),oAt=g((e,t,r,n)=>{const i=t.length;for(let s=0;s<i;s++){const a=t[s].label,o=2*s*Math.PI/i-Math.PI/2;e.append("line").attr("x1",0).attr("y1",0).attr("x2",r*n.axisScaleFactor*Math.cos(o)).attr("y2",r*n.axisScaleFactor*Math.sin(o)).attr("class","radarAxisLine"),e.append("text").text(a).attr("x",r*n.axisLabelFactor*Math.cos(o)).attr("y",r*n.axisLabelFactor*Math.sin(o)).attr("class","radarAxisLabel")}},"drawAxes");function VV(e,t,r,n,i,s,a){const o=t.length,l=Math.min(a.width,a.height)/2;r.forEach((u,h)=>{if(u.entries.length!==o)return;const d=u.entries.map((f,p)=>{const m=2*Math.PI*p/o-Math.PI/2,y=zV(f,n,i,l),b=y*Math.cos(m),x=y*Math.sin(m);return{x:b,y:x}});s==="circle"?e.append("path").attr("d",WV(d,a.curveTension)).attr("class",`radarCurve-${h}`):s==="polygon"&&e.append("polygon").attr("points",d.map(f=>`${f.x},${f.y}`).join(" ")).attr("class",`radarCurve-${h}`)})}g(VV,"drawCurves");function zV(e,t,r,n){const i=Math.min(Math.max(e,t),r);return n*(i-t)/(r-t)}g(zV,"relativeRadius");function WV(e,t){const r=e.length;let n=`M${e[0].x},${e[0].y}`;for(let i=0;i<r;i++){const s=e[(i-1+r)%r],a=e[i],o=e[(i+1)%r],l=e[(i+2)%r],u={x:a.x+(o.x-s.x)*t,y:a.y+(o.y-s.y)*t},h={x:o.x-(l.x-a.x)*t,y:o.y-(l.y-a.y)*t};n+=` C${u.x},${u.y} ${h.x},${h.y} ${o.x},${o.y}`}return`${n} Z`}g(WV,"closedRoundCurve");function UV(e,t,r,n){if(!r)return;const i=(n.width/2+n.marginRight)*3/4,s=-(n.height/2+n.marginTop)*3/4,a=20;t.forEach((o,l)=>{const u=e.append("g").attr("transform",`translate(${i}, ${s+l*a})`);u.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${l}`),u.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(o.label)})}g(UV,"drawLegend");var lAt={draw:iAt},cAt=g((e,t)=>{let r="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++){const i=e[`cScale${n}`];r+=`
		.radarCurve-${n} {
			color: ${i};
			fill: ${i};
			fill-opacity: ${t.curveOpacity};
			stroke: ${i};
			stroke-width: ${t.curveStrokeWidth};
		}
		.radarLegendBox-${n} {
			fill: ${i};
			fill-opacity: ${t.curveOpacity};
			stroke: ${i};
		}
		`}return r},"genIndexStyles"),uAt=g(e=>{const t=jy(),r=De(),n=Zn(t,r.themeVariables),i=Zn(n.radar,e);return{themeVariables:n,radarOptions:i}},"buildRadarStyleOptions"),hAt=g(({radar:e}={})=>{const{themeVariables:t,radarOptions:r}=uAt(e);return`
	.radarTitle {
		font-size: ${t.fontSize};
		color: ${t.titleColor};
		dominant-baseline: hanging;
		text-anchor: middle;
	}
	.radarAxisLine {
		stroke: ${r.axisColor};
		stroke-width: ${r.axisStrokeWidth};
	}
	.radarAxisLabel {
		dominant-baseline: middle;
		text-anchor: middle;
		font-size: ${r.axisLabelFontSize}px;
		color: ${r.axisColor};
	}
	.radarGraticule {
		fill: ${r.graticuleColor};
		fill-opacity: ${r.graticuleOpacity};
		stroke: ${r.graticuleColor};
		stroke-width: ${r.graticuleStrokeWidth};
	}
	.radarLegendText {
		text-anchor: start;
		font-size: ${r.legendFontSize}px;
		dominant-baseline: hanging;
	}
	${cAt(t,r)}
	`},"styles"),dAt={parser:nAt,db:Ff,renderer:lAt,styles:hAt};const fAt=Object.freeze(Object.defineProperty({__proto__:null,diagram:dAt},Symbol.toStringTag,{value:"Module"}));var ck=function(){var e=g(function(_,S,k,T){for(k=k||{},T=_.length;T--;k[_[T]]=S);return k},"o"),t=[1,15],r=[1,7],n=[1,13],i=[1,14],s=[1,19],a=[1,16],o=[1,17],l=[1,18],u=[8,30],h=[8,10,21,28,29,30,31,39,43,46],d=[1,23],f=[1,24],p=[8,10,15,16,21,28,29,30,31,39,43,46],m=[8,10,15,16,21,27,28,29,30,31,39,43,46],y=[1,49],b={trace:g(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,NODE_ID:31,nodeShapeNLabel:32,dirList:33,DIR:34,NODE_DSTART:35,NODE_DEND:36,BLOCK_ARROW_START:37,BLOCK_ARROW_END:38,classDef:39,CLASSDEF_ID:40,CLASSDEF_STYLEOPTS:41,DEFAULT:42,class:43,CLASSENTITY_IDS:44,STYLECLASS:45,style:46,STYLE_ENTITY_IDS:47,STYLE_DEFINITION_DATA:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"NODE_ID",34:"DIR",35:"NODE_DSTART",36:"NODE_DEND",37:"BLOCK_ARROW_START",38:"BLOCK_ARROW_END",39:"classDef",40:"CLASSDEF_ID",41:"CLASSDEF_STYLEOPTS",42:"DEFAULT",43:"class",44:"CLASSENTITY_IDS",45:"STYLECLASS",46:"style",47:"STYLE_ENTITY_IDS",48:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[33,1],[33,2],[32,3],[32,4],[23,3],[23,3],[24,3],[25,3]],performAction:g(function(S,k,T,E,I,C,R){var w=C.length-1;switch(I){case 4:E.getLogger().debug("Rule: separator (NL) ");break;case 5:E.getLogger().debug("Rule: separator (Space) ");break;case 6:E.getLogger().debug("Rule: separator (EOF) ");break;case 7:E.getLogger().debug("Rule: hierarchy: ",C[w-1]),E.setHierarchy(C[w-1]);break;case 8:E.getLogger().debug("Stop NL ");break;case 9:E.getLogger().debug("Stop EOF ");break;case 10:E.getLogger().debug("Stop NL2 ");break;case 11:E.getLogger().debug("Stop EOF2 ");break;case 12:E.getLogger().debug("Rule: statement: ",C[w]),typeof C[w].length=="number"?this.$=C[w]:this.$=[C[w]];break;case 13:E.getLogger().debug("Rule: statement #2: ",C[w-1]),this.$=[C[w-1]].concat(C[w]);break;case 14:E.getLogger().debug("Rule: link: ",C[w],S),this.$={edgeTypeStr:C[w],label:""};break;case 15:E.getLogger().debug("Rule: LABEL link: ",C[w-3],C[w-1],C[w]),this.$={edgeTypeStr:C[w],label:C[w-1]};break;case 18:const $=parseInt(C[w]),A=E.generateId();this.$={id:A,type:"space",label:"",width:$,children:[]};break;case 23:E.getLogger().debug("Rule: (nodeStatement link node) ",C[w-2],C[w-1],C[w]," typestr: ",C[w-1].edgeTypeStr);const L=E.edgeStrToEdgeData(C[w-1].edgeTypeStr);this.$=[{id:C[w-2].id,label:C[w-2].label,type:C[w-2].type,directions:C[w-2].directions},{id:C[w-2].id+"-"+C[w].id,start:C[w-2].id,end:C[w].id,label:C[w-1].label,type:"edge",directions:C[w].directions,arrowTypeEnd:L,arrowTypeStart:"arrow_open"},{id:C[w].id,label:C[w].label,type:E.typeStr2Type(C[w].typeStr),directions:C[w].directions}];break;case 24:E.getLogger().debug("Rule: nodeStatement (abc88 node size) ",C[w-1],C[w]),this.$={id:C[w-1].id,label:C[w-1].label,type:E.typeStr2Type(C[w-1].typeStr),directions:C[w-1].directions,widthInColumns:parseInt(C[w],10)};break;case 25:E.getLogger().debug("Rule: nodeStatement (node) ",C[w]),this.$={id:C[w].id,label:C[w].label,type:E.typeStr2Type(C[w].typeStr),directions:C[w].directions,widthInColumns:1};break;case 26:E.getLogger().debug("APA123",this?this:"na"),E.getLogger().debug("COLUMNS: ",C[w]),this.$={type:"column-setting",columns:C[w]==="auto"?-1:parseInt(C[w])};break;case 27:E.getLogger().debug("Rule: id-block statement : ",C[w-2],C[w-1]),E.generateId(),this.$={...C[w-2],type:"composite",children:C[w-1]};break;case 28:E.getLogger().debug("Rule: blockStatement : ",C[w-2],C[w-1],C[w]);const N=E.generateId();this.$={id:N,type:"composite",label:"",children:C[w-1]};break;case 29:E.getLogger().debug("Rule: node (NODE_ID separator): ",C[w]),this.$={id:C[w]};break;case 30:E.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",C[w-1],C[w]),this.$={id:C[w-1],label:C[w].label,typeStr:C[w].typeStr,directions:C[w].directions};break;case 31:E.getLogger().debug("Rule: dirList: ",C[w]),this.$=[C[w]];break;case 32:E.getLogger().debug("Rule: dirList: ",C[w-1],C[w]),this.$=[C[w-1]].concat(C[w]);break;case 33:E.getLogger().debug("Rule: nodeShapeNLabel: ",C[w-2],C[w-1],C[w]),this.$={typeStr:C[w-2]+C[w],label:C[w-1]};break;case 34:E.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",C[w-3],C[w-2]," #3:",C[w-1],C[w]),this.$={typeStr:C[w-3]+C[w],label:C[w-2],directions:C[w-1]};break;case 35:case 36:this.$={type:"classDef",id:C[w-1].trim(),css:C[w].trim()};break;case 37:this.$={type:"applyClass",id:C[w-1].trim(),styleClass:C[w].trim()};break;case 38:this.$={type:"applyStyles",id:C[w-1].trim(),stylesStr:C[w].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{10:t,11:3,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:n,29:i,31:s,39:a,43:o,46:l},{8:[1,20]},e(u,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,10:t,21:r,28:n,29:i,31:s,39:a,43:o,46:l}),e(h,[2,16],{14:22,15:d,16:f}),e(h,[2,17]),e(h,[2,18]),e(h,[2,19]),e(h,[2,20]),e(h,[2,21]),e(h,[2,22]),e(p,[2,25],{27:[1,25]}),e(h,[2,26]),{19:26,26:12,31:s},{10:t,11:27,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:n,29:i,31:s,39:a,43:o,46:l},{40:[1,28],42:[1,29]},{44:[1,30]},{47:[1,31]},e(m,[2,29],{32:32,35:[1,33],37:[1,34]}),{1:[2,7]},e(u,[2,13]),{26:35,31:s},{31:[2,14]},{17:[1,36]},e(p,[2,24]),{10:t,11:37,13:4,14:22,15:d,16:f,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:n,29:i,31:s,39:a,43:o,46:l},{30:[1,38]},{41:[1,39]},{41:[1,40]},{45:[1,41]},{48:[1,42]},e(m,[2,30]),{18:[1,43]},{18:[1,44]},e(p,[2,23]),{18:[1,45]},{30:[1,46]},e(h,[2,28]),e(h,[2,35]),e(h,[2,36]),e(h,[2,37]),e(h,[2,38]),{36:[1,47]},{33:48,34:y},{15:[1,50]},e(h,[2,27]),e(m,[2,33]),{38:[1,51]},{33:52,34:y,38:[2,31]},{31:[2,15]},e(m,[2,34]),{38:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:g(function(S,k){if(k.recoverable)this.trace(S);else{var T=new Error(S);throw T.hash=k,T}},"parseError"),parse:g(function(S){var k=this,T=[0],E=[],I=[null],C=[],R=this.table,w="",$=0,A=0,L=2,N=1,D=C.slice.call(arguments,1),P=Object.create(this.lexer),O={yy:{}};for(var M in this.yy)Object.prototype.hasOwnProperty.call(this.yy,M)&&(O.yy[M]=this.yy[M]);P.setInput(S,O.yy),O.yy.lexer=P,O.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var Y=P.yylloc;C.push(Y);var F=P.options&&P.options.ranges;typeof O.yy.parseError=="function"?this.parseError=O.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function j(V){T.length=T.length-2*V,I.length=I.length-V,C.length=C.length-V}g(j,"popStack");function it(){var V;return V=E.pop()||P.lex()||N,typeof V!="number"&&(V instanceof Array&&(E=V,V=E.pop()),V=k.symbols_[V]||V),V}g(it,"lex");for(var ft,J,dt,et,St={},ct,bt,nt,Z;;){if(J=T[T.length-1],this.defaultActions[J]?dt=this.defaultActions[J]:((ft===null||typeof ft>"u")&&(ft=it()),dt=R[J]&&R[J][ft]),typeof dt>"u"||!dt.length||!dt[0]){var z="";Z=[];for(ct in R[J])this.terminals_[ct]&&ct>L&&Z.push("'"+this.terminals_[ct]+"'");P.showPosition?z="Parse error on line "+($+1)+`:
`+P.showPosition()+`
Expecting `+Z.join(", ")+", got '"+(this.terminals_[ft]||ft)+"'":z="Parse error on line "+($+1)+": Unexpected "+(ft==N?"end of input":"'"+(this.terminals_[ft]||ft)+"'"),this.parseError(z,{text:P.match,token:this.terminals_[ft]||ft,line:P.yylineno,loc:Y,expected:Z})}if(dt[0]instanceof Array&&dt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+ft);switch(dt[0]){case 1:T.push(ft),I.push(P.yytext),C.push(P.yylloc),T.push(dt[1]),ft=null,A=P.yyleng,w=P.yytext,$=P.yylineno,Y=P.yylloc;break;case 2:if(bt=this.productions_[dt[1]][1],St.$=I[I.length-bt],St._$={first_line:C[C.length-(bt||1)].first_line,last_line:C[C.length-1].last_line,first_column:C[C.length-(bt||1)].first_column,last_column:C[C.length-1].last_column},F&&(St._$.range=[C[C.length-(bt||1)].range[0],C[C.length-1].range[1]]),et=this.performAction.apply(St,[w,A,$,O.yy,dt[1],I,C].concat(D)),typeof et<"u")return et;bt&&(T=T.slice(0,-1*bt*2),I=I.slice(0,-1*bt),C=C.slice(0,-1*bt)),T.push(this.productions_[dt[1]][0]),I.push(St.$),C.push(St._$),nt=R[T[T.length-2]][T[T.length-1]],T.push(nt);break;case 3:return!0}}return!0},"parse")},x=function(){var _={EOF:1,parseError:g(function(k,T){if(this.yy.parser)this.yy.parser.parseError(k,T);else throw new Error(k)},"parseError"),setInput:g(function(S,k){return this.yy=k||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:g(function(){var S=this._input[0];this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S;var k=S.match(/(?:\r\n?|\n).*/g);return k?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),S},"input"),unput:g(function(S){var k=S.length,T=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-k),this.offset-=k;var E=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),T.length-1&&(this.yylineno-=T.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:T?(T.length===E.length?this.yylloc.first_column:0)+E[E.length-T.length].length-T[0].length:this.yylloc.first_column-k},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-k]),this.yyleng=this.yytext.length,this},"unput"),more:g(function(){return this._more=!0,this},"more"),reject:g(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:g(function(S){this.unput(this.match.slice(S))},"less"),pastInput:g(function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:g(function(){var S=this.match;return S.length<20&&(S+=this._input.substr(0,20-S.length)),(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:g(function(){var S=this.pastInput(),k=new Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+k+"^"},"showPosition"),test_match:g(function(S,k){var T,E,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),E=S[0].match(/(?:\r\n?|\n).*/g),E&&(this.yylineno+=E.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:E?E[E.length-1].length-E[E.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],T=this.performAction.call(this,this.yy,this,k,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),T)return T;if(this._backtrack){for(var C in I)this[C]=I[C];return!1}return!1},"test_match"),next:g(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var S,k,T,E;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),C=0;C<I.length;C++)if(T=this._input.match(this.rules[I[C]]),T&&(!k||T[0].length>k[0].length)){if(k=T,E=C,this.options.backtrack_lexer){if(S=this.test_match(T,I[C]),S!==!1)return S;if(this._backtrack){k=!1;continue}else return!1}else if(!this.options.flex)break}return k?(S=this.test_match(k,I[E]),S!==!1?S:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:g(function(){var k=this.next();return k||this.lex()},"lex"),begin:g(function(k){this.conditionStack.push(k)},"begin"),popState:g(function(){var k=this.conditionStack.length-1;return k>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:g(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:g(function(k){return k=this.conditionStack.length-1-Math.abs(k||0),k>=0?this.conditionStack[k]:"INITIAL"},"topState"),pushState:g(function(k){this.begin(k)},"pushState"),stateStackSize:g(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:g(function(k,T,E,I){switch(E){case 0:return k.getLogger().debug("Found block-beta"),10;case 1:return k.getLogger().debug("Found id-block"),29;case 2:return k.getLogger().debug("Found block"),10;case 3:k.getLogger().debug(".",T.yytext);break;case 4:k.getLogger().debug("_",T.yytext);break;case 5:return 5;case 6:return T.yytext=-1,28;case 7:return T.yytext=T.yytext.replace(/columns\s+/,""),k.getLogger().debug("COLUMNS (LEX)",T.yytext),28;case 8:this.pushState("md_string");break;case 9:return"MD_STR";case 10:this.popState();break;case 11:this.pushState("string");break;case 12:k.getLogger().debug("LEX: POPPING STR:",T.yytext),this.popState();break;case 13:return k.getLogger().debug("LEX: STR end:",T.yytext),"STR";case 14:return T.yytext=T.yytext.replace(/space\:/,""),k.getLogger().debug("SPACE NUM (LEX)",T.yytext),21;case 15:return T.yytext="1",k.getLogger().debug("COLUMNS (LEX)",T.yytext),21;case 16:return 42;case 17:return"LINKSTYLE";case 18:return"INTERPOLATE";case 19:return this.pushState("CLASSDEF"),39;case 20:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 21:return this.popState(),this.pushState("CLASSDEFID"),40;case 22:return this.popState(),41;case 23:return this.pushState("CLASS"),43;case 24:return this.popState(),this.pushState("CLASS_STYLE"),44;case 25:return this.popState(),45;case 26:return this.pushState("STYLE_STMNT"),46;case 27:return this.popState(),this.pushState("STYLE_DEFINITION"),47;case 28:return this.popState(),48;case 29:return this.pushState("acc_title"),"acc_title";case 30:return this.popState(),"acc_title_value";case 31:return this.pushState("acc_descr"),"acc_descr";case 32:return this.popState(),"acc_descr_value";case 33:this.pushState("acc_descr_multiline");break;case 34:this.popState();break;case 35:return"acc_descr_multiline_value";case 36:return 30;case 37:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 38:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),k.getLogger().debug("Lex: ))"),"NODE_DEND";case 40:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 41:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),k.getLogger().debug("Lex: (-"),"NODE_DEND";case 43:return this.popState(),k.getLogger().debug("Lex: -)"),"NODE_DEND";case 44:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 45:return this.popState(),k.getLogger().debug("Lex: ]]"),"NODE_DEND";case 46:return this.popState(),k.getLogger().debug("Lex: ("),"NODE_DEND";case 47:return this.popState(),k.getLogger().debug("Lex: ])"),"NODE_DEND";case 48:return this.popState(),k.getLogger().debug("Lex: /]"),"NODE_DEND";case 49:return this.popState(),k.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),k.getLogger().debug("Lex: )]"),"NODE_DEND";case 51:return this.popState(),k.getLogger().debug("Lex: )"),"NODE_DEND";case 52:return this.popState(),k.getLogger().debug("Lex: ]>"),"NODE_DEND";case 53:return this.popState(),k.getLogger().debug("Lex: ]"),"NODE_DEND";case 54:return k.getLogger().debug("Lexa: -)"),this.pushState("NODE"),35;case 55:return k.getLogger().debug("Lexa: (-"),this.pushState("NODE"),35;case 56:return k.getLogger().debug("Lexa: ))"),this.pushState("NODE"),35;case 57:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 58:return k.getLogger().debug("Lex: ((("),this.pushState("NODE"),35;case 59:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 60:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 61:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 62:return k.getLogger().debug("Lexc: >"),this.pushState("NODE"),35;case 63:return k.getLogger().debug("Lexa: (["),this.pushState("NODE"),35;case 64:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 65:return this.pushState("NODE"),35;case 66:return this.pushState("NODE"),35;case 67:return this.pushState("NODE"),35;case 68:return this.pushState("NODE"),35;case 69:return this.pushState("NODE"),35;case 70:return this.pushState("NODE"),35;case 71:return this.pushState("NODE"),35;case 72:return k.getLogger().debug("Lexa: ["),this.pushState("NODE"),35;case 73:return this.pushState("BLOCK_ARROW"),k.getLogger().debug("LEX ARR START"),37;case 74:return k.getLogger().debug("Lex: NODE_ID",T.yytext),31;case 75:return k.getLogger().debug("Lex: EOF",T.yytext),8;case 76:this.pushState("md_string");break;case 77:this.pushState("md_string");break;case 78:return"NODE_DESCR";case 79:this.popState();break;case 80:k.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 81:k.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 82:return k.getLogger().debug("LEX: NODE_DESCR:",T.yytext),"NODE_DESCR";case 83:k.getLogger().debug("LEX POPPING"),this.popState();break;case 84:k.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 85:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (right): dir:",T.yytext),"DIR";case 86:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (left):",T.yytext),"DIR";case 87:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (x):",T.yytext),"DIR";case 88:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (y):",T.yytext),"DIR";case 89:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (up):",T.yytext),"DIR";case 90:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (down):",T.yytext),"DIR";case 91:return T.yytext="]>",k.getLogger().debug("Lex (ARROW_DIR end):",T.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 92:return k.getLogger().debug("Lex: LINK","#"+T.yytext+"#"),15;case 93:return k.getLogger().debug("Lex: LINK",T.yytext),15;case 94:return k.getLogger().debug("Lex: LINK",T.yytext),15;case 95:return k.getLogger().debug("Lex: LINK",T.yytext),15;case 96:return k.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;case 97:return k.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;case 98:return k.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;case 99:this.pushState("md_string");break;case 100:return k.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 101:return this.popState(),k.getLogger().debug("Lex: LINK","#"+T.yytext+"#"),15;case 102:return this.popState(),k.getLogger().debug("Lex: LINK",T.yytext),15;case 103:return this.popState(),k.getLogger().debug("Lex: LINK",T.yytext),15;case 104:return k.getLogger().debug("Lex: COLON",T.yytext),T.yytext=T.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block:)/,/^(?:block\b)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[28],inclusive:!1},STYLE_STMNT:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[22],inclusive:!1},CLASSDEF:{rules:[20,21],inclusive:!1},CLASS_STYLE:{rules:[25],inclusive:!1},CLASS:{rules:[24],inclusive:!1},LLABEL:{rules:[99,100,101,102,103],inclusive:!1},ARROW_DIR:{rules:[85,86,87,88,89,90,91],inclusive:!1},BLOCK_ARROW:{rules:[76,81,84],inclusive:!1},NODE:{rules:[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77,80],inclusive:!1},md_string:{rules:[9,10,78,79],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[12,13,82,83],inclusive:!1},acc_descr_multiline:{rules:[34,35],inclusive:!1},acc_descr:{rules:[32],inclusive:!1},acc_title:{rules:[30],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,11,14,15,16,17,18,19,23,26,29,31,33,36,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,92,93,94,95,96,97,98,104],inclusive:!0}}};return _}();b.lexer=x;function v(){this.yy={}}return g(v,"Parser"),v.prototype=b,b.Parser=v,new v}();ck.parser=ck;var pAt=ck,Cs=new Map,C3=[],uk=new Map,yL="color",xL="fill",gAt="bgFill",HV=",",mAt=rt(),Ty=new Map,yAt=g(e=>Ot.sanitizeText(e,mAt),"sanitizeText"),xAt=g(function(e,t=""){let r=Ty.get(e);r||(r={id:e,styles:[],textStyles:[]},Ty.set(e,r)),t!=null&&t.split(HV).forEach(n=>{const i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(yL).exec(n)){const a=i.replace(xL,gAt).replace(yL,xL);r.textStyles.push(a)}r.styles.push(i)})},"addStyleClass"),bAt=g(function(e,t=""){const r=Cs.get(e);t!=null&&(r.styles=t.split(HV))},"addStyle2Node"),vAt=g(function(e,t){e.split(",").forEach(function(r){let n=Cs.get(r);if(n===void 0){const i=r.trim();n={id:i,type:"na",children:[]},Cs.set(i,n)}n.classes||(n.classes=[]),n.classes.push(t)})},"setCssClass"),GV=g((e,t)=>{const r=e.flat(),n=[],i=r.find(a=>(a==null?void 0:a.type)==="column-setting"),s=(i==null?void 0:i.columns)??-1;for(const a of r){if(typeof s=="number"&&s>0&&a.type!=="column-setting"&&typeof a.widthInColumns=="number"&&a.widthInColumns>s&&U.warn(`Block ${a.id} width ${a.widthInColumns} exceeds configured column width ${s}`),a.label&&(a.label=yAt(a.label)),a.type==="classDef"){xAt(a.id,a.css);continue}if(a.type==="applyClass"){vAt(a.id,(a==null?void 0:a.styleClass)??"");continue}if(a.type==="applyStyles"){a!=null&&a.stylesStr&&bAt(a.id,a==null?void 0:a.stylesStr);continue}if(a.type==="column-setting")t.columns=a.columns??-1;else if(a.type==="edge"){const o=(uk.get(a.id)??0)+1;uk.set(a.id,o),a.id=o+"-"+a.id,C3.push(a)}else{a.label||(a.type==="composite"?a.label="":a.label=a.id);const o=Cs.get(a.id);if(o===void 0?Cs.set(a.id,a):(a.type!=="na"&&(o.type=a.type),a.label!==a.id&&(o.label=a.label)),a.children&&GV(a.children,a),a.type==="space"){const l=a.width??1;for(let u=0;u<l;u++){const h=bD(a);h.id=h.id+"-"+u,Cs.set(h.id,h),n.push(h)}}else o===void 0&&n.push(a)}}t.children=n},"populateBlockDatabase"),E3=[],rp={id:"root",type:"composite",children:[],columns:-1},_At=g(()=>{U.debug("Clear called"),Fr(),rp={id:"root",type:"composite",children:[],columns:-1},Cs=new Map([["root",rp]]),E3=[],Ty=new Map,C3=[],uk=new Map},"clear");function qV(e){switch(U.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return U.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}g(qV,"typeStr2Type");function jV(e){switch(U.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}g(jV,"edgeTypeStr2Type");function YV(e){switch(e.replace(/^[\s-]+|[\s-]+$/g,"")){case"x":return"arrow_cross";case"o":return"arrow_circle";case">":return"arrow_point";default:return""}}g(YV,"edgeStrToEdgeData");var bL=0,TAt=g(()=>(bL++,"id-"+Math.random().toString(36).substr(2,12)+"-"+bL),"generateId"),kAt=g(e=>{rp.children=e,GV(e,rp),E3=rp.children},"setHierarchy"),wAt=g(e=>{const t=Cs.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),SAt=g(()=>[...Cs.values()],"getBlocksFlat"),CAt=g(()=>E3||[],"getBlocks"),EAt=g(()=>C3,"getEdges"),AAt=g(e=>Cs.get(e),"getBlock"),LAt=g(e=>{Cs.set(e.id,e)},"setBlock"),RAt=g(()=>U,"getLogger"),IAt=g(function(){return Ty},"getClasses"),NAt={getConfig:g(()=>De().block,"getConfig"),typeStr2Type:qV,edgeTypeStr2Type:jV,edgeStrToEdgeData:YV,getLogger:RAt,getBlocksFlat:SAt,getBlocks:CAt,getEdges:EAt,setHierarchy:kAt,getBlock:AAt,setBlock:LAt,getColumns:wAt,getClasses:IAt,clear:_At,generateId:TAt},$At=NAt,M1=g((e,t)=>{const r=Rk,n=r(e,"r"),i=r(e,"g"),s=r(e,"b");return Co(n,i,s,t)},"fade"),OAt=g(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${M1(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${M1(e.mainBkg,.5)};
    fill: ${M1(e.clusterBkg,.5)};
    stroke: ${M1(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
  ${xg()}
`,"getStyles"),DAt=OAt,MAt=g((e,t,r,n)=>{t.forEach(i=>{qAt[i](e,r,n)})},"insertMarkers"),PAt=g((e,t,r)=>{U.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),BAt=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),FAt=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),VAt=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),zAt=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),WAt=g((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),UAt=g((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),HAt=g((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),GAt=g((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),qAt={extension:PAt,composition:BAt,aggregation:FAt,dependency:VAt,lollipop:zAt,point:WAt,circle:UAt,cross:HAt,barb:GAt},jAt=MAt,LL,RL,Sr=((RL=(LL=rt())==null?void 0:LL.block)==null?void 0:RL.padding)??8;function XV(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};const r=t%e,n=Math.floor(t/e);return{px:r,py:n}}g(XV,"calculateBlockPosition");var YAt=g(e=>{let t=0,r=0;for(const n of e.children){const{width:i,height:s,x:a,y:o}=n.size??{width:0,height:0,x:0,y:0};U.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",s,"x:",a,"y:",o,n.type),n.type!=="space"&&(i>t&&(t=i/(e.widthInColumns??1)),s>r&&(r=s))}return{width:t,height:r}},"getMaxChildSize");function ky(e,t,r=0,n=0){var a,o,l,u,h,d,f,p,m,y,b;U.debug("setBlockSizes abc95 (start)",e.id,(a=e==null?void 0:e.size)==null?void 0:a.x,"block width =",e==null?void 0:e.size,"siblingWidth",r),(o=e==null?void 0:e.size)!=null&&o.width||(e.size={width:r,height:n,x:0,y:0});let i=0,s=0;if(((l=e.children)==null?void 0:l.length)>0){for(const I of e.children)ky(I,t);const x=YAt(e);i=x.width,s=x.height,U.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",i,s);for(const I of e.children)I.size&&(U.debug(`abc95 Setting size of children of ${e.id} id=${I.id} ${i} ${s} ${JSON.stringify(I.size)}`),I.size.width=i*(I.widthInColumns??1)+Sr*((I.widthInColumns??1)-1),I.size.height=s,I.size.x=0,I.size.y=0,U.debug(`abc95 updating size of ${e.id} children child:${I.id} maxWidth:${i} maxHeight:${s}`));for(const I of e.children)ky(I,t,i,s);const v=e.columns??-1;let _=0;for(const I of e.children)_+=I.widthInColumns??1;let S=e.children.length;v>0&&v<_&&(S=v);const k=Math.ceil(_/S);let T=S*(i+Sr)+Sr,E=k*(s+Sr)+Sr;if(T<r){U.debug(`Detected to small sibling: abc95 ${e.id} siblingWidth ${r} siblingHeight ${n} width ${T}`),T=r,E=n;const I=(r-S*Sr-Sr)/S,C=(n-k*Sr-Sr)/k;U.debug("Size indata abc88",e.id,"childWidth",I,"maxWidth",i),U.debug("Size indata abc88",e.id,"childHeight",C,"maxHeight",s),U.debug("Size indata abc88 xSize",S,"padding",Sr);for(const R of e.children)R.size&&(R.size.width=I,R.size.height=C,R.size.x=0,R.size.y=0)}if(U.debug(`abc95 (finale calc) ${e.id} xSize ${S} ySize ${k} columns ${v}${e.children.length} width=${Math.max(T,((u=e.size)==null?void 0:u.width)||0)}`),T<(((h=e==null?void 0:e.size)==null?void 0:h.width)||0)){T=((d=e==null?void 0:e.size)==null?void 0:d.width)||0;const I=v>0?Math.min(e.children.length,v):e.children.length;if(I>0){const C=(T-I*Sr-Sr)/I;U.debug("abc95 (growing to fit) width",e.id,T,(f=e.size)==null?void 0:f.width,C);for(const R of e.children)R.size&&(R.size.width=C)}}e.size={width:T,height:E,x:0,y:0}}U.debug("setBlockSizes abc94 (done)",e.id,(p=e==null?void 0:e.size)==null?void 0:p.x,(m=e==null?void 0:e.size)==null?void 0:m.width,(y=e==null?void 0:e.size)==null?void 0:y.y,(b=e==null?void 0:e.size)==null?void 0:b.height)}g(ky,"setBlockSizes");function A3(e,t){var n,i,s,a,o,l,u,h,d,f,p,m,y,b,x,v,_;U.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${(n=e==null?void 0:e.size)==null?void 0:n.x} y: ${(i=e==null?void 0:e.size)==null?void 0:i.y} width: ${(s=e==null?void 0:e.size)==null?void 0:s.width}`);const r=e.columns??-1;if(U.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){const S=((o=(a=e==null?void 0:e.children[0])==null?void 0:a.size)==null?void 0:o.width)??0,k=e.children.length*S+(e.children.length-1)*Sr;U.debug("widthOfChildren 88",k,"posX");let T=0;U.debug("abc91 block?.size?.x",e.id,(l=e==null?void 0:e.size)==null?void 0:l.x);let E=(u=e==null?void 0:e.size)!=null&&u.x?((h=e==null?void 0:e.size)==null?void 0:h.x)+(-((d=e==null?void 0:e.size)==null?void 0:d.width)/2||0):-Sr,I=0;for(const C of e.children){const R=e;if(!C.size)continue;const{width:w,height:$}=C.size,{px:A,py:L}=XV(r,T);if(L!=I&&(I=L,E=(f=e==null?void 0:e.size)!=null&&f.x?((p=e==null?void 0:e.size)==null?void 0:p.x)+(-((m=e==null?void 0:e.size)==null?void 0:m.width)/2||0):-Sr,U.debug("New row in layout for block",e.id," and child ",C.id,I)),U.debug(`abc89 layout blocks (child) id: ${C.id} Pos: ${T} (px, py) ${A},${L} (${(y=R==null?void 0:R.size)==null?void 0:y.x},${(b=R==null?void 0:R.size)==null?void 0:b.y}) parent: ${R.id} width: ${w}${Sr}`),R.size){const D=w/2;C.size.x=E+Sr+D,U.debug(`abc91 layout blocks (calc) px, pyid:${C.id} startingPos=X${E} new startingPosX${C.size.x} ${D} padding=${Sr} width=${w} halfWidth=${D} => x:${C.size.x} y:${C.size.y} ${C.widthInColumns} (width * (child?.w || 1)) / 2 ${w*((C==null?void 0:C.widthInColumns)??1)/2}`),E=C.size.x+D,C.size.y=R.size.y-R.size.height/2+L*($+Sr)+$/2+Sr,U.debug(`abc88 layout blocks (calc) px, pyid:${C.id}startingPosX${E}${Sr}${D}=>x:${C.size.x}y:${C.size.y}${C.widthInColumns}(width * (child?.w || 1)) / 2${w*((C==null?void 0:C.widthInColumns)??1)/2}`)}C.children&&A3(C);let N=(C==null?void 0:C.widthInColumns)??1;r>0&&(N=Math.min(N,r-T%r)),T+=N,U.debug("abc88 columnsPos",C,T)}}U.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${(x=e==null?void 0:e.size)==null?void 0:x.x} y: ${(v=e==null?void 0:e.size)==null?void 0:v.y} width: ${(_=e==null?void 0:e.size)==null?void 0:_.width}`)}g(A3,"layoutBlocks");function L3(e,{minX:t,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){const{x:s,y:a,width:o,height:l}=e.size;s-o/2<t&&(t=s-o/2),a-l/2<r&&(r=a-l/2),s+o/2>n&&(n=s+o/2),a+l/2>i&&(i=a+l/2)}if(e.children)for(const s of e.children)({minX:t,minY:r,maxX:n,maxY:i}=L3(s,{minX:t,minY:r,maxX:n,maxY:i}));return{minX:t,minY:r,maxX:n,maxY:i}}g(L3,"findBounds");function KV(e){const t=e.getBlock("root");if(!t)return;ky(t,e,0,0),A3(t),U.debug("getBlocks",JSON.stringify(t,null,2));const{minX:r,minY:n,maxX:i,maxY:s}=L3(t),a=s-n,o=i-r;return{x:r,y:n,width:o,height:a}}g(KV,"layout");function hk(e,t){t&&e.attr("style",t)}g(hk,"applyStyle");function QV(e,t){const r=Lt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=r.append("xhtml:div"),i=e.label,s=e.isNode?"nodeLabel":"edgeLabel",a=n.append("span");return a.html(Ne(i,t)),hk(a,e.labelStyle),a.attr("class",s),hk(n,e.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),r.node()}g(QV,"addHtmlLabel");var XAt=g(async(e,t,r,n)=>{let i=e||"";typeof i=="object"&&(i=i[0]);const s=rt();if(Ze(s.flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),U.debug("vertexText"+i);const a=await Aw(sa(i)),o={isNode:n,label:a,labelStyle:t.replace("fill:","color:")};return QV(o,s)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(const l of o){const u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=l.trim(),a.appendChild(u)}return a}},"createLabel"),ji=XAt,KAt=g((e,t,r,n,i)=>{t.arrowTypeStart&&vL(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&vL(e,"end",t.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),QAt={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},vL=g((e,t,r,n,i,s)=>{const a=QAt[r];if(!a){U.warn(`Unknown arrow type: ${r}`);return}const o=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${s}-${a}${o})`)},"addEdgeMarker"),dk={},En={},ZAt=g(async(e,t)=>{const r=rt(),n=Ze(r.flowchart.htmlLabels),i=t.labelType==="markdown"?Ri(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):await ji(t.label,t.labelStyle),s=e.insert("g").attr("class","edgeLabel"),a=s.insert("g").attr("class","label");a.node().appendChild(i);let o=i.getBBox();if(n){const u=i.children[0],h=Lt(i);o=u.getBoundingClientRect(),h.attr("width",o.width),h.attr("height",o.height)}a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),dk[t.id]=s,t.width=o.width,t.height=o.height;let l;if(t.startLabelLeft){const u=await ji(t.startLabelLeft,t.labelStyle),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),En[t.id]||(En[t.id]={}),En[t.id].startLeft=h,Vf(l,t.startLabelLeft)}if(t.startLabelRight){const u=await ji(t.startLabelRight,t.labelStyle),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=h.node().appendChild(u),d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),En[t.id]||(En[t.id]={}),En[t.id].startRight=h,Vf(l,t.startLabelRight)}if(t.endLabelLeft){const u=await ji(t.endLabelLeft,t.labelStyle),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(u),En[t.id]||(En[t.id]={}),En[t.id].endLeft=h,Vf(l,t.endLabelLeft)}if(t.endLabelRight){const u=await ji(t.endLabelRight,t.labelStyle),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);const f=u.getBBox();d.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),h.node().appendChild(u),En[t.id]||(En[t.id]={}),En[t.id].endRight=h,Vf(l,t.endLabelRight)}return i},"insertEdgeLabel");function Vf(e,t){rt().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}g(Vf,"setTerminalWidth");var JAt=g((e,t)=>{U.debug("Moving label abc88 ",e.id,e.label,dk[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=rt(),{subGraphTitleTotalMargin:i}=hg(n);if(e.label){const s=dk[e.id];let a=e.x,o=e.y;if(r){const l=be.calcLabelPosition(r);U.debug("Moving label "+e.label+" from (",a,",",o,") to (",l.x,",",l.y,") abc88"),t.updatedPath&&(a=l.x,o=l.y)}s.attr("transform",`translate(${a}, ${o+i/2})`)}if(e.startLabelLeft){const s=En[e.id].startLeft;let a=e.x,o=e.y;if(r){const l=be.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.startLabelRight){const s=En[e.id].startRight;let a=e.x,o=e.y;if(r){const l=be.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelLeft){const s=En[e.id].endLeft;let a=e.x,o=e.y;if(r){const l=be.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}if(e.endLabelRight){const s=En[e.id].endRight;let a=e.x,o=e.y;if(r){const l=be.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);a=l.x,o=l.y}s.attr("transform",`translate(${a}, ${o})`)}},"positionEdgeLabel"),t6t=g((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-n),a=e.width/2,o=e.height/2;return i>=a||s>=o},"outsideNode"),e6t=g((e,t,r)=>{U.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,s=Math.abs(n-r.x),a=e.width/2;let o=r.x<t.x?a-s:a+s;const l=e.height/2,u=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*a>Math.abs(n-t.x)*l){let d=r.y<t.y?t.y-l-i:i-l-t.y;o=h*d/u;const f={x:r.x<t.x?r.x+o:r.x-h+o,y:r.y<t.y?r.y+u-d:r.y-u+d};return o===0&&(f.x=t.x,f.y=t.y),h===0&&(f.x=t.x),u===0&&(f.y=t.y),U.debug(`abc89 topp/bott calc, Q ${u}, q ${d}, R ${h}, r ${o}`,f),f}else{r.x<t.x?o=t.x-a-n:o=n-a-t.x;let d=u*o/h,f=r.x<t.x?r.x+h-o:r.x-h+o,p=r.y<t.y?r.y+d:r.y-d;return U.debug(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${o}`,{_x:f,_y:p}),o===0&&(f=t.x,p=t.y),h===0&&(f=t.x),u===0&&(p=t.y),{x:f,y:p}}},"intersection"),_L=g((e,t)=>{U.debug("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(s=>{if(!t6t(t,s)&&!i){const a=e6t(t,n,s);let o=!1;r.forEach(l=>{o=o||l.x===a.x&&l.y===a.y}),r.some(l=>l.x===a.x&&l.y===a.y)||r.push(a),i=!0}else n=s,i||r.push(s)}),r},"cutPathAtIntersect"),r6t=g(function(e,t,r,n,i,s,a){let o=r.points;U.debug("abc88 InsertEdge: edge=",r,"e=",t);let l=!1;const u=s.node(t.v);var h=s.node(t.w);h!=null&&h.intersect&&(u!=null&&u.intersect)&&(o=o.slice(1,r.points.length-1),o.unshift(u.intersect(o[0])),o.push(h.intersect(o[o.length-1]))),r.toCluster&&(U.debug("to cluster abc88",n[r.toCluster]),o=_L(r.points,n[r.toCluster].node),l=!0),r.fromCluster&&(U.debug("from cluster abc88",n[r.fromCluster]),o=_L(o.reverse(),n[r.fromCluster].node).reverse(),l=!0);const d=o.filter(S=>!Number.isNaN(S.y));let f=fu;r.curve&&(i==="graph"||i==="flowchart")&&(f=r.curve);const{x:p,y:m}=bN(r),y=vp().x(p).y(m).curve(f);let b;switch(r.thickness){case"normal":b="edge-thickness-normal";break;case"thick":b="edge-thickness-thick";break;case"invisible":b="edge-thickness-thick";break;default:b=""}switch(r.pattern){case"solid":b+=" edge-pattern-solid";break;case"dotted":b+=" edge-pattern-dotted";break;case"dashed":b+=" edge-pattern-dashed";break}const x=e.append("path").attr("d",y(d)).attr("id",r.id).attr("class"," "+b+(r.classes?" "+r.classes:"")).attr("style",r.style);let v="";(rt().flowchart.arrowMarkerAbsolute||rt().state.arrowMarkerAbsolute)&&(v=Xy(!0)),KAt(x,r,v,a,i);let _={};return l&&(_.updatedPath=o),_.originalPath=r.points,_},"insertEdge"),n6t=g(e=>{const t=new Set;for(const r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r);break}return t},"expandAndDeduplicateDirections"),i6t=g((e,t,r)=>{const n=n6t(e),i=2,s=t.height+2*r.padding,a=s/i,o=t.width+2*a+r.padding,l=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:a,y:0},{x:o/2,y:2*l},{x:o-a,y:0},{x:o,y:0},{x:o,y:-s/3},{x:o+2*l,y:-s/2},{x:o,y:-2*s/3},{x:o,y:-s},{x:o-a,y:-s},{x:o/2,y:-s-2*l},{x:a,y:-s},{x:0,y:-s},{x:0,y:-2*s/3},{x:-2*l,y:-s/2},{x:0,y:-s/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:a,y:0},{x:o-a,y:0},{x:o,y:-s/2},{x:o-a,y:-s},{x:a,y:-s},{x:0,y:-s/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:a,y:-s},{x:o-a,y:-s},{x:o,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:o,y:-a},{x:o,y:-s+a},{x:0,y:-s}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:o,y:0},{x:0,y:-a},{x:0,y:-s+a},{x:o,y:-s}]:n.has("right")&&n.has("left")?[{x:a,y:0},{x:a,y:-l},{x:o-a,y:-l},{x:o-a,y:0},{x:o,y:-s/2},{x:o-a,y:-s},{x:o-a,y:-s+l},{x:a,y:-s+l},{x:a,y:-s},{x:0,y:-s/2}]:n.has("up")&&n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:a,y:-l},{x:a,y:-s+l},{x:0,y:-s+l},{x:o/2,y:-s},{x:o,y:-s+l},{x:o-a,y:-s+l},{x:o-a,y:-l},{x:o,y:-l}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:o,y:-a},{x:0,y:-s}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-s}]:n.has("left")&&n.has("up")?[{x:o,y:0},{x:0,y:-a},{x:o,y:-s}]:n.has("left")&&n.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-s}]:n.has("right")?[{x:a,y:-l},{x:a,y:-l},{x:o-a,y:-l},{x:o-a,y:0},{x:o,y:-s/2},{x:o-a,y:-s},{x:o-a,y:-s+l},{x:a,y:-s+l},{x:a,y:-s+l}]:n.has("left")?[{x:a,y:0},{x:a,y:-l},{x:o-a,y:-l},{x:o-a,y:-s+l},{x:a,y:-s+l},{x:a,y:-s},{x:0,y:-s/2}]:n.has("up")?[{x:a,y:-l},{x:a,y:-s+l},{x:0,y:-s+l},{x:o/2,y:-s},{x:o,y:-s+l},{x:o-a,y:-s+l},{x:o-a,y:-l}]:n.has("down")?[{x:o/2,y:0},{x:0,y:-l},{x:a,y:-l},{x:a,y:-s+l},{x:o-a,y:-s+l},{x:o-a,y:-l},{x:o,y:-l}]:[{x:0,y:0}]},"getArrowPoints");function ZV(e,t){return e.intersect(t)}g(ZV,"intersectNode");var s6t=ZV;function JV(e,t,r,n){var i=e.x,s=e.y,a=i-n.x,o=s-n.y,l=Math.sqrt(t*t*o*o+r*r*a*a),u=Math.abs(t*r*a/l);n.x<i&&(u=-u);var h=Math.abs(t*r*o/l);return n.y<s&&(h=-h),{x:i+u,y:s+h}}g(JV,"intersectEllipse");var tz=JV;function ez(e,t,r){return tz(e,t,t,r)}g(ez,"intersectCircle");var a6t=ez;function rz(e,t,r,n){var i,s,a,o,l,u,h,d,f,p,m,y,b,x,v;if(i=t.y-e.y,a=e.x-t.x,l=t.x*e.y-e.x*t.y,f=i*r.x+a*r.y+l,p=i*n.x+a*n.y+l,!(f!==0&&p!==0&&fk(f,p))&&(s=n.y-r.y,o=r.x-n.x,u=n.x*r.y-r.x*n.y,h=s*e.x+o*e.y+u,d=s*t.x+o*t.y+u,!(h!==0&&d!==0&&fk(h,d))&&(m=i*o-s*a,m!==0)))return y=Math.abs(m/2),b=a*u-o*l,x=b<0?(b-y)/m:(b+y)/m,b=s*l-i*u,v=b<0?(b-y)/m:(b+y)/m,{x,y:v}}g(rz,"intersectLine");function fk(e,t){return e*t>0}g(fk,"sameSign");var o6t=rz,l6t=nz;function nz(e,t,r){var n=e.x,i=e.y,s=[],a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(m){a=Math.min(a,m.x),o=Math.min(o,m.y)}):(a=Math.min(a,t.x),o=Math.min(o,t.y));for(var l=n-e.width/2-a,u=i-e.height/2-o,h=0;h<t.length;h++){var d=t[h],f=t[h<t.length-1?h+1:0],p=o6t(e,r,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(m,y){var b=m.x-r.x,x=m.y-r.y,v=Math.sqrt(b*b+x*x),_=y.x-r.x,S=y.y-r.y,k=Math.sqrt(_*_+S*S);return v<k?-1:v===k?0:1}),s[0]):e}g(nz,"intersectPolygon");var c6t=g((e,t)=>{var r=e.x,n=e.y,i=t.x-r,s=t.y-n,a=e.width/2,o=e.height/2,l,u;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=s===0?0:o*i/s,u=o):(i<0&&(a=-a),l=a,u=i===0?0:a*s/i),{x:r+l,y:n+u}},"intersectRect"),u6t=c6t,pr={node:s6t,circle:a6t,ellipse:tz,polygon:l6t,rect:u6t},cn=g(async(e,t,r,n)=>{const i=rt();let s;const a=t.useHtmlLabels||Ze(i.flowchart.htmlLabels);r?s=r:s="node default";const o=e.insert("g").attr("class",s).attr("id",t.domId||t.id),l=o.insert("g").attr("class","label").attr("style",t.labelStyle);let u;t.labelText===void 0?u="":u=typeof t.labelText=="string"?t.labelText:t.labelText[0];const h=l.node();let d;t.labelType==="markdown"?d=Ri(l,Ne(sa(u),i),{useHtmlLabels:a,width:t.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):d=h.appendChild(await ji(Ne(sa(u),i),t.labelStyle,!1,n));let f=d.getBBox();const p=t.padding/2;if(Ze(i.flowchart.htmlLabels)){const m=d.children[0],y=Lt(d),b=m.getElementsByTagName("img");if(b){const x=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(v=>new Promise(_=>{function S(){if(v.style.display="flex",v.style.flexDirection="column",x){const k=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,E=parseInt(k,10)*5+"px";v.style.minWidth=E,v.style.maxWidth=E}else v.style.width="100%";_(v)}g(S,"setupImage"),setTimeout(()=>{v.complete&&S()}),v.addEventListener("error",S),v.addEventListener("load",S)})))}f=m.getBoundingClientRect(),y.attr("width",f.width),y.attr("height",f.height)}return a?l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):l.attr("transform","translate(0, "+-f.height/2+")"),t.centerLabel&&l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:o,bbox:f,halfPadding:p,label:l}},"labelHelper"),_r=g((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds");function Ms(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}g(Ms,"insertPolygonShape");var h6t=g(async(e,t)=>{t.useHtmlLabels||rt().flowchart.htmlLabels||(t.centerLabel=!0);const{shapeSvg:n,bbox:i,halfPadding:s}=await cn(e,t,"node "+t.classes,!0);U.info("Classes = ",t.classes);const a=n.insert("rect",":first-child");return a.attr("rx",t.rx).attr("ry",t.ry).attr("x",-i.width/2-s).attr("y",-i.height/2-s).attr("width",i.width+t.padding).attr("height",i.height+t.padding),_r(t,a),t.intersect=function(o){return pr.rect(t,o)},n},"note"),d6t=h6t,TL=g(e=>e?" "+e:"","formatClass"),Oi=g((e,t)=>`${t||"node default"}${TL(e.classes)} ${TL(e.class)}`,"getClassesFromNode"),kL=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,a=i+s,o=[{x:a/2,y:0},{x:a,y:-a/2},{x:a/2,y:-a},{x:0,y:-a/2}];U.info("Question main (Circle)");const l=Ms(r,a,a,o);return l.attr("style",t.style),_r(t,l),t.intersect=function(u){return U.warn("Intersect called"),pr.polygon(t,o,u)},r},"question"),f6t=g((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(a){return pr.circle(t,14,a)},r},"choice"),p6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=4,s=n.height+t.padding,a=s/i,o=n.width+2*a+t.padding,l=[{x:a,y:0},{x:o-a,y:0},{x:o,y:-s/2},{x:o-a,y:-s},{x:a,y:-s},{x:0,y:-s/2}],u=Ms(r,o,s,l);return u.attr("style",t.style),_r(t,u),t.intersect=function(h){return pr.polygon(t,l,h)},r},"hexagon"),g6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,void 0,!0),i=2,s=n.height+2*t.padding,a=s/i,o=n.width+2*a+t.padding,l=i6t(t.directions,n,t),u=Ms(r,o,s,l);return u.attr("style",t.style),_r(t,u),t.intersect=function(h){return pr.polygon(t,l,h)},r},"block_arrow"),m6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,a=[{x:-s/2,y:0},{x:i,y:0},{x:i,y:-s},{x:-s/2,y:-s},{x:0,y:-s/2}];return Ms(r,i,s,a).attr("style",t.style),t.width=i+s,t.height=s,t.intersect=function(l){return pr.polygon(t,a,l)},r},"rect_left_inv_arrow"),y6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t),!0),i=n.width+t.padding,s=n.height+t.padding,a=[{x:-2*s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:s/6,y:-s}],o=Ms(r,i,s,a);return o.attr("style",t.style),_r(t,o),t.intersect=function(l){return pr.polygon(t,a,l)},r},"lean_right"),x6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,a=[{x:2*s/6,y:0},{x:i+s/6,y:0},{x:i-2*s/6,y:-s},{x:-s/6,y:-s}],o=Ms(r,i,s,a);return o.attr("style",t.style),_r(t,o),t.intersect=function(l){return pr.polygon(t,a,l)},r},"lean_left"),b6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,a=[{x:-2*s/6,y:0},{x:i+2*s/6,y:0},{x:i-s/6,y:-s},{x:s/6,y:-s}],o=Ms(r,i,s,a);return o.attr("style",t.style),_r(t,o),t.intersect=function(l){return pr.polygon(t,a,l)},r},"trapezoid"),v6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,a=[{x:s/6,y:0},{x:i-s/6,y:0},{x:i+2*s/6,y:-s},{x:-2*s/6,y:-s}],o=Ms(r,i,s,a);return o.attr("style",t.style),_r(t,o),t.intersect=function(l){return pr.polygon(t,a,l)},r},"inv_trapezoid"),_6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,a=[{x:0,y:0},{x:i+s/2,y:0},{x:i,y:-s/2},{x:i+s/2,y:-s},{x:0,y:-s}],o=Ms(r,i,s,a);return o.attr("style",t.style),_r(t,o),t.intersect=function(l){return pr.polygon(t,a,l)},r},"rect_right_inv_arrow"),T6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=n.width+t.padding,s=i/2,a=s/(2.5+i/50),o=n.height+a+t.padding,l="M 0,"+a+" a "+s+","+a+" 0,0,0 "+i+" 0 a "+s+","+a+" 0,0,0 "+-i+" 0 l 0,"+o+" a "+s+","+a+" 0,0,0 "+i+" 0 l 0,"+-o,u=r.attr("label-offset-y",a).insert("path",":first-child").attr("style",t.style).attr("d",l).attr("transform","translate("+-i/2+","+-(o/2+a)+")");return _r(t,u),t.intersect=function(h){const d=pr.rect(t,h),f=d.x-t.x;if(s!=0&&(Math.abs(f)<t.width/2||Math.abs(f)==t.width/2&&Math.abs(d.y-t.y)>t.height/2-a)){let p=a*a*(1-f*f/(s*s));p!=0&&(p=Math.sqrt(p)),p=a-p,h.y-t.y>0&&(p=-p),d.y+=p}return d},r},"cylinder"),k6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await cn(e,t,"node "+t.classes+" "+t.class,!0),s=r.insert("rect",":first-child"),a=t.positioned?t.width:n.width+t.padding,o=t.positioned?t.height:n.height+t.padding,l=t.positioned?-a/2:-n.width/2-i,u=t.positioned?-o/2:-n.height/2-i;if(s.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",l).attr("y",u).attr("width",a).attr("height",o),t.props){const h=new Set(Object.keys(t.props));t.props.borders&&(vx(s,t.props.borders,a,o),h.delete("borders")),h.forEach(d=>{U.warn(`Unknown node property ${d}`)})}return _r(t,s),t.intersect=function(h){return pr.rect(t,h)},r},"rect"),w6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await cn(e,t,"node "+t.classes,!0),s=r.insert("rect",":first-child"),a=t.positioned?t.width:n.width+t.padding,o=t.positioned?t.height:n.height+t.padding,l=t.positioned?-a/2:-n.width/2-i,u=t.positioned?-o/2:-n.height/2-i;if(s.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",l).attr("y",u).attr("width",a).attr("height",o),t.props){const h=new Set(Object.keys(t.props));t.props.borders&&(vx(s,t.props.borders,a,o),h.delete("borders")),h.forEach(d=>{U.warn(`Unknown node property ${d}`)})}return _r(t,s),t.intersect=function(h){return pr.rect(t,h)},r},"composite"),S6t=g(async(e,t)=>{const{shapeSvg:r}=await cn(e,t,"label",!0);U.trace("Classes = ",t.class);const n=r.insert("rect",":first-child"),i=0,s=0;if(n.attr("width",i).attr("height",s),r.attr("class","label edgeLabel"),t.props){const a=new Set(Object.keys(t.props));t.props.borders&&(vx(n,t.props.borders,i,s),a.delete("borders")),a.forEach(o=>{U.warn(`Unknown node property ${o}`)})}return _r(t,n),t.intersect=function(a){return pr.rect(t,a)},r},"labelRect");function vx(e,t,r,n){const i=[],s=g(o=>{i.push(o,0)},"addBorder"),a=g(o=>{i.push(0,o)},"skipBorder");t.includes("t")?(U.debug("add top border"),s(r)):a(r),t.includes("r")?(U.debug("add right border"),s(n)):a(n),t.includes("b")?(U.debug("add bottom border"),s(r)):a(r),t.includes("l")?(U.debug("add left border"),s(n)):a(n),e.attr("stroke-dasharray",i.join(" "))}g(vx,"applyNodePropertyBorders");var C6t=g(async(e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";const n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),i=n.insert("rect",":first-child"),s=n.insert("line"),a=n.insert("g").attr("class","label"),o=t.labelText.flat?t.labelText.flat():t.labelText;let l="";typeof o=="object"?l=o[0]:l=o,U.info("Label text abc79",l,o,typeof o=="object");const u=a.node().appendChild(await ji(l,t.labelStyle,!0,!0));let h={width:0,height:0};if(Ze(rt().flowchart.htmlLabels)){const y=u.children[0],b=Lt(u);h=y.getBoundingClientRect(),b.attr("width",h.width),b.attr("height",h.height)}U.info("Text 2",o);const d=o.slice(1,o.length);let f=u.getBBox();const p=a.node().appendChild(await ji(d.join?d.join("<br/>"):d,t.labelStyle,!0,!0));if(Ze(rt().flowchart.htmlLabels)){const y=p.children[0],b=Lt(p);h=y.getBoundingClientRect(),b.attr("width",h.width),b.attr("height",h.height)}const m=t.padding/2;return Lt(p).attr("transform","translate( "+(h.width>f.width?0:(f.width-h.width)/2)+", "+(f.height+m+5)+")"),Lt(u).attr("transform","translate( "+(h.width<f.width?0:-(f.width-h.width)/2)+", 0)"),h=a.node().getBBox(),a.attr("transform","translate("+-h.width/2+", "+(-h.height/2-m+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-m).attr("y",-h.height/2-m).attr("width",h.width+t.padding).attr("height",h.height+t.padding),s.attr("class","divider").attr("x1",-h.width/2-m).attr("x2",h.width/2+m).attr("y1",-h.height/2-m+f.height+m).attr("y2",-h.height/2-m+f.height+m),_r(t,i),t.intersect=function(y){return pr.rect(t,y)},n},"rectWithTitle"),E6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=n.height+t.padding,s=n.width+i/4+t.padding,a=r.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-s/2).attr("y",-i/2).attr("width",s).attr("height",i);return _r(t,a),t.intersect=function(o){return pr.rect(t,o)},r},"stadium"),A6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await cn(e,t,Oi(t,void 0),!0),s=r.insert("circle",":first-child");return s.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),U.info("Circle main"),_r(t,s),t.intersect=function(a){return U.info("Circle intersect",t,n.width/2+i,a),pr.circle(t,n.width/2+i,a)},r},"circle"),L6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await cn(e,t,Oi(t,void 0),!0),s=5,a=r.insert("g",":first-child"),o=a.insert("circle"),l=a.insert("circle");return a.attr("class",t.class),o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i+s).attr("width",n.width+t.padding+s*2).attr("height",n.height+t.padding+s*2),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),U.info("DoubleCircle main"),_r(t,o),t.intersect=function(u){return U.info("DoubleCircle intersect",t,n.width/2+i+s,u),pr.circle(t,n.width/2+i+s,u)},r},"doublecircle"),R6t=g(async(e,t)=>{const{shapeSvg:r,bbox:n}=await cn(e,t,Oi(t,void 0),!0),i=n.width+t.padding,s=n.height+t.padding,a=[{x:0,y:0},{x:i,y:0},{x:i,y:-s},{x:0,y:-s},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-s},{x:-8,y:-s},{x:-8,y:0}],o=Ms(r,i,s,a);return o.attr("style",t.style),_r(t,o),t.intersect=function(l){return pr.polygon(t,a,l)},r},"subroutine"),I6t=g((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),_r(t,n),t.intersect=function(i){return pr.circle(t,7,i)},r},"start"),wL=g((e,t,r)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let i=70,s=10;r==="LR"&&(i=10,s=70);const a=n.append("rect").attr("x",-1*i/2).attr("y",-1*s/2).attr("width",i).attr("height",s).attr("class","fork-join");return _r(t,a),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(o){return pr.rect(t,o)},n},"forkJoin"),N6t=g((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),_r(t,i),t.intersect=function(s){return pr.circle(t,7,s)},r},"end"),$6t=g(async(e,t)=>{var I;const r=t.padding/2,n=4,i=8;let s;t.classes?s="node "+t.classes:s="node default";const a=e.insert("g").attr("class",s).attr("id",t.domId||t.id),o=a.insert("rect",":first-child"),l=a.insert("line"),u=a.insert("line");let h=0,d=n;const f=a.insert("g").attr("class","label");let p=0;const m=(I=t.classData.annotations)==null?void 0:I[0],y=t.classData.annotations[0]?""+t.classData.annotations[0]+"":"",b=f.node().appendChild(await ji(y,t.labelStyle,!0,!0));let x=b.getBBox();if(Ze(rt().flowchart.htmlLabels)){const C=b.children[0],R=Lt(b);x=C.getBoundingClientRect(),R.attr("width",x.width),R.attr("height",x.height)}t.classData.annotations[0]&&(d+=x.height+n,h+=x.width);let v=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(rt().flowchart.htmlLabels?v+="&lt;"+t.classData.type+"&gt;":v+="<"+t.classData.type+">");const _=f.node().appendChild(await ji(v,t.labelStyle,!0,!0));Lt(_).attr("class","classTitle");let S=_.getBBox();if(Ze(rt().flowchart.htmlLabels)){const C=_.children[0],R=Lt(_);S=C.getBoundingClientRect(),R.attr("width",S.width),R.attr("height",S.height)}d+=S.height+n,S.width>h&&(h=S.width);const k=[];t.classData.members.forEach(async C=>{const R=C.getDisplayDetails();let w=R.displayText;rt().flowchart.htmlLabels&&(w=w.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const $=f.node().appendChild(await ji(w,R.cssStyle?R.cssStyle:t.labelStyle,!0,!0));let A=$.getBBox();if(Ze(rt().flowchart.htmlLabels)){const L=$.children[0],N=Lt($);A=L.getBoundingClientRect(),N.attr("width",A.width),N.attr("height",A.height)}A.width>h&&(h=A.width),d+=A.height+n,k.push($)}),d+=i;const T=[];if(t.classData.methods.forEach(async C=>{const R=C.getDisplayDetails();let w=R.displayText;rt().flowchart.htmlLabels&&(w=w.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const $=f.node().appendChild(await ji(w,R.cssStyle?R.cssStyle:t.labelStyle,!0,!0));let A=$.getBBox();if(Ze(rt().flowchart.htmlLabels)){const L=$.children[0],N=Lt($);A=L.getBoundingClientRect(),N.attr("width",A.width),N.attr("height",A.height)}A.width>h&&(h=A.width),d+=A.height+n,T.push($)}),d+=i,m){let C=(h-x.width)/2;Lt(b).attr("transform","translate( "+(-1*h/2+C)+", "+-1*d/2+")"),p=x.height+n}let E=(h-S.width)/2;return Lt(_).attr("transform","translate( "+(-1*h/2+E)+", "+(-1*d/2+p)+")"),p+=S.height+n,l.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-d/2-r+i+p).attr("y2",-d/2-r+i+p),p+=i,k.forEach(C=>{Lt(C).attr("transform","translate( "+-h/2+", "+(-1*d/2+p+i/2)+")");const R=C==null?void 0:C.getBBox();p+=((R==null?void 0:R.height)??0)+n}),p+=i,u.attr("class","divider").attr("x1",-h/2-r).attr("x2",h/2+r).attr("y1",-d/2-r+i+p).attr("y2",-d/2-r+i+p),p+=i,T.forEach(C=>{Lt(C).attr("transform","translate( "+-h/2+", "+(-1*d/2+p)+")");const R=C==null?void 0:C.getBBox();p+=((R==null?void 0:R.height)??0)+n}),o.attr("style",t.style).attr("class","outer title-state").attr("x",-h/2-r).attr("y",-(d/2)-r).attr("width",h+t.padding).attr("height",d+t.padding),_r(t,o),t.intersect=function(C){return pr.rect(t,C)},a},"class_box"),SL={rhombus:kL,composite:w6t,question:kL,rect:k6t,labelRect:S6t,rectWithTitle:C6t,choice:f6t,circle:A6t,doublecircle:L6t,stadium:E6t,hexagon:p6t,block_arrow:g6t,rect_left_inv_arrow:m6t,lean_right:y6t,lean_left:x6t,trapezoid:b6t,inv_trapezoid:v6t,rect_right_inv_arrow:_6t,cylinder:T6t,start:I6t,end:N6t,note:d6t,subroutine:R6t,fork:wL,join:wL,class_box:$6t},R0={},iz=g(async(e,t,r)=>{let n,i;if(t.link){let s;rt().securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s),i=await SL[t.shape](n,t,r)}else i=await SL[t.shape](e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),t.class&&i.attr("class","node default "+t.class),R0[t.id]=n,t.haveCallback&&R0[t.id].attr("class",R0[t.id].attr("class")+" clickable"),n},"insertNode"),O6t=g(e=>{const t=R0[e.id];U.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode");function R3(e,t,r=!1){var f,p,m;const n=e;let i="default";(((f=n==null?void 0:n.classes)==null?void 0:f.length)||0)>0&&(i=((n==null?void 0:n.classes)??[]).join(" ")),i=i+" flowchart-label";let s=0,a="",o;switch(n.type){case"round":s=5,a="rect";break;case"composite":s=0,a="composite",o=0;break;case"square":a="rect";break;case"diamond":a="question";break;case"hexagon":a="hexagon";break;case"block_arrow":a="block_arrow";break;case"odd":a="rect_left_inv_arrow";break;case"lean_right":a="lean_right";break;case"lean_left":a="lean_left";break;case"trapezoid":a="trapezoid";break;case"inv_trapezoid":a="inv_trapezoid";break;case"rect_left_inv_arrow":a="rect_left_inv_arrow";break;case"circle":a="circle";break;case"ellipse":a="ellipse";break;case"stadium":a="stadium";break;case"subroutine":a="subroutine";break;case"cylinder":a="cylinder";break;case"group":a="rect";break;case"doublecircle":a="doublecircle";break;default:a="rect"}const l=gw((n==null?void 0:n.styles)??[]),u=n.label,h=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:l.labelStyle,shape:a,labelText:u,rx:s,ry:s,class:i,style:l.style,id:n.id,directions:n.directions,width:h.width,height:h.height,x:h.x,y:h.y,positioned:r,intersect:void 0,type:n.type,padding:o??((m=(p=De())==null?void 0:p.block)==null?void 0:m.padding)??0}}g(R3,"getNodeFromBlock");async function sz(e,t,r){const n=R3(t,r,!1);if(n.type==="group")return;const i=De(),s=await iz(e,n,{config:i}),a=s.node().getBBox(),o=r.getBlock(n.id);o.size={width:a.width,height:a.height,x:0,y:0,node:s},r.setBlock(o),s.remove()}g(sz,"calculateBlockSize");async function az(e,t,r){const n=R3(t,r,!0);if(r.getBlock(n.id).type!=="space"){const s=De();await iz(e,n,{config:s}),t.intersect=n==null?void 0:n.intersect,O6t(n)}}g(az,"insertBlockPositioned");async function _x(e,t,r,n){for(const i of t)await n(e,i,r),i.children&&await _x(e,i.children,r,n)}g(_x,"performOperations");async function oz(e,t,r){await _x(e,t,r,sz)}g(oz,"calculateBlockSizes");async function lz(e,t,r){await _x(e,t,r,az)}g(lz,"insertBlocks");async function cz(e,t,r,n,i){const s=new pi({multigraph:!0,compound:!0});s.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const a of r)a.size&&s.setNode(a.id,{width:a.size.width,height:a.size.height,intersect:a.intersect});for(const a of t)if(a.start&&a.end){const o=n.getBlock(a.start),l=n.getBlock(a.end);if(o!=null&&o.size&&(l!=null&&l.size)){const u=o.size,h=l.size,d=[{x:u.x,y:u.y},{x:u.x+(h.x-u.x)/2,y:u.y+(h.y-u.y)/2},{x:h.x,y:h.y}];r6t(e,{v:a.start,w:a.end,name:a.id},{...a,arrowTypeEnd:a.arrowTypeEnd,arrowTypeStart:a.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",s,i),a.label&&(await ZAt(e,{...a,label:a.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:a.arrowTypeEnd,arrowTypeStart:a.arrowTypeStart,points:d,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),JAt({...a,x:d[1].x,y:d[1].y},{originalPath:d}))}}}g(cz,"insertEdges");var D6t=g(function(e,t){return t.db.getClasses()},"getClasses"),M6t=g(async function(e,t,r,n){const{securityLevel:i,block:s}=De(),a=n.db;let o;i==="sandbox"&&(o=Lt("#i"+t));const l=Lt(i==="sandbox"?o.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?l.select(`[id="${t}"]`):Lt(`[id="${t}"]`);jAt(u,["point","circle","cross"],n.type,t);const d=a.getBlocks(),f=a.getBlocksFlat(),p=a.getEdges(),m=u.insert("g").attr("class","block");await oz(m,d,a);const y=KV(a);if(await lz(m,d,a),await cz(m,p,f,a,t),y){const b=y,x=Math.max(1,Math.round(.125*(b.width/b.height))),v=b.height+x+10,_=b.width+10,{useMaxWidth:S}=s;ei(u,v,_,!!S),U.debug("Here Bounds",y,b),u.attr("viewBox",`${b.x-5} ${b.y-5} ${b.width+10} ${b.height+10}`)}},"draw"),P6t={draw:M6t,getClasses:D6t},B6t={parser:pAt,db:$At,renderer:P6t,styles:DAt};const F6t=Object.freeze(Object.defineProperty({__proto__:null,diagram:B6t},Symbol.toStringTag,{value:"Module"}));var CL={L:"left",R:"right",T:"top",B:"bottom"},EL={L:g(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:g(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:g(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:g(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},P1={L:g((e,t)=>e-t+2,"L"),R:g((e,t)=>e-2,"R"),T:g((e,t)=>e-t+2,"T"),B:g((e,t)=>e-2,"B")},V6t=g(function(e){return Un(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),AL=g(function(e){const t=e;return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),Un=g(function(e){const t=e;return t==="L"||t==="R"},"isArchitectureDirectionX"),Wo=g(function(e){const t=e;return t==="T"||t==="B"},"isArchitectureDirectionY"),I3=g(function(e,t){const r=Un(e)&&Wo(t),n=Wo(e)&&Un(t);return r||n},"isArchitectureDirectionXY"),z6t=g(function(e){const t=e[0],r=e[1],n=Un(t)&&Wo(r),i=Wo(t)&&Un(r);return n||i},"isArchitecturePairXY"),W6t=g(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),pk=g(function(e,t){const r=`${e}${t}`;return W6t(r)?r:void 0},"getArchitectureDirectionPair"),U6t=g(function([e,t],r){const n=r[0],i=r[1];return Un(n)?Wo(i)?[e+(n==="L"?-1:1),t+(i==="T"?1:-1)]:[e+(n==="L"?-1:1),t]:Un(i)?[e+(i==="L"?1:-1),t+(n==="T"?1:-1)]:[e,t+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),H6t=g(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),G6t=g(function(e,t){return I3(e,t)?"bend":Un(e)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),q6t=g(function(e){return e.type==="service"},"isArchitectureService"),j6t=g(function(e){return e.type==="junction"},"isArchitectureJunction"),uz=g(e=>e.data(),"edgeData"),nu=g(e=>e.data(),"nodeData"),Y6t=Re.architecture,bh,hz=(bh=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=Pr,this.getAccTitle=Xr,this.setDiagramTitle=on,this.getDiagramTitle=Vr,this.getAccDescription=Qr,this.setAccDescription=Kr,this.clear()}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},Fr()}addService({id:t,icon:r,in:n,title:i,iconText:s}){if(this.registeredIds[t]!==void 0)throw new Error(`The service id [${t}] is already in use by another ${this.registeredIds[t]}`);if(n!==void 0){if(t===n)throw new Error(`The service [${t}] cannot be placed within itself`);if(this.registeredIds[n]===void 0)throw new Error(`The service [${t}]'s parent does not exist. Please make sure the parent is created before this service`);if(this.registeredIds[n]==="node")throw new Error(`The service [${t}]'s parent is not a group`)}this.registeredIds[t]="node",this.nodes[t]={id:t,type:"service",icon:r,iconText:s,title:i,edges:[],in:n}}getServices(){return Object.values(this.nodes).filter(q6t)}addJunction({id:t,in:r}){this.registeredIds[t]="node",this.nodes[t]={id:t,type:"junction",edges:[],in:r}}getJunctions(){return Object.values(this.nodes).filter(j6t)}getNodes(){return Object.values(this.nodes)}getNode(t){return this.nodes[t]??null}addGroup({id:t,icon:r,in:n,title:i}){var s,a,o;if(((s=this.registeredIds)==null?void 0:s[t])!==void 0)throw new Error(`The group id [${t}] is already in use by another ${this.registeredIds[t]}`);if(n!==void 0){if(t===n)throw new Error(`The group [${t}] cannot be placed within itself`);if(((a=this.registeredIds)==null?void 0:a[n])===void 0)throw new Error(`The group [${t}]'s parent does not exist. Please make sure the parent is created before this group`);if(((o=this.registeredIds)==null?void 0:o[n])==="node")throw new Error(`The group [${t}]'s parent is not a group`)}this.registeredIds[t]="group",this.groups[t]={id:t,icon:r,title:i,in:n}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:t,rhsId:r,lhsDir:n,rhsDir:i,lhsInto:s,rhsInto:a,lhsGroup:o,rhsGroup:l,title:u}){if(!AL(n))throw new Error(`Invalid direction given for left hand side of edge ${t}--${r}. Expected (L,R,T,B) got ${String(n)}`);if(!AL(i))throw new Error(`Invalid direction given for right hand side of edge ${t}--${r}. Expected (L,R,T,B) got ${String(i)}`);if(this.nodes[t]===void 0&&this.groups[t]===void 0)throw new Error(`The left-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(this.nodes[r]===void 0&&this.groups[r]===void 0)throw new Error(`The right-hand id [${r}] does not yet exist. Please create the service/group before declaring an edge to it.`);const h=this.nodes[t].in,d=this.nodes[r].in;if(o&&h&&d&&h==d)throw new Error(`The left-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(l&&h&&d&&h==d)throw new Error(`The right-hand id [${r}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const f={lhsId:t,lhsDir:n,lhsInto:s,lhsGroup:o,rhsId:r,rhsDir:i,rhsInto:a,rhsGroup:l,title:u};this.edges.push(f),this.nodes[t]&&this.nodes[r]&&(this.nodes[t].edges.push(this.edges[this.edges.length-1]),this.nodes[r].edges.push(this.edges[this.edges.length-1]))}getEdges(){return this.edges}getDataStructures(){if(this.dataStructures===void 0){const t={},r=Object.entries(this.nodes).reduce((l,[u,h])=>(l[u]=h.edges.reduce((d,f)=>{var y,b;const p=(y=this.getNode(f.lhsId))==null?void 0:y.in,m=(b=this.getNode(f.rhsId))==null?void 0:b.in;if(p&&m&&p!==m){const x=G6t(f.lhsDir,f.rhsDir);x!=="bend"&&(t[p]??(t[p]={}),t[p][m]=x,t[m]??(t[m]={}),t[m][p]=x)}if(f.lhsId===u){const x=pk(f.lhsDir,f.rhsDir);x&&(d[x]=f.rhsId)}else{const x=pk(f.rhsDir,f.lhsDir);x&&(d[x]=f.lhsId)}return d},{}),l),{}),n=Object.keys(r)[0],i={[n]:1},s=Object.keys(r).reduce((l,u)=>u===n?l:{...l,[u]:1},{}),a=g(l=>{const u={[l]:[0,0]},h=[l];for(;h.length>0;){const d=h.shift();if(d){i[d]=1,delete s[d];const f=r[d],[p,m]=u[d];Object.entries(f).forEach(([y,b])=>{i[b]||(u[b]=U6t([p,m],y),h.push(b))})}}return u},"BFS"),o=[a(n)];for(;Object.keys(s).length>0;)o.push(a(Object.keys(s)[0]));this.dataStructures={adjList:r,spatialMaps:o,groupAlignments:t}}return this.dataStructures}setElementForId(t,r){this.elements[t]=r}getElementById(t){return this.elements[t]}getConfig(){return Zn({...Y6t,...De().architecture})}getConfigField(t){return this.getConfig()[t]}},g(bh,"ArchitectureDB"),bh),X6t=g((e,t)=>{wc(e,t),e.groups.map(r=>t.addGroup(r)),e.services.map(r=>t.addService({...r,type:"service"})),e.junctions.map(r=>t.addJunction({...r,type:"junction"})),e.edges.map(r=>t.addEdge(r))},"populateDb"),dz={parser:{yy:void 0},parse:g(async e=>{var n;const t=await nl("architecture",e);U.debug(t);const r=(n=dz.parser)==null?void 0:n.yy;if(!(r instanceof hz))throw new Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");X6t(t,r)},"parse")},K6t=g(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),Q6t=K6t,Wc=g(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),Zp={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Wc('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Wc('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Wc('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Wc('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Wc('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:o$,blank:{body:Wc("")}}},Z6t=g(async function(e,t,r){const n=r.getConfigField("padding"),i=r.getConfigField("iconSize"),s=i/2,a=i/6,o=a/2;await Promise.all(t.edges().map(async l=>{var C,R;const{source:u,sourceDir:h,sourceArrow:d,sourceGroup:f,target:p,targetDir:m,targetArrow:y,targetGroup:b,label:x}=uz(l);let{x:v,y:_}=l[0].sourceEndpoint();const{x:S,y:k}=l[0].midpoint();let{x:T,y:E}=l[0].targetEndpoint();const I=n+4;if(f&&(Un(h)?v+=h==="L"?-I:I:_+=h==="T"?-I:I+18),b&&(Un(m)?T+=m==="L"?-I:I:E+=m==="T"?-I:I+18),!f&&((C=r.getNode(u))==null?void 0:C.type)==="junction"&&(Un(h)?v+=h==="L"?s:-s:_+=h==="T"?s:-s),!b&&((R=r.getNode(p))==null?void 0:R.type)==="junction"&&(Un(m)?T+=m==="L"?s:-s:E+=m==="T"?s:-s),l[0]._private.rscratch){const w=e.insert("g");if(w.insert("path").attr("d",`M ${v},${_} L ${S},${k} L${T},${E} `).attr("class","edge").attr("id",pu(u,p,{prefix:"L"})),d){const $=Un(h)?P1[h](v,a):v-o,A=Wo(h)?P1[h](_,a):_-o;w.insert("polygon").attr("points",EL[h](a)).attr("transform",`translate(${$},${A})`).attr("class","arrow")}if(y){const $=Un(m)?P1[m](T,a):T-o,A=Wo(m)?P1[m](E,a):E-o;w.insert("polygon").attr("points",EL[m](a)).attr("transform",`translate(${$},${A})`).attr("class","arrow")}if(x){const $=I3(h,m)?"XY":Un(h)?"X":"Y";let A=0;$==="X"?A=Math.abs(v-T):$==="Y"?A=Math.abs(_-E)/1.5:A=Math.abs(v-T)/2;const L=w.append("g");if(await Ri(L,x,{useHtmlLabels:!1,width:A,classes:"architecture-service-label"},rt()),L.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),$==="X")L.attr("transform","translate("+S+", "+k+")");else if($==="Y")L.attr("transform","translate("+S+", "+k+") rotate(-90)");else if($==="XY"){const N=pk(h,m);if(N&&z6t(N)){const D=L.node().getBoundingClientRect(),[P,O]=H6t(N);L.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*P*O*45})`);const M=L.node().getBoundingClientRect();L.attr("transform",`
                translate(${S}, ${k-D.height/2})
                translate(${P*M.width/2}, ${O*M.height/2})
                rotate(${-1*P*O*45}, 0, ${D.height/2})
              `)}}}}}))},"drawEdges"),J6t=g(async function(e,t,r){const i=r.getConfigField("padding")*.75,s=r.getConfigField("fontSize"),o=r.getConfigField("iconSize")/2;await Promise.all(t.nodes().map(async l=>{const u=nu(l);if(u.type==="group"){const{h,w:d,x1:f,y1:p}=l.boundingBox(),m=e.append("rect");m.attr("id",`group-${u.id}`).attr("x",f+o).attr("y",p+o).attr("width",d).attr("height",h).attr("class","node-bkg");const y=e.append("g");let b=f,x=p;if(u.icon){const v=y.append("g");v.html(`<g>${await No(u.icon,{height:i,width:i,fallbackPrefix:Zp.prefix})}</g>`),v.attr("transform","translate("+(b+o+1)+", "+(x+o+1)+")"),b+=i,x+=s/2-1-2}if(u.label){const v=y.append("g");await Ri(v,u.label,{useHtmlLabels:!1,width:d,classes:"architecture-service-label"},rt()),v.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),v.attr("transform","translate("+(b+o+4)+", "+(x+o+2)+")")}r.setElementForId(u.id,m)}}))},"drawGroups"),tLt=g(async function(e,t,r){const n=rt();for(const i of r){const s=t.append("g"),a=e.getConfigField("iconSize");if(i.title){const h=s.append("g");await Ri(h,i.title,{useHtmlLabels:!1,width:a*1.5,classes:"architecture-service-label"},n),h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),h.attr("transform","translate("+a/2+", "+a+")")}const o=s.append("g");if(i.icon)o.html(`<g>${await No(i.icon,{height:a,width:a,fallbackPrefix:Zp.prefix})}</g>`);else if(i.iconText){o.html(`<g>${await No("blank",{height:a,width:a,fallbackPrefix:Zp.prefix})}</g>`);const f=o.append("g").append("foreignObject").attr("width",a).attr("height",a).append("div").attr("class","node-icon-text").attr("style",`height: ${a}px;`).append("div").html(Ne(i.iconText,n)),p=parseInt(window.getComputedStyle(f.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;f.attr("style",`-webkit-line-clamp: ${Math.floor((a-2)/p)};`)}else o.append("path").attr("class","node-bkg").attr("id","node-"+i.id).attr("d",`M0 ${a} v${-a} q0,-5 5,-5 h${a} q5,0 5,5 v${a} H0 Z`);s.attr("id",`service-${i.id}`).attr("class","architecture-service");const{width:l,height:u}=s.node().getBBox();i.width=l,i.height=u,e.setElementForId(i.id,s)}return 0},"drawServices"),eLt=g(function(e,t,r){r.forEach(n=>{const i=t.append("g"),s=e.getConfigField("iconSize");i.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",s).attr("height",s),i.attr("class","architecture-junction");const{width:o,height:l}=i._groups[0][0].getBBox();i.width=o,i.height=l,e.setElementForId(n.id,i)})},"drawJunctions");c$([{name:Zp.prefix,icons:Zp}]);wy.use(Iz);function fz(e,t,r){e.forEach(n=>{t.add({group:"nodes",data:{type:"service",id:n.id,icon:n.icon,label:n.title,parent:n.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-service"})})}g(fz,"addServices");function pz(e,t,r){e.forEach(n=>{t.add({group:"nodes",data:{type:"junction",id:n.id,parent:n.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-junction"})})}g(pz,"addJunctions");function gz(e,t){t.nodes().map(r=>{const n=nu(r);if(n.type==="group")return;n.x=r.position().x,n.y=r.position().y,e.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")")})}g(gz,"positionNodes");function mz(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}g(mz,"addGroups");function yz(e,t){e.forEach(r=>{const{lhsId:n,rhsId:i,lhsInto:s,lhsGroup:a,rhsInto:o,lhsDir:l,rhsDir:u,rhsGroup:h,title:d}=r,f=I3(r.lhsDir,r.rhsDir)?"segments":"straight",p={id:`${n}-${i}`,label:d,source:n,sourceDir:l,sourceArrow:s,sourceGroup:a,sourceEndpoint:l==="L"?"0 50%":l==="R"?"100% 50%":l==="T"?"50% 0":"50% 100%",target:i,targetDir:u,targetArrow:o,targetGroup:h,targetEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:p,classes:f})})}g(yz,"addEdges");function xz(e,t,r){const n=g((o,l)=>Object.entries(o).reduce((u,[h,d])=>{var m;let f=0;const p=Object.entries(d);if(p.length===1)return u[h]=p[0][1],u;for(let y=0;y<p.length-1;y++)for(let b=y+1;b<p.length;b++){const[x,v]=p[y],[_,S]=p[b];if(((m=r[x])==null?void 0:m[_])===l)u[h]??(u[h]=[]),u[h]=[...u[h],...v,...S];else if(x==="default"||_==="default")u[h]??(u[h]=[]),u[h]=[...u[h],...v,...S];else{const T=`${h}-${f++}`;u[T]=v;const E=`${h}-${f++}`;u[E]=S}}return u},{}),"flattenAlignments"),i=t.map(o=>{const l={},u={};return Object.entries(o).forEach(([h,[d,f]])=>{var m,y,b;const p=((m=e.getNode(h))==null?void 0:m.in)??"default";l[f]??(l[f]={}),(y=l[f])[p]??(y[p]=[]),l[f][p].push(h),u[d]??(u[d]={}),(b=u[d])[p]??(b[p]=[]),u[d][p].push(h)}),{horiz:Object.values(n(l,"horizontal")).filter(h=>h.length>1),vert:Object.values(n(u,"vertical")).filter(h=>h.length>1)}}),[s,a]=i.reduce(([o,l],{horiz:u,vert:h})=>[[...o,...u],[...l,...h]],[[],[]]);return{horizontal:s,vertical:a}}g(xz,"getAlignments");function bz(e,t){const r=[],n=g(s=>`${s[0]},${s[1]}`,"posToStr"),i=g(s=>s.split(",").map(a=>parseInt(a)),"strToPos");return e.forEach(s=>{const a=Object.fromEntries(Object.entries(s).map(([h,d])=>[n(d),h])),o=[n([0,0])],l={},u={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;o.length>0;){const h=o.shift();if(h){l[h]=1;const d=a[h];if(d){const f=i(h);Object.entries(u).forEach(([p,m])=>{const y=n([f[0]+m[0],f[1]+m[1]]),b=a[y];b&&!l[y]&&(o.push(y),r.push({[CL[p]]:b,[CL[V6t(p)]]:d,gap:1.5*t.getConfigField("iconSize")}))})}}}}),r}g(bz,"getRelativeConstraints");function vz(e,t,r,n,i,{spatialMaps:s,groupAlignments:a}){return new Promise(o=>{const l=Lt("body").append("div").attr("id","cy").attr("style","display:none"),u=wy({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${i.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${i.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});l.remove(),mz(r,u),fz(e,u,i),pz(t,u,i),yz(n,u);const h=xz(i,s,a),d=bz(s,i),f=u.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(p){const[m,y]=p.connectedNodes(),{parent:b}=nu(m),{parent:x}=nu(y);return b===x?1.5*i.getConfigField("iconSize"):.5*i.getConfigField("iconSize")},edgeElasticity(p){const[m,y]=p.connectedNodes(),{parent:b}=nu(m),{parent:x}=nu(y);return b===x?.45:.001},alignmentConstraint:h,relativePlacementConstraint:d});f.one("layoutstop",()=>{var m;function p(y,b,x,v){let _,S;const{x:k,y:T}=y,{x:E,y:I}=b;S=(v-T+(k-x)*(T-I)/(k-E))/Math.sqrt(1+Math.pow((T-I)/(k-E),2)),_=Math.sqrt(Math.pow(v-T,2)+Math.pow(x-k,2)-Math.pow(S,2));const C=Math.sqrt(Math.pow(E-k,2)+Math.pow(I-T,2));_=_/C;let R=(E-k)*(v-T)-(I-T)*(x-k);switch(!0){case R>=0:R=1;break;case R<0:R=-1;break}let w=(E-k)*(x-k)+(I-T)*(v-T);switch(!0){case w>=0:w=1;break;case w<0:w=-1;break}return S=Math.abs(S)*R,_=_*w,{distances:S,weights:_}}g(p,"getSegmentWeights"),u.startBatch();for(const y of Object.values(u.edges()))if((m=y.data)!=null&&m.call(y)){const{x:b,y:x}=y.source().position(),{x:v,y:_}=y.target().position();if(b!==v&&x!==_){const S=y.sourceEndpoint(),k=y.targetEndpoint(),{sourceDir:T}=uz(y),[E,I]=Wo(T)?[S.x,k.y]:[k.x,S.y],{weights:C,distances:R}=p(S,k,E,I);y.style("segment-distances",R),y.style("segment-weights",C)}}u.endBatch(),f.run()}),f.run(),u.ready(p=>{U.info("Ready",p),o(u)})})}g(vz,"layoutArchitecture");var rLt=g(async(e,t,r,n)=>{const i=n.db,s=i.getServices(),a=i.getJunctions(),o=i.getGroups(),l=i.getEdges(),u=i.getDataStructures(),h=eo(t),d=h.append("g");d.attr("class","architecture-edges");const f=h.append("g");f.attr("class","architecture-services");const p=h.append("g");p.attr("class","architecture-groups"),await tLt(i,f,s),eLt(i,f,a);const m=await vz(s,a,o,l,i,u);await Z6t(d,m,i),await J6t(p,m,i),gz(i,m),ag(void 0,h,i.getConfigField("padding"),i.getConfigField("useMaxWidth"))},"draw"),nLt={draw:rLt},iLt={parser:dz,get db(){return new hz},renderer:nLt,styles:Q6t};const sLt=Object.freeze(Object.defineProperty({__proto__:null,diagram:iLt},Symbol.toStringTag,{value:"Module"}));var vh,_z=(vh=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=Pr,this.getAccTitle=Xr,this.setDiagramTitle=on,this.getDiagramTitle=Vr,this.getAccDescription=Qr,this.setAccDescription=Kr}getNodes(){return this.nodes}getConfig(){const t=Re,r=De();return Zn({...t.treemap,...r.treemap??{}})}addNode(t,r){this.nodes.push(t),this.levels.set(t,r),r===0&&(this.outerNodes.push(t),this.root??(this.root=t))}getRoot(){return{name:"",children:this.outerNodes}}addClass(t,r){const n=this.classes.get(t)??{id:t,styles:[],textStyles:[]},i=r.replace(/\\,/g,"").replace(/,/g,";").replace(//g,",").split(";");i&&i.forEach(s=>{aw(s)&&(n!=null&&n.textStyles?n.textStyles.push(s):n.textStyles=[s]),n!=null&&n.styles?n.styles.push(s):n.styles=[s]}),this.classes.set(t,n)}getClasses(){return this.classes}getStylesForClass(t){var r;return((r=this.classes.get(t))==null?void 0:r.styles)??[]}clear(){Fr(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}},g(vh,"TreeMapDB"),vh);function Tz(e){if(!e.length)return[];const t=[],r=[];return e.forEach(n=>{const i={name:n.name,children:n.type==="Leaf"?void 0:[]};for(i.classSelector=n==null?void 0:n.classSelector,n!=null&&n.cssCompiledStyles&&(i.cssCompiledStyles=[n.cssCompiledStyles]),n.type==="Leaf"&&n.value!==void 0&&(i.value=n.value);r.length>0&&r[r.length-1].level>=n.level;)r.pop();if(r.length===0)t.push(i);else{const s=r[r.length-1].node;s.children?s.children.push(i):s.children=[i]}n.type!=="Leaf"&&r.push({node:i,level:n.level})}),t}g(Tz,"buildHierarchy");var aLt=g((e,t)=>{wc(e,t);const r=[];for(const s of e.TreemapRows??[])s.$type==="ClassDefStatement"&&t.addClass(s.className??"",s.styleText??"");for(const s of e.TreemapRows??[]){const a=s.item;if(!a)continue;const o=s.indent?parseInt(s.indent):0,l=oLt(a),u=a.classSelector?t.getStylesForClass(a.classSelector):[],h=u.length>0?u.join(";"):void 0,d={level:o,name:l,type:a.$type,value:a.value,classSelector:a.classSelector,cssCompiledStyles:h};r.push(d)}const n=Tz(r),i=g((s,a)=>{for(const o of s)t.addNode(o,a),o.children&&o.children.length>0&&i(o.children,a+1)},"addNodesRecursively");i(n,0)},"populate"),oLt=g(e=>e.name?String(e.name):"","getItemName"),kz={parser:{yy:void 0},parse:g(async e=>{var t;try{const n=await nl("treemap",e);U.debug("Treemap AST:",n);const i=(t=kz.parser)==null?void 0:t.yy;if(!(i instanceof _z))throw new Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");aLt(n,i)}catch(r){throw U.error("Error parsing treemap:",r),r}},"parse")},lLt=10,Uc=10,Vd=25,cLt=g((e,t,r,n)=>{const i=n.db,s=i.getConfig(),a=s.padding??lLt,o=i.getDiagramTitle(),l=i.getRoot(),{themeVariables:u}=De();if(!l)return;const h=o?30:0,d=eo(t),f=s.nodeWidth?s.nodeWidth*Uc:960,p=s.nodeHeight?s.nodeHeight*Uc:500,m=f,y=p+h;d.attr("viewBox",`0 0 ${m} ${y}`),ei(d,y,m,s.useMaxWidth);let b;try{const L=s.valueFormat||",";if(L==="$0,0")b=g(N=>"$"+bl(",")(N),"valueFormat");else if(L.startsWith("$")&&L.includes(",")){const N=/\.\d+/.exec(L),D=N?N[0]:"";b=g(P=>"$"+bl(","+D)(P),"valueFormat")}else if(L.startsWith("$")){const N=L.substring(1);b=g(D=>"$"+bl(N||"")(D),"valueFormat")}else b=bl(L)}catch(L){U.error("Error creating format function:",L),b=bl(",")}const x=Pl().range(["transparent",u.cScale0,u.cScale1,u.cScale2,u.cScale3,u.cScale4,u.cScale5,u.cScale6,u.cScale7,u.cScale8,u.cScale9,u.cScale10,u.cScale11]),v=Pl().range(["transparent",u.cScalePeer0,u.cScalePeer1,u.cScalePeer2,u.cScalePeer3,u.cScalePeer4,u.cScalePeer5,u.cScalePeer6,u.cScalePeer7,u.cScalePeer8,u.cScalePeer9,u.cScalePeer10,u.cScalePeer11]),_=Pl().range([u.cScaleLabel0,u.cScaleLabel1,u.cScaleLabel2,u.cScaleLabel3,u.cScaleLabel4,u.cScaleLabel5,u.cScaleLabel6,u.cScaleLabel7,u.cScaleLabel8,u.cScaleLabel9,u.cScaleLabel10,u.cScaleLabel11]);o&&d.append("text").attr("x",m/2).attr("y",h/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(o);const S=d.append("g").attr("transform",`translate(0, ${h})`).attr("class","treemapContainer"),k=qk(l).sum(L=>L.value??0).sort((L,N)=>(N.value??0)-(L.value??0)),E=bK().size([f,p]).paddingTop(L=>L.children&&L.children.length>0?Vd+Uc:0).paddingInner(a).paddingLeft(L=>L.children&&L.children.length>0?Uc:0).paddingRight(L=>L.children&&L.children.length>0?Uc:0).paddingBottom(L=>L.children&&L.children.length>0?Uc:0).round(!0)(k),I=E.descendants().filter(L=>L.children&&L.children.length>0),C=S.selectAll(".treemapSection").data(I).enter().append("g").attr("class","treemapSection").attr("transform",L=>`translate(${L.x0},${L.y0})`);C.append("rect").attr("width",L=>L.x1-L.x0).attr("height",Vd).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",.6).attr("stroke-width",.6).attr("style",L=>L.depth===0?"display: none;":""),C.append("clipPath").attr("id",(L,N)=>`clip-section-${t}-${N}`).append("rect").attr("width",L=>Math.max(0,L.x1-L.x0-12)).attr("height",Vd),C.append("rect").attr("width",L=>L.x1-L.x0).attr("height",L=>L.y1-L.y0).attr("class",(L,N)=>`treemapSection section${N}`).attr("fill",L=>x(L.data.name)).attr("fill-opacity",.6).attr("stroke",L=>v(L.data.name)).attr("stroke-width",2).attr("stroke-opacity",.4).attr("style",L=>{if(L.depth===0)return"display: none;";const N=Gt({cssCompiledStyles:L.data.cssCompiledStyles});return N.nodeStyles+";"+N.borderStyles.join(";")}),C.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",Vd/2).attr("dominant-baseline","middle").text(L=>L.depth===0?"":L.data.name).attr("font-weight","bold").attr("style",L=>{if(L.depth===0)return"display: none;";const N="dominant-baseline: middle; font-size: 12px; fill:"+_(L.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",D=Gt({cssCompiledStyles:L.data.cssCompiledStyles});return N+D.labelStyles.replace("color:","fill:")}).each(function(L){if(L.depth===0)return;const N=Lt(this),D=L.data.name;N.text(D);const P=L.x1-L.x0,O=6;let M;s.showValues!==!1&&L.value?M=P-10-30-10-O:M=P-O-6;const F=Math.max(15,M),j=N.node();if(j.getComputedTextLength()>F){const ft="...";let J=D;for(;J.length>0;){if(J=D.substring(0,J.length-1),J.length===0){N.text(ft),j.getComputedTextLength()>F&&N.text("");break}if(N.text(J+ft),j.getComputedTextLength()<=F)break}}}),s.showValues!==!1&&C.append("text").attr("class","treemapSectionValue").attr("x",L=>L.x1-L.x0-10).attr("y",Vd/2).attr("text-anchor","end").attr("dominant-baseline","middle").text(L=>L.value?b(L.value):"").attr("font-style","italic").attr("style",L=>{if(L.depth===0)return"display: none;";const N="text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+_(L.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",D=Gt({cssCompiledStyles:L.data.cssCompiledStyles});return N+D.labelStyles.replace("color:","fill:")});const R=E.leaves(),w=S.selectAll(".treemapLeafGroup").data(R).enter().append("g").attr("class",(L,N)=>`treemapNode treemapLeafGroup leaf${N}${L.data.classSelector?` ${L.data.classSelector}`:""}x`).attr("transform",L=>`translate(${L.x0},${L.y0})`);w.append("rect").attr("width",L=>L.x1-L.x0).attr("height",L=>L.y1-L.y0).attr("class","treemapLeaf").attr("fill",L=>L.parent?x(L.parent.data.name):x(L.data.name)).attr("style",L=>Gt({cssCompiledStyles:L.data.cssCompiledStyles}).nodeStyles).attr("fill-opacity",.3).attr("stroke",L=>L.parent?x(L.parent.data.name):x(L.data.name)).attr("stroke-width",3),w.append("clipPath").attr("id",(L,N)=>`clip-${t}-${N}`).append("rect").attr("width",L=>Math.max(0,L.x1-L.x0-4)).attr("height",L=>Math.max(0,L.y1-L.y0-4)),w.append("text").attr("class","treemapLabel").attr("x",L=>(L.x1-L.x0)/2).attr("y",L=>(L.y1-L.y0)/2).attr("style",L=>{const N="text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+_(L.data.name)+";",D=Gt({cssCompiledStyles:L.data.cssCompiledStyles});return N+D.labelStyles.replace("color:","fill:")}).attr("clip-path",(L,N)=>`url(#clip-${t}-${N})`).text(L=>L.data.name).each(function(L){const N=Lt(this),D=L.x1-L.x0,P=L.y1-L.y0,O=N.node(),M=4,Y=D-2*M,F=P-2*M;if(Y<10||F<10){N.style("display","none");return}let j=parseInt(N.style("font-size"),10);const it=8,ft=28,J=.6,dt=6,et=2;for(;O.getComputedTextLength()>Y&&j>it;)j--,N.style("font-size",`${j}px`);let St=Math.max(dt,Math.min(ft,Math.round(j*J))),ct=j+et+St;for(;ct>F&&j>it&&(j--,St=Math.max(dt,Math.min(ft,Math.round(j*J))),!(St<dt&&j===it));)N.style("font-size",`${j}px`),ct=j+et+St;N.style("font-size",`${j}px`),(O.getComputedTextLength()>Y||j<it||F<j)&&N.style("display","none")}),s.showValues!==!1&&w.append("text").attr("class","treemapValue").attr("x",N=>(N.x1-N.x0)/2).attr("y",function(N){return(N.y1-N.y0)/2}).attr("style",N=>{const D="text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+_(N.data.name)+";",P=Gt({cssCompiledStyles:N.data.cssCompiledStyles});return D+P.labelStyles.replace("color:","fill:")}).attr("clip-path",(N,D)=>`url(#clip-${t}-${D})`).text(N=>N.value?b(N.value):"").each(function(N){const D=Lt(this),P=this.parentNode;if(!P){D.style("display","none");return}const O=Lt(P).select(".treemapLabel");if(O.empty()||O.style("display")==="none"){D.style("display","none");return}const M=parseFloat(O.style("font-size")),Y=28,F=.6,j=6,it=2,ft=Math.max(j,Math.min(Y,Math.round(M*F)));D.style("font-size",`${ft}px`);const dt=(N.y1-N.y0)/2+M/2+it;D.attr("y",dt);const et=N.x1-N.x0,bt=N.y1-N.y0-4,nt=et-2*4;D.node().getComputedTextLength()>nt||dt+ft>bt||ft<j?D.style("display","none"):D.style("display",null)});const A=s.diagramPadding??8;kc(d,A,"flowchart",(s==null?void 0:s.useMaxWidth)||!1)},"draw"),uLt=g(function(e,t){return t.db.getClasses()},"getClasses"),hLt={draw:cLt,getClasses:uLt},dLt={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},fLt=g(({treemap:e}={})=>{const t=Zn(dLt,e);return`
  .treemapNode.section {
    stroke: ${t.sectionStrokeColor};
    stroke-width: ${t.sectionStrokeWidth};
    fill: ${t.sectionFillColor};
  }
  .treemapNode.leaf {
    stroke: ${t.leafStrokeColor};
    stroke-width: ${t.leafStrokeWidth};
    fill: ${t.leafFillColor};
  }
  .treemapLabel {
    fill: ${t.labelColor};
    font-size: ${t.labelFontSize};
  }
  .treemapValue {
    fill: ${t.valueColor};
    font-size: ${t.valueFontSize};
  }
  .treemapTitle {
    fill: ${t.titleColor};
    font-size: ${t.titleFontSize};
  }
  `},"getStyles"),pLt=fLt,gLt={parser:kz,get db(){return new _z},renderer:hLt,styles:pLt};const mLt=Object.freeze(Object.defineProperty({__proto__:null,diagram:gLt},Symbol.toStringTag,{value:"Module"})),yLt=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:NB,createInfoServices:$B},Symbol.toStringTag,{value:"Module"})),xLt=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:OB,createPacketServices:DB},Symbol.toStringTag,{value:"Module"})),bLt=Object.freeze(Object.defineProperty({__proto__:null,PieModule:MB,createPieServices:PB},Symbol.toStringTag,{value:"Module"})),vLt=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:BB,createArchitectureServices:FB},Symbol.toStringTag,{value:"Module"})),_Lt=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:RB,createGitGraphServices:IB},Symbol.toStringTag,{value:"Module"})),TLt=Object.freeze(Object.defineProperty({__proto__:null,RadarModule:VB,createRadarServices:zB},Symbol.toStringTag,{value:"Module"})),kLt=Object.freeze(Object.defineProperty({__proto__:null,TreemapModule:UB,createTreemapServices:HB},Symbol.toStringTag,{value:"Module"}));export{ELt as $,_lt as A,ILt as B,LLt as C,Ki as D,nRt as E,In as F,nn as G,RLt as H,iD as I,Slt as J,MU as K,Nl as L,tRt as M,bk as N,QLt as O,Dy as P,JLt as Q,Ui as R,sp as S,BLt as T,ZLt as U,NW as V,$Lt as W,zLt as X,xR as Y,VLt as Z,OLt as _,qR as a,FLt as a0,Iv as a1,dlt as a2,glt as a3,rRt as a4,Tlt as a5,eRt as a6,blt as a7,aRt as a8,sRt as a9,Bl as aa,iRt as ab,WLt as ac,MLt as ad,DLt as ae,Av as b,$U as c,zW as d,PLt as e,xlt as f,kE as g,fr as h,clt as i,GR as j,Oy as k,llt as l,tD as m,Ry as n,cp as o,So as p,bs as q,NLt as r,DW as s,Yz as t,aD as u,rg as v,IW as w,Fy as x,ALt as y,QW as z};
