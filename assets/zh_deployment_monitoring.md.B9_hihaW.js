import{_ as e}from"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import{c as l,o as a,ad as r}from"./chunks/mermaid.Cb40Nz1P.js";import"./chunks/cytoscape.C2CwDKBM.js";import"./chunks/dayjs.C32PoDnw.js";const p=JSON.parse('{"title":"生产环境监控","description":"","frontmatter":{},"headers":[],"relativePath":"zh/deployment/monitoring.md","filePath":"zh/deployment/monitoring.md"}'),i={name:"zh/deployment/monitoring.md"};function o(n,t,s,d,g,h){return a(),l("div",null,[...t[0]||(t[0]=[r('<h1 id="生产环境监控" tabindex="-1">生产环境监控 <a class="header-anchor" href="#生产环境监控" aria-label="Permalink to &quot;生产环境监控&quot;">​</a></h1><p><strong>可观测性</strong> 跟踪 AI 说了<em>什么</em>。 <strong>监控</strong> 跟踪服务器<em>是否</em>在运行。</p><h2 id="关键系统指标" tabindex="-1">关键系统指标 <a class="header-anchor" href="#关键系统指标" aria-label="Permalink to &quot;关键系统指标&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">指标</th><th style="text-align:left;">警告阈值</th><th style="text-align:left;">严重阈值</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>API 延迟 (p99)</strong></td><td style="text-align:left;">&gt; 2s</td><td style="text-align:left;">&gt; 10s</td></tr><tr><td style="text-align:left;"><strong>错误率 (5xx)</strong></td><td style="text-align:left;">&gt; 1%</td><td style="text-align:left;">&gt; 5%</td></tr><tr><td style="text-align:left;"><strong>内存使用率</strong></td><td style="text-align:left;">&gt; 70%</td><td style="text-align:left;">&gt; 90%</td></tr><tr><td style="text-align:left;"><strong>Edge 函数持续时间</strong></td><td style="text-align:left;">&gt; 20s</td><td style="text-align:left;">&gt; 25s (超时风险)</td></tr></tbody></table><h2 id="工具" tabindex="-1">工具 <a class="header-anchor" href="#工具" aria-label="Permalink to &quot;工具&quot;">​</a></h2><h3 id="_1-vercel-analytics" tabindex="-1">1. Vercel Analytics <a class="header-anchor" href="#_1-vercel-analytics" aria-label="Permalink to &quot;1. Vercel Analytics&quot;">​</a></h3><p>适合前端速度 (Core Web Vitals) 和 Serverless 函数日志。</p><h3 id="_2-datadog-new-relic" tabindex="-1">2. Datadog / New Relic <a class="header-anchor" href="#_2-datadog-new-relic" aria-label="Permalink to &quot;2. Datadog / New Relic&quot;">​</a></h3><p>企业级标准。</p><ul><li>为 <code>429 Too Many Requests</code> 设置警报 (意味着你的 OpenAI 账户被限制)。</li><li>监控 <code>504 Gateway Timeout</code> (意味着你的 AI 耗时太长)。</li></ul><h2 id="警报策略" tabindex="-1">警报策略 <a class="header-anchor" href="#警报策略" aria-label="Permalink to &quot;警报策略&quot;">​</a></h2><p>不要因为每件事都起床。</p><ul><li><strong>P1 (起床)</strong>: <ul><li>OpenAI API 返回 500 错误超过 5 分钟。</li><li>网站宕机。</li></ul></li><li><strong>P2 (早上检查)</strong>: <ul><li>延迟增加 20%。</li><li>错误率为 0.5%。</li></ul></li><li><strong>P3 (仅日志)</strong>: <ul><li>单个用户触发了速率限制。</li></ul></li></ul>',13)])])}const x=e(i,[["render",o]]);export{p as __pageData,x as default};
