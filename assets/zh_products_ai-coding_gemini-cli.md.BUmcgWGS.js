import{_ as l}from"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import{c as h,o as p,ad as n,j as s,t,a as e}from"./chunks/mermaid.Cb40Nz1P.js";import"./chunks/cytoscape.C2CwDKBM.js";import"./chunks/dayjs.C32PoDnw.js";const b=JSON.parse('{"title":"Gemini CLI","description":"","frontmatter":{},"headers":[],"relativePath":"zh/products/ai-coding/gemini-cli.md","filePath":"zh/products/ai-coding/gemini-cli.md"}'),k={name:"zh/products/ai-coding/gemini-cli.md"},r={tabindex:"0"},d={style:{"text-align":"left"}},o={style:{"text-align":"right"}},F={style:{"text-align":"right"}};function g(a,i,c,y,E,C){return p(),h("div",null,[i[8]||(i[8]=n(`<h1 id="gemini-cli" tabindex="-1">Gemini CLI <a class="header-anchor" href="#gemini-cli" aria-label="Permalink to &quot;Gemini CLI&quot;">​</a></h1><h2 id="基础用法" tabindex="-1">基础用法 <a class="header-anchor" href="#基础用法" aria-label="Permalink to &quot;基础用法&quot;">​</a></h2><ol><li>按照 <a href="https://geminicli.com/docs/get-started/" target="_blank" rel="noreferrer">Gemini CLI</a> 安装并登录 Gemini CLI，不同平台的详细安装说明请参阅 <a href="https://geminicli.com/docs/get-started/installation/" target="_blank" rel="noreferrer">安装</a>。</li><li>认证 CLI，阅读 <a href="https://geminicli.com/docs/get-started/authentication/" target="_blank" rel="noreferrer">认证</a> 选择一种方式。</li></ol><h3 id="日常使用" tabindex="-1">日常使用 <a class="header-anchor" href="#日常使用" aria-label="Permalink to &quot;日常使用&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 仅在 CLI 中使用 LLM</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;your prompt here&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # gemini 将在终端输出结果</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 读取图像并在 CLI 中使用 LLM</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rename your image files&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 帮助你理解代码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Clone the &#39;chalk&#39; repository from https://github.com/chalk/chalk, read its key source files, and explain how it works.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 通用脚本工具包</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Revenue - 2023.csv 和 Revenue - 2024.csv</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Summarize the revenue growth of the company from 2023 to 2024.&quot;</span></span></code></pre></div><h3 id="快捷键" tabindex="-1"><a href="https://geminicli.com/docs/cli/keyboard-shortcuts/" target="_blank" rel="noreferrer">快捷键</a> <a class="header-anchor" href="#快捷键" aria-label="Permalink to &quot;[快捷键](https://geminicli.com/docs/cli/keyboard-shortcuts/)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>按键</th><th>功能</th></tr></thead><tbody><tr><td><code>enter</code></td><td>确认并运行命令</td></tr><tr><td><code>esc</code></td><td>退出模式</td></tr><tr><td><code>ctrl+a</code></td><td>移至行首</td></tr><tr><td><code>ctrl+e</code></td><td>移至行尾</td></tr><tr><td><code>ctrl+k</code></td><td>删除当前光标到行尾的内容</td></tr><tr><td><code>ctrl+u</code></td><td>删除当前光标到行首的内容</td></tr><tr><td><code>ctrl+c</code></td><td>删除当前输入</td></tr><tr><td><code>ctrl+backspace</code></td><td>删除当前光标左侧字符</td></tr><tr><td><code>Command+backspace</code></td><td>删除当前行</td></tr><tr><td><code>ctrl+l</code></td><td>清屏</td></tr><tr><td><code>ctrl+p</code></td><td>上一条命令</td></tr><tr><td><code>ctrl+n</code></td><td>下一条命令</td></tr><tr><td><code>ctrl+r</code></td><td>搜索历史命令</td></tr></tbody></table><h3 id="特性" tabindex="-1">特性 <a class="header-anchor" href="#特性" aria-label="Permalink to &quot;特性&quot;">​</a></h3><p>Gemini 支持多种特性。</p><table tabindex="0"><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">command</td><td style="text-align:left;">支持运行子命令</td></tr><tr><td style="text-align:left;">checkpoint</td><td style="text-align:left;">支持运行检查点 (checkpoint)</td></tr></tbody></table><h2 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-label="Permalink to &quot;命令&quot;">​</a></h2><p>Gemini 支持多种命令，你可以使用 <code>/</code> 或 <code>@</code> 进入子命令。 所有命令列表请参见 <a href="https://geminicli.com/docs/cli/commands/" target="_blank" rel="noreferrer">Commands</a></p><h3 id="内置命令" tabindex="-1">内置命令 <a class="header-anchor" href="#内置命令" aria-label="Permalink to &quot;内置命令&quot;">​</a></h3><h4 id="chat" tabindex="-1"><code>/chat</code> <a class="header-anchor" href="#chat" aria-label="Permalink to &quot;\`/chat\`&quot;">​</a></h4><p>用于分割聊天上下文。</p><ol><li><code>/chat save &lt;tag&gt;</code> 保存聊天</li><li><code>/chat resume &lt;tag&gt;</code> 恢复聊天</li><li><code>/chat delete &lt;tag&gt;</code> 删除聊天</li><li><code>/chat list </code> 列出所有聊天</li><li><code>/chat share xx.md</code> 分享此聊天文件</li></ol><p>聊天保存在：</p><ul><li><code>~/.gemini/tmp/&lt;project_hash&gt;/</code> (Linux/macOS)</li><li><code>C:\\Users\\&lt;YourUsername&gt;\\.gemini\\tmp\\&lt;project_hash&gt;\\</code> (Windows)</li></ul><p>你可以结合 <code>/compress</code> 命令来压缩聊天文件。</p><h4 id="directory" tabindex="-1"><code>/directory</code> <a class="header-anchor" href="#directory" aria-label="Permalink to &quot;\`/directory\`&quot;">​</a></h4><p>对于多根目录项目，使用 <code>/project</code> 命令添加项目。</p><ol><li><code>/directory add &lt;path&gt;</code> 添加目录</li><li><code>/directory add &lt;path1&gt;,&lt;path2&gt;</code> 添加多个目录</li><li><code>/directory show</code> 列出所有已添加的目录</li></ol><h4 id="clear" tabindex="-1"><code>/clear</code> <a class="header-anchor" href="#clear" aria-label="Permalink to &quot;\`/clear\`&quot;">​</a></h4><p>清除显示，快捷键是 <code>control+c</code>。</p><h4 id="stats" tabindex="-1"><code>/stats</code> <a class="header-anchor" href="#stats" aria-label="Permalink to &quot;\`/stats\`&quot;">​</a></h4><p>显示统计信息，结果如下：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Session</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                        │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                       │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Interaction</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Summary</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                  │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Session</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ID:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                 8712b7bb-a1f6-4efb-837b-ef1fc6e5fc9d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                     │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Tool</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Calls:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                 7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ( </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">✓</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> )                                                                                            │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Success</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Rate:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               85.7%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                    │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Agreement:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             85.7%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (7 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">reviewed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                                       │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                       │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Performance</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                          │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Wall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Time:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                  2h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 42m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 46s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                               │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Agent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Active:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               13m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 49s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                  │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    »</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> API</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Time:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               1m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 31s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (11.1%)                                                                                           │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    »</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Tool</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Time:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              12m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 17s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (88.9%)                                                                                          │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                       │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                       │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Model</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Usage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                 Reqs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                  Usage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> left</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                         │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ────────────────────────────────────────────────────────────</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                         │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  gemini-2.5-flash-lite</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">          3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   95.4%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Resets </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 13h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 25m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                         │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  gemini-3-pro-preview</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">           7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    0.0%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Resets </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 13h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 25m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                         │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  gemini-3-flash-preview</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">         1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   93.9%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Resets </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 18m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                         │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  gemini-2.5-flash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   95.4%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Resets </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 13h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 25m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                         │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  gemini-2.5-pro</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                 -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    0.0%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Resets </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 13h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 25m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                         │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                       │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Usage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> limits</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> span</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sessions</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daily.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                      │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  /auth</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> switch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> API</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                               │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                       │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                       │</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  »</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Tip:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> For</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> full</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> token</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> breakdown,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> model\`</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span></span></code></pre></div><h4 id="命令-1" tabindex="-1"><code>@</code> 命令 <a class="header-anchor" href="#命令-1" aria-label="Permalink to &quot;\`@\` 命令&quot;">​</a></h4><p>你可以使用 <code>@</code> 命令添加文件上下文。</p><h4 id="shell-command" tabindex="-1"><code>!&lt;shell_command&gt;</code> <a class="header-anchor" href="#shell-command" aria-label="Permalink to &quot;\`!&lt;shell_command&gt;\`&quot;">​</a></h4><p>你可以在任何 Shell 命令前添加 <code>!</code> 前缀来运行它。</p><p>输入 <code>!</code> 切换 Gemini 为 Shell 模式，在沙盒中运行命令。使用 <code>esc</code> 退出 Shell 模式。 在此模式下，你可以使用 <code>GEMINI_CLI=1</code> 检查沙盒。</p><h3 id="自定义命令" tabindex="-1"><a href="https://geminicli.com/docs/cli/custom-commands/" target="_blank" rel="noreferrer">自定义命令</a> <a class="header-anchor" href="#自定义命令" aria-label="Permalink to &quot;[自定义命令](https://geminicli.com/docs/cli/custom-commands/)&quot;">​</a></h3><p>你可以使用自定义命令保存你的提示词模板。</p><ol><li><p><code>~/.gemini/commands</code> 这是针对所有项目的用户自定义命令</p></li><li><p><code>.gemini/commands</code> 这是项目自定义命令，如果有同名命令将覆盖用户命令</p></li><li><p><code>~/.gemini/commands/test.toml</code> 将创建 <code>/test</code> 命令</p></li><li><p><code>&lt;project&gt;/.gemini/commands/git/commit.toml</code> 将创建 <code>/git:commit</code> 命令</p></li></ol><p>TOML 模板如下所示：</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 描述命令的注释</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 调用方式: /changelog 1.2.0 added &quot;Support for default argument parsing.&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># description 可选配置，描述此命令</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Adds a new entry to the project</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">\\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">s CHANGELOG.md file.&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># prompt 必填</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prompt = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"># Task: Update Changelog</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">You are an expert maintainer of this software project. A user has invoked a command to add a new entry to the changelog.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">**The user</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">\\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">s raw command is appended below your instructions.**</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Your task is to parse the \`&lt;version&gt;\`, \`&lt;change_type&gt;\`, and \`&lt;message&gt;\` from their input and use the \`write_file\` tool to correctly update the \`CHANGELOG.md\` file.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">## Expected Format</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">The command follows this format: \`/changelog &lt;version&gt; &lt;type&gt; &lt;message&gt;\`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">- \`&lt;type&gt;\` must be one of: &quot;added&quot;, &quot;changed&quot;, &quot;fixed&quot;, &quot;removed&quot;.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">## Behavior</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1. Read the \`CHANGELOG.md\` file.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">2. Find the section for the specified \`&lt;version&gt;\`.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">3. Add the \`&lt;message&gt;\` under the correct \`&lt;type&gt;\` heading.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">4. If the version or type section doesn</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">\\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">t exist, create it.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">5. Adhere strictly to the &quot;Keep a Changelog&quot; format.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;&quot;</span></span></code></pre></div><p>在配置文件中，支持以下符号：</p>`,38)),s("table",r,[i[7]||(i[7]=s("thead",null,[s("tr",null,[s("th",{style:{"text-align":"left"}},"符号"),s("th",null,"功能"),s("th",{style:{"text-align":"right"}},"演示")])],-1)),s("tbody",null,[s("tr",null,[s("td",d,[s("code",null,t(a.args),1)]),i[0]||(i[0]=s("td",null,"将替换为命令后的用户输入",-1)),s("td",o,[s("code",null,'prompt = "Please provide a code fix for the issue described here: '+t(a.args)+'."',1)])]),s("tr",null,[i[4]||(i[4]=s("td",{style:{"text-align":"left"}},[s("code",null,"!{}")],-1)),i[5]||(i[5]=s("td",null,"运行 Shell 命令",-1)),s("td",F,[i[1]||(i[1]=s("code",null,'prompt = "Please summarize the findings for the pattern ',-1)),e(t(a.args),1),i[2]||(i[2]=s("code",null,'"',-1)),i[3]||(i[3]=e(", 你可以在 Shell 命令中使用 ",-1)),s("code",null,t(a.args),1)])]),i[6]||(i[6]=s("tr",null,[s("td",{style:{"text-align":"left"}},[s("code",null,"@{file}")]),s("td",null,"添加文件上下文"),s("td",{style:{"text-align":"right"}},[s("code",null,'prompt = "You are an expert code reviewer.@{docs/best-practices.md}"')])],-1))])]),i[9]||(i[9]=n(`<h2 id="会话-session" tabindex="-1"><a href="https://geminicli.com/docs/cli/session-management/#listing-sessions" target="_blank" rel="noreferrer">会话 (Session)</a> <a class="header-anchor" href="#会话-session" aria-label="Permalink to &quot;[会话 (Session)](https://geminicli.com/docs/cli/session-management/#listing-sessions)&quot;">​</a></h2><p>每次使用 Gemini 都会创建一个会话。会话保存你的对话信息，如提示词、模型响应等。 会话保存在 <code>~/.gemini/tmp/&lt;projext_hash&gt;/chats/&lt;session_hash&gt;</code>。</p><p>you can list and enter history session.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 列出当前目录相关会话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list-sessions</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 进入当前目录的最新会话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --resume</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按索引进入当前目录的会话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -resume</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按哈希进入当前目录的会话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -resume</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">has</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除当前目录的会话</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --delete-session</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span></code></pre></div><p>在 Gemini CLI 中，你也可以使用 <code>/session</code> 命令列出并进入会话。</p><h3 id="会话配置" tabindex="-1">会话配置 <a class="header-anchor" href="#会话配置" aria-label="Permalink to &quot;会话配置&quot;">​</a></h3><p>你可以配置会话：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;general&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sessionRetention&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 会话清理开关默认为 false</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;maxAge&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;30d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使能清理后，最多保存 30d</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;maxCount&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 最多保留最近 50 个会话</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;minRetention&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1d&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 最短保留期限，小于此日期不会被删除，默认 1d</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>为了避免会话过长，你可以设置：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;model&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;maxSessionTurns&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 一个 session 最多允许 100 次聊天， 默认 \`-1\` 表示不限制</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="检查点-checkpoint" tabindex="-1"><a href="https://geminicli.com/docs/cli/checkpointing/" target="_blank" rel="noreferrer">检查点 (Checkpoint)</a> <a class="header-anchor" href="#检查点-checkpoint" aria-label="Permalink to &quot;[检查点 (Checkpoint)](https://geminicli.com/docs/cli/checkpointing/)&quot;">​</a></h2><p>此特性默认禁用，编辑设置以开启它。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;general&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;checkpointing&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>每次更改都会保存为一个点。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 列出所有检查点</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/restore</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 恢复特定文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/restore</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2025-06-22T10-00-00_000Z-my-file.txt-write_file</span></span></code></pre></div><h2 id="无头模式-headless-mode" tabindex="-1"><a href="https://geminicli.com/docs/cli/headless/" target="_blank" rel="noreferrer">无头模式 (Headless Mode)</a> <a class="header-anchor" href="#无头模式-headless-mode" aria-label="Permalink to &quot;[无头模式 (Headless Mode)](https://geminicli.com/docs/cli/headless/)&quot;">​</a></h2><p>通常我们使用交互模式的 Gemini CLI，但像 <code>gemini -p &lt;prompt&gt;</code> 是无头模式，只是让 Gemini 运行提示词。</p><p>你可以将其与自动化工具结合使用，例如 <code>gemini -p &quot;What is the capital of France?&quot; --output-format json</code> 解析输出内容以运行自动化。格式请参见 <a href="https://geminicli.com/docs/cli/headless/#example-usage" target="_blank" rel="noreferrer">JSON 输出</a>。</p><p>对于长时间任务支持流式输出，请参见 <a href="https://geminicli.com/docs/cli/headless/#example-usage" target="_blank" rel="noreferrer">流式 JSON</a> 了解更多。</p><p>无头模式的一些用例，参考 <a href="https://geminicli.com/docs/cli/headless/#examples" target="_blank" rel="noreferrer">示例</a>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 代码审查</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/auth.py</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Review this authentication code for security issues&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> security-review.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成提交信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diff</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --cached</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Write a concise commit message for these changes&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.response&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># API 文档</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> api/routes.js</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Generate OpenAPI spec for these routes&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.response&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openapi.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 批量代码分析</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/*.py</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Analyzing </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Find potential bugs and suggest improvements&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.response&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;reports/$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">basename</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;).analysis&quot;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Completed analysis for $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">basename</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;)&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reports/progress.log</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 日志分析</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ERROR&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log/app.log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -20</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Analyze these errors and suggest root cause and fixes&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> error-analysis.txt</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 模型和工具使用跟踪</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Explain this database schema&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --include-directories</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">total_tokens</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.stats.models // {} | to_entries | map(.value.tokens.total) | add // 0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">models_used</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.stats.models // {} | keys | join(&quot;, &quot;) | if . == &quot;&quot; then &quot;none&quot; else . end&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tool_calls</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.stats.tools.totalCalls // 0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tools_used</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.stats.tools.byName // {} | keys | join(&quot;, &quot;) | if . == &quot;&quot; then &quot;none&quot; else . end&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">): </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$total_tokens</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tokens, </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$tool_calls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tool calls (</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$tools_used</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">) used with models: </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$models_used</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usage.log</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.response&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> schema-docs.md</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Recent usage trends:&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usage.log</span></span></code></pre></div><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h2><p>使用 Gemini Config 控制 Gemini CLI 的行为。 详情请阅读 <a href="https://geminicli.com/docs/get-started/configuration-v1/" target="_blank" rel="noreferrer">Gemini CLI 配置</a>。 支持的详细列表参考 <a href="https://github.com/google-gemini/gemini-cli/blob/main/schemas/settings.schema.json" target="_blank" rel="noreferrer">JSON Schema</a>。</p><h3 id="配置层级" tabindex="-1">配置层级 <a class="header-anchor" href="#配置层级" aria-label="Permalink to &quot;配置层级&quot;">​</a></h3><p>Gemini 支持多个配置层级，详情参见 <a href="https://geminicli.com/docs/get-started/configuration/#configuration-layers" target="_blank" rel="noreferrer">配置层级</a>。</p><p>常用路径：</p><ol><li>系统默认配置 <ul><li><strong>位置</strong> 使用 <code>GEMINI_CLI_SYSTEM_DEFAULTS_PATH</code> 自定义路径 <ul><li><strong>Linux</strong> <code>/etc/gemini-cli/system-defaults.json</code></li><li><strong>Windows</strong> <code>C:\\ProgramData\\gemini-cli\\system-defaults.json</code></li><li><strong>macOS</strong> <code>/Library/Application Support/GeminiCli/system-defaults.json</code></li></ul></li><li><strong>范围</strong><ul><li>提供系统范围的默认设置基础层。这些设置优先级最低，旨在被用户、项目或系统覆盖设置所覆盖。</li></ul></li></ul></li><li>用户配置: <code>~/.gemini/settings.json</code> 将覆盖系统配置</li><li>项目配置: <code>.gemini/settings.json</code> 将覆盖用户配置</li><li>系统设置 <ul><li><strong>位置</strong> 使用 <code>GEMINI_CLI_SYSTEM_SETTINGS_PATH</code> 自定义路径 <ul><li><strong>Linux</strong> <code>/etc/gemini-cli/settings.json</code></li><li><strong>Windows</strong> <code>C:\\ProgramData\\gemini-cli\\settings.json</code></li><li><strong>macOS</strong> <code>/Library/Application Support/GeminiCli/settings.json</code></li></ul></li><li><strong>范围</strong><ul><li>系统管理员控制 Gemini CLI 行为。覆盖所有其他配置层</li></ul></li></ul></li></ol><p>you can use <code>$VAR_NAME</code> 或 <code>\${VAR_NAME}</code> 在你的配置文件中。某些配置支持目录请参阅 <a href="https://geminicli.com/docs/get-started/configuration/#sandboxing" target="_blank" rel="noreferrer">沙盒配置</a> 了解更多。</p><h3 id="设置配置" tabindex="-1">设置配置 <a class="header-anchor" href="#设置配置" aria-label="Permalink to &quot;设置配置&quot;">​</a></h3><p>你可以直接修改配置文件，或使用 <code>/settings</code> 命令设置配置。 设置列表在 <a href="https://geminicli.com/docs/cli/settings/" target="_blank" rel="noreferrer">Settings</a> 中。</p><h3 id="系统提示词-system-prompt" tabindex="-1"><a href="https://geminicli.com/docs/cli/system-prompt/" target="_blank" rel="noreferrer">系统提示词 (System Prompt)</a> <a class="header-anchor" href="#系统提示词-system-prompt" aria-label="Permalink to &quot;[系统提示词 (System Prompt)](https://geminicli.com/docs/cli/system-prompt/)&quot;">​</a></h3><p>你可以设置 <code>.gemini/.env</code> 文件来设置 <a href="https://geminicli.com/docs/get-started/authentication/#persisting-environment-variables" target="_blank" rel="noreferrer">持久化环境变量</a>。</p><p>you can use <code>GEMINI_SYSTEM_MD=true</code> 或 <code>GEMINI_SYSTEM_MD=1</code> to set system prompt. CLI 将读取 <code>.gemini/system.md</code> 文件来设置系统提示词。</p><p>或者设置 <code>GEMINI_SYSTEM_MD=/absolute/path/to/my-system.md</code> 来设置系统提示词。</p><p>当 GEMINI_SYSTEM_MD 激活时，CLI 会在 UI 中显示 <code>|⌐■_■|</code> 指示器，以提示自定义系统提示词模式。</p><p><code>SYSTEM.md</code> 和 <code>GEMINI.md</code> 的区别是：</p><ol><li><code>system.md</code> 针对所有项目或团队，不可协商的操作规则：安全性、工具使用协议、批准以及保持 CLI 可靠的机制。</li><li><code>gemini.md</code> 角色、目标、方法论和项目/领域上下文。随任务演变；依赖 SYSTEM.md 进行安全执行。</li></ol><h3 id="主题配置" tabindex="-1">主题配置 <a class="header-anchor" href="#主题配置" aria-label="Permalink to &quot;主题配置&quot;">​</a></h3><p>你可以使用 <code>/theme</code> 命令设置主题。详情参见 <a href="https://geminicli.com/docs/cli/themes/" target="_blank" rel="noreferrer">主题</a>。</p><h3 id="设置信任文件夹" tabindex="-1"><a href="https://geminicli.com/docs/cli/trusted-folders/" target="_blank" rel="noreferrer">设置信任文件夹</a> <a class="header-anchor" href="#设置信任文件夹" aria-label="Permalink to &quot;[设置信任文件夹](https://geminicli.com/docs/cli/trusted-folders/)&quot;">​</a></h3><p>信任文件夹使 Gemini 可以读取你的文件。详情参见 <a href="https://geminicli.com/docs/cli/trusted-folders/#why-trust-matters-the-impact-of-an-untrusted-workspace" target="_blank" rel="noreferrer">为什么信任很重要</a>。</p><p>you can use enable this feature</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;security&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;folderTrust&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>设置后，<code>~/.gemini/trustedFolders.json</code> 可以看到你的信任文件夹。 请注意，只有项目作为受信任文件夹时，项目设置（如 <code>.gemini/settings.json</code>）和自定义命令才能工作！！！！</p><h2 id="mcp" tabindex="-1"><a href="https://geminicli.com/docs/tools/mcp-server/" target="_blank" rel="noreferrer">MCP</a> <a class="header-anchor" href="#mcp" aria-label="Permalink to &quot;[MCP](https://geminicli.com/docs/tools/mcp-server/)&quot;">​</a></h2><h3 id="设置-mcp" tabindex="-1"><a href="https://geminicli.com/docs/cli/tutorials/#setting-up-a-model-context-protocol-mcp-server" target="_blank" rel="noreferrer">设置 MCP</a> <a class="header-anchor" href="#设置-mcp" aria-label="Permalink to &quot;[设置 MCP](https://geminicli.com/docs/cli/tutorials/#setting-up-a-model-context-protocol-mcp-server)&quot;">​</a></h3><p>阅读 <a href="https://github.com/github/github-mcp-server/blob/main/docs/installation-guides/install-gemini-cli.md" target="_blank" rel="noreferrer">Github MCP</a>。</p><p>设置之前，请确保已创建 GitHub Token。</p><ol><li><p>安装 Github MCP 扩展</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gemini</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extensions</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/github/github-mcp-server</span></span></code></pre></div></li><li><p>在 Gemini 中使用 <code>/mcp</code> 列出已安装的 MCP</p></li></ol><h3 id="有用的-mcp" tabindex="-1">有用的 MCP <a class="header-anchor" href="#有用的-mcp" aria-label="Permalink to &quot;有用的 MCP&quot;">​</a></h3><ul><li><a href="https://github.com/ChromeDevTools/chrome-devtools-mcp" target="_blank" rel="noreferrer">chrome-devtools-mcp</a></li></ul><h2 id="工具-tools" tabindex="-1"><a href="https://geminicli.com/docs/core/tools-api/" target="_blank" rel="noreferrer">工具 (Tools)</a> <a class="header-anchor" href="#工具-tools" aria-label="Permalink to &quot;[工具 (Tools)](https://geminicli.com/docs/core/tools-api/)&quot;">​</a></h2><p>Gemini 使用工具帮助 LLM 更好地理解你的任务。一些内置工具如下：</p><table tabindex="0"><thead><tr><th style="text-align:left;">类别</th><th style="text-align:left;">工具</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">Files</td><td style="text-align:left;">LSTool</td><td style="text-align:left;">列出目录内容</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">ReadFileTool</td><td style="text-align:left;">读取文件</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">WriteFileTool</td><td style="text-align:left;">写入内容到文件</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">GrepTool</td><td style="text-align:left;">在文件中搜索模式</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">GlobTool</td><td style="text-align:left;">查找匹配模式的文件</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">EditTool</td><td style="text-align:left;">执行文件修改</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">ReadManyFilesTool</td><td style="text-align:left;">读取并连接多个文件或 Glob 模式的内容，在 CLI 中使用 <code>@</code></td></tr><tr><td style="text-align:left;">Execution</td><td style="text-align:left;">ShellTool</td><td style="text-align:left;">执行 Shell 命令</td></tr><tr><td style="text-align:left;">Web Tools</td><td style="text-align:left;">WebFetchTool</td><td style="text-align:left;">网络获取</td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">WebSearchTool</td><td style="text-align:left;">网络搜索</td></tr><tr><td style="text-align:left;">Memory tools</td><td style="text-align:left;">MemoryTool</td><td style="text-align:left;">与记忆交互</td></tr></tbody></table><p>you can call tools with <code>&lt;tool_name&gt;(&lt;args&gt;)</code></p><p>detail read <a href="https://geminicli.com/docs/tools/" target="_blank" rel="noreferrer">tools</a></p><h3 id="扩展自定义工具" tabindex="-1"><a href="https://geminicli.com/docs/core/tools-api/#extending-with-custom-tools" target="_blank" rel="noreferrer">扩展自定义工具</a> <a class="header-anchor" href="#扩展自定义工具" aria-label="Permalink to &quot;[扩展自定义工具](https://geminicli.com/docs/core/tools-api/#extending-with-custom-tools)&quot;">​</a></h3><p>关于工具规则，你可以阅读 <a href="https://geminicli.com/docs/core/policy-engine/" target="_blank" rel="noreferrer">策略引擎</a></p><h2 id="用例" tabindex="-1">用例 <a class="header-anchor" href="#用例" aria-label="Permalink to &quot;用例&quot;">​</a></h2><h3 id="模式" tabindex="-1">模式 <a class="header-anchor" href="#模式" aria-label="Permalink to &quot;模式&quot;">​</a></h3><p>使用 <code>!</code> 切换 Gemini 为 Shell 模式，使用 <code>esc</code> 退出。</p><h3 id="连接到-cursor" tabindex="-1">连接到 Cursor <a class="header-anchor" href="#连接到-cursor" aria-label="Permalink to &quot;连接到 Cursor&quot;">​</a></h3><p>连接 IDE 后，你可以使用 IDE 查看 Gemini 修改的内容。</p><ol><li>打开 Cursor</li><li>安装 <a href="https://open-vsx.org/extension/Google/gemini-cli-vscode-ide-companion" target="_blank" rel="noreferrer">Gemini CLI Companion</a></li><li>运行 <code>gemini</code></li><li>输入 <code>/ide install</code></li></ol><h2 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-label="Permalink to &quot;其他&quot;">​</a></h2><p>you can run gemini cli in safe mode ,this called sandbox, when gemini run in yolo mode will default use sandbox mode. read <a href="https://geminicli.com/docs/get-started/configuration/#sandboxing" target="_blank" rel="noreferrer">sandboxing</a> for more detail. in cli read <a href="https://geminicli.com/docs/cli/sandbox/" target="_blank" rel="noreferrer">sandbox</a> use <code>-s</code> to enable sandbox mode.</p><p>for enterprise user, read <a href="https://geminicli.com/docs/cli/enterprise/" target="_blank" rel="noreferrer">enterprise</a> to learn more. you also can use <a href="https://geminicli.com/docs/cli/telemetry/" target="_blank" rel="noreferrer">telemetry</a> to know more metrics.</p>`,67))])}const q=l(k,[["render",g]]);export{b as __pageData,q as default};
