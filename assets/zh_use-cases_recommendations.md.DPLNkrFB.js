import{_ as i}from"./chunks/plugin-vue_export-helper.DlAUqK2U.js";import{c as a,o as n,ad as t}from"./chunks/mermaid.Cb40Nz1P.js";import"./chunks/cytoscape.C2CwDKBM.js";import"./chunks/dayjs.C32PoDnw.js";const y=JSON.parse('{"title":"用例：AI 推荐","description":"","frontmatter":{},"headers":[],"relativePath":"zh/use-cases/recommendations.md","filePath":"zh/use-cases/recommendations.md"}'),e={name:"zh/use-cases/recommendations.md"};function h(l,s,p,k,r,d){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="用例-ai-推荐" tabindex="-1">用例：AI 推荐 <a class="header-anchor" href="#用例-ai-推荐" aria-label="Permalink to &quot;用例：AI 推荐&quot;">​</a></h1><p><strong>场景</strong>: Netflix/Spotify 风格的“为你推荐”。 <strong>传统方式</strong>: 协同过滤 (矩阵分解)。难以实现。 <strong>AI 方式</strong>: 向量相似度。</p><h2 id="概念-用户-embeddings" tabindex="-1">概念：用户 Embeddings <a class="header-anchor" href="#概念-用户-embeddings" aria-label="Permalink to &quot;概念：用户 Embeddings&quot;">​</a></h2><ol><li><strong>项目 Embedding</strong>: 将每部电影转换为向量（基于描述/类型）。</li><li><strong>用户历史</strong>: &quot;用户看了 Matrix, Inception, Interstellar&quot;。</li><li><strong>用户 Embedding</strong>: 平均他们观看的电影的向量。 <code>UserVector = (Matrix + Inception + Interstellar) / 3</code></li></ol><h2 id="实现" tabindex="-1">实现 <a class="header-anchor" href="#实现" aria-label="Permalink to &quot;实现&quot;">​</a></h2><h3 id="_1-更新用户画像" tabindex="-1">1. 更新用户画像 <a class="header-anchor" href="#_1-更新用户画像" aria-label="Permalink to &quot;1. 更新用户画像&quot;">​</a></h3><p>每次他们“点赞”一个项目：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onLike</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">userId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">movieId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> movieVector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(movieId);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userVector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getUserVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 移动平均更新</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newVector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (userVector </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (movieVector </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> saveUserVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId, newVector);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-生成-feed-流" tabindex="-1">2. 生成 Feed 流 <a class="header-anchor" href="#_2-生成-feed-流" aria-label="Permalink to &quot;2. 生成 Feed 流&quot;">​</a></h3><p>使用 <strong>User Vector</strong> 查询向量数据库。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> recommendations</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pinecone.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  vector: userVector,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  topK: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  filter: { id: { $nin: watchedMovieIds } } </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 排除已观看的</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="冷启动问题" tabindex="-1">冷启动问题 <a class="header-anchor" href="#冷启动问题" aria-label="Permalink to &quot;冷启动问题&quot;">​</a></h2><p>如果用户是新用户怎么办？ <strong>解决方案</strong>: 在入职期间问 3 个问题。“你喜欢什么类型？”-&gt; 从该文本生成初始向量。</p>`,13)])])}const F=i(e,[["render",h]]);export{y as __pageData,F as default};
